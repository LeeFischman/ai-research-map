(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Bq=!1;var TO=Array.isArray,Ppe=Array.prototype.indexOf,AD=Array.from,ED=Object.defineProperty,od=Object.getOwnPropertyDescriptor,zq=Object.getOwnPropertyDescriptors,Rpe=Object.prototype,$pe=Array.prototype,TD=Object.getPrototypeOf,qF=Object.isExtensible;function Pm(t){return typeof t=="function"}const yr=()=>{};function Ipe(t){return t()}function Q_(t){for(var e=0;e<t.length;e++)t[e]()}function Uq(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function D5(t,e,n=!1){return t===void 0?n?e():e:t}function VF(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const r of t)if(n.push(r),n.length===e)break;return n}const Qs=2,gk=4,yk=8,Nc=16,ah=32,N0=64,bk=128,ys=1024,ea=2048,Qc=4096,La=8192,zf=16384,vk=32768,eh=65536,XF=1<<17,jq=1<<18,N1=1<<19,qq=1<<20,bl=256,B_=512,z_=32768,dE=1<<21,DD=1<<22,ad=1<<23,pc=Symbol("$state"),PD=Symbol("legacy props"),Fpe=Symbol(""),Xm=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},Ok=3,Q0=8;function wk(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Mpe(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Lpe(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Npe(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Qpe(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Bpe(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function zpe(){throw new Error("https://svelte.dev/e/hydration_failed")}function Upe(t){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function jpe(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function qpe(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Vpe(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Xpe(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zpe(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const xk=1,_k=2,Vq=4,Wpe=8,Ype=16,Gpe=1,Hpe=2,Kpe=4,Jpe=8,e0e=16,t0e=1,n0e=2,r0e=4,Xq=1,i0e=2,Zq="[",Sk="[!",RD="]",f0={},ds=Symbol(),s0e="http://www.w3.org/1999/xhtml",o0e="@attach";function DO(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function a0e(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function l0e(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let qt=!1;function au(t){qt=t}let wn;function $s(t){if(t===null)throw DO(),f0;return wn=t}function xd(){return $s(bu(wn))}function Z(t){if(qt){if(bu(wn)!==null)throw DO(),f0;wn=t}}function vl(t=1){if(qt){for(var e=t,n=wn;e--;)n=bu(n);wn=n}}function U_(t=!0){for(var e=0,n=wn;;){if(n.nodeType===Q0){var r=n.data;if(r===RD){if(e===0)return n;e-=1}else(r===Zq||r===Sk)&&(e+=1)}var i=bu(n);t&&n.remove(),n=i}}function Wq(t){if(!t||t.nodeType!==Q0)throw DO(),f0;return t.data}function Yq(t){return t===this.v}function $D(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Gq(t){return!$D(t,this.v)}let Q1=!1,u0e=!1;function c0e(){Q1=!0}let fr=null;function jg(t){fr=t}function He(t,e=!1,n){fr={p:fr,i:!1,c:null,e:null,s:t,x:null,l:Q1&&!e?{s:null,u:null,$:[]}:null}}function Ke(t){var e=fr,n=e.e;if(n!==null){e.e=null;for(var r of n)gV(r)}return t!==void 0&&(e.x=t),e.i=!0,fr=e.p,t??{}}function B1(){return!Q1||fr!==null&&fr.l===null}let Ep=[];function Hq(){var t=Ep;Ep=[],Q_(t)}function lh(t){if(Ep.length===0&&!Ub){var e=Ep;queueMicrotask(()=>{e===Ep&&Hq()})}Ep.push(t)}function f0e(){for(;Ep.length>0;)Hq()}function Kq(t){var e=Kt;if(e===null)return bn.f|=ad,t;if((e.f&vk)===0){if((e.f&bk)===0)throw t;e.b.error(t)}else qg(t,e)}function qg(t,e){for(;e!==null;){if((e.f&bk)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const dw=new Set;let Ir=null,Ix=null,Jl=null,Wu=[],kk=null,pE=!1,Ub=!1,Tp=class mE{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;process(e){Wu=[],Ix=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#s(r,n);this.is_fork||this.#u(),this.#r>0||this.is_fork?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(Ix=this,Ir=null,ZF(n.render_effects),ZF(n.effects),Ix=null,this.#l?.resolve()),Jl=null}#s(e,n){e.f^=ys;for(var r=e.first;r!==null;){var i=r.f,s=(i&(ah|N0))!==0,o=s&&(i&ys)!==0,a=o||(i&La)!==0||this.skipped_effects.has(r);if((r.f&bk)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!a&&r.fn!==null){s?r.f^=ys:(i&gk)!==0?n.effects.push(r):q1(r)&&((r.f&Nc)!==0&&n.block_effects.push(r),Xg(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(e){for(const n of e)((n.f&ea)!==0?this.#a:this.#i).push(n),vs(n,ys)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&ad)===0&&(this.current.set(e,e.v),Jl?.set(e,e.v))}activate(){Ir=this,this.apply()}deactivate(){Ir=null,Jl=null}flush(){if(this.activate(),Wu.length>0){if(eV(),Ir!==null&&Ir!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#u(){if(this.#r===0){for(const e of this.#e)e();this.#e.clear()}this.#n===0&&this.#c()}#c(){if(dw.size>1){this.previous.clear();var e=Jl,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of dw){if(i===this){n=!1;continue}const s=[];for(const[a,l]of this.current){if(i.current.has(a))if(n&&l!==i.current.get(a))i.current.set(a,l);else continue;s.push(a)}if(s.length===0)continue;const o=[...i.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){const a=new Set,l=new Map;for(const u of s)tV(u,o,a,l);if(Wu.length>0){Ir=i,i.apply();for(const u of Wu)i.#s(u,r);Wu=[],i.deactivate()}}}Ir=null,Jl=e}this.committed=!0,dw.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#a)vs(e,ea),h0(e);for(const e of this.#i)vs(e,Qc),h0(e);this.#a=[],this.#i=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=Uq()).promise}static ensure(){if(Ir===null){const e=Ir=new mE;dw.add(Ir),Ub||mE.enqueue(()=>{Ir===e&&e.flush()})}return Ir}static enqueue(e){lh(e)}apply(){}};function Jq(t){var e=Ub;Ub=!0;try{for(var n;;){if(f0e(),Wu.length===0&&(Ir?.flush(),Wu.length===0))return kk=null,n;eV()}}finally{Ub=e}}function eV(){var t=ag;pE=!0;try{var e=0;for(GF(!0);Wu.length>0;){var n=Tp.ensure();if(e++>1e3){var r,i;h0e()}n.process(Wu),ld.clear()}}finally{pE=!1,GF(t),kk=null}}function h0e(){try{Bpe()}catch(t){qg(t,kk)}}let yf=null;function ZF(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(zf|La))===0&&q1(r)&&(yf=new Set,Xg(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?OV(r):r.fn=null),yf?.size>0)){ld.clear();for(const i of yf){if((i.f&(zf|La))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)yf.has(o)&&(yf.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const l=s[a];(l.f&(zf|La))===0&&Xg(l)}}yf.clear()}}yf=null}}function tV(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&Qs)!==0?tV(i,e,n,r):(s&(DD|Nc))!==0&&(s&ea)===0&&nV(i,e,r)&&(vs(i,ea),h0(i))}}function nV(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&Qs)!==0&&nV(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function h0(t){for(var e=kk=t;e.parent!==null;){e=e.parent;var n=e.f;if(pE&&e===Kt&&(n&Nc)!==0&&(n&jq)===0)return;if((n&(N0|ah))!==0){if((n&ys)===0)return;e.f^=ys}}Wu.push(e)}function d0e(t){let e=0,n=d0(0),r;return()=>{S0e()&&(x(n),j1(()=>(e===0&&(r=Os(()=>t(()=>jb(n)))),e+=1,()=>{lh(()=>{e-=1,e===0&&(r?.(),r=void 0,jb(n))})})))}}var p0e=eh|N1|bk;function rV(t,e,n){new m0e(t,e,n)}class m0e{parent;#e=!1;#t;#n=qt?wn:null;#r;#l;#a;#i=null;#s=null;#o=null;#u=null;#c=null;#d=0;#f=0;#p=!1;#h=null;#y=d0e(()=>(this.#h=d0(this.#d),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#r=n,this.#l=r,this.parent=Kt.b,this.#e=!!this.#r.pending,this.#a=Xd(()=>{if(Kt.b=this,qt){const s=this.#n;xd(),s.nodeType===Q0&&s.data===Sk?this.#v():this.#b()}else{var i=this.#O();try{this.#i=Fo(()=>r(i))}catch(s){this.error(s)}this.#f>0?this.#g():this.#e=!1}return()=>{this.#c?.remove()}},p0e),qt&&(this.#t=wn)}#b(){try{this.#i=Fo(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#v(){const e=this.#r.pending;e&&(this.#s=Fo(()=>e(this.#t)),Tp.enqueue(()=>{var n=this.#O();this.#i=this.#m(()=>(Tp.ensure(),Fo(()=>this.#l(n)))),this.#f>0?this.#g():(og(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#O(){var e=this.#t;return this.#e&&(this.#c=Ua(),this.#t.before(this.#c),e=this.#c),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(e){var n=Kt,r=bn,i=fr;kc(this.#a),qo(this.#a),jg(this.#a.ctx);try{return e()}catch(s){return Kq(s),null}finally{kc(n),qo(r),jg(i)}}#g(){const e=this.#r.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),_V(this.#i,this.#u)),this.#s===null&&(this.#s=Fo(()=>e(this.#t)))}#w(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#s&&og(this.#s,()=>{this.#s=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#w(e),this.#d+=e,this.#h&&Vg(this.#h,this.#d)}get_effect_pending(){return this.#y(),x(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#p||!n&&!r)throw e;this.#i&&(cs(this.#i),this.#i=null),this.#s&&(cs(this.#s),this.#s=null),this.#o&&(cs(this.#o),this.#o=null),qt&&($s(this.#n),vl(),$s(U_()));var i=!1,s=!1;const o=()=>{if(i){l0e();return}i=!0,s&&Zpe(),Tp.ensure(),this.#d=0,this.#o!==null&&og(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#m(()=>(this.#p=!1,Fo(()=>this.#l(this.#t)))),this.#f>0?this.#g():this.#e=!1};var a=bn;try{qo(null),s=!0,n?.(e,o),s=!1}catch(l){qg(l,this.#a&&this.#a.parent)}finally{qo(a)}r&&lh(()=>{this.#o=this.#m(()=>{Tp.ensure(),this.#p=!0;try{return Fo(()=>{r(this.#t,()=>e,()=>o)})}catch(l){return qg(l,this.#a.parent),null}finally{this.#p=!1}})})}}function iV(t,e,n,r){const i=B1()?PO:ID;if(n.length===0&&t.length===0){r(e.map(i));return}var s=Ir,o=Kt,a=g0e();function l(){Promise.all(n.map(u=>y0e(u))).then(u=>{a();try{r([...e.map(i),...u])}catch(c){(o.f&zf)===0&&qg(c,o)}s?.deactivate(),j_()}).catch(u=>{qg(u,o)})}t.length>0?Promise.all(t).then(()=>{a();try{return l()}finally{s?.deactivate(),j_()}}):l()}function g0e(){var t=Kt,e=bn,n=fr,r=Ir;return function(s=!0){kc(t),qo(e),jg(n),s&&r?.activate()}}function j_(){kc(null),qo(null),jg(null)}function PO(t){var e=Qs|ea,n=bn!==null&&(bn.f&Qs)!==0?bn:null;return Kt===null||n!==null&&(n.f&bl)!==0?e|=bl:Kt.f|=N1,{ctx:fr,deps:null,effects:null,equals:Yq,f:e,fn:t,reactions:null,rv:0,v:ds,wv:0,parent:n??Kt,ac:null}}function y0e(t,e){let n=Kt;n===null&&Mpe();var r=n.b,i=void 0,s=d0(ds),o=!bn,a=new Map;return E0e(()=>{var l=Uq();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===Ir&&u.committed&&u.deactivate(),j_()})}catch(h){l.reject(h),j_()}var u=Ir;if(o){var c=!r.is_pending();r.update_pending_count(1),u.increment(c),a.get(u)?.reject(Xm),a.delete(u),a.set(u,l)}const f=(h,d=void 0)=>{if(u.activate(),d)d!==Xm&&(s.f|=ad,Vg(s,d));else{(s.f&ad)!==0&&(s.f^=ad),Vg(s,h);for(const[m,g]of a){if(a.delete(m),m===u)break;g.reject(Xm)}}o&&(r.update_pending_count(-1),u.decrement(c))};l.promise.then(f,h=>f(null,h||"unknown"))}),Ck(()=>{for(const l of a.values())l.reject(Xm)}),new Promise(l=>{function u(c){function f(){c===i?l(s):u(i)}c.then(f,f)}u(i)})}function Y(t){const e=PO(t);return SV(e),e}function ID(t){const e=PO(t);return e.equals=Gq,e}function sV(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)cs(e[n])}}function b0e(t){for(var e=t.parent;e!==null;){if((e.f&Qs)===0)return e;e=e.parent}return null}function FD(t){var e,n=Kt;kc(b0e(t));try{t.f&=~z_,sV(t),e=EV(t)}finally{kc(n)}return e}function oV(t){var e=FD(t);if(t.equals(e)||(t.v=e,t.wv=CV()),!B0)if(Jl!==null)Jl.set(t,t.v);else{var n=(Yh||(t.f&bl)!==0)&&t.deps!==null?Qc:ys;vs(t,n)}}let gE=new Set;const ld=new Map;let aV=!1;function d0(t,e){var n={f:0,v:t,reactions:null,equals:Yq,rv:0,wv:0};return n}function Le(t,e){const n=d0(t);return SV(n),n}function Hp(t,e=!1,n=!0){const r=d0(t);return e||(r.equals=Gq),Q1&&n&&fr!==null&&fr.l!==null&&(fr.l.s??=[]).push(r),r}function oe(t,e,n=!1){bn!==null&&(!eu||(bn.f&XF)!==0)&&B1()&&(bn.f&(Qs|Nc|DD|XF))!==0&&!Uf?.includes(t)&&Xpe();let r=n?Wh(e):e;return Vg(t,r)}function Vg(t,e){if(!t.equals(e)){var n=t.v;B0?ld.set(t,e):ld.set(t,n),t.v=e;var r=Tp.ensure();r.capture(t,n),(t.f&Qs)!==0&&((t.f&ea)!==0&&FD(t),vs(t,(t.f&bl)===0?ys:Qc)),t.wv=CV(),lV(t,ea),B1()&&Kt!==null&&(Kt.f&ys)!==0&&(Kt.f&(ah|N0))===0&&(il===null?D0e([t]):il.push(t)),!r.is_fork&&gE.size>0&&!aV&&v0e()}return e}function v0e(){aV=!1;const t=Array.from(gE);for(const e of t)(e.f&ys)!==0&&vs(e,Qc),q1(e)&&Xg(e);gE.clear()}function jb(t){oe(t,t.v+1)}function lV(t,e){var n=t.reactions;if(n!==null)for(var r=B1(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;if(!(!r&&o===Kt)){var l=(a&ea)===0;l&&vs(o,e),(a&Qs)!==0?(a&z_)===0&&(o.f|=z_,lV(o,Qc)):l&&((a&Nc)!==0&&yf!==null&&yf.add(o),h0(o))}}}function Wh(t){if(typeof t!="object"||t===null||pc in t)return t;const e=TD(t);if(e!==Rpe&&e!==$pe)return t;var n=new Map,r=TO(t),i=Le(0),s=Kp,o=a=>{if(Kp===s)return a();var l=bn,u=Kp;qo(null),KF(s);var c=a();return qo(l),KF(u),c};return r&&n.set("length",Le(t.length)),new Proxy(t,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&qpe();var c=n.get(l);return c===void 0?c=o(()=>{var f=Le(u.value);return n.set(l,f),f}):oe(c,u.value,!0),!0},deleteProperty(a,l){var u=n.get(l);if(u===void 0){if(l in a){const c=o(()=>Le(ds));n.set(l,c),jb(i)}}else oe(u,ds),jb(i);return!0},get(a,l,u){if(l===pc)return t;var c=n.get(l),f=l in a;if(c===void 0&&(!f||od(a,l)?.writable)&&(c=o(()=>{var d=Wh(f?a[l]:ds),m=Le(d);return m}),n.set(l,c)),c!==void 0){var h=x(c);return h===ds?void 0:h}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=n.get(l);c&&(u.value=x(c))}else if(u===void 0){var f=n.get(l),h=f?.v;if(f!==void 0&&h!==ds)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(a,l){if(l===pc)return!0;var u=n.get(l),c=u!==void 0&&u.v!==ds||Reflect.has(a,l);if(u!==void 0||Kt!==null&&(!c||od(a,l)?.writable)){u===void 0&&(u=o(()=>{var h=c?Wh(a[l]):ds,d=Le(h);return d}),n.set(l,u));var f=x(u);if(f===ds)return!1}return c},set(a,l,u,c){var f=n.get(l),h=l in a;if(r&&l==="length")for(var d=u;d<f.v;d+=1){var m=n.get(d+"");m!==void 0?oe(m,ds):d in a&&(m=o(()=>Le(ds)),n.set(d+"",m))}if(f===void 0)(!h||od(a,l)?.writable)&&(f=o(()=>Le(void 0)),oe(f,Wh(u)),n.set(l,f));else{h=f.v!==ds;var g=o(()=>Wh(u));oe(f,g)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(c,u),!h){if(r&&typeof l=="string"){var v=n.get("length"),O=Number(l);Number.isInteger(O)&&O>=v.v&&oe(v,O+1)}jb(i)}return!0},ownKeys(a){x(i);var l=Reflect.ownKeys(a).filter(f=>{var h=n.get(f);return h===void 0||h.v!==ds});for(var[u,c]of n)c.v!==ds&&!(u in a)&&l.push(u);return l},setPrototypeOf(){Vpe()}})}function WF(t){try{if(t!==null&&typeof t=="object"&&pc in t)return t[pc]}catch{}return t}function O0e(t,e){return Object.is(WF(t),WF(e))}var yE,uV,cV,fV;function bE(){if(yE===void 0){yE=window,uV=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;cV=od(e,"firstChild").get,fV=od(e,"nextSibling").get,qF(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),qF(n)&&(n.__t=void 0)}}function Ua(t=""){return document.createTextNode(t)}function Es(t){return cV.call(t)}function bu(t){return fV.call(t)}function K(t,e){if(!qt)return Es(t);var n=Es(wn);if(n===null)n=wn.appendChild(Ua());else if(e&&n.nodeType!==Ok){var r=Ua();return n?.before(r),$s(r),r}return $s(n),n}function Ye(t,e=!1){if(!qt){var n=Es(t);return n instanceof Comment&&n.data===""?bu(n):n}if(e&&wn?.nodeType!==Ok){var r=Ua();return wn?.before(r),$s(r),r}return wn}function se(t,e=1,n=!1){let r=qt?wn:t;for(var i;e--;)i=r,r=bu(r);if(!qt)return r;if(n&&r?.nodeType!==Ok){var s=Ua();return r===null?i?.after(s):r.before(s),$s(s),s}return $s(r),r}function hV(t){t.textContent=""}function dV(){return!1}function w0e(t,e){if(e){const n=document.body;t.autofocus=!0,lh(()=>{document.activeElement===n&&t.focus()})}}let YF=!1;function pV(){YF||(YF=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function z1(t){var e=bn,n=Kt;qo(null),kc(null);try{return t()}finally{qo(e),kc(n)}}function x0e(t,e,n,r=n){t.addEventListener(e,()=>z1(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),pV()}function mV(t){Kt===null&&bn===null&&Qpe(),bn!==null&&(bn.f&bl)!==0&&Kt===null&&Npe(),B0&&Lpe()}function _0e(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Bc(t,e,n,r=!0){var i=Kt;i!==null&&(i.f&La)!==0&&(t|=La);var s={ctx:fr,deps:null,nodes_start:null,nodes_end:null,f:t|ea,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Xg(s),s.f|=vk}catch(l){throw cs(s),l}else e!==null&&h0(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&N1)===0&&(o=o.first,(t&Nc)!==0&&(t&eh)!==0&&o!==null&&(o.f|=eh)),o!==null&&(o.parent=i,i!==null&&_0e(o,i),bn!==null&&(bn.f&Qs)!==0&&(t&N0)===0)){var a=bn;(a.effects??=[]).push(o)}}return s}function S0e(){return bn!==null&&!eu}function Ck(t){const e=Bc(yk,null,!1);return vs(e,ys),e.teardown=t,e}function Bs(t){mV();var e=Kt.f,n=!bn&&(e&ah)!==0&&(e&vk)===0;if(n){var r=fr;(r.e??=[]).push(t)}else return gV(t)}function gV(t){return Bc(gk|qq,t,!1)}function Vr(t){return mV(),Bc(yk|qq,t,!0)}function k0e(t){Tp.ensure();const e=Bc(N0|N1,t,!0);return(n={})=>new Promise(r=>{n.outro?og(e,()=>{cs(e),r(void 0)}):(cs(e),r(void 0))})}function U1(t){return Bc(gk,t,!1)}function C0e(t,e){var n=fr,r={effect:null,ran:!1,deps:t};n.l.$.push(r),r.effect=j1(()=>{t(),!r.ran&&(r.ran=!0,Os(e))})}function A0e(){var t=fr;j1(()=>{for(var e of t.l.$){e.deps();var n=e.effect;(n.f&ys)!==0&&vs(n,Qc),q1(n)&&Xg(n),e.ran=!1}})}function E0e(t){return Bc(DD|N1,t,!0)}function j1(t,e=0){return Bc(yk|e,t,!0)}function Me(t,e=[],n=[],r=[],i=!1){iV(r,e,n,s=>{Bc(i?gk:yk,()=>t(...s.map(x)),!0)})}function Xd(t,e=0){var n=Bc(Nc|e,t,!0);return n}function Fo(t,e=!0){return Bc(ah|N1,t,!0,e)}function yV(t){var e=t.teardown;if(e!==null){const n=B0,r=bn;HF(!0),qo(null);try{e.call(null)}finally{HF(n),qo(r)}}}function bV(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&z1(()=>{i.abort(Xm)});var r=n.next;(n.f&N0)!==0?n.parent=null:cs(n,e),n=r}}function T0e(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&ah)===0&&cs(e),e=n}}function cs(t,e=!0){var n=!1;(e||(t.f&jq)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(vV(t.nodes_start,t.nodes_end),n=!0),bV(t,e&&!n),q_(t,0),vs(t,zf);var r=t.transitions;if(r!==null)for(const s of r)s.stop();yV(t);var i=t.parent;i!==null&&i.first!==null&&OV(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function vV(t,e){for(;t!==null;){var n=t===e?null:bu(t);t.remove(),t=n}}function OV(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function og(t,e,n=!0){var r=[];MD(t,r,!0),wV(r,()=>{n&&cs(t),e&&e()})}function wV(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function MD(t,e,n){if((t.f&La)===0){if(t.f^=La,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&eh)!==0||(r.f&ah)!==0&&(t.f&Nc)!==0;MD(r,e,s?n:!1),r=i}}}function LD(t){xV(t,!0)}function xV(t,e){if((t.f&La)!==0){t.f^=La,(t.f&ys)===0&&(vs(t,ea),h0(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&eh)!==0||(n.f&ah)!==0;xV(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function _V(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:bu(n);e.append(n),n=i}}let ag=!1;function GF(t){ag=t}let B0=!1;function HF(t){B0=t}let bn=null,eu=!1;function qo(t){bn=t}let Kt=null;function kc(t){Kt=t}let Uf=null;function SV(t){bn!==null&&(Uf===null?Uf=[t]:Uf.push(t))}let to=null,_a=0,il=null;function D0e(t){il=t}let kV=1,mv=0,Kp=mv;function KF(t){Kp=t}let Yh=!1;function CV(){return++kV}function q1(t){var e=t.f;if((e&ea)!==0)return!0;if((e&Qc)!==0){var n=t.deps,r=(e&bl)!==0;if(e&Qs&&(t.f&=~z_),n!==null){var i,s,o=(e&B_)!==0,a=r&&Kt!==null&&!Yh,l=n.length;if((o||a)&&(Kt===null||(Kt.f&zf)===0)){var u=t,c=u.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);o&&(u.f^=B_),a&&c!==null&&(c.f&bl)===0&&(u.f^=bl)}for(i=0;i<l;i++)if(s=n[i],q1(s)&&oV(s),s.wv>t.wv)return!0}(!r||Kt!==null&&!Yh)&&vs(t,ys)}return!1}function AV(t,e,n=!0){var r=t.reactions;if(r!==null&&!Uf?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&Qs)!==0?AV(s,e,!1):e===s&&(n?vs(s,ea):(s.f&ys)!==0&&vs(s,Qc),h0(s))}}function EV(t){var e=to,n=_a,r=il,i=bn,s=Yh,o=Uf,a=fr,l=eu,u=Kp,c=t.f;to=null,_a=0,il=null,Yh=(c&bl)!==0&&(eu||!ag||bn===null),bn=(c&(ah|N0))===0?t:null,Uf=null,jg(t.ctx),eu=!1,Kp=++mv,t.ac!==null&&(z1(()=>{t.ac.abort(Xm)}),t.ac=null);try{t.f|=dE;var f=t.fn,h=f(),d=t.deps;if(to!==null){var m;if(q_(t,_a),d!==null&&_a>0)for(d.length=_a+to.length,m=0;m<to.length;m++)d[_a+m]=to[m];else t.deps=d=to;if(!Yh||(c&Qs)!==0&&t.reactions!==null)for(m=_a;m<d.length;m++)(d[m].reactions??=[]).push(t)}else d!==null&&_a<d.length&&(q_(t,_a),d.length=_a);if(B1()&&il!==null&&!eu&&d!==null&&(t.f&(Qs|Qc|ea))===0)for(m=0;m<il.length;m++)AV(il[m],t);return i!==null&&i!==t&&(mv++,il!==null&&(r===null?r=il:r.push(...il))),(t.f&ad)!==0&&(t.f^=ad),h}catch(g){return Kq(g)}finally{t.f^=dE,to=e,_a=n,il=r,bn=i,Yh=s,Uf=o,jg(a),eu=l,Kp=u}}function P0e(t,e){let n=e.reactions;if(n!==null){var r=Ppe.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&Qs)!==0&&(to===null||!to.includes(e))&&(vs(e,Qc),(e.f&(bl|B_))===0&&(e.f^=B_),sV(e),q_(e,0))}function q_(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)P0e(t,n[r])}function Xg(t){var e=t.f;if((e&zf)===0){vs(t,ys);var n=Kt,r=ag;Kt=t,ag=!0;try{(e&Nc)!==0?T0e(t):bV(t),yV(t);var i=EV(t);t.teardown=typeof i=="function"?i:null,t.wv=kV;var s;Bq&&u0e&&(t.f&ea)!==0&&t.deps}finally{ag=r,Kt=n}}}async function TV(){await Promise.resolve(),Jq()}function x(t){var e=t.f,n=(e&Qs)!==0;if(bn!==null&&!eu){var r=Kt!==null&&(Kt.f&zf)!==0;if(!r&&!Uf?.includes(t)){var i=bn.deps;if((bn.f&dE)!==0)t.rv<mv&&(t.rv=mv,to===null&&i!==null&&i[_a]===t?_a++:to===null?to=[t]:(!Yh||!to.includes(t))&&to.push(t));else{(bn.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[bn]:s.includes(bn)||s.push(bn)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,a=o.parent;a!==null&&(a.f&bl)===0&&(o.f^=bl)}if(B0){if(ld.has(t))return ld.get(t);if(n){o=t;var l=o.v;return((o.f&ys)===0&&o.reactions!==null||DV(o))&&(l=FD(o)),ld.set(o,l),l}}else if(n){if(o=t,Jl?.has(o))return Jl.get(o);q1(o)&&oV(o)}if(Jl?.has(t))return Jl.get(t);if((t.f&ad)!==0)throw t.v;return t.v}function DV(t){if(t.v===ds)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(ld.has(e)||(e.f&Qs)!==0&&DV(e))return!0;return!1}function Os(t){var e=eu;try{return eu=!0,t()}finally{eu=e}}const R0e=-7169;function vs(t,e){t.f=t.f&R0e|e}function ND(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(pc in t)vE(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&pc in n&&vE(n)}}}function vE(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{vE(t[r],e)}catch{}const n=TD(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=zq(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}function $0e(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const I0e=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function F0e(t){return I0e.includes(t)}const M0e={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function L0e(t){return t=t.toLowerCase(),M0e[t]??t}const N0e=["touchstart","touchmove"];function Q0e(t){return N0e.includes(t)}const PV=new Set,OE=new Set;function RV(t,e,n,r={}){function i(s){if(r.capture||gb.call(e,s),!s.cancelBubble)return z1(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?lh(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function ud(t,e,n,r,i){var s={capture:r,passive:i},o=RV(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Ck(()=>{e.removeEventListener(t,o,s)})}function Tr(t){for(var e=0;e<t.length;e++)PV.add(t[e]);for(var n of OE)n(t)}let JF=null;function gb(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;JF=t;var o=0,a=JF===t&&t.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||t.target,s!==e){ED(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=bn,f=Kt;qo(null),kc(null);try{for(var h,d=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];g!=null&&(!s.disabled||t.target===s)&&g.call(s,t)}catch(b){h?d.push(b):h=b}if(t.cancelBubble||m===e||m===null)break;s=m}if(h){for(let b of d)queueMicrotask(()=>{throw b});throw h}}finally{t.__root=e,delete t.currentTarget,qo(c),kc(f)}}}function QD(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Na(t,e){var n=Kt;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function fe(t,e){var n=(e&Xq)!==0,r=(e&i0e)!==0,i,s=!t.startsWith("<!>");return()=>{if(qt)return Na(wn,null),wn;i===void 0&&(i=QD(s?t:"<!>"+t),n||(i=Es(i)));var o=r||uV?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Es(o),l=o.lastChild;Na(a,l)}else Na(o,o);return o}}function B0e(t,e,n="svg"){var r=!t.startsWith("<!>"),i=(e&Xq)!==0,s=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(qt)return Na(wn,null),wn;if(!o){var a=QD(s),l=Es(a);if(i)for(o=document.createDocumentFragment();Es(l);)o.appendChild(Es(l));else o=Es(l)}var u=o.cloneNode(!0);if(i){var c=Es(u),f=u.lastChild;Na(c,f)}else Na(u,u);return u}}function Yt(t,e){return B0e(t,e,"svg")}function Jp(t=""){if(!qt){var e=Ua(t+"");return Na(e,e),e}var n=wn;return n.nodeType!==Ok&&(n.before(n=Ua()),$s(n)),Na(n,n),n}function Bt(){if(qt)return Na(wn,null),wn;var t=document.createDocumentFragment(),e=document.createComment(""),n=Ua();return t.append(e,n),Na(e,n),t}function X(t,e){if(qt){Kt.nodes_end=wn,xd();return}t!==null&&t.before(e)}let wE=!0;function Mt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function BD(t,e){return $V(t,e)}function z0e(t,e){bE(),e.intro=e.intro??!1;const n=e.target,r=qt,i=wn;try{for(var s=Es(n);s&&(s.nodeType!==Q0||s.data!==Zq);)s=bu(s);if(!s)throw f0;au(!0),$s(s);const o=$V(t,{...e,anchor:s});return au(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw o;return o!==f0&&console.warn("Failed to hydrate: ",o),e.recover===!1&&zpe(),bE(),hV(n),au(!1),BD(t,e)}finally{au(r),$s(i)}}const vm=new Map;function $V(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){bE();var a=new Set,l=f=>{for(var h=0;h<f.length;h++){var d=f[h];if(!a.has(d)){a.add(d);var m=Q0e(d);e.addEventListener(d,gb,{passive:m});var g=vm.get(d);g===void 0?(document.addEventListener(d,gb,{passive:m}),vm.set(d,1)):vm.set(d,g+1)}}};l(AD(PV)),OE.add(l);var u=void 0,c=k0e(()=>{var f=n??e.appendChild(Ua());return rV(f,{pending:()=>{}},h=>{if(s){He({});var d=fr;d.c=s}if(i&&(r.$$events=i),qt&&Na(h,null),wE=o,u=t(h,r)||{},wE=!0,qt&&(Kt.nodes_end=wn,wn===null||wn.nodeType!==Q0||wn.data!==RD))throw DO(),f0;s&&Ke()}),()=>{for(var h of a){e.removeEventListener(h,gb);var d=vm.get(h);--d===0?(document.removeEventListener(h,gb),vm.delete(h)):vm.set(h,d)}OE.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return xE.set(u,c),u}let xE=new WeakMap;function U0e(t,e){const n=xE.get(t);return n?(xE.delete(t),n(e)):Promise.resolve()}class Ak{anchor;#e=new Map;#t=new Map;#n=new Map;#r=!0;constructor(e,n=!0){this.anchor=e,this.#r=n}#l=()=>{var e=Ir;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)LD(r);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const a=this.#n.get(o);a&&(cs(a.effect),this.#n.delete(o))}for(const[s,o]of this.#t){if(s===n)continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var u=document.createDocumentFragment();_V(o,u),u.append(Ua()),this.#n.set(s,{effect:o,fragment:u})}else cs(o);this.#t.delete(s)};this.#r||!r?og(o,a,!1):a()}}};#a=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,i]of this.#n)n.includes(r)||(cs(i.effect),this.#n.delete(r))};ensure(e,n){var r=Ir,i=dV();if(n&&!this.#t.has(e)&&!this.#n.has(e))if(i){var s=document.createDocumentFragment(),o=Ua();s.append(o),this.#n.set(e,{effect:Fo(()=>n(o)),fragment:s})}else this.#t.set(e,Fo(()=>n(this.anchor)));if(this.#e.set(r,e),i){for(const[a,l]of this.#t)a===e?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[a,l]of this.#n)a===e?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(this.#l),r.ondiscard(this.#a)}else qt&&(this.anchor=wn),this.#l()}}function ke(t,e,n=!1){qt&&xd();var r=new Ak(t),i=n?eh:0;function s(o,a){if(qt){const u=Wq(t)===Sk;if(o===u){var l=U_();$s(l),r.anchor=l,au(!1),r.ensure(o,a),au(!0);return}}r.ensure(o,a)}Xd(()=>{var o=!1;e((a,l=!0)=>{o=!0,s(l,a)}),o||s(!1,null)},i)}function V_(t,e,n){qt&&xd();var r=new Ak(t),i=!B1();Xd(()=>{var s=e();i&&s!==null&&typeof s=="object"&&(s={}),r.ensure(s,n)})}let Fx=null;function ur(t,e){return e}function j0e(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)MD(e[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;hV(l),l.append(n),r.clear(),Bu(t,e[0].prev,e[s-1].next)}wV(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(r.delete(c.k),Bu(t,c.prev,c.next)),cs(c.e,!a)}})}function fn(t,e,n,r,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&Vq)!==0;if(l){var u=t;o=qt?$s(Es(u)):u.appendChild(Ua())}qt&&xd();var c=null,f=!1,h=new Map,d=ID(()=>{var v=n();return TO(v)?v:v==null?[]:AD(v)}),m,g;function b(){q0e(g,m,a,h,o,i,e,r,n),s!==null&&(m.length===0?c?LD(c):c=Fo(()=>s(o)):c!==null&&og(c,()=>{c=null}))}Xd(()=>{g??=Kt,m=x(d);var v=m.length;if(f&&v===0)return;f=v===0;let O=!1;if(qt){var _=Wq(o)===Sk;_!==(v===0)&&(o=U_(),$s(o),au(!1),O=!0)}if(qt){for(var S=null,k,A=0;A<v;A++){if(wn.nodeType===Q0&&wn.data===RD){o=wn,O=!0,au(!1);break}var C=m[A],T=r(C,A);k=_E(wn,a,S,null,C,T,A,i,e,n),a.items.set(T,k),S=k}v>0&&$s(U_())}if(qt)v===0&&s&&(c=Fo(()=>s(o)));else if(dV()){var P=new Set,N=Ir;for(A=0;A<v;A+=1){C=m[A],T=r(C,A);var I=a.items.get(T)??h.get(T);I?(e&(xk|_k))!==0&&IV(I,C,A,e):(k=_E(null,a,null,null,C,T,A,i,e,n,!0),h.set(T,k)),P.add(T)}for(const[$,R]of a.items)P.has($)||N.skipped_effects.add(R.e);N.oncommit(b)}else b();O&&au(!0),x(d)}),qt&&(o=wn)}function q0e(t,e,n,r,i,s,o,a,l){var u=(o&Wpe)!==0,c=(o&(xk|_k))!==0,f=e.length,h=n.items,d=n.first,m=d,g,b=null,v,O=[],_=[],S,k,A,C;if(u)for(C=0;C<f;C+=1)S=e[C],k=a(S,C),A=h.get(k),A!==void 0&&(A.a?.measure(),(v??=new Set).add(A));for(C=0;C<f;C+=1){if(S=e[C],k=a(S,C),A=h.get(k),A===void 0){var T=r.get(k);if(T!==void 0){r.delete(k),h.set(k,T);var P=b?b.next:m;Bu(n,b,T),Bu(n,T,P),P5(T,P,i),b=T}else{var N=m?m.e.nodes_start:i;b=_E(N,n,b,b===null?n.first:b.next,S,k,C,s,o,l)}h.set(k,b),O=[],_=[],m=b.next;continue}if(c&&IV(A,S,C,o),(A.e.f&La)!==0&&(LD(A.e),u&&(A.a?.unfix(),(v??=new Set).delete(A))),A!==m){if(g!==void 0&&g.has(A)){if(O.length<_.length){var I=_[0],$;b=I.prev;var R=O[0],M=O[O.length-1];for($=0;$<O.length;$+=1)P5(O[$],I,i);for($=0;$<_.length;$+=1)g.delete(_[$]);Bu(n,R.prev,M.next),Bu(n,b,R),Bu(n,M,I),m=I,b=M,C-=1,O=[],_=[]}else g.delete(A),P5(A,m,i),Bu(n,A.prev,A.next),Bu(n,A,b===null?n.first:b.next),Bu(n,b,A),b=A;continue}for(O=[],_=[];m!==null&&m.k!==k;)(m.e.f&La)===0&&(g??=new Set).add(m),_.push(m),m=m.next;if(m===null)continue;A=m}O.push(A),b=A,m=A.next}if(m!==null||g!==void 0){for(var B=g===void 0?[]:AD(g);m!==null;)(m.e.f&La)===0&&B.push(m),m=m.next;var U=B.length;if(U>0){var j=(o&Vq)!==0&&f===0?i:null;if(u){for(C=0;C<U;C+=1)B[C].a?.measure();for(C=0;C<U;C+=1)B[C].a?.fix()}j0e(n,B,j)}}u&&lh(()=>{if(v!==void 0)for(A of v)A.a?.apply()}),t.first=n.first&&n.first.e,t.last=b&&b.e;for(var ee of r.values())cs(ee.e);r.clear()}function IV(t,e,n,r){(r&xk)!==0&&Vg(t.v,e),(r&_k)!==0?Vg(t.i,n):t.i=n}function _E(t,e,n,r,i,s,o,a,l,u,c){var f=Fx,h=(l&xk)!==0,d=(l&Ype)===0,m=h?d?Hp(i,!1,!1):d0(i):i,g=(l&_k)===0?o:d0(o),b={i:g,v:m,k:s,a:null,e:null,prev:n,next:r};Fx=b;try{if(t===null){var v=document.createDocumentFragment();v.append(t=Ua())}return b.e=Fo(()=>a(t,m,g,u),qt),b.e.prev=n&&n.e,b.e.next=r&&r.e,n===null?c||(e.first=b):(n.next=b,n.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{Fx=f}}function P5(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=bu(s);i.before(s),s=o}}function Bu(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function zD(t,e,n=!1,r=!1,i=!1){var s=t,o="";Me(()=>{var a=Kt;if(o===(o=e()??"")){qt&&xd();return}if(a.nodes_start!==null&&(vV(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),o!==""){if(qt){wn.data;for(var l=xd(),u=l;l!==null&&(l.nodeType!==Q0||l.data!=="");)u=l,l=bu(l);if(l===null)throw DO(),f0;Na(wn,u),s=$s(l);return}var c=o+"";n?c=`<svg>${c}</svg>`:r&&(c=`<math>${c}</math>`);var f=QD(c);if((n||r)&&(f=Es(f)),Na(Es(f),f.lastChild),n||r)for(;Es(f);)s.before(Es(f));else s.before(f)}})}function Cl(t,e,...n){var r=new Ak(t);Xd(()=>{const i=e()??null;r.ensure(i,i&&(s=>i(s,...n)))},eh)}function th(t,e,n){qt&&xd();var r=new Ak(t);Xd(()=>{var i=e()??null;r.ensure(i,i&&(s=>n(s,i)))},eh)}function Kr(t,e,n){U1(()=>{var r=Os(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,s={};j1(()=>{var o=n();ND(o),i&&$D(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function V0e(t,e){var n=void 0,r;Xd(()=>{n!==(n=e())&&(r&&(cs(r),r=null),n&&(r=Fo(()=>{U1(()=>n(t))})))})}function FV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function X0e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FV(t))&&(r&&(r+=" "),r+=e);return r}function RO(t){return typeof t=="object"?X0e(t):t??""}const eM=[...` 	
\r\fÂ \v\uFEFF`];function Z0e(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var a=o+s;(o===0||eM.includes(r[o-1]))&&(a===r.length||eM.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function tM(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var s=t[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function R5(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function W0e(t,e){if(e){var n="",r,i;if(Array.isArray(e)?(r=e[0],i=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];r&&l.push(...Object.keys(r).map(R5)),i&&l.push(...Object.keys(i).map(R5));var u=0,c=-1;const g=t.length;for(var f=0;f<g;f++){var h=t[f];if(a?h==="/"&&t[f-1]==="*"&&(a=!1):s?s===h&&(s=!1):h==="/"&&t[f+1]==="*"?a=!0:h==='"'||h==="'"?s=h:h==="("?o++:h===")"&&o--,!a&&s===!1&&o===0){if(h===":"&&c===-1)c=f;else if(h===";"||f===g-1){if(c!==-1){var d=R5(t.substring(u,c).trim());if(!l.includes(d)){h!==";"&&f++;var m=t.substring(u,f).trim();n+=" "+m+";"}}u=f+1,c=-1}}}}return r&&(n+=tM(r)),i&&(n+=tM(i,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function sr(t,e,n,r,i,s){var o=t.__className;if(qt||o!==n||o===void 0){var a=Z0e(n,r,s);(!qt||a!==t.getAttribute("class"))&&(a==null?t.removeAttribute("class"):e?t.className=a:t.setAttribute("class",a)),t.__className=n}else if(s&&i!==s)for(var l in s){var u=!!s[l];(i==null||u!==!!i[l])&&t.classList.toggle(l,u)}return s}function $5(t,e={},n,r){for(var i in n){var s=n[i];e[i]!==s&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,s,r))}}function gt(t,e,n,r){var i=t.__style;if(qt||i!==e){var s=W0e(e,r);(!qt||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}else r&&(Array.isArray(r)?($5(t,n?.[0],r[0]),$5(t,n?.[1],r[1],"important")):$5(t,n,r));return r}function X_(t,e,n=!1){if(t.multiple){if(e==null)return;if(!TO(e))return a0e();for(var r of t.options)r.selected=e.includes(nM(r));return}for(r of t.options){var i=nM(r);if(O0e(i,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function MV(t){var e=new MutationObserver(()=>{X_(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ck(()=>{e.disconnect()})}function nM(t){return"__value"in t?t.__value:t.value}const My=Symbol("class"),Ly=Symbol("style"),LV=Symbol("is custom element"),NV=Symbol("is html");function Ek(t){if(qt){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;pe(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;pe(t,"checked",null),t.checked=i}}};t.__on_r=n,lh(n),pV()}}function QV(t,e){var n=UD(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Y0e(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function pe(t,e,n,r){var i=UD(t);qt&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[Fpe]=n),n==null?t.removeAttribute(e):typeof n!="string"&&BV(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function G0e(t,e,n,r,i=!1,s=!1){if(qt&&i&&t.tagName==="INPUT"){var o=t,a=o.type==="checkbox"?"defaultChecked":"defaultValue";a in n||Ek(o)}var l=UD(t),u=l[LV],c=!l[NV];let f=qt&&u;f&&au(!1);var h=e||{},d=t.tagName==="OPTION";for(var m in e)m in n||(n[m]=null);n.class?n.class=RO(n.class):n[My]&&(n.class=null),n[Ly]&&(n.style??=null);var g=BV(t);for(const A in n){let C=n[A];if(d&&A==="value"&&C==null){t.value=t.__value="",h[A]=C;continue}if(A==="class"){var b=t.namespaceURI==="http://www.w3.org/1999/xhtml";sr(t,b,C,r,e?.[My],n[My]),h[A]=C,h[My]=n[My];continue}if(A==="style"){gt(t,C,e?.[Ly],n[Ly]),h[A]=C,h[Ly]=n[Ly];continue}var v=h[A];if(!(C===v&&!(C===void 0&&t.hasAttribute(A)))){h[A]=C;var O=A[0]+A[1];if(O!=="$$")if(O==="on"){const T={},P="$$"+A;let N=A.slice(2);var _=F0e(N);if($0e(N)&&(N=N.slice(0,-7),T.capture=!0),!_&&v){if(C!=null)continue;t.removeEventListener(N,h[P],T),h[P]=null}if(C!=null)if(_)t[`__${N}`]=C,Tr([N]);else{let I=function($){h[A].call(this,$)};h[P]=RV(N,t,I,T)}else _&&(t[`__${N}`]=void 0)}else if(A==="style")pe(t,A,C);else if(A==="autofocus")w0e(t,!!C);else if(!u&&(A==="__value"||A==="value"&&C!=null))t.value=t.__value=C;else if(A==="selected"&&d)Y0e(t,C);else{var S=A;c||(S=L0e(S));var k=S==="defaultValue"||S==="defaultChecked";if(C==null&&!u&&!k)if(l[A]=null,S==="value"||S==="checked"){let T=t;const P=e===void 0;if(S==="value"){let N=T.defaultValue;T.removeAttribute(S),T.defaultValue=N,T.value=T.__value=P?N:null}else{let N=T.defaultChecked;T.removeAttribute(S),T.defaultChecked=N,T.checked=P?N:!1}}else t.removeAttribute(A);else k||g.includes(S)&&(u||typeof C!="string")?(t[S]=C,S in l&&(l[S]=ds)):typeof C!="function"&&pe(t,S,C)}}}return f&&au(!0),h}function Ci(t,e,n=[],r=[],i=[],s,o=!1,a=!1){iV(i,n,r,l=>{var u=void 0,c={},f=t.nodeName==="SELECT",h=!1;if(Xd(()=>{var m=e(...l.map(x)),g=G0e(t,u,m,s,o,a);h&&f&&"value"in m&&X_(t,m.value);for(let v of Object.getOwnPropertySymbols(c))m[v]||cs(c[v]);for(let v of Object.getOwnPropertySymbols(m)){var b=m[v];v.description===o0e&&(!u||b!==u[v])&&(c[v]&&cs(c[v]),c[v]=Fo(()=>V0e(t,()=>b))),g[v]=b}u=g}),f){var d=t;U1(()=>{X_(d,u.value,!0),MV(d)})}h=!0})}function UD(t){return t.__attributes??={[LV]:t.nodeName.includes("-"),[NV]:t.namespaceURI===s0e}}var rM=new Map;function BV(t){var e=t.getAttribute("is")||t.nodeName,n=rM.get(e);if(n)return n;rM.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=zq(i);for(var o in r)r[o].set&&n.push(o);i=TD(i)}return n}const H0e=()=>performance.now(),Cf={tick:t=>requestAnimationFrame(t),now:()=>H0e(),tasks:new Set};function zV(){const t=Cf.now();Cf.tasks.forEach(e=>{e.c(t)||(Cf.tasks.delete(e),e.f())}),Cf.tasks.size!==0&&Cf.tick(zV)}function K0e(t){let e;return Cf.tasks.size===0&&Cf.tick(zV),{promise:new Promise(n=>{Cf.tasks.add(e={c:t,f:n})}),abort(){Cf.tasks.delete(e)}}}function pw(t,e){z1(()=>{t.dispatchEvent(new CustomEvent(e))})}function J0e(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function iM(t){const e={},n=t.split(";");for(const r of n){const[i,s]=r.split(":");if(!i||s===void 0)break;const o=J0e(i.trim());e[o]=s.trim()}return e}const eme=t=>t;function sM(t,e,n){var r=Fx,i,s,o,a=null;r.a??={element:t,measure(){i=this.element.getBoundingClientRect()},apply(){if(o?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const l=e()(this.element,{from:i,to:s},n?.());o=Z_(this.element,l,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!t.getAnimations().length){var{position:l,width:u,height:c}=getComputedStyle(t);if(l!=="absolute"&&l!=="fixed"){var f=t.style;a={position:f.position,width:f.width,height:f.height,transform:f.transform},f.position="absolute",f.width=u,f.height=c;var h=t.getBoundingClientRect();if(i.left!==h.left||i.top!==h.top){var d=`translate(${i.left-h.left}px, ${i.top-h.top}px)`;f.transform=f.transform?`${f.transform} ${d}`:d}}}},unfix(){if(a){var l=t.style;l.position=a.position,l.width=a.width,l.height=a.height,l.transform=a.transform}}},r.a.element=t}function Gh(t,e,n,r){var i=(t&t0e)!==0,s=(t&n0e)!==0,o=i&&s,a=(t&r0e)!==0,l=o?"both":i?"in":"out",u,c=e.inert,f=e.style.overflow,h,d;function m(){return z1(()=>u??=n()(e,r?.()??{},{direction:l}))}var g={is_global:a,in(){if(e.inert=c,!i){d?.abort(),d?.reset?.();return}s||h?.abort(),pw(e,"introstart"),h=Z_(e,m(),d,1,()=>{pw(e,"introend"),h?.abort(),h=u=void 0,e.style.overflow=f})},out(_){if(!s){_?.(),u=void 0;return}e.inert=!0,pw(e,"outrostart"),d=Z_(e,m(),h,0,()=>{pw(e,"outroend"),_?.()})},stop:()=>{h?.abort(),d?.abort()}},b=Kt;if((b.transitions??=[]).push(g),i&&wE){var v=a;if(!v){for(var O=b.parent;O&&(O.f&eh)!==0;)for(;(O=O.parent)&&(O.f&Nc)===0;);v=!O||(O.f&vk)!==0}v&&U1(()=>{Os(()=>g.in())})}}function Z_(t,e,n,r,i){var s=r===1;if(Pm(e)){var o,a=!1;return lh(()=>{if(!a){var b=e({direction:s?"in":"out"});o=Z_(t,b,n,r,i)}}),{abort:()=>{a=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!e?.duration)return i(),{abort:yr,deactivate:yr,reset:yr,t:()=>r};const{delay:l=0,css:u,tick:c,easing:f=eme}=e;var h=[];if(s&&n===void 0&&(c&&c(0,1),u)){var d=iM(u(0,1));h.push(d,d)}var m=()=>1-r,g=t.animate(h,{duration:l,fill:"forwards"});return g.onfinish=()=>{g.cancel();var b=n?.t()??1-r;n?.abort();var v=r-b,O=e.duration*Math.abs(v),_=[];if(O>0){var S=!1;if(u)for(var k=Math.ceil(O/16.666666666666668),A=0;A<=k;A+=1){var C=b+v*f(A/k),T=iM(u(C,1-C));_.push(T),S||=T.overflow==="hidden"}S&&(t.style.overflow="hidden"),m=()=>{var P=g.currentTime;return b+v*f(P/O)},c&&K0e(()=>{if(g.playState!=="running")return!1;var P=m();return c(P,1-P),!0})}g=t.animate(_,{duration:O,fill:"forwards"}),g.onfinish=()=>{m=()=>r,c?.(r,1-r),i()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=yr)},deactivate:()=>{i=yr},reset:()=>{r===0&&c?.(1,0)},t:()=>m()}}function tme(t,e,n=e){var r=new WeakSet;x0e(t,"input",async i=>{var s=i?t.defaultValue:t.value;if(s=I5(t)?F5(s):s,n(s),Ir!==null&&r.add(Ir),await TV(),s!==(s=e())){var o=t.selectionStart,a=t.selectionEnd,l=t.value.length;if(t.value=s??"",a!==null){var u=t.value.length;o===a&&a===l&&u>l?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=o,t.selectionEnd=Math.min(a,u))}}}),(qt&&t.defaultValue!==t.value||Os(e)==null&&t.value)&&(n(I5(t)?F5(t.value):t.value),Ir!==null&&r.add(Ir)),j1(()=>{var i=e();if(t===document.activeElement){var s=Ix??Ir;if(r.has(s))return}I5(t)&&i===F5(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function I5(t){var e=t.type;return e==="number"||e==="range"}function F5(t){return t===""?null:+t}class jD{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(e){this.#n=e}observe(e,n){var r=this.#e.get(e)||new Set;return r.add(n),this.#e.set(e,r),this.#r().observe(e,this.#n),()=>{var i=this.#e.get(e);i.delete(n),i.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var n of e){jD.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var nme=new jD({box:"border-box"});function mc(t,e,n){var r=nme.observe(t,()=>n(t[e]));U1(()=>(Os(()=>n(t[e])),r))}function oM(t,e){return t===e||t?.[pc]===e}function Gi(t={},e,n,r){return U1(()=>{var i,s;return j1(()=>{i=s,s=r?.()||[],Os(()=>{t!==n(...s)&&(e(t,...s),i&&oM(n(...i),t)&&e(null,...i))})}),()=>{lh(()=>{s&&oM(n(...s),t)&&e(null,...s)})}}),t}function qD(t=!1){const e=fr,n=e.l.u;if(!n)return;let r=()=>ND(e.s);if(t){let i=0,s={};const o=PO(()=>{let a=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],a=!0);return a&&i++,i});r=()=>x(o)}n.b.length&&Vr(()=>{aM(e,r),Q_(n.b)}),Bs(()=>{const i=Os(()=>n.m.map(Ipe));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Bs(()=>{aM(e,r),Q_(n.a)})}function aM(t,e){if(t.l.s)for(const n of t.l.s)x(n);e()}function lM(t,e){var n=t.$$events?.[e.type],r=TO(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,e)}function VD(t,e,n){if(t==null)return e(void 0),n&&n(void 0),yr;const r=Os(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const Om=[];function UV(t,e){return{subscribe:fo(t,e).subscribe}}function fo(t,e=yr){let n=null;const r=new Set;function i(a){if($D(t,a)&&(t=a,n)){const l=!Om.length;for(const u of r)u[1](),Om.push(u,t);if(l){for(let u=0;u<Om.length;u+=2)Om[u][0](Om[u+1]);Om.length=0}}}function s(a){i(a(t))}function o(a,l=yr){const u=[a,l];return r.add(u),r.size===1&&(n=e(i,s)||yr),a(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function $O(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return UV(n,(o,a)=>{let l=!1;const u=[];let c=0,f=yr;const h=()=>{if(c)return;f();const m=e(r?u[0]:u,o,a);s?o(m):f=typeof m=="function"?m:yr},d=i.map((m,g)=>VD(m,b=>{u[g]=b,c&=~(1<<g),l&&h()},()=>{c|=1<<g}));return l=!0,h(),function(){Q_(d),f(),l=!1}})}function jV(t){let e;return VD(t,n=>e=n)(),e}let mw=!1,SE=Symbol();function hi(t,e,n){const r=n[e]??={store:null,source:Hp(void 0),unsubscribe:yr};if(r.store!==t&&!(SE in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=yr;else{var i=!0;r.unsubscribe=VD(t,s=>{i?r.source.v=s:oe(r.source,s)}),i=!1}return t&&SE in n?jV(t):x(r.source)}function uM(t,e){return t.set(e),e}function Il(){const t={};function e(){Ck(()=>{for(var n in t)t[n].unsubscribe();ED(t,SE,{enumerable:!1,value:!0})})}return[t,e]}function rme(t){var e=mw;try{return mw=!1,[t(),mw]}finally{mw=e}}const ime={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function hr(t,e,n){return new Proxy({props:t,exclude:e},ime)}const sme={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Pm(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let i=t.props[r];Pm(i)&&(i=i());const s=od(i,e);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Pm(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const i=od(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(t,e){if(e===pc||e===PD)return!1;for(let n of t.props)if(Pm(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if(Pm(n)&&(n=n()),!!n){for(const r in n)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(n))e.includes(r)||e.push(r)}return e}};function p0(...t){return new Proxy({props:t},sme)}function dt(t,e,n,r){var i=!Q1||(n&Hpe)!==0,s=(n&Jpe)!==0,o=(n&e0e)!==0,a=r,l=!0,u=()=>(l&&(l=!1,a=o?Os(r):r),a),c;if(s){var f=pc in t||PD in t;c=od(t,e)?.set??(f&&e in t?_=>t[e]=_:void 0)}var h,d=!1;s?[h,d]=rme(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=u(),c&&(i&&jpe(),c(h)));var m;if(i?m=()=>{var _=t[e];return _===void 0?u():(l=!0,_)}:m=()=>{var _=t[e];return _!==void 0&&(a=void 0),_===void 0?a:_},i&&(n&Kpe)===0)return m;if(c){var g=t.$$legacy;return(function(_,S){return arguments.length>0?((!i||!S||g||d)&&c(S?m():_),_):m()})}var b=!1,v=((n&Gpe)!==0?PO:ID)(()=>(b=!1,m()));s&&x(v);var O=Kt;return(function(_,S){if(arguments.length>0){const k=S?x(v):i&&s?Wh(_):_;return oe(v,k),b=!0,a!==void 0&&(a=k),_}return B0&&b||(O.f&zf)!==0?v.v:x(v)})}function ome(t){return new ame(t)}class ame{#e;#t;constructor(e){var n=new Map,r=(s,o)=>{var a=Hp(o,!1,!1);return n.set(s,a),a};const i=new Proxy({...e.props||{},$$events:{}},{get(s,o){return x(n.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===PD?!0:(x(n.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,a){return oe(n.get(o)??r(o,a),a),Reflect.set(s,o,a)}});this.#t=(e.hydrate?z0e:BD)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&Jq(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||ED(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{U0e(this.#t)}}$set(e){this.#t.$set(e)}$on(e,n){this.#e[e]=this.#e[e]||[];const r=(...i)=>n.call(this,...i);return this.#e[e].push(r),()=>{this.#e[e]=this.#e[e].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}function _d(t){fr===null&&wk(),Q1&&fr.l!==null?qV(fr).m.push(t):Bs(()=>{const e=Os(t);if(typeof e=="function")return e})}function Tk(t){fr===null&&wk(),_d(()=>()=>Os(t))}function lme(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function ume(){const t=fr;return t===null&&wk(),(e,n,r)=>{const i=t.s.$$events?.[e];if(i){const s=TO(i)?i.slice():[i],o=lme(e,n,r);for(const a of s)a.call(t.x,o);return!o.defaultPrevented}return!0}}function cme(t){fr===null&&wk(),fr.l===null&&Upe(),qV(fr).a.push(t)}function qV(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const fme="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(fme);c0e();function hme(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+"/?$","i")}}function cM(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const XD=UV(null,function(e){e(cM());const n=()=>{e(cM())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});$O(XD,t=>t.location);$O(XD,t=>t.querystring);const fM=fo(void 0);function dme(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function pme(t,e){He(e,!1);let n=dt(e,"routes",24,()=>({})),r=dt(e,"prefix",8,""),i=dt(e,"restoreScrollState",8,!1);class s{constructor(A,C){if(!C||typeof C!="function"&&(typeof C!="object"||C._sveltesparouter!==!0))throw Error("Invalid component object");if(!A||typeof A=="string"&&(A.length<1||A.charAt(0)!="/"&&A.charAt(0)!="*")||typeof A=="object"&&!(A instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:T,keys:P}=hme(A);this.path=A,typeof C=="object"&&C._sveltesparouter===!0?(this.component=C.component,this.conditions=C.conditions||[],this.userData=C.userData,this.props=C.props||{}):(this.component=()=>Promise.resolve(C),this.conditions=[],this.props={}),this._pattern=T,this._keys=P}match(A){if(r()){if(typeof r()=="string")if(A.startsWith(r()))A=A.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const N=A.match(r());if(N&&N[0])A=A.substr(N[0].length)||"/";else return null}}const C=this._pattern.exec(A);if(C===null)return null;if(this._keys===!1)return C;const T={};let P=0;for(;P<this._keys.length;){try{T[this._keys[P]]=decodeURIComponent(C[P+1]||"")||null}catch{T[this._keys[P]]=null}P++}return T}async checkConditions(A){for(let C=0;C<this.conditions.length;C++)if(!await this.conditions[C](A))return!1;return!0}}const o=[];n()instanceof Map?n().forEach((k,A)=>{o.push(new s(A,k))}):Object.keys(n()).forEach(k=>{o.push(new s(k,n()[k]))});let a=Hp(null),l=Hp(null),u=Hp({});const c=ume();async function f(k,A){await TV(),c(k,A)}let h=null,d=null;i()&&(d=k=>{k.state&&(k.state.__svelte_spa_router_scrollY||k.state.__svelte_spa_router_scrollX)?h=k.state:h=null},window.addEventListener("popstate",d),cme(()=>{dme(h)}));let m=null,g=null;const b=XD.subscribe(async k=>{m=k;let A=0;for(;A<o.length;){const C=o[A].match(k.location);if(!C){A++;continue}const T={route:o[A].path,location:k.location,querystring:k.querystring,userData:o[A].userData,params:C&&typeof C=="object"&&Object.keys(C).length?C:null};if(!await o[A].checkConditions(T)){oe(a,null),g=null,f("conditionsFailed",T);return}f("routeLoading",Object.assign({},T));const P=o[A].component;if(g!=P){P.loading?(oe(a,P.loading),g=P,oe(l,P.loadingParams),oe(u,{}),f("routeLoaded",Object.assign({},T,{component:x(a),name:x(a).name,params:x(l)}))):(oe(a,null),g=null);const N=await P();if(k!=m)return;oe(a,N&&N.default||N),g=P}C&&typeof C=="object"&&Object.keys(C).length?oe(l,C):oe(l,null),oe(u,o[A].props),f("routeLoaded",Object.assign({},T,{component:x(a),name:x(a).name,params:x(l)})).then(()=>{fM.set(x(l))});return}oe(a,null),g=null,fM.set(void 0)});Tk(()=>{b(),d&&window.removeEventListener("popstate",d)}),C0e(()=>ND(i()),()=>{history.scrollRestoration=i()?"manual":"auto"}),A0e(),qD();var v=Bt(),O=Ye(v);{var _=k=>{var A=Bt(),C=Ye(A);th(C,()=>x(a),(T,P)=>{P(T,p0({get params(){return x(l)}},()=>x(u),{$$events:{routeEvent(N){lM.call(this,e,N)}}}))}),X(k,A)},S=k=>{var A=Bt(),C=Ye(A);th(C,()=>x(a),(T,P)=>{P(T,p0(()=>x(u),{$$events:{routeEvent(N){lM.call(this,e,N)}}}))}),X(k,A)};ke(O,k=>{x(l)?k(_):k(S,!1)})}X(t,v),Ke()}async function mme(t,e="gzip"){let n=new CompressionStream(e),i=new Blob([t]).stream().pipeThrough(n),o=await(await new Response(i).blob()).arrayBuffer();return new Uint8Array(o)}async function gme(t,e="gzip"){let n=new DecompressionStream(e),i=new Blob([t]).stream().pipeThrough(n),o=await(await new Response(i).blob()).arrayBuffer();return new Uint8Array(o)}function yme(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const n=e.length%4;return n===2?e+="==":n===3?e+="=":n===1&&(e+="==="),e}function bme(t){let e=t.replace(/\+/g,"-").replace(/\//g,"_");return e=e.replace(/=+$/,""),e}function vme(t){let n="";for(let r=0;r<t.length;r+=32768)n+=String.fromCharCode(...t.subarray(r,r+32768));return bme(btoa(n))}function Ome(t){let e=atob(yme(t)),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function ZD(t,e=1e3){let n;return(...i)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function gv(t,e){if(t===e)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object"||Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(e.hasOwnProperty(n)){if(!gv(t[n],e[n]))return!1}else return!1;return!0}function kE(t){let e;return(...n)=>{let r=t(...n);return e!==void 0&&gv(r,e)?e:(e=r,r)}}function Lh(t,e,...n){try{if(n.every(r=>r!==void 0)){const r=t[e];if(typeof r=="function")return r(...n)}}catch(r){console.error(r)}}const wme=2;function gw(t){return{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,modifiers:{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,meta:t.metaKey}}}function Zn(t,e){let n=e,r,i=!1,s=!1;const o=u=>{let c=gw(u);u.preventDefault(),u.stopPropagation(),xme(),i=!0,r&&(Lh(r,"up"),r=void 0);let f=d=>{let m=gw(d);n.drag&&!r?Math.hypot(c.clientX-m.clientX,c.clientY-m.clientY)>wme&&(r=Lh(n,"drag",c),r&&Lh(r,"move",m)):r&&Lh(r,"move",m)},h=d=>{let m=gw(d);i=!1,window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",h),r?(Lh(r,"up",d),r=void 0):n.click&&Lh(n,"click",m)};window.addEventListener("mousemove",f,{passive:!0}),window.addEventListener("mouseup",h,{passive:!0})},a=u=>{if(!i){n.hover&&(Lh(n,"hover",gw(u)),s=!0);return}},l=u=>{s&&n.hover&&(Lh(n,"hover",null),s=!1)};return t.addEventListener("mousedown",o,{passive:!1}),t.addEventListener("mousemove",a,{passive:!0}),t.addEventListener("mouseleave",l,{passive:!0}),{update:u=>{n=u},destroy:()=>{t.removeEventListener("mousedown",o),t.removeEventListener("mousemove",a),t.removeEventListener("mouseleave",l)}}}function xme(){try{document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur?.()}catch{}}function lg(t,e){if(hM(t)&&hM(e)){let n;for(let r in e)if(e[r]!==t[r])if(e[r]===void 0)n===void 0&&(n={...t}),delete n[r];else{let i=lg(t[r],e[r]);i!==void 0&&(n===void 0&&(n={...t}),n[r]=i)}return n}else return gv(t,e)?void 0:e}function Zg(t,e,n,r){switch(n){case"merge":{let i=lg(t,e);return i!==void 0?r(i):void 0}case"replace":return t!==e?r(e):void 0}}function Mx(t,e,n,r,i){switch(r){case"merge":{let s=lg(t,{[e]:n});return s!==void 0?i(s):void 0}case"replace":if(t[e]!==n){let s={...t};return s[e]=n,i(s)}else return}}function hM(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const dM={};function _me(t,e=!1){let n,r,i=dM;function s(u){n=t(u)?.catch(()=>{}).finally(()=>{if(r){const{event:c}=r;r=null,s(c)}else n=null})||null}function o(u){r={event:u}}function a(u){n?o(u):s(u)}function l(u){i!==u&&requestAnimationFrame(()=>{const c=i;i=dM,a(c)}),i=u}return e?l:a}class Dk{_filterBy;_requestUpdate;_coordinator;_pending;_enabled;_initialized;_request;constructor(e){this._filterBy=e,this._requestUpdate=_me(()=>this.requestQuery(),!0),this._coordinator=null,this._pending=Promise.resolve(),this._enabled=!0,this._initialized=!1,this._request=null}get coordinator(){return this._coordinator}set coordinator(e){this._coordinator=e}get enabled(){return this._enabled}set enabled(e){e=!!e,this._enabled!==e&&(this._enabled=e,e&&(this._initialized?this._request&&this.requestQuery(this._request===!0?void 0:this._request):this.initialize(),this._request=null))}get pending(){return this._pending}get filterBy(){return this._filterBy}get filterStable(){return!0}async prepare(){}query(e){return null}queryPending(){return this}queryResult(e){return this}queryError(e){return this}requestQuery(e){if(this._enabled){const n=e||this.query(this.filterBy?.predicate(this));return this._coordinator.requestQuery(this,n)}else return this._request=e??!0,null}requestUpdate(){this._enabled?this._requestUpdate():this.requestQuery()}initialize(){this._enabled?this._coordinator&&(this._initialized=!0,this._pending=this.prepare().then(()=>this.requestQuery())):this._initialized=!1}destroy(){this._enabled=!1,this.coordinator?.disconnect(this)}update(){return this}}const VV=Uint8Array.of(65,82,82,79,87,49),Pk={V1:0,V4:3,V5:4},Af={NONE:0,Schema:1,DictionaryBatch:2,RecordBatch:3,Tensor:4,SparseTensor:5},Ce={Dictionary:-1,NONE:0,Null:1,Int:2,Float:3,Binary:4,Utf8:5,Bool:6,Decimal:7,Date:8,Time:9,Timestamp:10,Interval:11,List:12,Struct:13,Union:14,FixedSizeBinary:15,FixedSizeList:16,Map:17,Duration:18,LargeBinary:19,LargeUtf8:20,LargeList:21,RunEndEncoded:22,BinaryView:23,Utf8View:24,ListView:25,LargeListView:26},XV={HALF:0,SINGLE:1,DOUBLE:2},W_={DAY:0,MILLISECOND:1},Vo={SECOND:0,MILLISECOND:1,MICROSECOND:2,NANOSECOND:3},ug={YEAR_MONTH:0,DAY_TIME:1,MONTH_DAY_NANO:2},WD={Sparse:0,Dense:1},Sme=Uint8Array,ZV=Uint16Array,kme=Uint32Array,WV=BigUint64Array,YV=Int8Array,Cme=Int16Array,vu=Int32Array,zc=BigInt64Array,Ame=Float32Array,Rk=Float64Array;function Eme(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function Tme(t,e){const n=Math.log2(t)-3;return(e?[YV,Cme,vu,zc]:[Sme,ZV,kme,WV])[n]}function YD(t,e){let n=0,r=t.length;if(r<=2147483648)do{const i=n+r>>>1;t[i]<=e?n=i+1:r=i}while(n<r);else do{const i=Math.trunc((n+r)/2);t[i]<=e?n=i+1:r=i}while(n<r);return n}function GD(t,e,n){if(e(t))return t;throw new Error(n(t))}function Uc(t,e,n){return e=Array.isArray(e)?e:Object.values(e),GD(t,r=>e.includes(r),n??(()=>`${t} must be one of ${e}`))}function GV(t,e){for(const[n,r]of Object.entries(t))if(r===e)return n;return"<Unknown>"}const HD=t=>`Unsupported data type: "${GV(Ce,t)}" (id ${t})`,HV=(t,e,n=!0,r=null)=>({name:t,type:e,nullable:n,metadata:r});function KV(t){return Object.hasOwn(t,"name")&&JV(t.type)}function JV(t){return typeof t?.typeId=="number"}function Sd(t,e="",n=!0){return KV(t)?t:HV(e,GD(t,JV,()=>"Data type expected."),n)}const Dme=(t,e,n=!1,r=-1)=>({typeId:Ce.Dictionary,id:r,dictionary:t,indices:e||tX(),ordered:n}),eX=(t=32,e=!0)=>({typeId:Ce.Int,bitWidth:Uc(t,[8,16,32,64]),signed:e,values:Tme(t,e)}),tX=()=>eX(32),Pme=(t=2)=>({typeId:Ce.Float,precision:Uc(t,XV),values:[ZV,Ame,Rk][t]}),Rme=()=>({typeId:Ce.Binary,offsets:vu}),$me=()=>({typeId:Ce.Utf8,offsets:vu}),Ime=(t,e,n=128)=>({typeId:Ce.Decimal,precision:t,scale:e,bitWidth:Uc(n,[32,64,128,256]),values:n===32?vu:WV}),Fme=t=>({typeId:Ce.Date,unit:Uc(t,W_),values:t===W_.DAY?vu:zc}),Mme=(t=Vo.MILLISECOND)=>{t=Uc(t,Vo);const e=t===Vo.SECOND||t===Vo.MILLISECOND?32:64;return{typeId:Ce.Time,unit:t,bitWidth:e,values:e===32?vu:zc}},Lme=(t=Vo.MILLISECOND,e=null)=>({typeId:Ce.Timestamp,unit:Uc(t,Vo),timezone:e,values:zc}),Nme=(t=ug.MONTH_DAY_NANO)=>({typeId:Ce.Interval,unit:Uc(t,ug),values:t===ug.MONTH_DAY_NANO?void 0:vu}),Qme=t=>({typeId:Ce.List,children:[Sd(t)],offsets:vu}),Bme=t=>({typeId:Ce.Struct,children:Array.isArray(t)&&KV(t[0])?t:Object.entries(t).map(([e,n])=>HV(e,n))}),zme=(t,e,n,r)=>(n??=e.map((i,s)=>s),{typeId:Ce.Union,mode:Uc(t,WD),typeIds:n,typeMap:n.reduce((i,s,o)=>(i[s]=o,i),{}),children:e.map((i,s)=>Sd(i,`_${s}`)),typeIdForValue:r,offsets:vu}),Ume=t=>({typeId:Ce.FixedSizeBinary,stride:t}),jme=(t,e)=>({typeId:Ce.FixedSizeList,stride:e,children:[Sd(t)]}),qme=(t,e)=>({typeId:Ce.Map,keysSorted:t,children:[e],offsets:vu}),Vme=(t=Vo.MILLISECOND)=>({typeId:Ce.Duration,unit:Uc(t,Vo),values:zc}),Xme=()=>({typeId:Ce.LargeBinary,offsets:zc}),Zme=()=>({typeId:Ce.LargeUtf8,offsets:zc}),Wme=t=>({typeId:Ce.LargeList,children:[Sd(t)],offsets:zc}),Yme=(t,e)=>({typeId:Ce.RunEndEncoded,children:[GD(Sd(t,"run_ends"),n=>n.type.typeId===Ce.Int,()=>"Run-ends must have an integer type."),Sd(e,"values")]}),Gme=t=>({typeId:Ce.ListView,children:[Sd(t,"value")],offsets:vu}),Hme=t=>({typeId:Ce.LargeListView,children:[Sd(t,"value")],offsets:zc}),Kme=new Rk(2),Jme=Kme.buffer;new zc(Jme);function kd(t){if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw Error(`BigInt exceeds integer number representation: ${t}`);return Number(t)}function KD(t,e){return Number(t/e)+Number(t%e)/Number(e)}const Zm=t=>BigInt.asUintN(64,t);function ege(t,e){return BigInt.asIntN(64,t[e])}function tge(t,e){const n=e<<1;let r;return BigInt.asIntN(64,t[n+1])<0?(r=Zm(~t[n])|Zm(~t[n+1])<<64n,r=-(r+1n)):r=t[n]|t[n+1]<<64n,r}function nge(t,e){const n=e<<2;let r;return BigInt.asIntN(64,t[n+3])<0?(r=Zm(~t[n])|Zm(~t[n+1])<<64n|Zm(~t[n+2])<<128n|Zm(~t[n+3])<<192n,r=-(r+1n)):r=t[n]|t[n+1]<<64n|t[n+2]<<128n|t[n+3]<<192n,r}const rge=new TextDecoder("utf-8");new TextEncoder;function $k(t){return rge.decode(t)}const yv=4;function nX(t,e){return(t[e>>3]&1<<e%8)!==0}function uh(t,e){const n=e+Jr(t,e),r=n-Jr(t,n),i=al(t,r);return(s,o,a=null)=>{if(s<i){const l=al(t,r+s);if(l)return o(t,n+l)}return a}}function Dp(t,e){return e}function bv(t,e){return!!ige(t,e)}function ige(t,e){return JD(t,e)<<24>>24}function JD(t,e){return t[e]}function al(t,e){return sge(t,e)<<16>>16}function sge(t,e){return t[e]|t[e+1]<<8}function Jr(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}function pM(t,e){return Jr(t,e)>>>0}function cl(t,e){return kd(BigInt.asIntN(64,BigInt(pM(t,e))+(BigInt(pM(t,e+yv))<<32n)))}function Y_(t,e){let n=e+Jr(t,e);const r=Jr(t,n);return n+=yv,$k(t.subarray(n,n+r))}function cd(t,e,n,r){if(!e)return[];const i=e+Jr(t,e);return Array.from({length:Jr(t,i)},(s,o)=>r(t,i+yv+o*n))}const M5=Symbol("rowIndex");function CE(t,e){class n{constructor(s){this[M5]=s}toJSON(){return iX(t,e,this[M5])}}const r=n.prototype;for(let i=0;i<t.length;++i){if(Object.hasOwn(r,t[i]))continue;const s=e[i];Object.defineProperty(r,t[i],{get(){return s.at(this[M5])},enumerable:!0})}return i=>new n(i)}function rX(t,e){return n=>iX(t,e,n)}function iX(t,e,n){const r={};for(let i=0;i<t.length;++i)r[t[i]]=e[i].at(n);return r}function oge(t){return t instanceof yb}class Ik{static ArrayType=null;constructor({length:e,nullCount:n,type:r,validity:i,values:s,offsets:o,sizes:a,children:l}){this.length=e,this.nullCount=n,this.type=r,this.validity=i,this.values=s,this.offsets=o,this.sizes=a,this.children=l,(!n||!this.validity)&&(this.at=u=>this.value(u))}get[Symbol.toStringTag](){return"Batch"}at(e){return this.isValid(e)?this.value(e):null}isValid(e){return nX(this.validity,e)}value(e){return this.values[e]}slice(e,n){const r=n-e,i=Array(r);for(let s=0;s<r;++s)i[s]=this.at(e+s);return i}*[Symbol.iterator](){for(let e=0;e<this.length;++e)yield this.at(e)}}class yb extends Ik{constructor(e){super(e);const{length:n,values:r}=this;this.values=r.subarray(0,n)}slice(e,n){return this.nullCount?super.slice(e,n):this.values.subarray(e,n)}[Symbol.iterator](){return this.nullCount?super[Symbol.iterator]():this.values[Symbol.iterator]()}}class Fk extends Ik{static ArrayType=Rk}class Ai extends Ik{static ArrayType=Array}class age extends Ai{value(e){return null}}class V1 extends Fk{value(e){return kd(this.values[e])}}class lge extends Fk{value(e){const n=this.values[e],r=(n&31744)>>10,i=(n&1023)/1024,s=(-1)**((n&32768)>>15);switch(r){case 31:return s*(i?Number.NaN:1/0);case 0:return s*(i?6103515625e-14*i:0)}return s*2**(r-15)*(1+i)}}class uge extends Ai{value(e){return nX(this.values,e)}}class cge extends Fk{constructor(e){super(e);const{scale:n}=this.type;this.scale=10**n}value(e){return this.values[e]/this.scale}}class sX extends Ik{constructor(e){super(e);const{bitWidth:n,scale:r}=this.type;this.decimal=n===64?ege:n===128?tge:nge,this.scale=10n**BigInt(r)}}class fge extends sX{static ArrayType=Rk;value(e){return KD(this.decimal(this.values,e),this.scale)}}class hge extends sX{static ArrayType=Array;value(e){return this.decimal(this.values,e)}}class mM extends Ai{constructor(e){super(e),this.source=e}value(e){return new Date(this.source.value(e))}}class dge extends Fk{value(e){return 864e5*this.values[e]}}const pge=V1;class mge extends V1{value(e){return super.value(e)*1e3}}const gge=V1;class yge extends V1{value(e){return KD(this.values[e],1000n)}}class bge extends V1{value(e){return KD(this.values[e],1000000n)}}class vge extends Ai{value(e){return this.values.subarray(e<<1,e+1<<1)}}class Oge extends Ai{value(e){const n=this.values,r=e<<4;return Float64Array.of(Jr(n,r),Jr(n,r+4),cl(n,r+8))}}const oX=({values:t,offsets:e},n)=>t.subarray(e[n],e[n+1]),aX=({values:t,offsets:e},n)=>t.subarray(kd(e[n]),kd(e[n+1]));class wge extends Ai{value(e){return oX(this,e)}}class xge extends Ai{value(e){return aX(this,e)}}class _ge extends Ai{value(e){return $k(oX(this,e))}}class Sge extends Ai{value(e){return $k(aX(this,e))}}class kge extends Ai{value(e){const n=this.offsets;return this.children[0].slice(n[e],n[e+1])}}class Cge extends Ai{value(e){const n=this.offsets;return this.children[0].slice(kd(n[e]),kd(n[e+1]))}}class Age extends Ai{value(e){const n=this.offsets[e],r=n+this.sizes[e];return this.children[0].slice(n,r)}}class Ege extends Ai{value(e){const n=this.offsets[e],r=n+this.sizes[e];return this.children[0].slice(kd(n),kd(r))}}class lX extends Ai{constructor(e){super(e),this.stride=this.type.stride}}class Tge extends lX{value(e){const{stride:n,values:r}=this;return r.subarray(e*n,(e+1)*n)}}class Dge extends lX{value(e){const{children:n,stride:r}=this;return n[0].slice(e*r,(e+1)*r)}}function uX({children:t,offsets:e},n){const[r,i]=t[0].children,s=e[n],o=e[n+1],a=[];for(let l=s;l<o;++l)a.push([r.at(l),i.at(l)]);return a}class Pge extends Ai{value(e){return uX(this,e)}}class Rge extends Ai{value(e){return new Map(uX(this,e))}}class cX extends Ai{constructor({typeIds:e,...n}){super(n),this.typeIds=e,this.typeMap=this.type.typeMap}value(e,n=e){const{typeIds:r,children:i,typeMap:s}=this;return i[s[r[e]]].at(n)}}class $ge extends cX{value(e){return super.value(e,this.offsets[e])}}class fX extends Ai{constructor(e,n=rX){super(e),this.names=this.type.children.map(r=>r.name),this.factory=n(this.names,this.children)}value(e){return this.factory(e)}}class Ige extends fX{constructor(e){super(e,CE)}}class Fge extends Ai{value(e){const[{values:n},r]=this.children;return r.at(YD(n,e))}}let Mge=class extends Ai{setDictionary(e){return this.dictionary=e,this.cache=e.cache(),this}value(e){return this.cache[this.key(e)]}key(e){return this.values[e]}};class hX extends Ai{constructor({data:e,...n}){super(n),this.data=e}view(e){const{values:n,data:r}=this,i=e<<4;let s=i+4,o=n;const a=Jr(o,i);return a>12&&(s=Jr(o,i+12),o=r[Jr(o,i+8)]),o.subarray(s,s+a)}}class Lge extends hX{value(e){return this.view(e)}}class Nge extends hX{value(e){return $k(this.view(e))}}function gM(t){let e=[];return{add(n){return e.push(n),this},clear:()=>e=[],done:()=>new Qge(e,t)}}class Qge{constructor(e,n=e[0]?.type){this.type=n,this.length=e.reduce((s,o)=>s+o.length,0),this.nullCount=e.reduce((s,o)=>s+o.nullCount,0),this.data=e;const r=e.length,i=new Int32Array(r+1);if(r===1){const[s]=e;i[1]=s.length,this.at=o=>s.at(o)}else for(let s=0,o=0;s<r;++s)i[s+1]=o+=e[s].length;this.offsets=i}get[Symbol.toStringTag](){return"Column"}[Symbol.iterator](){const e=this.data;return e.length===1?e[0][Symbol.iterator]():Bge(e)}at(e){const{data:n,offsets:r}=this,i=YD(r,e)-1;return n[i]?.at(e-r[i])}get(e){return this.at(e)}toArray(){const{length:e,nullCount:n,data:r}=this,i=!n&&oge(r[0]),s=r.length;if(i&&s===1)return r[0].values;const o=!s||n>0?Array:r[0].constructor.ArrayType??r[0].values.constructor,a=new o(e);return i?zge(a,r):Uge(a,r)}cache(){return this._cache??(this._cache=this.toArray())}}function*Bge(t){for(let e=0;e<t.length;++e){const n=t[e][Symbol.iterator]();for(let r=n.next();!r.done;r=n.next())yield r.value}}function zge(t,e){for(let n=0,r=0;n<e.length;++n){const{values:i}=e[n];t.set(i,r),r+=i.length}return t}function Uge(t,e){let n=-1;for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.length;++s)t[++n]=i.at(s)}return t}let jge=class dX{constructor(e,n,r=!1){const i=e.fields.map(o=>o.name);this.schema=e,this.names=i,this.children=n,this.factory=r?CE:rX;const s=[];this.getFactory=o=>s[o]??(s[o]=this.factory(i,n.map(a=>a.data[o])))}get[Symbol.toStringTag](){return"Table"}get numCols(){return this.names.length}get numRows(){return this.children[0]?.length??0}getChildAt(e){return this.children[e]}getChild(e){const n=this.names.findIndex(r=>r===e);return n>-1?this.children[n]:void 0}selectAt(e,n=[]){const{children:r,factory:i,schema:s}=this,{fields:o}=s;return new dX({...s,fields:e.map((a,l)=>qge(o[a],n[l]))},e.map(a=>r[a]),i===CE)}select(e,n){const r=this.names,i=e.map(s=>r.indexOf(s));return this.selectAt(i,n)}toColumns(){const{children:e,names:n}=this,r={};return n.forEach((i,s)=>r[i]=e[s]?.toArray()??[]),r}toArray(){const{children:e,getFactory:n,numRows:r}=this,i=e[0]?.data??[],s=Array(r);for(let o=0,a=-1;o<i.length;++o){const l=n(o);for(let u=0;u<i[o].length;++u)s[++a]=l(u)}return s}*[Symbol.iterator](){const{children:e,getFactory:n}=this,r=e[0]?.data??[];for(let i=0;i<r.length;++i){const s=n(i);for(let o=0;o<r[i].length;++o)yield s(o)}}at(e){const{children:n,getFactory:r,numRows:i}=this;if(e<0||e>=i)return null;const[{offsets:s}]=n,o=YD(s,e)-1;return r(o)(e-s[o])}get(e){return this.at(e)}};function qge(t,e){return e!=null&&e!==t.name?{...t,name:e}:t}function Vge(t,e={}){const{typeId:n,bitWidth:r,mode:i,precision:s,unit:o}=t,{useBigInt:a,useDate:l,useDecimalInt:u,useMap:c,useProxy:f}=e;switch(n){case Ce.Null:return age;case Ce.Bool:return uge;case Ce.Int:case Ce.Time:case Ce.Duration:return a||r<64?yb:V1;case Ce.Float:return s?yb:lge;case Ce.Date:return yM(o===W_.DAY?dge:pge,l&&mM);case Ce.Timestamp:return yM(o===Vo.SECOND?mge:o===Vo.MILLISECOND?gge:o===Vo.MICROSECOND?yge:bge,l&&mM);case Ce.Decimal:return r===32?u?yb:cge:u?hge:fge;case Ce.Interval:return o===ug.DAY_TIME?vge:o===ug.YEAR_MONTH?yb:Oge;case Ce.FixedSizeBinary:return Tge;case Ce.Utf8:return _ge;case Ce.LargeUtf8:return Sge;case Ce.Binary:return wge;case Ce.LargeBinary:return xge;case Ce.BinaryView:return Lge;case Ce.Utf8View:return Nge;case Ce.List:return kge;case Ce.LargeList:return Cge;case Ce.Map:return c?Rge:Pge;case Ce.ListView:return Age;case Ce.LargeListView:return Ege;case Ce.FixedSizeList:return Dge;case Ce.Struct:return f?Ige:fX;case Ce.RunEndEncoded:return Fge;case Ce.Dictionary:return Mge;case Ce.Union:return i?$ge:cX}throw new Error(HD(n))}function yM(t,e){return e?class extends e{constructor(r){super(new t(r))}}:t}function Xge(t,e){return{offset:cl(t,e),metadataLength:Jr(t,e+8),bodyLength:cl(t,e+16)}}function bM(t,e){return cd(t,e,24,Xge)}function pX(t,e,n){const r=uh(t,e);if(r(10,Dp,0))throw new Error("Record batch compression not implemented");const i=n<Pk.V4?8:0;return{length:r(4,cl,0),nodes:cd(t,r(6,Dp),16,(s,o)=>({length:cl(s,o),nullCount:cl(s,o+8)})),regions:cd(t,r(8,Dp),16+i,(s,o)=>({offset:cl(s,o+i),length:cl(s,o+i+8)})),variadic:cd(t,r(12,Dp),8,cl)}}function Zge(t,e,n){const r=uh(t,e);return{id:r(4,cl,0),data:r(6,(i,s)=>pX(i,s,n)),isDelta:r(8,bv,!1)}}function mX(t,e,n,r){Uc(n,Ce,HD);const i=uh(t,e);switch(n){case Ce.Binary:return Rme();case Ce.Utf8:return $me();case Ce.LargeBinary:return Xme();case Ce.LargeUtf8:return Zme();case Ce.List:return Qme(r[0]);case Ce.ListView:return Gme(r[0]);case Ce.LargeList:return Wme(r[0]);case Ce.LargeListView:return Hme(r[0]);case Ce.Struct:return Bme(r);case Ce.RunEndEncoded:return Yme(r[0],r[1]);case Ce.Int:return eX(i(4,Jr,0),i(6,bv,!1));case Ce.Float:return Pme(i(4,al,XV.HALF));case Ce.Decimal:return Ime(i(4,Jr,0),i(6,Jr,0),i(8,Jr,128));case Ce.Date:return Fme(i(4,al,W_.MILLISECOND));case Ce.Time:return Mme(i(4,al,Vo.MILLISECOND));case Ce.Timestamp:return Lme(i(4,al,Vo.SECOND),i(6,Y_));case Ce.Interval:return Nme(i(4,al,ug.YEAR_MONTH));case Ce.Duration:return Vme(i(4,al,Vo.MILLISECOND));case Ce.FixedSizeBinary:return Ume(i(4,Jr,0));case Ce.FixedSizeList:return jme(r[0],i(4,Jr,0));case Ce.Map:return qme(i(4,bv,!1),r[0]);case Ce.Union:return zme(i(4,al,WD.Sparse),r,cd(t,i(6,Dp),4,Jr))}return{typeId:n}}function eP(t,e){const n=cd(t,e,4,(r,i)=>{const s=uh(r,i);return[s(4,Y_),s(6,Y_)]});return n.length?new Map(n):null}function gX(t,e,n){const r=uh(t,e);return{version:n,endianness:r(4,al,0),fields:r(6,Wge,[]),metadata:r(8,eP)}}function Wge(t,e){return cd(t,e,4,yX)}function yX(t,e){const n=uh(t,e),r=n(8,JD,Ce.NONE),i=n(10,Dp,0),s=n(12,Gge),o=n(14,(l,u)=>Yge(l,u));let a=mX(t,i,r,o);return s&&(s.dictionary=a,a=s),{name:n(4,Y_),type:a,nullable:n(6,bv,!1),metadata:n(16,eP)}}function Yge(t,e){const n=cd(t,e,4,yX);return n.length?n:null}function Gge(t,e){if(!e)return null;const n=uh(t,e);return Dme(null,n(6,Hge,tX()),n(8,bv,!1),n(4,cl,0))}function Hge(t,e){return mX(t,e,Ce.Int)}const Kge=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,Jge=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`,e1e=t=>`Unsupported message type: ${t} (${GV(Af,t)})`;function AE(t,e){let n=Jr(t,e)||0;if(e+=yv,n===-1&&(n=Jr(t,e)||0,e+=yv),n===0)return null;const r=t.subarray(e,e+=n);if(r.byteLength<n)throw new Error(Kge(n,r.byteLength));const i=uh(r,0),s=i(4,al,Pk.V1),o=i(6,JD,Af.NONE),a=i(8,Dp,0),l=i(10,cl,0);let u;if(a){const c=o===Af.Schema?gX:o===Af.DictionaryBatch?Zge:o===Af.RecordBatch?pX:null;if(!c)throw new Error(e1e(o));if(u=c(r,a,s),l>0){const f=t.subarray(e,e+=l);if(f.byteLength<l)throw new Error(Jge(l,f.byteLength));u.body=f}else o!==Af.Schema&&(u.body=new Uint8Array(0))}return{version:s,type:o,index:e,content:u}}function t1e(t){const e=Eme(t)?new Uint8Array(t):t;return e instanceof Uint8Array&&n1e(e)?i1e(e):r1e(e)}function n1e(t){if(!t||t.length<4)return!1;for(let e=0;e<6;++e)if(VV[e]!==t[e])return!1;return!0}function r1e(t){const e=[t].flat();let n;const r=[],i=[];for(const s of e){if(!(s instanceof Uint8Array))throw new Error("IPC data batch was not a Uint8Array.");let o=0;for(;;){const a=AE(s,o);if(a===null)break;if(o=a.index,!!a.content)switch(a.type){case Af.Schema:n||(n=a.content);break;case Af.RecordBatch:r.push(a.content);break;case Af.DictionaryBatch:i.push(a.content);break}}}return{schema:n,dictionaries:i,records:r,metadata:null}}function i1e(t){const e=t.byteLength-(VV.length+4),n=Jr(t,e),r=uh(t,e-n),i=r(4,al,Pk.V1),s=r(8,bM,[]),o=r(10,bM,[]);return{schema:r(6,(a,l)=>gX(a,l,i)),dictionaries:s.map(({offset:a})=>AE(t,a).content),records:o.map(({offset:a})=>AE(t,a).content),metadata:r(12,eP)}}function s1e(t,e){return o1e(t1e(t),e)}function o1e(t,e={}){const{schema:n={fields:[]},dictionaries:r,records:i}=t,{version:s,fields:o}=n,a=new Map,l=l1e(e,s,a),u=new Map;a1e(n,h=>{const d=h.type;d.typeId===Ce.Dictionary&&u.set(d.id,d.dictionary)});const c=new Map;for(const h of r){const{id:d,data:m,isDelta:g,body:b}=h,v=u.get(d),O=EE(v,l({...m,body:b}));if(c.has(d)){const _=c.get(d);g||_.clear(),_.add(O)}else{if(g)throw new Error("Delta update can not be first dictionary batch.");c.set(d,gM(v).add(O))}}c.forEach((h,d)=>a.set(d,h.done()));const f=o.map(h=>gM(h.type));for(const h of i){const d=l(h);o.forEach((m,g)=>f[g].add(EE(m.type,d)))}return new jge(n,f.map(h=>h.done()),e.useProxy)}function a1e(t,e){t.fields.forEach(function n(r){e(r),r.type.dictionary?.children?.forEach(n),r.type.children?.forEach(n)})}function l1e(t,e,n){const r={version:e,options:t,dictionary:i=>n.get(i)};return i=>{const{length:s,nodes:o,regions:a,variadic:l,body:u}=i;let c=-1,f=-1,h=-1;return{...r,length:s,node:()=>o[++c],buffer:d=>{const{length:m,offset:g}=a[++f];return d?new d(u.buffer,u.byteOffset+g,m/d.BYTES_PER_ELEMENT):u.subarray(g,g+m)},variadic:()=>l[++h],visit(d){return d.map(m=>EE(m.type,this))}}}}function EE(t,e){const{typeId:n}=t,{options:r,node:i,buffer:s,variadic:o,version:a}=e,l=Vge(t,r),u={...i(),type:t};if(n===Ce.Null)return new l({...u,nullCount:u.length});switch(n){case Ce.Bool:case Ce.Int:case Ce.Time:case Ce.Duration:case Ce.Float:case Ce.Decimal:case Ce.Date:case Ce.Timestamp:case Ce.Interval:case Ce.FixedSizeBinary:return new l({...u,validity:s(),values:s(t.values)});case Ce.Utf8:case Ce.LargeUtf8:case Ce.Binary:case Ce.LargeBinary:return new l({...u,validity:s(),offsets:s(t.offsets),values:s()});case Ce.BinaryView:case Ce.Utf8View:return new l({...u,validity:s(),values:s(),data:Array.from({length:o()},()=>s())});case Ce.List:case Ce.LargeList:case Ce.Map:return new l({...u,validity:s(),offsets:s(t.offsets),children:e.visit(t.children)});case Ce.ListView:case Ce.LargeListView:return new l({...u,validity:s(),offsets:s(t.offsets),sizes:s(t.offsets),children:e.visit(t.children)});case Ce.FixedSizeList:case Ce.Struct:return new l({...u,validity:s(),children:e.visit(t.children)});case Ce.RunEndEncoded:return new l({...u,children:e.visit(t.children)});case Ce.Dictionary:{const{id:c,indices:f}=t;return new l({...u,validity:s(),values:s(f.values)}).setDictionary(e.dictionary(c))}case Ce.Union:return a<Pk.V5&&s(),new l({...u,typeIds:s(YV),offsets:t.mode===WD.Sparse?null:s(t.offsets),children:e.visit(t.children)});default:throw new Error(HD(n))}}new Uint16Array(new Uint8Array([1,0]).buffer)[0];function G_(t,e={useDate:!0}){return s1e(t,e)}function u1e(t){return new bX(t)}class bX{_uri;_queue;_connected;_request;_ws;_events;constructor({uri:e="ws://localhost:3000/",ipc:n=void 0}={}){this._uri=e,this._queue=[],this._connected=!1,this._request=null,this._ws=null;const r=this;this._events={open(){r._connected=!0,r.next()},close(){for(r._connected=!1,r._request=null,r._ws=null;r._queue.length;)r._queue.shift().reject("Socket closed")},error(i){if(r._request){const{reject:s}=r._request;r._request=null,r.next(),s(i)}else console.error("WebSocket error: ",i)},message(i){const{data:s}=i;if(r._request){const{query:o,resolve:a,reject:l}=r._request;if(r._request=null,r.next(),typeof s=="string"){const u=JSON.parse(s);u.error?l(u.error):a(u)}else if(o.type==="exec")a();else if(o.type==="arrow")a(G_(s,n));else throw new Error(`Unexpected socket data: ${s}`)}else console.log("WebSocket message: ",s)}}}get connected(){return this._connected}init(){this._ws=new WebSocket(this._uri),this._ws.binaryType="arraybuffer";for(const e in this._events)this._ws.addEventListener(e,this._events[e])}enqueue(e,n,r){this._ws==null&&this.init(),this._queue.push({query:e,resolve:n,reject:r}),this._connected&&!this._request&&this.next()}next(){this._queue.length&&(this._request=this._queue.shift(),this._ws.send(JSON.stringify(this._request.query)))}query(e){return new Promise((n,r)=>this.enqueue(e,n,r))}}function cu(t){return t instanceof jc}let vX;function c1e(t){vX=t}class jc{type;constructor(e){this.type=e}clone(){const e=new this.constructor(this.type);for(const n in this)n!=="type"&&(e[n]=this[n]);return e}toString(e=vX){if(!e)throw new Error("No visitor provided and no default visitor set.");return e.toString(this)}}class Ei extends jc{}function OX(t){return t.split(".")}function up(t){return`"${t.replaceAll('"','""')}"`}function L5(t){return t&&f1e(t)?t.slice(1,-1):t}function f1e(t){return t[0]==='"'&&t[t.length-1]==='"'}const Mk="COLUMN_REF",Lk="COLUMN_PARAM",wX="TABLE_REF",xX="LITERAL",h1e="INTERVAL",_X="LIST",SX="UNNEST",tP="ORDER_BY",nP="CAST",rP="CASE",iP="WHEN",kX="COLLATE",sP="UNARY",oP="UNARY_POSTFIX",aP="BINARY",lP="BETWEEN",CX="NOT_BETWEEN",uP="LOGICAL_OPERATOR",cP="IN",fP="FUNCTION",IO="AGGREGATE",Nk="WINDOW",hP="WINDOW_FUNCTION",dP="WINDOW_DEF",AX="WINDOW_FRAME",pP="WINDOW_EXTENT_EXPR",EX="EXPRESSION",Qk="FRAGMENT",mP="VERBATIM",gP="PARAM",yP="WITH_CLAUSE",bP="WINDOW_CLAUSE",vP="SELECT_CLAUSE",OP="FROM_CLAUSE",TX="JOIN_CLAUSE",DX="SAMPLE_CLAUSE",wP="SELECT_QUERY",xP="DESCRIBE_QUERY",_P="SET_OPERATION",PX="SCALAR_SUBQUERY";class RX extends Ei{value;constructor(e){super(xX),this.value=e}}function vM(t){switch(typeof t){case"number":return Number.isFinite(t)?`${t}`:"NULL";case"string":return`'${t.replaceAll("'","''")}'`;case"boolean":return t?"TRUE":"FALSE";default:if(t==null)return"NULL";if(t instanceof Date){const e=+t;if(Number.isNaN(e))return"NULL";const n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate();return e===Date.UTC(n,r,i)?`DATE '${n}-${r+1}-${i}'`:`epoch_ms(${e})`}else return t instanceof RegExp?`'${t.source}'`:`${t}`}}class d1e{toString(e){if(!e)throw new Error("Node is null or undefined");if(typeof e.type!="string")throw new Error(`Node type is not a string: ${typeof e.type}, value: ${e.type}`);if(e.type==="CUSTOM")return e.toString(this);const n=this.getVisitMethod(e.type);if(typeof n=="function")return n.call(this,e);throw new Error(`No visitor method for node type: '${e.type}'`)}getVisitMethod(e){switch(e){case IO:return this.visitAggregate;case lP:return this.visitBetween;case aP:return this.visitBinary;case rP:return this.visitCase;case nP:return this.visitCast;case kX:return this.visitCollate;case Lk:return this.visitColumnParam;case Mk:return this.visitColumnRef;case xP:return this.visitDescribeQuery;case EX:return this.visitExpression;case Qk:return this.visitFragment;case OP:return this.visitFromClause;case fP:return this.visitFunction;case cP:return this.visitIn;case h1e:return this.visitInterval;case TX:return this.visitJoinClause;case _X:return this.visitList;case xX:return this.visitLiteral;case uP:return this.visitLogicalOperator;case CX:return this.visitNotBetween;case tP:return this.visitOrderBy;case gP:return this.visitParam;case DX:return this.visitSampleClause;case PX:return this.visitScalarSubquery;case vP:return this.visitSelectClause;case wP:return this.visitSelectQuery;case _P:return this.visitSetOperation;case wX:return this.visitTableRef;case sP:return this.visitUnary;case oP:return this.visitUnaryPostfix;case SX:return this.visitUnnest;case mP:return this.visitVerbatim;case iP:return this.visitWhen;case Nk:return this.visitWindow;case bP:return this.visitWindowClause;case dP:return this.visitWindowDef;case pP:return this.visitWindowExtentExpr;case AX:return this.visitWindowFrame;case hP:return this.visitWindowFunction;case yP:return this.visitWithClause;default:throw new Error(`Unknown node type: '${e}'`)}}mapToString(e){return e.map(n=>this.toString(n))}}function Cd(t){return typeof t=="string"}function TE(t){return Array.isArray(t)}function SP(t){if(t){const e=t;return typeof e?.addEventListener=="function"&&e.dynamic!==!1&&"value"in e}return!1}class kP extends Ei{param;constructor(e){super(gP),this.param=e}get value(){return this.param.value}}const p1e="PRECEDING",m1e="FOLLOWING",$X="CURRENT ROW",IX="UNBOUNDED";class g1e extends d1e{visitAggregate(e){const{name:n,args:r,isDistinct:i,filter:s,order:o}=e,a=[i?"DISTINCT":"",r?.length?this.mapToString(r).join(", "):n.toLowerCase()==="count"?"*":"",o.length?`ORDER BY ${this.mapToString(o).join(", ")}`:""].filter(u=>u).join(" "),l=s?` FILTER (WHERE ${this.toString(s)})`:"";return`${n}(${a})${l}`}visitBetween(e){return OM(this,e,"BETWEEN")}visitBinary(e){const{left:n,right:r,op:i}=e;return`(${this.toString(n)} ${i} ${this.toString(r)})`}visitCase(e){const{expr:n,_when:r,_else:i}=e;return"CASE "+(n?`${this.toString(n)} `:"")+this.mapToString(r).join(" ")+(i?` ELSE ${this.toString(i)}`:"")+" END"}visitCast(e){const{expr:n,cast:r}=e;return`(${this.toString(n)})::${r}`}visitCollate(e){const{expr:n,collation:r}=e;return`${this.toString(n)} COLLATE ${r}`}visitColumnParam(e){return this.visitColumnRef(e)}visitColumnRef(e){const{column:n,table:r}=e,i=r?`${this.toString(r)}.`:"",s=n==="*"?"*":up(n);return`${i}${s}`}visitDescribeQuery(e){const{query:n}=e;return`DESC ${this.toString(n)}`}visitExpression(e){throw new Error(`Unexpected EXPRESSION node type. Node: ${JSON.stringify(e)}`)}visitFragment(e){const{spans:n}=e;return n.map(r=>typeof r=="string"?r:this.toString(r)).join("")}visitFromClause(e){const{expr:n,alias:r,sample:i}=e,s=qX(n)?`(${this.toString(n)})`:`${this.toString(n)}`;return`${r&&!(H_(n)&&n.table?.join(".")===r)?`${s} AS ${up(r)}`:`${s}`}${i?` TABLESAMPLE ${this.toString(i)}`:""}`}visitFunction(e){const{name:n,args:r}=e;return`${n}(${this.mapToString(r).join(", ")})`}visitIn(e){const{expr:n,values:r}=e;return`(${this.toString(n)} IN (${this.mapToString(r).join(", ")}))`}visitInterval(e){const{steps:n,name:r}=e;return`INTERVAL ${n} ${r}`}visitJoinClause(e){const{left:n,right:r,joinVariant:i,joinType:s,condition:o,using:a,sample:l}=e,u=i==="REGULAR"?"":`${i} `;let c="",f="";i!=="CROSS"&&(c=s!=="INNER"?`${s} `:"",f=o?` ON ${this.toString(o)}`:a?` USING (${this.mapToString(a).join(", ")})`:"");const h=l?` USING SAMPLE ${this.toString(l)}`:"";return`${this.toString(n)} ${u}${c}JOIN ${this.toString(r)}${f}${h}`}visitList(e){const{values:n}=e;return`[${this.mapToString(n).join(", ")}]`}visitLiteral(e){const{value:n}=e;return vM(n)}visitLogicalOperator(e){const{clauses:n,op:r}=e,i=this.mapToString(n);return i.length===0?"":i.length===1?`${i[0]}`:`(${i.join(` ${r} `)})`}visitNotBetween(e){return OM(this,e,"NOT BETWEEN")}visitOrderBy(e){const{expr:n,desc:r,nullsFirst:i}=e,s=r?" DESC":r===!1?" ASC":"",o=i?" NULLS FIRST":i===!1?" NULLS LAST":"";return`${this.toString(n)}${s}${o}`}visitParam(e){const{param:n}=e;return vM(n.value)}visitSampleClause(e){const{size:n,perc:r,method:i,seed:s}=e,o=i?`${i} `:"",a=s!=null?` REPEATABLE (${s})`:"";return`${o}(${n}${r?"%":" ROWS"})${a}`}visitScalarSubquery(e){return`(${this.toString(e.subquery)})`}visitSelectClause(e){const{expr:n,alias:r}=e;return!r||y1e(n,r)?this.toString(n):`${this.toString(n)} AS ${up(r)}`}visitSelectQuery(e){const{_with:n,_select:r,_distinct:i,_from:s,_sample:o,_where:a,_groupby:l,_having:u,_window:c,_qualify:f,_orderby:h,_limitPerc:d,_limit:m,_offset:g}=e,b=[];if(n.length&&b.push(`WITH ${this.mapToString(n).join(", ")}`),b.push(`SELECT${i?" DISTINCT":""} ${this.mapToString(r).join(", ")}`),s.length&&b.push(`FROM ${this.mapToString(s).join(", ")}`),o&&b.push(`USING SAMPLE ${this.toString(o)}`),a.length){const v=this.mapToString(a).filter(O=>O).join(" AND ");v&&b.push(`WHERE ${v}`)}if(l.length&&b.push(`GROUP BY ${this.mapToString(l).join(", ")}`),u.length){const v=this.mapToString(u).filter(O=>O).join(" AND ");v&&b.push(`HAVING ${v}`)}if(c.length&&b.push(`WINDOW ${this.mapToString(c).join(", ")}`),f.length){const v=this.mapToString(f).filter(O=>O).join(" AND ");v&&b.push(`QUALIFY ${v}`)}return h.length&&b.push(`ORDER BY ${this.mapToString(h).join(", ")}`),m&&b.push(`LIMIT ${this.toString(m)}${d?"%":""}`),g!=null&&b.push(`OFFSET ${this.toString(g)}`),b.join(" ")}visitSetOperation(e){const{op:n,queries:r,_with:i,_orderby:s,_limitPerc:o,_limit:a,_offset:l}=e,u=[];return i.length&&u.push(`WITH ${this.mapToString(i).join(", ")}`),u.push(r.join(` ${n} `)),s.length&&u.push(`ORDER BY ${this.mapToString(s).join(", ")}`),a&&u.push(`LIMIT ${this.toString(a)}${o?"%":""}`),l&&u.push(`OFFSET ${this.toString(l)}`),u.join(" ")}visitTableRef(e){const{table:n}=e;return n.map(r=>up(r)).join(".")}visitUnary(e){const{expr:n,op:r}=e;return`(${r} ${this.toString(n)})`}visitUnaryPostfix(e){const{expr:n,op:r}=e;return`(${this.toString(n)} ${r})`}visitUnnest(e){const{expr:n,recursive:r,maxDepth:i}=e,s=[this.toString(n)];return r&&s.push("recursive := true"),i!=null&&i>0&&s.push(`max_depth := ${i}`),`UNNEST(${s.join(", ")})`}visitVerbatim(e){const{value:n}=e;return n}visitWhen(e){const{when:n,then:r}=e;return`WHEN ${this.toString(n)} THEN ${this.toString(r)}`}visitWindow(e){const{func:n,def:r}=e;return`${this.toString(n)} OVER ${this.toString(r)}`}visitWindowClause(e){const{name:n,def:r}=e;return`${up(n)} AS ${this.toString(r)}`}visitWindowDef(e){const{name:n,partition:r,order:i,framedef:s}=e,o=n&&up(n),a=[o,r?.length&&`PARTITION BY ${this.mapToString(r).join(", ")}`,i?.length&&`ORDER BY ${this.mapToString(i).join(", ")}`,s&&this.toString(s)].filter(l=>l);return o&&a.length<2?o:`(${a.join(" ")})`}visitWindowExtentExpr(e){const{scope:n,expr:r}=e;return n===$X?n:`${cu(r)?this.toString(r):r??IX} ${n}`}visitWindowFrame(e){const{frameType:n,exclude:r,extent:i}=e,[s,o]=cu(i)?i.value:i,a=wM(this,s,p1e),l=wM(this,o,m1e);return`${n} BETWEEN ${a} AND ${l}${r?` ${r}`:""}`}visitWindowFunction(e){const{name:n,args:r,ignoreNulls:i,order:s}=e,o=[this.mapToString(r).join(", "),s.length?`ORDER BY ${this.mapToString(s).join(", ")}`:"",i?"IGNORE NULLS":""].filter(a=>a).join(" ");return`${n}(${o})`}visitWithClause(e){const{name:n,query:r,materialized:i}=e,s=i===!0?"MATERIALIZED ":i===!1?"NOT MATERIALIZED ":"";return`${up(n)} AS ${s}(${this.toString(r)})`}}function y1e(t,e){return t instanceof zk&&t.table==null&&t.column===e}function OM(t,e,n){const{extent:r,expr:i}=e;if(!r)return"";const[s,o]=t.mapToString(r);return`(${t.toString(i)} ${n} ${s} AND ${o})`}function wM(t,e,n){const r=cu(e)?t.toString(e):e;return cu(e)&&e.type===pP?r:r!=null&&typeof r!="number"?`${r} ${n}`:r===0?$X:r&&Number.isFinite(r)?`${Math.abs(r)} ${n}`:`${IX} ${n}`}const b1e=new g1e;c1e(b1e);class v1e extends Ei{name;args;constructor(e,n=[]){super(fP),this.name=e,this.args=n}}function Va(t,...e){return new v1e(t,Bk(e).map(jn))}function ws(t,...e){return new Xb(t,Bk(e).map(jn))}function O1e(t,...e){return new Pp(new x1e(t,Bk(e).map(jn)))}function qb(t,e){return t.flat().filter(n=>n!=null).map(n=>e(n))}function Ad(t){return qb(t,jn)}function Bk(t){const e=t.length;let n=e;for(;n>0&&t[n-1]===void 0;--n);return n<e?t.slice(0,n):t}class w1e extends jc{name;def;constructor(e,n){super(bP),this.name=e,this.def=n}}class Pp extends Ei{func;def;constructor(e,n=new FX){super(Nk),this.func=e,this.def=n}over(e){return new Pp(this.func,this.def.over(e))}partitionby(...e){return new Pp(this.func,this.def.partitionby(...e))}orderby(...e){return new Pp(this.func,this.def.orderby(...e))}frame(e){return new Pp(this.func,this.def.frame(e))}}class x1e extends Ei{name;args;ignoreNulls;order;constructor(e,n=[],r=!1,i=[]){super(hP),this.name=e,this.args=n,this.ignoreNulls=r,this.order=Ad([i])}}class FX extends jc{name;partition;order;framedef;constructor(e,n,r,i){super(dP),this.name=e,this.partition=n,this.order=r,this.framedef=i}over(e){return yw(this,{name:e})}partitionby(...e){return yw(this,{partition:Ad(e)})}orderby(...e){return yw(this,{order:Ad(e)})}frame(e){return yw(this,{framedef:e})}}function yw(t,e){return new FX(e.name??t.name,e.partition??t.partition,e.order??t.order,e.framedef??t.framedef)}function CP(t){return t instanceof zk}class zk extends Ei{table;constructor(e,n){super(e),this.table=n}get column(){return""}}class MX extends zk{name;constructor(e,n){super(Mk,n),this.name=e}get column(){return this.name}}class _1e extends zk{param;constructor(e,n){super(Lk,n),this.param=e}get column(){return`${this.param.value}`}}function we(t,e){const n=NX(e);return SP(t)?new _1e(new kP(t),n):new MX(t,n)}class LX extends Ei{value;hint;constructor(e,n){super(mP),this.value=e,this.hint=n}}function Ve(t){return new RX(t)}function S1e(t,e){return new LX(t,e)}function H_(t){return t instanceof AP}class AP extends Ei{table;constructor(e){super(wX),this.table=[e].flat()}get name(){return this.table[this.table.length-1]}}function EP(...t){const e=qb(t,String);return e?.length?new AP(e):void 0}function jn(t){return Cd(t)?C1e(t):Uk(t)}function Vb(t){return Cd(t)?S1e(t):Uk(t)}function Uk(t){return t instanceof Ei?t:SP(t)?new kP(t):Ve(t)}function NX(t){return QX(t)}function k1e(t){return QX(t)}function QX(t){return Cd(t)?A1e(t):TE(t)?EP(t):t}function C1e(t){const e=OX(t);return we(e.pop(),EP(e))}function A1e(t){return EP(OX(t))}class Xb extends Ei{name;args;isDistinct;filter;order;constructor(e,n,r=!1,i=null,s=[]){super(IO),this.name=e,this.args=n,this.isDistinct=r,this.filter=i,this.order=Ad([s])}distinct(e=!0){return new Xb(this.name,this.args,e,this.filter,this.order)}where(e){return Cd(e)&&(e=Vb(e)),new Xb(this.name,this.args,this.isDistinct,e,this.order)}argOrder(e){return new Xb(this.name,this.args,this.isDistinct,this.filter,e)}window(){return new Pp(this)}partitionby(...e){return this.window().partitionby(...e)}orderby(...e){return this.window().orderby(...e)}frame(e){return this.window().frame(e)}}const E1e=["any_value","approx_count_distinct","approx_quantile","arbitrary","arg_max","arg_max_null","arg_min","arg_min_null","array_agg","avg","bit_and","bit_or","bit_xor","bitstring_agg","bool_and","bool_or","corr","count","count_star","covar_pop","covar_samp","entropy","favg","first","fsum","geomean","kurtosis_pop","kurtosis","last","mad","max","max_by","median","min","min_by","mode","product","quantile","quantile_cont","quantile_disc","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_sxx","regr_sxy","regr_syy","regr_slope","reservoir_quantile","skewness","stddev","stddev_pop","stddev_samp","string_agg","sum","variance","var_pop","var_samp"];class T1e extends Ei{expr;extent;constructor(e,n,r){super(e),this.expr=n,this.extent=r}toSQL(e){const{extent:n,expr:r}=this;return n?`(${r} ${e} ${n[0]} AND ${n[1]})`:""}}class D1e extends T1e{constructor(e,n){super(lP,e,n)}}class P1e extends Ei{op;left;right;constructor(e,n,r){super(aP),this.op=e,this.left=n,this.right=r}}class vv extends Ei{expr;_when;_else;constructor(e=void 0,n=[],r=void 0){super(rP),this.expr=e,this._when=n,this._else=r}when(e,n){return new vv(this.expr,this._when.concat(new BX(jn(e),jn(n))),this._else)}else(e){return new vv(this.expr,this._when,jn(e))}}class BX extends jc{when;then;constructor(e,n){super(iP),this.when=e,this.then=n}}class R1e extends Ei{expr;cast;constructor(e,n){super(nP),this.expr=e,this.cast=n}}class $1e extends Ei{spans;constructor(e){super(Qk),this.spans=e}}class zX extends jc{}class Ov extends zX{expr;alias;sample;constructor(e,n,r){super(OP),this.expr=e,this.alias=n,this.sample=r}as(e){return new Ov(this.expr,e,this.sample)}}class I1e extends Ei{expr;values;constructor(e,n){super(cP),this.expr=e,this.values=n}}class F1e extends Ei{values;constructor(e){super(_X),this.values=e}}class UX extends Ei{op;clauses;constructor(e,n){super(uP),this.op=e,this.clauses=n}}class M1e extends UX{constructor(e){super("AND",e)}}class L1e extends UX{constructor(e){super("OR",e)}}class jX extends Ei{expr;desc;nullsFirst;constructor(e,n,r){super(tP),this.expr=e,this.desc=n,this.nullsFirst=r}}class N1e extends jc{size;perc;method;seed;constructor(e,n=!1,r,i){super(DX),this.size=e,this.perc=n,this.method=r,this.seed=i}}class Q1e extends jc{expr;alias;constructor(e,n){super(vP),this.expr=e,this.alias=n}}class xM extends jc{name;query;materialized;constructor(e,n,r=null){super(yP),this.name=e,this.query=n,this.materialized=r}}function qX(t){return t instanceof at}function jk(t){return t instanceof Wg}function B1e(t){return t instanceof qk}class at extends Ei{static with(...e){return new z1e(...e)}static select(...e){return new Wg().select(...e)}static from(...e){return new Wg().from(...e)}static union(...e){return new zu("UNION",e.flat())}static unionByName(...e){return new zu("UNION BY NAME",e.flat())}static unionAll(...e){return new zu("UNION ALL",e.flat())}static unionAllByName(...e){return new zu("UNION ALL BY NAME",e.flat())}static intersect(...e){return new zu("INTERSECT",e.flat())}static intersectAll(...e){return new zu("INTERSECT ALL",e.flat())}static except(...e){return new zu("EXCEPT",e.flat())}static exceptAll(...e){return new zu("EXCEPT ALL",e.flat())}static describe(e){return new qk(e)}_with=[];_orderby=[];_limitPerc=!1;_limit;_offset;cteFor=null;constructor(e){super(e)}get subqueries(){return[]}clone(){return this}setCteFor(e){this.cteFor=e}with(...e){const n=[],r=(i,s)=>{const o=s.clone();o.setCteFor(this),n.push(new xM(i,o))};return e.flat().forEach(i=>{if(i instanceof xM)n.push(i);else if(i!=null)for(const s in i)r(s,i[s])}),this._with=this._with.concat(n),this}orderby(...e){return this._orderby=this._orderby.concat(Ad(e)),this}limitPercent(e){return this._limitPerc=!0,this._limit=jn(e),this}limit(e){return this._limitPerc=!1,this._limit=jn(e),this}offset(e){return this._offset=jn(e),this}}class Wg extends at{_select=[];_from=[];_where=[];_sample;_groupby=[];_having=[];_window=[];_qualify=[];_distinct=!1;constructor(){super(wP)}get subqueries(){const e=this.cteFor||this,r=(e instanceof Wg?e._with:[]).reduce((s,o)=>(s[o.name]=o.query,s),{}),i=[];return this._from.forEach(s=>{if(s instanceof Ov){const{expr:o}=s;if(qX(o))i.push(o);else if(H_(o)){const a=r[o.name];a&&i.push(a)}}}),i}clone(){return Object.assign(new Wg,this)}select(...e){const n=new Set,r=[],i=(s,o)=>{const a=L5(o);n.add(a),s&&r.push(new Q1e(jn(s),a))};return e.flat().forEach(s=>{if(s!=null)if(Cd(s))i(s,s);else if(CP(s))i(s,s.column);else if(TE(s))i(s[1],s[0]);else if(cu(s))i(s,`${s}`);else for(const o in s)i(s[o],o)}),this._select=this._select.filter(s=>!n.has(s.alias)).concat(r),this}setSelect(...e){return this._select=[],this.select(...e)}distinct(e=!0){return this._distinct=!!e,this}from(...e){const n=[],r=(i,s)=>{n.push(new Ov(k1e(i),L5(s)))};return e.flat().forEach(i=>{if(i!=null)if(i instanceof zX)n.push(i);else if(Cd(i))r(i,i);else if(H_(i))r(i,i.name);else if(cu(i))r(i);else if(TE(i))r(i[1],i[0]);else for(const s in i)r(i[s],s)}),this._from=this._from.concat(n),this}setFrom(...e){return this._from=[],this.from(...e)}sample(e,n,r){let i;if(typeof e=="number"){const s=e>0&&e<1,o=s?e*100:Math.floor(e);i=new N1e(o,s,n,r)}else i=e;return this._sample=i??void 0,this}where(...e){return this._where=this._where.concat(qb(e,Vb)),this}setWhere(...e){return this._where=[],this.where(...e)}groupby(...e){return this._groupby=this._groupby.concat(Ad(e)),this}setGroupby(...e){return this._groupby=[],this.groupby(...e)}having(...e){return this._having=this._having.concat(qb(e,Vb)),this}window(...e){const n=[];return e.flat().forEach(r=>{if(r!=null)for(const i in r)n.push(new w1e(L5(i),r[i]))}),this._window=this._window.concat(n),this}qualify(...e){return this._qualify=this._qualify.concat(qb(e,Vb)),this}}class qk extends jc{query;constructor(e){super(xP),this.query=e}clone(){return new qk(this.query.clone())}}class zu extends at{op;queries;constructor(e,n){super(_P),this.op=e,this.queries=n}setCteFor(e){super.setCteFor(e);const{queries:n,cteFor:r}=this;r&&n.forEach(i=>i.setCteFor(r))}get subqueries(){return this.queries}clone(){const{op:e,queries:n,...r}=this;return Object.assign(new zu(e,n),r)}}class z1e{_with;constructor(...e){this._with=e}select(...e){return at.select(...e).with(...this._with)}from(...e){return at.from(...e).with(...this._with)}union(...e){return at.union(...e).with(...this._with)}unionByName(...e){return at.unionByName(...e).with(...this._with)}unionAll(...e){return at.unionAll(...e).with(...this._with)}unionAllByName(...e){return at.unionAllByName(...e).with(...this._with)}intersect(...e){return at.intersect(...e).with(...this._with)}intersectAll(...e){return at.intersectAll(...e).with(...this._with)}except(...e){return at.except(...e).with(...this._with)}exceptAll(...e){return at.exceptAll(...e).with(...this._with)}}class VX extends Ei{op;expr;constructor(e,n,r){super(e),this.op=n,this.expr=r}}class U1e extends VX{constructor(e,n){super(sP,e,n)}}class j1e extends VX{constructor(e,n){super(oP,e,n)}}function q1e(t,e){return ws("arg_max",t,e)}function V1e(t,e){return ws("arg_min",t,e)}function K_(t){return ws("avg",t)}function ei(t){return ws("count",t)}function FO(t){return ws("max",t)}function TP(t){return ws("median",t)}function Yg(t){return ws("min",t)}function X1e(t){return ws("product",t)}function Z1e(t,e){return ws("quantile",t,e)}function W1e(t,e){return ws("regr_avgx",t,e)}function Y1e(t,e){return ws("regr_avgy",t,e)}function G1e(t,e){return ws("regr_count",t,e)}function H1e(t){return ws("stddev",t)}function K1e(t){return ws("stddev_pop",t)}function di(t){return ws("sum",t)}function J1e(t){return ws("var_samp",t)}function eye(t){return ws("var_pop",t)}function Rp(t,e,n){return t?new vv(void 0,[new BX(jn(t),jn(e))],jn(n)):new vv}function Ar(t,e){return new R1e(jn(t),e)}function tye(t){return Ar(t,"INTEGER")}function _M(t){return Ar(t,"DOUBLE")}function nye(t){return Va("epoch_ms",t)}function rye(t){return new F1e(Bk(t).map(Uk))}function iye(t){return Array.isArray(t)?rye(t):jn(t)}function SM(t,e){return Va("list_contains",iye(t),Uk(e))}function fd(t){return Va("isfinite",t)}function DP(t){return Va("exp",t)}function XX(t){return Va("log",t)}function cg(t){return Va("ln",t)}function m0(t){return Va("sign",t)}function Gg(t){return Va("abs",t)}function J_(t){return Va("sqrt",t)}function sye(t){return Va("ceil",t)}function eS(t){return Va("floor",t)}function oye(t,e){return Va("round",t,e)}function aye(t,e){return new U1e(t,jn(e))}function ZX(t,e){return new j1e(t,jn(e))}function Ou(t,e,n){return new P1e(t,jn(e),jn(n))}function Go(...t){return new M1e(Ad(t))}function Ol(...t){return new L1e(Ad(t))}function Hg(t){return aye("NOT",t)}function gc(t){return ZX("IS NULL",t)}function g0(t){return ZX("IS NOT NULL",t)}function PP(t,e){return Ou("+",t,e)}function Ii(t,e){return Ou("-",t,e)}function Si(t,e){return Ou("*",t,e)}function ls(t,e){return Ou("/",t,e)}function lye(t,e){return Ou("%",t,e)}function Al(t,e){return Ou("**",t,e)}function Ta(t,e){return Ou("=",t,e)}function N5(t,e){return Ou("<",t,e)}function Vk(t,e){return Ou(">",t,e)}function kM(t,e){return Ou("<=",t,e)}function RP(t,e){return Ou("IS NOT DISTINCT FROM",t,e)}function If(t,e){return new D1e(jn(t),e?.map(jn))}function y0(t,e){return new I1e(jn(t),e.map(jn))}function Ny(t,e){return new jX(jn(t),!1,e)}function fg(t,e){return new jX(jn(t),!0,e)}function pt(t,...e){return new $1e(uye(t,e))}function uye(t,e){const n=[t[0]],r=e.length;for(let i=0,s=0;i<r;){const o=e[i];cu(o)?n[++s]=o:SP(o)?n[++s]=new kP(o):n[s]+=Cd(o)?o:`${Ve(o)}`;const a=t[++i];cu(n[s])?n[++s]=a:n[s]+=a}return n.filter(i=>i).map(i=>Cd(i)?new LX(i):i)}function WX(...t){return Va("coalesce",...t)}function cye(){return O1e("row_number")}const YX={[IO]:["args","order","filter"],[lP]:["expr","extent"],[aP]:["left","right"],[rP]:["expr","_when","_else"],[nP]:["expr"],[kX]:["expr"],[Lk]:["param","table"],[Mk]:["table"],[xP]:["query"],[EX]:["node"],[Qk]:["spans"],[OP]:["expr"],[fP]:["args"],[cP]:["expr","values"],[TX]:["left","right","on","using","sample"],[uP]:["clauses"],[CX]:["expr","extent"],[tP]:["expr"],[gP]:["value"],[PX]:["subquery"],[vP]:["expr"],[wP]:["_with","_select","_from","_where","_sample","_groupby","_having","_window","_qualify","_orderby"],[_P]:["queries","_orderby"],[sP]:["expr"],[oP]:["expr"],[SX]:["expr"],[iP]:["when","then"],[Nk]:["func","def"],[bP]:["def"],[dP]:["partition","order","framedef"],[pP]:["expr"],[AX]:["extent"],[hP]:["args"],[yP]:["query"]};function DE(t,e){if(e.has(t))return e.get(t);if(cu(t)){const n=YX[t.type],r=n?.length??0;if(r>0){t=t.clone();for(let i=0;i<r;++i){const s=n[i],o=t[s];if(Array.isArray(o)){const a=t[s]=o.slice(),l=o.length;for(let u=0;u<l;++u)a[u]=DE(o[u],e)}else o&&(t[s]=DE(o,e))}}}return t}function wv(t,e){if(!cu(t))return;const n=e(t);if(n)return n;const r=YX[t.type],i=r?.length??0;for(let s=0;s<i;++s){const o=t[r[s]];if(Array.isArray(o)){const a=o.length;for(let l=0;l<a;++l)if(o[l]&&Number(wv(o[l],e))<0)return n}else if(o&&Number(wv(o,e))<0)return-1}}const fye=new RegExp(`^(${E1e.join("|")})$`),hye=/(\\'|\\"|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\w+\()/g;function dye(t){return t.split(hye).some(e=>e.endsWith("(")&&fye.test(e.slice(0,-1)))}function Xk(t){let e=0;return wv(t,n=>{switch(n.type){case Nk:return-1;case IO:return e|=1,-1;case Qk:case mP:{let r=`${n}`.toLowerCase();const i=r.indexOf("(select ");return i>=0&&(r=r.slice(0,i)),r.includes(") over ")?-1:dye(r)?(e|=2,-1):1}}}),e}function pye(t){const e=new Set;return wv(t,n=>{n.type===IO&&e.add(n)}),Array.from(e)}function GX(t){const e={};return wv(t,n=>{(n.type===Mk||n.type===Lk)&&(e[`${n}`]=n)}),Object.values(e)}function mye(t,e,{replace:n=!1,temp:r=!1,view:i=!1}={}){return"CREATE"+(n?" OR REPLACE ":" ")+(r?"TEMP ":"")+(i?"VIEW":"TABLE")+(n?" ":" IF NOT EXISTS ")+t+" AS "+e}function Lx(t){return t}function CM(){return{apply:Lx,invert:Lx,sqlApply:jn,sqlInvert:Lx}}function gye({base:t=null}={}){if(t==null||t===Math.E)return{apply:Math.log,invert:Math.exp,sqlApply:e=>cg(e),sqlInvert:e=>DP(e)};if(t===10)return{apply:Math.log10,invert:e=>Math.pow(10,e),sqlApply:e=>XX(e),sqlInvert:e=>Al(10,e)};{const e=+t;return{apply:n=>Math.log(n)/Math.log(e),invert:n=>Math.pow(e,n),sqlApply:n=>ls(cg(n),cg(e)),sqlInvert:n=>Al(e,n)}}}function yye({constant:t=1}={}){const e=+t;return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n)),invert:n=>Math.sign(n)*Math.exp(Math.abs(n)-e),sqlApply:n=>(n=jn(n),Si(m0(n),cg(PP(e,Gg(n))))),sqlInvert:n=>Si(m0(n),Ii(DP(Gg(n)),e))}}function bye(){return{apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*t*t,sqlApply:t=>(t=jn(t),Si(m0(t),J_(Gg(t)))),sqlInvert:t=>Si(m0(t),Al(t,2))}}function vye({exponent:t=1}={}){const e=+t;return{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),e),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/e),sqlApply:n=>(n=jn(n),Si(m0(n),Al(Gg(n),e))),sqlInvert:n=>Si(m0(n),Al(Gg(n),ls(1,e)))}}function AM(){return{apply:t=>Number(t),invert:t=>new Date(t),sqlApply:t=>t instanceof Date?Ve(+t):xye(t)?Ve(Number(t.value)):nye(t),sqlInvert:Lx}}const Oye={identity:CM,linear:CM,log:gye,symlog:yye,sqrt:bye,pow:vye,time:AM,utc:AM};function wye(t){const e=Oye[t.type];if(!e)throw new Error(`Unrecognized scale type: ${t.type}`);return{...t,...e(t)}}function xye(t){return t instanceof RX&&t.value instanceof Date}function HX(t){let e=2166136261;for(let n=0,r=t.length;n<r;++n){const i=t.charCodeAt(n),s=i&65280;s&&(e=EM(e^s>>8)),e=EM(e^i&255)}return _ye(e)>>>0}function EM(t){return t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}function _ye(t){return t+=t<<13,t^=t>>>7,t+=t<<3,t^=t>>>17,t+=t<<5,t&4294967295}function Sye(t,e,n){switch(t.name){case"count":case"count_star":return kye(e,t);case"sum":return JX(e,t);case"avg":return Cye(e,t);case"geomean":return Aye(e,t);case"arg_max":return Eye(e,t);case"arg_min":return Tye(e,t);case"variance":case"var_samp":return bw(e,t,n);case"var_pop":return bw(e,t,n,!1);case"stddev":case"stddev_samp":return J_(bw(e,t,n));case"stddev_pop":return J_(bw(e,t,n,!1));case"covar_samp":return Nx(e,t,n);case"covar_pop":return Nx(e,t,n,!1);case"corr":return TM(e,t,n);case"regr_count":return X1(e,t).expr;case"regr_avgx":return tZ(e,t);case"regr_avgy":return nZ(e,t);case"regr_syy":return RE(e,0,t,n);case"regr_sxx":return RE(e,1,t,n);case"regr_sxy":return Nx(e,t,n,null);case"regr_slope":return rZ(e,t,n);case"regr_intercept":return Dye(e,t,n);case"regr_r2":return Al(TM(e,t,n),2);case"max":case"min":case"bit_and":case"bit_or":case"bit_xor":case"bool_and":case"bool_or":case"product":{const r=KX(t);return e[r]=t,pt`${t.name}("${r}")`}default:return null}}function KX(t){return"pre_"+HX(`${t}`).toString(16)}function zs(t,e,n){const r=n?.filter;r&&(e=e.filter?e.where(Go(r,e.filter)):e.where(r));const i=KX(e);return t[i]=e,i}function $P(t,e){const n=zs(t,ei(e.args[0]),e);return{expr:WX(di(n),0),name:n}}function kye(t,e){return WX(JX(t,e),0)}function JX(t,e){return di(zs(t,e))}function Cye(t,e){const n=zs(t,e),{expr:r,name:i}=$P(t,e);return ls(di(Si(n,i)),r)}function Aye(t,e){const n=e.args[0],r=zs(t,di(cg(n)),e),{expr:i}=$P(t,e);return DP(ls(di(r),i))}function Eye(t,e){const n=zs(t,e),r=zs(t,FO(e.args[1]),e);return q1e(n,r)}function Tye(t,e){const n=zs(t,e),r=zs(t,Yg(e.args[1]),e);return V1e(n,r)}function bw(t,e,n,r=!0){const i=e.args[0],{expr:s}=$P(t,e),o=Ii(i,n(i)),a=zs(t,di(Al(o,2)),e),l=zs(t,di(o),e),u=r?Ii(s,1):s;return ls(Ii(di(a),ls(Al(di(l),2),s)),u)}function Nx(t,e,n,r=!0){const{expr:i}=X1(t,e),s=eZ(t,e,n),o=xv(t,1,e,n),a=xv(t,0,e,n),l=Ii(s,ls(Si(o,a),i));return r===null?l:r?ls(l,Ii(i,1)):ls(l,i)}function TM(t,e,n){const{expr:r}=X1(t,e),i=eZ(t,e,n),s=PE(t,1,e,n),o=PE(t,0,e,n),a=xv(t,1,e,n),l=xv(t,0,e,n),u=Ii(s,ls(Al(a,2),r)),c=Ii(o,ls(Al(l,2),r));return ls(Ii(i,ls(Si(a,l),r)),J_(Si(u,c)))}function X1(t,e){const[n,r]=e.args,i=zs(t,G1e(n,r),e);return{expr:di(i),name:i}}function xv(t,e,n,r){const i=n.args,s=i[e],o=i[1-e],a=di(Ii(s,r(s))).where(g0(o));return di(zs(t,a,n))}function PE(t,e,n,r){const i=n.args,s=i[e],o=i[1-e],a=di(Al(Ii(s,r(s)),2)).where(g0(o));return di(zs(t,a,n))}function eZ(t,e,n){const[r,i]=e.args,s=di(Si(Ii(i,n(i)),Ii(r,n(r))));return di(zs(t,s,e))}function tZ(t,e){const[n,r]=e.args,{expr:i,name:s}=X1(t,e),o=zs(t,W1e(n,r),e);return ls(di(Si(o,s)),i)}function nZ(t,e){const[n,r]=e.args,{expr:i,name:s}=X1(t,e),o=zs(t,Y1e(n,r),e);return ls(di(Si(o,s)),i)}function RE(t,e,n,r){const{expr:i}=X1(t,n),s=xv(t,e,n,r),o=PE(t,e,n,r);return Ii(o,ls(Al(s,2),i))}function rZ(t,e,n){const r=Nx(t,e,n,null),i=RE(t,1,e,n);return ls(r,i)}function Dye(t,e,n){const r=tZ(t,e),i=nZ(t,e),s=rZ(t,e,n);return Ii(i,Si(s,r))}function Pye(t){if(!t.filterStable)return null;const e=t.query();if(!jk(e))return null;const n=tS(e,l=>{const u=l._from[0],c=u instanceof Ov&&u.expr;return H_(c)?c.name:c});if(typeof n!="string")return null;const r=new Map,i={},s={},o=[],a=l=>{const u=l.column,c=tS(e,f=>f._select.find(h=>h.alias===u)?.expr);return pt`(SELECT avg(${c??l}) FROM "${n}")`};for(const{alias:l,expr:u}of e._select){if(Xk(u)>1)return null;const c=pye(u);if(c.length===0)o.push(l),i[l]=u;else{for(const f of c){if(f.isDistinct)return null;const h=Sye(f,i,a);if(!h)return null;r.set(f,h)}s[l]=DE(u,r)}}return r.size?{group:o,preagg:i,output:s}:null}function tS(t,e){const n=t.subqueries;if(jk(t)&&n.length===0)return e(t);const r=tS(n[0],e);for(let i=1;i<n.length;++i){const s=tS(n[i],e);if(s!==void 0&&s!==r)return NaN}return r}const Rye={skip:!0,result:null};class $ye{entries;active;mc;_schema;_enabled;constructor(e,{schema:n="mosaic",enabled:r=!0}={}){this.entries=new Map,this.active=null,this.mc=e,this._schema=n,this._enabled=r}set enabled(e){this._enabled!==e&&(e||this.clear(),this._enabled=e)}get enabled(){return this._enabled}set schema(e){this._schema!==e&&(this.clear(),this._schema=e)}get schema(){return this._schema}dropSchema(){return this.clear(),this.mc.exec(`DROP SCHEMA IF EXISTS "${this.schema}" CASCADE`)}clear(){this.entries.clear(),this.active=null}request(e,n,r){if(!this.enabled||r==null)return null;const{entries:i,mc:s,schema:o}=this,{source:a}=r;if(!a||this.active&&(this.active.source!==a&&this.clear(),this.active?.source===null))return null;let{active:l}=this;if(!l&&(r.predicate==null||(this.active=l=Iye(r),l.source===null)))return null;if(i.has(e))return i.get(e);const u=Pye(e);let c;if(!u)c=null;else if(n.skip(e,r))c=Rye;else{const f=n.remove(a).predicate(e);c=Lye(e.query(f),l,u,o),c.result=s.exec([`CREATE SCHEMA IF NOT EXISTS ${o}`,mye(c.table,c.create,{temp:!1})]),c.result.catch(h=>s.logger().error(h))}return i.set(e,c),c}}function Iye(t){const{source:e,meta:n}=t,r=t.predicate,i=GX(r).map(a=>a.column);let s,o;if(!n||!i)return{source:null,columns:o,predicate:s};switch(n.type){case"point":s=a=>a,o=Object.fromEntries(i.map(a=>[`${a}`,jn(a)]));break;case"interval":{const{scales:a,bin:l,pixelSize:u=1}=n;if(!a)break;const c=a.map(f=>Mye(f,u,l));c.some(f=>!f)||(c.length===1?(s=f=>f?If("active0",f.extent?.map(c[0])):[],o={active0:c[0](r.expr)}):(s=f=>f?Go(f.clauses.map((h,d)=>If(`active${d}`,h.extent?.map(c[d])))):[],o=Object.fromEntries(r.clauses.map((f,h)=>[`active${h}`,c[h](f.expr)]))))}}return{source:o?e:null,columns:o,predicate:s}}const Fye={ceil:sye,round:oye};function Mye(t,e,n){const{type:r,domain:i,range:s,apply:o,sqlApply:a}=wye(t);if(!o)return;const l=Fye[`${n}`.toLowerCase()]||eS,u=i.map(g=>Number(g)),c=o(Math.min(...u)),f=o(Math.max(...u)),h=(r==="identity"?1:Math.abs(s[1]-s[0])/(f-c))/e,d=h===1?g=>g:g=>Si(_M(h),g),m=c===0?g=>g:g=>Ii(g,_M(c));return g=>tye(l(d(m(a(g)))))}function Lye(t,e,n,r){const{group:i,output:s,preagg:o}=n,{columns:a}=e,l=t.setSelect({...o,...a}).groupby(Object.keys(a)),[u]=l.subqueries;if(u){const b=Object.values(a).flatMap(v=>GX(v).map(O=>O.column));Nye(u,b)}const c=l._having,f=l._orderby;l._having=[],l._orderby=[];const h=l.toString(),d=(HX(h)>>>0).toString(16),m=`${r}.preagg_${d}`,g=at.select(i,s).from(m).groupby(i).having(c).orderby(f);return new Bye({table:m,create:h,active:e,select:g})}function Nye(t,e){const n=new Set,r=i=>{if(!n.has(i)){if(n.add(i),jk(i)&&i._from.length&&(i.select(e),Qye(i))){const s=new Set(i._groupby.flatMap(o=>o instanceof MX?[o.name]:[]));i.groupby(e.filter(o=>!s.has(o)))}i.subqueries.forEach(r)}};r(t)}function Qye(t){return t._groupby.length>0||t._select.some(e=>Xk(e))}class Bye{table;create;result;active;select;skip;constructor({table:e,create:n,active:r,select:i}){this.table=e,this.create=n,this.result=null,this.active=r,this.select=i,this.skip=!1}query(e){return this.select.clone().where(this.active.predicate(e))}}function $E(){return{debug(){},info(){},log(){},warn(){},error(){},group(){},groupCollapsed(){},groupEnd(){}}}const $p=Object.freeze({pending:Symbol("pending"),ready:Symbol("ready"),error:Symbol("error"),done:Symbol("done")});class IP extends Promise{_resolve;_reject;_state;_value;constructor(){let e,n;super((r,i)=>{e=r,n=i}),this._resolve=e,this._reject=n,this._state=$p.pending,this._value=void 0}fulfill(e){if(this._value!==void 0){if(e!==void 0)throw Error("Promise is ready and fulfill has a provided value");this._resolve(this._value)}else{if(e===void 0)throw Error("Promise is neither ready nor has provided value");this._resolve(e)}return this._state=$p.done,this}ready(e){return this._state=$p.ready,this._value=e,this}reject(e){return this._state=$p.error,this._reject(e),this}get state(){return this._state}}IP.prototype.constructor=Promise;function zye(t){return typeof requestAnimationFrame<"u"?requestAnimationFrame(t):typeof setImmediate<"u"?setImmediate(t):setTimeout(t)}function Uye(t,e){let n=[],r=0;function i(){const s=jye(n,e);n=[],r=0;for(const o of s)Vye(o,t),Wye(o,e)}return{add(s,o){s.request.type==="arrow"?(r||=zye(()=>i()),n.push({entry:s,priority:o,index:n.length})):t(s,o)}}}function jye(t,e){const n=[],r=new Map;for(const i of t){const{entry:{request:s}}=i,o=qye(s.query,e);if(!r.has(o)){const a=[];n.push(a),r.set(o,a)}r.get(o).push(i)}return n}function qye(t,e){const n=`${t}`;if(jk(t)&&!e.get(n)){if(t._where.length||t._qualify.length||t._having.length||t._orderby.length||t._distinct)return n;const r=t.clone().setSelect("*"),i=t._groupby;if(i.length){const s={};t._select.forEach(({alias:o,expr:a})=>s[o]=a),r.setGroupby(i.map(o=>CP(o)&&s[o.column]||o))}else t._select.some(s=>Xk(s.expr))&&r.setGroupby("ALL");return`${r}`}else return n}function Vye(t,e){if(Xye(t))e({request:{type:"arrow",cache:!1,query:t.query=Zye(t)},result:t.result=new IP});else for(const{entry:n,priority:r}of t)e(n,r)}function Xye(t){if(t.length>1){const e=`${t[0].entry.request.query}`;for(let n=1;n<t.length;++n)if(e!==`${t[n].entry.request.query}`)return!0}return!1}function Zye(t){const e=t.maps=[],n=new Map;for(const s of t){const o=s.entry.request.query,a=[];e.push(a);for(const{alias:l,expr:u}of o._select){const c=`${u}`;n.has(c)||n.set(c,[`col${n.size}`,u]);const[f]=n.get(c);a.push([f,l])}}const r=t[0].entry.request.query.clone(),i=r._groupby;if(i.length){const s={};t.maps[0].forEach(([o,a])=>s[a]=o),r.setGroupby(i.map(o=>CP(o)&&s[o.column]||o))}return r.setSelect(Array.from(n.values()))}async function Wye(t,e){const{maps:n,query:r,result:i}=t;if(!n)return;let s;try{s=await i}catch(a){for(const{entry:l}of t)l.result.reject(a);return}const o=B1e(r);t.forEach(({entry:a},l)=>{const{request:u,result:c}=a,f=n[l],h=o&&f?Gye(s,f):f?Yye(s,f):s;u.cache&&e.set(String(u.query),h),c.fulfill(h)})}function Yye(t,e){return t.select(e.map(n=>n[0]),e.map(n=>n[1]))}function Gye(t,e){const n=new Map(e),r=[];for(const i of t)n.has(i.column_name)&&r.push({...i,column_name:n.get(i.column_name)});return r}const Hye=typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout;function Kye(){return{get:()=>{},set:(t,e)=>e,clear:()=>{}}}function Jye({max:t=1e3,ttl:e=10800*1e3}={}){let n=new Map;function r(){const i=performance.now()-e;let s=null,o=1/0;for(const[a,l]of n){const{last:u}=l;u<o&&(s=a,o=u),i>u&&n.delete(a)}s&&n.delete(s)}return{get(i){const s=n.get(i);if(s)return s.last=performance.now(),s.value},set(i,s){return n.set(i,{last:performance.now(),value:s}),n.size>t&&Hye(r),s},clear(){n=new Map}}}class ebe{queue;constructor(e){this.queue=Array.from({length:e},()=>({head:null,tail:null}))}isEmpty(){return this.queue.every(e=>!e.head)}insert(e,n){const r=this.queue[n];if(!r)throw new Error(`Invalid queue priority rank: ${n}`);const i={item:e,next:null};r.head===null?r.head=r.tail=i:r.tail=r.tail.next=i}remove(e){for(const n of this.queue){let{head:r,tail:i}=n;for(let s=null,o=r;o;s=o,o=o.next)e(o.item)&&(o===r?r=o.next:s.next=o.next,o===i&&(i=s||r));n.head=r,n.tail=i}}next(){for(const e of this.queue){const{head:n}=e;if(n!==null)return e.head=n.next,e.tail===n&&(e.tail=null),n.item}}}const Wm=Object.freeze({High:0,Normal:1,Low:2});class tbe{queue;db;clientCache;_logger;_logQueries;_consolidate;pendingResults;maxConcurrentRequests;pendingExec;constructor(e=32){this.queue=new ebe(3),this.db=null,this.clientCache=null,this._logger=$E(),this._logQueries=!1,this._consolidate=null,this.pendingResults=[],this.maxConcurrentRequests=e,this.pendingExec=!1}next(){if(this.queue.isEmpty()||this.pendingResults.length>this.maxConcurrentRequests||this.pendingExec)return;const e=this.queue.next();if(!e)return;const{request:n,result:r}=e;this.pendingResults.push(r),n.type==="exec"&&(this.pendingExec=!0),this.submit(n,r).finally(()=>{for(;this.pendingResults.length&&this.pendingResults[0].state!==$p.pending;){const i=this.pendingResults.shift();i.state===$p.ready?i.fulfill():i.state===$p.done&&this._logger.warn("Found resolved query in pending results.")}n.type==="exec"&&(this.pendingExec=!1),this.next()})}enqueue(e,n=Wm.Normal){this.queue.insert(e,n),this.next()}async submit(e,n){try{const{query:r,type:i,cache:s=!1,options:o}=e,a=r?`${r}`:null;if(s){const f=this.clientCache.get(a);if(f){const h=await f;this._logger.debug("Cache"),n.ready(h);return}}const l=performance.now();this._logQueries&&this._logger.debug("Query",{type:i,sql:a,...o});const u=this.db.query({type:i,sql:a,...o});s&&this.clientCache.set(a,u);const c=await u;s&&this.clientCache.set(a,c),this._logger.debug(`Request: ${(performance.now()-l).toFixed(1)}`),n.ready(i==="exec"?null:c)}catch(r){n.reject(r)}}cache(e){return e!==void 0?this.clientCache=e===!0?Jye():e||Kye():this.clientCache}logger(e){return e?this._logger=e:this._logger}logQueries(e){return e!==void 0?this._logQueries=!!e:this._logQueries}connector(e){return e?this.db=e:this.db}consolidate(e){e&&!this._consolidate?this._consolidate=Uye(this.enqueue.bind(this),this.clientCache):!e&&this._consolidate&&(this._consolidate=null)}request(e,n=Wm.Normal){const r=new IP,i={request:e,result:r};return this._consolidate?this._consolidate.add(i,n):this.enqueue(i,n),r}cancel(e){const n=new Set(e);if(n.size){this.queue.remove(({result:r})=>n.has(r)?(r.reject("Canceled"),!0):!1);for(const r of this.pendingResults)n.has(r)&&r.reject("Canceled")}}clear(){this.queue.remove(({result:e})=>(e.reject("Cleared"),!0));for(const e of this.pendingResults)e.reject("Cleared");this.pendingResults=[]}}let vw;function MO(t){return t?vw=t:vw==null&&(vw=new nbe),vw}class nbe{manager;preaggregator;clients=new Set;filterGroups=new Map;_logger=$E();constructor(e=new bX,n={}){const{logger:r=console,manager:i=new tbe,cache:s=!0,consolidate:o=!0,preagg:a={}}=n;this.manager=i,this.manager.cache(s),this.manager.consolidate(o),this.databaseConnector(e),this.logger(r),this.clear(),this.preaggregator=new $ye(this,a)}clear(e={}){const{clients:n=!0,cache:r=!0}=e;this.manager.clear(),n&&(this.filterGroups?.forEach(i=>i.disconnect()),this.filterGroups=new Map,this.clients?.forEach(i=>this.disconnect(i)),this.clients=new Set),r&&this.manager.cache().clear()}databaseConnector(e){return e?this.manager.connector(e):this.manager.connector()}logger(e){return arguments.length&&(this._logger=e||$E(),this.manager.logger(this._logger)),this._logger}cancel(e){this.manager.cancel(e)}exec(e,n={}){const{priority:r=Wm.Normal}=n;return e=Array.isArray(e)?e.filter(i=>i).join(`;
`):e,this.manager.request({type:"exec",query:e},r)}query(e,n={}){const{type:r="arrow",cache:i=!0,priority:s=Wm.Normal,...o}=n;return this.manager.request({type:r,query:e,cache:i,options:o},s)}prefetch(e,n={}){return this.query(e,{...n,cache:!0,priority:Wm.Low})}updateClient(e,n,r=Wm.Normal){return e.queryPending(),e._pending=this.query(n,{priority:r}).then(i=>e.queryResult(i).update(),i=>{this._logger?.error(i),e.queryError(i)}).catch(i=>this._logger?.error(i))}requestQuery(e,n){return this.preaggregator.clear(),n?this.updateClient(e,n):Promise.resolve(e.update())}connect(e){const{clients:n}=this;if(n?.has(e))throw new Error("Client already connected.");n?.add(e),e.coordinator=this,e.initialize(),rbe(this,e.filterBy,e)}disconnect(e){const{clients:n,filterGroups:r}=this;if(!n?.has(e))return;n.delete(e),e.coordinator=null;const i=r?.get(e.filterBy);i&&i.clients.delete(e)}}function rbe(t,e,n){if(!e)return;let r=t.filterGroups?.get(e);if(!r){const i=o=>ibe(t,e,o),s=()=>sbe(t,e);e.addEventListener("activate",i),e.addEventListener("value",s),r={selection:e,clients:new Set,disconnect(){e.removeEventListener("activate",i),e.removeEventListener("value",s)}},t.filterGroups?.set(e,r)}r.clients.add(n)}function ibe(t,e,n){const{preaggregator:r,filterGroups:i}=t,{clients:s}=i.get(e);for(const o of s)o.enabled&&r.request(o,e,n)}function sbe(t,e){const{preaggregator:n,filterGroups:r}=t,{clients:i}=r.get(e),{active:s}=e;return Promise.allSettled(Array.from(i,o=>{if(!o.enabled)return o.requestQuery();const a=n.request(o,e,s),l=a?null:e.predicate(o);if(a?.skip||!a&&!l)return;const u=a?.query(s.predicate)??o.query(l);return t.updateClient(o,u)}))}function LO(t){const{coordinator:e=MO(),...n}=t,r=new obe(n);return e.connect(r),r}class obe extends Dk{_methods;_filterStable;constructor({selection:e=void 0,enabled:n=!0,filterStable:r=!0,...i}){super(e),this.enabled=n,this._methods=i,this._filterStable=r}get filterStable(){return this._filterStable}async prepare(){await this._methods.prepare?.()}query(e){return this._methods.query?.(e)??null}queryResult(e){return this._methods.queryResult?.(e),this}queryPending(){return this._methods.queryPending?.(),this}queryError(e){return this._methods.queryError?.(e),this}}class abe{_callbacks;constructor(){this._callbacks=new Map}addEventListener(e,n){this._callbacks.has(e)||this._callbacks.set(e,{callbacks:new Set,pending:null,queue:new lbe}),this._callbacks.get(e).callbacks.add(n)}removeEventListener(e,n){const r=this._callbacks.get(e);r&&r.callbacks.delete(n)}willEmit(e,n){return n}emitQueueFilter(e,n){return null}cancel(e){this._callbacks.get(e)?.queue.clear()}async pending(e){await this._callbacks.get(e)?.pending}emit(e,n){const r=this._callbacks.get(e)||{};if(r.pending)r.queue.enqueue(n,this.emitQueueFilter(e,n));else{const i=this.willEmit(e,n),{callbacks:s,queue:o}=r;if(s?.size){const a=Array.from(s,l=>l(i));r.pending=Promise.allSettled(a).then(()=>{r.pending=null,o.isEmpty()||this.emit(e,o.dequeue())})}}}}class lbe{next=null;constructor(){this.clear()}clear(){this.next=null}isEmpty(){return!this.next}enqueue(e,n){const r={value:e};if(n&&this.next){let i=this;for(;i.next;)n(i.next.value)?i=i.next:i.next=i.next.next;i.next=r}else this.next=r}dequeue(){const{next:e}=this;return this.next=e?.next||null,e?.value}}function ube(t,e){return t===e?!1:t instanceof Date&&e instanceof Date?+t!=+e:Array.isArray(t)&&Array.isArray(e)?cbe(t,e):!0}function cbe(t,e){if(t.length!==e.length)return!0;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!0;return!1}function Q5(t){return t instanceof hg}class hg extends abe{_value;constructor(e){super(),this._value=e}static value(e){return new hg(e)}static array(e){if(e.some(n=>Q5(n))){const n=new hg,r=()=>{n.update(e.map(i=>Q5(i)?i.value:i))};return r(),e.forEach(i=>Q5(i)?i.addEventListener("value",r):0),n}return new hg(e)}get value(){return this._value}update(e,{force:n}={}){return ube(this._value,e)||n?this.emit("value",e):this.cancel("value"),this}willEmit(e,n){return e==="value"&&(this._value=n),n}}function DM(t){return t instanceof FP}function Ow(t,e){return new FP(new sZ(t),e?[e].flat():void 0)}let FP=class iZ extends hg{_resolved;_resolver;_relay;static intersect({cross:e=!1,empty:n=!1,include:r=[]}={}){return Ow({cross:e,empty:n},r)}static union({cross:e=!1,empty:n=!1,include:r=[]}={}){return Ow({cross:e,empty:n,union:!0},r)}static single({cross:e=!1,empty:n=!1,include:r=[]}={}){return Ow({cross:e,empty:n,single:!0},r)}static crossfilter({empty:e=!1,include:n=[]}={}){return Ow({cross:!0,empty:e},n)}constructor(e=new sZ,n=[]){if(super([]),this._resolved=this._value,this._resolver=e,this._relay=new Set,Array.isArray(n))for(const r of n)r._relay.add(this)}clone(){const e=new iZ(this._resolver);return e._value=e._resolved=this._value,e}remove(e){const n=this.clone();return n._value=n._resolved=n._resolver.resolve(this._resolved,{source:e}),n._value.active={source:e},n}get resolver(){return this._resolver}get single(){return this._resolver.single}get clauses(){return super.value}get active(){return this.clauses.active}get value(){return this.active?.value}valueFor(e){return this.clauses.find(n=>n.source===e)?.value}activate(e){this.emit("activate",e),this._relay.forEach(n=>n.activate(e))}update(e){return this._resolved=this._resolver.resolve(this._resolved,e,!0),this._resolved.active=e,this._relay.forEach(n=>n.update(e)),super.update(this._resolved)}reset(e){return e??=this._resolved,e.forEach(n=>n.source?.reset?.()),this._resolved=this._resolved.filter(n=>!e.includes(n)),this._relay.forEach(n=>n.reset(e)),super.update(this._resolved)}willEmit(e,n){return e==="value"?(this._value=n,this.value):n}emitQueueFilter(e,n){return e==="value"?this._resolver.queueFilter(n):null}skip(e,n){return this._resolver.skip(e,n)}predicate(e=void 0,n=!1){const{clauses:r}=this,i=n?null:r.active;return this._resolver.predicate(r,i,e)}};class sZ{union;cross;single;empty;constructor({union:e,cross:n,single:r,empty:i}={}){this.union=!!e,this.cross=!!n,this.single=!!r,this.empty=!!i}resolve(e,n,r=!1){const{source:i,predicate:s}=n,o=e.filter(l=>i!==l.source),a=this.single?[]:o;return this.single&&r&&o.forEach(l=>l.source?.reset?.()),s&&a.push(n),a}skip(e,n){return e==null?!1:!!(this.cross&&n?.clients?.has(e))}predicate(e,n,r){const{empty:i,union:s}=this;if(i&&!e.length)return[Ve(!1)];if(this.skip(r,n))return;const o=e.filter(a=>!this.skip(r,a)).map(a=>a.predicate);return s&&o.length>1?Ol(o):o}queueFilter(e){if(this.cross){const n=e.active?.source;return r=>r.active?.source!==n}return null}}function fbe(t){return new hbe(t)}class hbe{_uri;_ipc;constructor({uri:e="http://localhost:3000/",ipc:n=void 0}={}){this._uri=e,this._ipc=n}async query(e){const n=fetch(this._uri,{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await n;if(!r.ok)throw new Error(`Query failed with HTTP status ${r.status}: ${await r.text()}`);return e.type==="exec"?n:e.type==="arrow"?G_(await r.arrayBuffer(),this._ipc):r.json()}}function It(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function PM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wt(t){return this instanceof Wt?(this.v=t,this):new Wt(t)}function ic(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(d){return function(m){return Promise.resolve(m).then(d,f)}}function a(d,m){r[d]&&(i[d]=function(g){return new Promise(function(b,v){s.push([d,g,b,v])>1||l(d,g)})},m&&(i[d]=m(i[d])))}function l(d,m){try{u(r[d](m))}catch(g){h(s[0][3],g)}}function u(d){d.value instanceof Wt?Promise.resolve(d.value.v).then(c,f):h(s[0][2],d)}function c(d){l("next",d)}function f(d){l("throw",d)}function h(d,m){d(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Qx(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Wt(t[i](o)),done:!1}:s?s(o):o}:s}}function e0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PM=="function"?PM(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const dbe=new TextDecoder("utf-8"),IE=t=>dbe.decode(t),pbe=new TextEncoder,MP=t=>pbe.encode(t),mbe=t=>typeof t=="number",oZ=t=>typeof t=="boolean",Zi=t=>typeof t=="function",ta=t=>t!=null&&Object(t)===t,b0=t=>ta(t)&&Zi(t.then),NO=t=>ta(t)&&Zi(t[Symbol.iterator]),Z1=t=>ta(t)&&Zi(t[Symbol.asyncIterator]),FE=t=>ta(t)&&ta(t.schema),aZ=t=>ta(t)&&"done"in t&&"value"in t,lZ=t=>ta(t)&&Zi(t.stat)&&mbe(t.fd),uZ=t=>ta(t)&&LP(t.body),Zk=t=>"_getDOMStream"in t&&"_getNodeStream"in t,gbe=t=>ta(t)&&Zi(t.abort)&&Zi(t.getWriter)&&!Zk(t),LP=t=>ta(t)&&Zi(t.cancel)&&Zi(t.getReader)&&!Zk(t),ybe=t=>ta(t)&&Zi(t.end)&&Zi(t.write)&&oZ(t.writable)&&!Zk(t),cZ=t=>ta(t)&&Zi(t.read)&&Zi(t.pipe)&&oZ(t.readable)&&!Zk(t),bbe=t=>ta(t)&&Zi(t.clear)&&Zi(t.bytes)&&Zi(t.position)&&Zi(t.setPosition)&&Zi(t.capacity)&&Zi(t.getBufferIdentifier)&&Zi(t.createLong),NP=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function vbe(t){const e=t[0]?[t[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=t.length;++l<c;){if(o=e[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(e[++u]=a);continue}e[u]=new Uint8Array(o.buffer,n,r-n+s)}return e}function RM(t,e,n=0,r=e.byteLength){const i=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,n),t}function Cc(t,e){const n=vbe(t),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?RM(o,s,a):o=s;break}RM(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function tr(t,e){let n=aZ(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=MP(n)),n instanceof ArrayBuffer?new t(n):n instanceof NP?new t(n):bbe(n)?tr(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const Qy=t=>tr(Int32Array,t),$M=t=>tr(BigInt64Array,t),Sn=t=>tr(Uint8Array,t),ME=t=>(t.next(),t);function*Obe(t,e){const n=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof NP?n(e):NO(e)?e:n(e);return yield*ME((function*(i){let s=null;do s=i.next(yield tr(t,s));while(!s.done)})(r[Symbol.iterator]())),new t}const wbe=t=>Obe(Uint8Array,t);function fZ(t,e){return ic(this,arguments,function*(){if(b0(e))return yield Wt(yield Wt(yield*Qx(e0(fZ(t,yield Wt(e))))));const r=function(o){return ic(this,arguments,function*(){yield yield Wt(yield Wt(o))})},i=function(o){return ic(this,arguments,function*(){yield Wt(yield*Qx(e0(ME((function*(a){let l=null;do l=a.next(yield l?.value);while(!l.done)})(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof NP?r(e):NO(e)?i(e):Z1(e)?e:r(e);return yield Wt(yield*Qx(e0(ME((function(o){return ic(this,arguments,function*(){let a=null;do a=yield Wt(o.next(yield yield Wt(tr(t,a))));while(!a.done)})})(s[Symbol.asyncIterator]()))))),yield Wt(new t)})}const xbe=t=>fZ(Uint8Array,t);function hZ(t,e,n){if(t!==0){n=n.slice(0,e);for(let r=-1,i=n.length;++r<i;)n[r]+=t}return n.subarray(0,e)}function _be(t,e){let n=0;const r=t.length;if(r!==e.length)return!1;if(r>0)do if(t[n]!==e[n])return!1;while(++n<r);return!0}const ll={fromIterable(t){return ww(Sbe(t))},fromAsyncIterable(t){return ww(kbe(t))},fromDOMStream(t){return ww(Cbe(t))},fromNodeStream(t){return ww(Ebe(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},ww=t=>(t.next(),t);function*Sbe(t){let e,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?Cc(r,o)[0]:([i,r,a]=Cc(r,o),i)}({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});const u=wbe(t)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function kbe(t){return ic(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?Cc(i,a)[0]:([s,i,l]=Cc(i,a),s)}({cmd:o,size:a}=(yield yield Wt(null))||{cmd:"read",size:0});const c=xbe(t)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Wt(c.next()):yield Wt(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Wt(u()));while(a<l);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield Wt(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield Wt(c.return(new Uint8Array(0))))}return yield Wt(null)})}function Cbe(t){return ic(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?Cc(i,a)[0]:([s,i,l]=Cc(i,a),s)}({cmd:o,size:a}=(yield yield Wt(null))||{cmd:"read",size:0});const c=new Abe(t);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Wt(c.read()):yield Wt(c.read(a-l)),!n&&s.byteLength>0&&(i.push(Sn(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Wt(u()));while(a<l);while(!n)}catch(f){(r=!0)&&(yield Wt(c.cancel(f)))}finally{r===!1?yield Wt(c.cancel()):t.locked&&c.releaseLock()}return yield Wt(null)})}class Abe{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return It(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return It(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=Sn(n)),n})}}const B5=(t,e)=>{const n=i=>r([e,i]);let r;return[e,n,new Promise(i=>(r=i)&&t.once(e,n))]};function Ebe(t){return ic(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function f(){return o==="peek"?Cc(u,a)[0]:([c,u,l]=Cc(u,a),c)}if({cmd:o,size:a}=(yield yield Wt(null))||{cmd:"read",size:0},t.isTTY)return yield yield Wt(new Uint8Array(0)),yield Wt(null);try{n[0]=B5(t,"end"),n[1]=B5(t,"error");do{if(n[2]=B5(t,"readable"),[r,s]=yield Wt(Promise.race(n.map(d=>d[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=Sn(t.read(a-l)),c.byteLength<a-l&&(c=Sn(t.read()))):c=Sn(t.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield Wt(f()));while(a<l)}while(!i)}finally{yield Wt(h(n,r==="error"?s:null))}return yield Wt(null);function h(d,m){return c=u=null,new Promise((g,b)=>{for(const[v,O]of d)t.off(v,O);try{const v=t.destroy;v&&v.call(t,m),m=void 0}catch(v){m=v||m}finally{m!=null?b(m):g()}})}})}var xi;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(xi||(xi={}));var Us;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(Us||(Us={}));var Is;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Is||(Is={}));var El;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(El||(El={}));var St;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(St||(St={}));var Ac;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Ac||(Ac={}));const z5=2,Yu=4,Ef=4,Kn=4,Bh=new Int32Array(2),IM=new Float32Array(Bh.buffer),FM=new Float64Array(Bh.buffer),xw=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var LE;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(LE||(LE={}));let Kg=class dZ{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new dZ(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return Bh[0]=this.readInt32(e),IM[0]}readFloat64(e){return Bh[xw?0:1]=this.readInt32(e),Bh[xw?1:0]=this.readInt32(e+4),FM[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){IM[0]=n,this.writeInt32(e,Bh[0])}writeFloat64(e,n){FM[0]=n,this.writeInt32(e,Bh[xw?0:1]),this.writeInt32(e+4,Bh[xw?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Yu+Ef)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<Ef;n++)e+=String.fromCharCode(this.readInt8(this.position_+Yu+n));return e}__offset(e,n){const r=e-this.readInt32(e);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const r=this.readInt32(e);e+=Yu;const i=this.bytes_.subarray(e,e+r);return n===LE.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+Yu}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=Ef)throw new Error("FlatBuffers: file identifier must be length "+Ef);for(let n=0;n<Ef;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+Yu+n))return!1;return!0}createScalarList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s)}return r}createObjList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s.unpack())}return r}},pZ=class mZ{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=Kg.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<r+e+n;){const i=this.bb.capacity();this.bb=mZ.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,r){n!=r&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=Kg.allocate(r);return i.setPosition(r-n),i.bytes().set(e.bytes(),r-n),i}addOffset(e){this.prep(Yu,0),this.writeInt32(this.offset()-e+Yu)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const i=2;this.addInt16(e-this.object_start);const s=(r+i)*z5;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=z5;u<s;u+=z5)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,r){const i=r?Kn:0;if(n){const s=n;if(this.prep(this.minalign,Yu+Ef+i),s.length!=Ef)throw new TypeError("FlatBuffers: file identifier must be length "+Ef);for(let o=Ef-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Yu+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,r){this.notNested(),this.vector_num_elems=n,this.prep(Yu,e*n),this.prep(r,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let r=0;r<e.length;++r){const i=e[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var nS;(function(t){t[t.BUFFER=0]="BUFFER"})(nS||(nS={}));var rS;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(rS||(rS={}));class zh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new zh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+Kn),(n||new zh).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):rS.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):nS.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,rS.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,nS.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,r){return zh.startBodyCompression(e),zh.addCodec(e,n),zh.addMethod(e,r),zh.endBodyCompression(e)}}let gZ=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}},yZ=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}},bf=class NE{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new NE).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+Kn),(n||new NE).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new yZ).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new gZ).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new zh).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},Rm=class QE{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new QE).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+Kn),(n||new QE).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new bf).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var Jg;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(Jg||(Jg={}));var iS;(function(t){t[t.DenseArray=0]="DenseArray"})(iS||(iS={}));class Da{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new Da).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+Kn),(n||new Da).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,r){return Da.startInt(e),Da.addBitWidth(e,n),Da.addIsSigned(e,r),Da.endInt(e)}}class Tf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new Tf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+Kn),(n||new Tf).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Da).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):iS.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,iS.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Yi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new Yi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+Kn),(n||new Yi).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,r){return Yi.startKeyValue(e),Yi.addKey(e,n),Yi.addValue(e,r),Yi.endKeyValue(e)}}let MM=class bb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new bb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+Kn),(n||new bb).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return bb.startBinary(e),bb.endBinary(e)}},LM=class vb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new vb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+Kn),(n||new vb).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return vb.startBool(e),vb.endBool(e)}},Bx=class $m{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new $m).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+Kn),(n||new $m).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):El.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,El.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return $m.startDate(e),$m.addUnit(e,n),$m.endDate(e)}},Im=class Qh{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new Qh).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+Kn),(n||new Qh).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,r,i){return Qh.startDecimal(e),Qh.addPrecision(e,n),Qh.addScale(e,r),Qh.addBitWidth(e,i),Qh.endDecimal(e)}},zx=class Fm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDuration(e,n){return(n||new Fm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,n){return e.setPosition(e.position()+Kn),(n||new Fm).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):St.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,St.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,n){return Fm.startDuration(e),Fm.addUnit(e,n),Fm.endDuration(e)}},Ux=class Mm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new Mm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+Kn),(n||new Mm).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return Mm.startFixedSizeBinary(e),Mm.addByteWidth(e,n),Mm.endFixedSizeBinary(e)}},jx=class Lm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new Lm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+Kn),(n||new Lm).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return Lm.startFixedSizeList(e),Lm.addListSize(e,n),Lm.endFixedSizeList(e)}};class Gu{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new Gu).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+Kn),(n||new Gu).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Is.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,Is.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return Gu.startFloatingPoint(e),Gu.addPrecision(e,n),Gu.endFloatingPoint(e)}}class Hu{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new Hu).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+Kn),(n||new Hu).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ac.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,Ac.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return Hu.startInterval(e),Hu.addUnit(e,n),Hu.endInterval(e)}}let NM=class Ob{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeBinary(e,n){return(n||new Ob).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,n){return e.setPosition(e.position()+Kn),(n||new Ob).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return Ob.startLargeBinary(e),Ob.endLargeBinary(e)}},QM=class wb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeUtf8(e,n){return(n||new wb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,n){return e.setPosition(e.position()+Kn),(n||new wb).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return wb.startLargeUtf8(e),wb.endLargeUtf8(e)}},BM=class xb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new xb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+Kn),(n||new xb).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return xb.startList(e),xb.endList(e)}},qx=class Nm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new Nm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+Kn),(n||new Nm).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return Nm.startMap(e),Nm.addKeysSorted(e,n),Nm.endMap(e)}},zM=class _b{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new _b).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+Kn),(n||new _b).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return _b.startNull(e),_b.endNull(e)}};class Ip{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new Ip).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+Kn),(n||new Ip).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Ip.startStruct_(e),Ip.endStruct_(e)}}class fl{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new fl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+Kn),(n||new fl).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):St.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,St.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,r){return fl.startTime(e),fl.addUnit(e,n),fl.addBitWidth(e,r),fl.endTime(e)}}class hl{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new hl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+Kn),(n||new hl).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):St.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,St.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,r){return hl.startTimestamp(e),hl.addUnit(e,n),hl.addTimezone(e,r),hl.endTimestamp(e)}}class Qo{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new Qo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+Kn),(n||new Qo).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Us.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,Us.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addInt32(n[r]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,r){return Qo.startUnion(e),Qo.addMode(e,n),Qo.addTypeIds(e,r),Qo.endUnion(e)}}let UM=class Sb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new Sb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+Kn),(n||new Sb).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Sb.startUtf8(e),Sb.endUtf8(e)}};var _r;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(_r||(_r={}));let nl=class Vx{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new Vx).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+Kn),(n||new Vx).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):_r.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Tf).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new Vx).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Yi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,_r.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},Uu=class hf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new hf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+Kn),(n||new hf).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Jg.Little}fields(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new nl).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Yi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,Jg.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)e.addInt64(n[r]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,r,i,s){return hf.startSchema(e),hf.addEndianness(e,n),hf.addFields(e,r),hf.addCustomMetadata(e,i),hf.addFeatures(e,s),hf.endSchema(e)}};var $n;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})($n||($n={}));var G;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"})(G||(G={}));var vf;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(vf||(vf={}));const Tbe=void 0;function _v(t){if(t===null)return"null";if(t===Tbe)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>_v(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,n)=>typeof n=="bigint"?`${n}`:n)}function br(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function bZ(t,e){return br(t/e)+br(t%e)/br(e)}const Dbe=Symbol.for("isArrowBigNum");function wu(t,...e){return e.length===0?Object.setPrototypeOf(tr(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}wu.prototype[Dbe]=!0;wu.prototype.toJSON=function(){return`"${kv(this)}"`};wu.prototype.valueOf=function(t){return vZ(this,t)};wu.prototype.toString=function(){return kv(this)};wu.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return vZ(this);case"string":return kv(this);case"default":return $be(this)}return kv(this)};function dg(...t){return wu.apply(this,t)}function pg(...t){return wu.apply(this,t)}function Sv(...t){return wu.apply(this,t)}Object.setPrototypeOf(dg.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(pg.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Sv.prototype,Object.create(Uint32Array.prototype));Object.assign(dg.prototype,wu.prototype,{constructor:dg,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(pg.prototype,wu.prototype,{constructor:pg,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(Sv.prototype,wu.prototype,{constructor:Sv,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const Pbe=BigInt(4294967296)*BigInt(4294967296),Rbe=Pbe-BigInt(1);function vZ(t,e){const{buffer:n,byteOffset:r,byteLength:i,signed:s}=t,o=new BigUint64Array(n,r,i/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),u=0;if(a){for(const c of o)l|=(c^Rbe)*(BigInt(1)<<BigInt(64*u++));l*=BigInt(-1),l-=BigInt(1)}else for(const c of o)l|=c*(BigInt(1)<<BigInt(64*u++));if(typeof e=="number"){const c=BigInt(Math.pow(10,e)),f=l/c,h=l%c;return br(f)+br(h)/br(c)}return br(l)}function kv(t){if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return U5(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return U5(t);e=e.slice();let r=1;for(let s=0;s<e.length;s++){const o=e[s],a=~o+r;e[s]=a,r&=o===0?1:0}return`-${U5(e)}`}function $be(t){return t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:kv(t)}function U5(t){let e="";const n=new Uint32Array(2);let r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e??"0"}class QP{static new(e,n){switch(n){case!0:return new dg(e);case!1:return new pg(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new dg(e)}return e.byteLength===16?new Sv(e):new pg(e)}static signed(e){return new dg(e)}static unsigned(e){return new pg(e)}static decimal(e){return new Sv(e)}constructor(e,n){return QP.new(e,n)}}var OZ,wZ,xZ,_Z,SZ,kZ,CZ,AZ,EZ,TZ,DZ,PZ,RZ,$Z,IZ,FZ,MZ,LZ,NZ,QZ,BZ,zZ;class ct{static isNull(e){return e?.typeId===G.Null}static isInt(e){return e?.typeId===G.Int}static isFloat(e){return e?.typeId===G.Float}static isBinary(e){return e?.typeId===G.Binary}static isLargeBinary(e){return e?.typeId===G.LargeBinary}static isUtf8(e){return e?.typeId===G.Utf8}static isLargeUtf8(e){return e?.typeId===G.LargeUtf8}static isBool(e){return e?.typeId===G.Bool}static isDecimal(e){return e?.typeId===G.Decimal}static isDate(e){return e?.typeId===G.Date}static isTime(e){return e?.typeId===G.Time}static isTimestamp(e){return e?.typeId===G.Timestamp}static isInterval(e){return e?.typeId===G.Interval}static isDuration(e){return e?.typeId===G.Duration}static isList(e){return e?.typeId===G.List}static isStruct(e){return e?.typeId===G.Struct}static isUnion(e){return e?.typeId===G.Union}static isFixedSizeBinary(e){return e?.typeId===G.FixedSizeBinary}static isFixedSizeList(e){return e?.typeId===G.FixedSizeList}static isMap(e){return e?.typeId===G.Map}static isDictionary(e){return e?.typeId===G.Dictionary}static isDenseUnion(e){return ct.isUnion(e)&&e.mode===Us.Dense}static isSparseUnion(e){return ct.isUnion(e)&&e.mode===Us.Sparse}constructor(e){this.typeId=e}}OZ=Symbol.toStringTag;ct[OZ]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]="DataType"))(ct.prototype);let Ed=class extends ct{constructor(){super(G.Null)}toString(){return"Null"}};wZ=Symbol.toStringTag;Ed[wZ]=(t=>t[Symbol.toStringTag]="Null")(Ed.prototype);class v0 extends ct{constructor(e,n){super(G.Int),this.isSigned=e,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}xZ=Symbol.toStringTag;v0[xZ]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(v0.prototype);class Cv extends v0{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Cv.prototype,"ArrayType",{value:Int32Array});class sS extends ct{constructor(e){super(G.Float),this.precision=e}get ArrayType(){switch(this.precision){case Is.HALF:return Uint16Array;case Is.SINGLE:return Float32Array;case Is.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}_Z=Symbol.toStringTag;sS[_Z]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(sS.prototype);class oS extends ct{constructor(){super(G.Binary)}toString(){return"Binary"}}SZ=Symbol.toStringTag;oS[SZ]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(oS.prototype);class aS extends ct{constructor(){super(G.LargeBinary)}toString(){return"LargeBinary"}}kZ=Symbol.toStringTag;aS[kZ]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(aS.prototype);class lS extends ct{constructor(){super(G.Utf8)}toString(){return"Utf8"}}CZ=Symbol.toStringTag;lS[CZ]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(lS.prototype);class uS extends ct{constructor(){super(G.LargeUtf8)}toString(){return"LargeUtf8"}}AZ=Symbol.toStringTag;uS[AZ]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(uS.prototype);let cS=class extends ct{constructor(){super(G.Bool)}toString(){return"Bool"}};EZ=Symbol.toStringTag;cS[EZ]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(cS.prototype);class fS extends ct{constructor(e,n,r=128){super(G.Decimal),this.scale=e,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}TZ=Symbol.toStringTag;fS[TZ]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(fS.prototype);class hS extends ct{constructor(e){super(G.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${El[this.unit]}>`}get ArrayType(){return this.unit===El.DAY?Int32Array:BigInt64Array}}DZ=Symbol.toStringTag;hS[DZ]=(t=>(t.unit=null,t[Symbol.toStringTag]="Date"))(hS.prototype);class dS extends ct{constructor(e,n){super(G.Time),this.unit=e,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${St[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}PZ=Symbol.toStringTag;dS[PZ]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(dS.prototype);class pS extends ct{constructor(e,n){super(G.Timestamp),this.unit=e,this.timezone=n}toString(){return`Timestamp<${St[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}RZ=Symbol.toStringTag;pS[RZ]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Timestamp"))(pS.prototype);class mS extends ct{constructor(e){super(G.Interval),this.unit=e}toString(){return`Interval<${Ac[this.unit]}>`}}$Z=Symbol.toStringTag;mS[$Z]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(mS.prototype);class gS extends ct{constructor(e){super(G.Duration),this.unit=e}toString(){return`Duration<${St[this.unit]}>`}}IZ=Symbol.toStringTag;gS[IZ]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(gS.prototype);class yS extends ct{constructor(e){super(G.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}FZ=Symbol.toStringTag;yS[FZ]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(yS.prototype);class lo extends ct{constructor(e){super(G.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}MZ=Symbol.toStringTag;lo[MZ]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(lo.prototype);class bS extends ct{constructor(e,n,r){super(G.Union),this.mode=e,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}LZ=Symbol.toStringTag;bS[LZ]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(bS.prototype);class vS extends ct{constructor(e){super(G.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}NZ=Symbol.toStringTag;vS[NZ]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(vS.prototype);class OS extends ct{constructor(e,n){super(G.FixedSizeList),this.listSize=e,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}QZ=Symbol.toStringTag;OS[QZ]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(OS.prototype);class wS extends ct{constructor(e,n=!1){var r,i,s;if(super(G.Map),this.children=[e],this.keysSorted=n,e&&(e.name="entries",!((r=e?.type)===null||r===void 0)&&r.children)){const o=(i=e?.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=e?.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}BZ=Symbol.toStringTag;wS[BZ]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(wS.prototype);const Ibe=(t=>()=>++t)(-1);class e1 extends ct{constructor(e,n,r,i){super(G.Dictionary),this.indices=n,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?Ibe():br(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}zZ=Symbol.toStringTag;e1[zZ]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(e1.prototype);function Of(t){const e=t;switch(t.typeId){case G.Decimal:return t.bitWidth/32;case G.Interval:return 1+e.unit;case G.FixedSizeList:return e.listSize;case G.FixedSizeBinary:return e.byteWidth;default:return 1}}class tn{visitMany(e,...n){return e.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return Fbe(this,e,n)}getVisitFnByTypeId(e,n=!0){return Qm(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitLargeUtf8(e,...n){return null}visitBinary(e,...n){return null}visitLargeBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitDuration(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function Fbe(t,e,n=!0){return typeof e=="number"?Qm(t,e,n):typeof e=="string"&&e in G?Qm(t,G[e],n):e&&e instanceof ct?Qm(t,jM(e),n):e?.type&&e.type instanceof ct?Qm(t,jM(e.type),n):Qm(t,G.NONE,n)}function Qm(t,e,n=!0){let r=null;switch(e){case G.Null:r=t.visitNull;break;case G.Bool:r=t.visitBool;break;case G.Int:r=t.visitInt;break;case G.Int8:r=t.visitInt8||t.visitInt;break;case G.Int16:r=t.visitInt16||t.visitInt;break;case G.Int32:r=t.visitInt32||t.visitInt;break;case G.Int64:r=t.visitInt64||t.visitInt;break;case G.Uint8:r=t.visitUint8||t.visitInt;break;case G.Uint16:r=t.visitUint16||t.visitInt;break;case G.Uint32:r=t.visitUint32||t.visitInt;break;case G.Uint64:r=t.visitUint64||t.visitInt;break;case G.Float:r=t.visitFloat;break;case G.Float16:r=t.visitFloat16||t.visitFloat;break;case G.Float32:r=t.visitFloat32||t.visitFloat;break;case G.Float64:r=t.visitFloat64||t.visitFloat;break;case G.Utf8:r=t.visitUtf8;break;case G.LargeUtf8:r=t.visitLargeUtf8;break;case G.Binary:r=t.visitBinary;break;case G.LargeBinary:r=t.visitLargeBinary;break;case G.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case G.Date:r=t.visitDate;break;case G.DateDay:r=t.visitDateDay||t.visitDate;break;case G.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case G.Timestamp:r=t.visitTimestamp;break;case G.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case G.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case G.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case G.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case G.Time:r=t.visitTime;break;case G.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case G.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case G.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case G.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case G.Decimal:r=t.visitDecimal;break;case G.List:r=t.visitList;break;case G.Struct:r=t.visitStruct;break;case G.Union:r=t.visitUnion;break;case G.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case G.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case G.Dictionary:r=t.visitDictionary;break;case G.Interval:r=t.visitInterval;break;case G.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case G.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case G.Duration:r=t.visitDuration;break;case G.DurationSecond:r=t.visitDurationSecond||t.visitDuration;break;case G.DurationMillisecond:r=t.visitDurationMillisecond||t.visitDuration;break;case G.DurationMicrosecond:r=t.visitDurationMicrosecond||t.visitDuration;break;case G.DurationNanosecond:r=t.visitDurationNanosecond||t.visitDuration;break;case G.FixedSizeList:r=t.visitFixedSizeList;break;case G.Map:r=t.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${G[e]}'`)}function jM(t){switch(t.typeId){case G.Null:return G.Null;case G.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?G.Int8:G.Uint8;case 16:return n?G.Int16:G.Uint16;case 32:return n?G.Int32:G.Uint32;case 64:return n?G.Int64:G.Uint64}return G.Int}case G.Float:switch(t.precision){case Is.HALF:return G.Float16;case Is.SINGLE:return G.Float32;case Is.DOUBLE:return G.Float64}return G.Float;case G.Binary:return G.Binary;case G.LargeBinary:return G.LargeBinary;case G.Utf8:return G.Utf8;case G.LargeUtf8:return G.LargeUtf8;case G.Bool:return G.Bool;case G.Decimal:return G.Decimal;case G.Time:switch(t.unit){case St.SECOND:return G.TimeSecond;case St.MILLISECOND:return G.TimeMillisecond;case St.MICROSECOND:return G.TimeMicrosecond;case St.NANOSECOND:return G.TimeNanosecond}return G.Time;case G.Timestamp:switch(t.unit){case St.SECOND:return G.TimestampSecond;case St.MILLISECOND:return G.TimestampMillisecond;case St.MICROSECOND:return G.TimestampMicrosecond;case St.NANOSECOND:return G.TimestampNanosecond}return G.Timestamp;case G.Date:switch(t.unit){case El.DAY:return G.DateDay;case El.MILLISECOND:return G.DateMillisecond}return G.Date;case G.Interval:switch(t.unit){case Ac.DAY_TIME:return G.IntervalDayTime;case Ac.YEAR_MONTH:return G.IntervalYearMonth}return G.Interval;case G.Duration:switch(t.unit){case St.SECOND:return G.DurationSecond;case St.MILLISECOND:return G.DurationMillisecond;case St.MICROSECOND:return G.DurationMicrosecond;case St.NANOSECOND:return G.DurationNanosecond}return G.Duration;case G.Map:return G.Map;case G.List:return G.List;case G.Struct:return G.Struct;case G.Union:switch(t.mode){case Us.Dense:return G.DenseUnion;case Us.Sparse:return G.SparseUnion}return G.Union;case G.FixedSizeBinary:return G.FixedSizeBinary;case G.FixedSizeList:return G.FixedSizeList;case G.Dictionary:return G.Dictionary}throw new Error(`Unrecognized type '${G[t.typeId]}'`)}tn.prototype.visitInt8=null;tn.prototype.visitInt16=null;tn.prototype.visitInt32=null;tn.prototype.visitInt64=null;tn.prototype.visitUint8=null;tn.prototype.visitUint16=null;tn.prototype.visitUint32=null;tn.prototype.visitUint64=null;tn.prototype.visitFloat16=null;tn.prototype.visitFloat32=null;tn.prototype.visitFloat64=null;tn.prototype.visitDateDay=null;tn.prototype.visitDateMillisecond=null;tn.prototype.visitTimestampSecond=null;tn.prototype.visitTimestampMillisecond=null;tn.prototype.visitTimestampMicrosecond=null;tn.prototype.visitTimestampNanosecond=null;tn.prototype.visitTimeSecond=null;tn.prototype.visitTimeMillisecond=null;tn.prototype.visitTimeMicrosecond=null;tn.prototype.visitTimeNanosecond=null;tn.prototype.visitDenseUnion=null;tn.prototype.visitSparseUnion=null;tn.prototype.visitIntervalDayTime=null;tn.prototype.visitIntervalYearMonth=null;tn.prototype.visitDuration=null;tn.prototype.visitDurationSecond=null;tn.prototype.visitDurationMillisecond=null;tn.prototype.visitDurationMicrosecond=null;tn.prototype.visitDurationNanosecond=null;const UZ=new Float64Array(1),wm=new Uint32Array(UZ.buffer);function jZ(t){const e=(t&31744)>>10,n=(t&1023)/1024,r=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,e-15)*(1+n)}function Mbe(t){if(t!==t)return 32256;UZ[0]=t;const e=(wm[1]&2147483648)>>16&65535;let n=wm[1]&2146435072,r=0;return n>=1089470464?wm[0]>0?n=31744:(n=(n&2080374784)>>16,r=(wm[1]&1048575)>>10):n<=1056964608?(r=1048576+(wm[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(wm[1]&1048575)+512>>10),e|n|r&65535}class kt extends tn{}function Dt(t){return(e,n,r)=>{if(e.setValid(n,r!=null))return t(e,n,r)}}const Lbe=(t,e,n)=>{t[e]=Math.floor(n/864e5)},qZ=(t,e,n,r)=>{if(n+1<e.length){const i=br(e[n]),s=br(e[n+1]);t.set(r.subarray(0,s-i),i)}},Nbe=({offset:t,values:e},n,r)=>{const i=t+n;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},ch=({values:t},e,n)=>{t[e]=n},BP=({values:t},e,n)=>{t[e]=n},VZ=({values:t},e,n)=>{t[e]=Mbe(n)},Qbe=(t,e,n)=>{switch(t.type.precision){case Is.HALF:return VZ(t,e,n);case Is.SINGLE:case Is.DOUBLE:return BP(t,e,n)}},XZ=({values:t},e,n)=>{Lbe(t,e,n.valueOf())},ZZ=({values:t},e,n)=>{t[e]=BigInt(n)},Bbe=({stride:t,values:e},n,r)=>{e.set(r.subarray(0,t),t*n)},WZ=({values:t,valueOffsets:e},n,r)=>qZ(t,e,n,r),YZ=({values:t,valueOffsets:e},n,r)=>qZ(t,e,n,MP(r)),zbe=(t,e,n)=>{t.type.unit===El.DAY?XZ(t,e,n):ZZ(t,e,n)},GZ=({values:t},e,n)=>{t[e]=BigInt(n/1e3)},HZ=({values:t},e,n)=>{t[e]=BigInt(n)},KZ=({values:t},e,n)=>{t[e]=BigInt(n*1e3)},JZ=({values:t},e,n)=>{t[e]=BigInt(n*1e6)},Ube=(t,e,n)=>{switch(t.type.unit){case St.SECOND:return GZ(t,e,n);case St.MILLISECOND:return HZ(t,e,n);case St.MICROSECOND:return KZ(t,e,n);case St.NANOSECOND:return JZ(t,e,n)}},eW=({values:t},e,n)=>{t[e]=n},tW=({values:t},e,n)=>{t[e]=n},nW=({values:t},e,n)=>{t[e]=n},rW=({values:t},e,n)=>{t[e]=n},jbe=(t,e,n)=>{switch(t.type.unit){case St.SECOND:return eW(t,e,n);case St.MILLISECOND:return tW(t,e,n);case St.MICROSECOND:return nW(t,e,n);case St.NANOSECOND:return rW(t,e,n)}},qbe=({values:t,stride:e},n,r)=>{t.set(r.subarray(0,e),e*n)},Vbe=(t,e,n)=>{const r=t.children[0],i=t.valueOffsets,s=Tl.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n.get(++o))},Xbe=(t,e,n)=>{const r=t.children[0],{valueOffsets:i}=t,s=Tl.getVisitFn(r);let{[e]:o,[e+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},Zbe=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[s]),Wbe=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(s)),Ybe=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(i.name)),Gbe=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[i.name]),Hbe=(t,e,n)=>{const r=t.type.children.map(s=>Tl.getVisitFn(s.type)),i=n instanceof Map?Ybe(e,n):n instanceof Wn?Wbe(e,n):Array.isArray(n)?Zbe(e,n):Gbe(e,n);t.type.children.forEach((s,o)=>i(r[o],t.children[o],s,o))},Kbe=(t,e,n)=>{t.type.mode===Us.Dense?iW(t,e,n):sW(t,e,n)},iW=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Tl.visit(i,t.valueOffsets[e],n)},sW=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];Tl.visit(i,e,n)},Jbe=(t,e,n)=>{var r;(r=t.dictionary)===null||r===void 0||r.set(t.values[e],n)},eve=(t,e,n)=>{t.type.unit===Ac.DAY_TIME?oW(t,e,n):aW(t,e,n)},oW=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},aW=({values:t},e,n)=>{t[e]=n[0]*12+n[1]%12},lW=({values:t},e,n)=>{t[e]=n},uW=({values:t},e,n)=>{t[e]=n},cW=({values:t},e,n)=>{t[e]=n},fW=({values:t},e,n)=>{t[e]=n},tve=(t,e,n)=>{switch(t.type.unit){case St.SECOND:return lW(t,e,n);case St.MILLISECOND:return uW(t,e,n);case St.MICROSECOND:return cW(t,e,n);case St.NANOSECOND:return fW(t,e,n)}},nve=(t,e,n)=>{const{stride:r}=t,i=t.children[0],s=Tl.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=e*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,n.get(o))};kt.prototype.visitBool=Dt(Nbe);kt.prototype.visitInt=Dt(ch);kt.prototype.visitInt8=Dt(ch);kt.prototype.visitInt16=Dt(ch);kt.prototype.visitInt32=Dt(ch);kt.prototype.visitInt64=Dt(ch);kt.prototype.visitUint8=Dt(ch);kt.prototype.visitUint16=Dt(ch);kt.prototype.visitUint32=Dt(ch);kt.prototype.visitUint64=Dt(ch);kt.prototype.visitFloat=Dt(Qbe);kt.prototype.visitFloat16=Dt(VZ);kt.prototype.visitFloat32=Dt(BP);kt.prototype.visitFloat64=Dt(BP);kt.prototype.visitUtf8=Dt(YZ);kt.prototype.visitLargeUtf8=Dt(YZ);kt.prototype.visitBinary=Dt(WZ);kt.prototype.visitLargeBinary=Dt(WZ);kt.prototype.visitFixedSizeBinary=Dt(Bbe);kt.prototype.visitDate=Dt(zbe);kt.prototype.visitDateDay=Dt(XZ);kt.prototype.visitDateMillisecond=Dt(ZZ);kt.prototype.visitTimestamp=Dt(Ube);kt.prototype.visitTimestampSecond=Dt(GZ);kt.prototype.visitTimestampMillisecond=Dt(HZ);kt.prototype.visitTimestampMicrosecond=Dt(KZ);kt.prototype.visitTimestampNanosecond=Dt(JZ);kt.prototype.visitTime=Dt(jbe);kt.prototype.visitTimeSecond=Dt(eW);kt.prototype.visitTimeMillisecond=Dt(tW);kt.prototype.visitTimeMicrosecond=Dt(nW);kt.prototype.visitTimeNanosecond=Dt(rW);kt.prototype.visitDecimal=Dt(qbe);kt.prototype.visitList=Dt(Vbe);kt.prototype.visitStruct=Dt(Hbe);kt.prototype.visitUnion=Dt(Kbe);kt.prototype.visitDenseUnion=Dt(iW);kt.prototype.visitSparseUnion=Dt(sW);kt.prototype.visitDictionary=Dt(Jbe);kt.prototype.visitInterval=Dt(eve);kt.prototype.visitIntervalDayTime=Dt(oW);kt.prototype.visitIntervalYearMonth=Dt(aW);kt.prototype.visitDuration=Dt(tve);kt.prototype.visitDurationSecond=Dt(lW);kt.prototype.visitDurationMillisecond=Dt(uW);kt.prototype.visitDurationMicrosecond=Dt(cW);kt.prototype.visitDurationNanosecond=Dt(fW);kt.prototype.visitFixedSizeList=Dt(nve);kt.prototype.visitMap=Dt(Xbe);const Tl=new kt,Zl=Symbol.for("parent"),mg=Symbol.for("rowIndex");class zP{constructor(e,n){return this[Zl]=e,this[mg]=n,new Proxy(this,new ive)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[mg],n=this[Zl],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=na.visit(n.children[s],e);return i}toString(){return`{${[...this].map(([e,n])=>`${_v(e)}: ${_v(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new rve(this[Zl],this[mg])}}class rve{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,na.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(zP.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Zl]:{writable:!0,enumerable:!1,configurable:!1,value:null},[mg]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class ive{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Zl].type.children.map(n=>n.name)}has(e,n){return e[Zl].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[Zl].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[Zl].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=na.visit(e[Zl].children[r],e[mg]);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[Zl].type.children.findIndex(s=>s.name===n);return i!==-1?(Tl.visit(e[Zl].children[i],e[mg],r),Reflect.set(e,n,r)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,r):!1}}class bt extends tn{}function Ct(t){return(e,n)=>e.getValid(n)?t(e,n):null}const sve=(t,e)=>864e5*t[e],ove=(t,e)=>null,hW=(t,e,n)=>{if(n+1>=e.length)return null;const r=br(e[n]),i=br(e[n+1]);return t.subarray(r,i)},ave=({offset:t,values:e},n)=>{const r=t+n;return(e[r>>3]&1<<r%8)!==0},dW=({values:t},e)=>sve(t,e),pW=({values:t},e)=>br(t[e]),Zd=({stride:t,values:e},n)=>e[t*n],lve=({stride:t,values:e},n)=>jZ(e[t*n]),mW=({values:t},e)=>t[e],uve=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),gW=({values:t,valueOffsets:e},n)=>hW(t,e,n),yW=({values:t,valueOffsets:e},n)=>{const r=hW(t,e,n);return r!==null?IE(r):null},cve=({values:t},e)=>t[e],fve=({type:t,values:e},n)=>t.precision!==Is.HALF?e[n]:jZ(e[n]),hve=(t,e)=>t.type.unit===El.DAY?dW(t,e):pW(t,e),bW=({values:t},e)=>1e3*br(t[e]),vW=({values:t},e)=>br(t[e]),OW=({values:t},e)=>bZ(t[e],BigInt(1e3)),wW=({values:t},e)=>bZ(t[e],BigInt(1e6)),dve=(t,e)=>{switch(t.type.unit){case St.SECOND:return bW(t,e);case St.MILLISECOND:return vW(t,e);case St.MICROSECOND:return OW(t,e);case St.NANOSECOND:return wW(t,e)}},xW=({values:t},e)=>t[e],_W=({values:t},e)=>t[e],SW=({values:t},e)=>t[e],kW=({values:t},e)=>t[e],pve=(t,e)=>{switch(t.type.unit){case St.SECOND:return xW(t,e);case St.MILLISECOND:return _W(t,e);case St.MICROSECOND:return SW(t,e);case St.NANOSECOND:return kW(t,e)}},mve=({values:t,stride:e},n)=>QP.decimal(t.subarray(e*n,e*(n+1))),gve=(t,e)=>{const{valueOffsets:n,stride:r,children:i}=t,{[e*r]:s,[e*r+1]:o}=n,l=i[0].slice(s,o-s);return new Wn([l])},yve=(t,e)=>{const{valueOffsets:n,children:r}=t,{[e]:i,[e+1]:s}=n,o=r[0];return new UP(o.slice(i,s-i))},bve=(t,e)=>new zP(t,e),vve=(t,e)=>t.type.mode===Us.Dense?CW(t,e):AW(t,e),CW=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return na.visit(r,t.valueOffsets[e])},AW=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return na.visit(r,e)},Ove=(t,e)=>{var n;return(n=t.dictionary)===null||n===void 0?void 0:n.get(t.values[e])},wve=(t,e)=>t.type.unit===Ac.DAY_TIME?EW(t,e):TW(t,e),EW=({values:t},e)=>t.subarray(2*e,2*(e+1)),TW=({values:t},e)=>{const n=t[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},DW=({values:t},e)=>t[e],PW=({values:t},e)=>t[e],RW=({values:t},e)=>t[e],$W=({values:t},e)=>t[e],xve=(t,e)=>{switch(t.type.unit){case St.SECOND:return DW(t,e);case St.MILLISECOND:return PW(t,e);case St.MICROSECOND:return RW(t,e);case St.NANOSECOND:return $W(t,e)}},_ve=(t,e)=>{const{stride:n,children:r}=t,s=r[0].slice(e*n,n);return new Wn([s])};bt.prototype.visitNull=Ct(ove);bt.prototype.visitBool=Ct(ave);bt.prototype.visitInt=Ct(cve);bt.prototype.visitInt8=Ct(Zd);bt.prototype.visitInt16=Ct(Zd);bt.prototype.visitInt32=Ct(Zd);bt.prototype.visitInt64=Ct(mW);bt.prototype.visitUint8=Ct(Zd);bt.prototype.visitUint16=Ct(Zd);bt.prototype.visitUint32=Ct(Zd);bt.prototype.visitUint64=Ct(mW);bt.prototype.visitFloat=Ct(fve);bt.prototype.visitFloat16=Ct(lve);bt.prototype.visitFloat32=Ct(Zd);bt.prototype.visitFloat64=Ct(Zd);bt.prototype.visitUtf8=Ct(yW);bt.prototype.visitLargeUtf8=Ct(yW);bt.prototype.visitBinary=Ct(gW);bt.prototype.visitLargeBinary=Ct(gW);bt.prototype.visitFixedSizeBinary=Ct(uve);bt.prototype.visitDate=Ct(hve);bt.prototype.visitDateDay=Ct(dW);bt.prototype.visitDateMillisecond=Ct(pW);bt.prototype.visitTimestamp=Ct(dve);bt.prototype.visitTimestampSecond=Ct(bW);bt.prototype.visitTimestampMillisecond=Ct(vW);bt.prototype.visitTimestampMicrosecond=Ct(OW);bt.prototype.visitTimestampNanosecond=Ct(wW);bt.prototype.visitTime=Ct(pve);bt.prototype.visitTimeSecond=Ct(xW);bt.prototype.visitTimeMillisecond=Ct(_W);bt.prototype.visitTimeMicrosecond=Ct(SW);bt.prototype.visitTimeNanosecond=Ct(kW);bt.prototype.visitDecimal=Ct(mve);bt.prototype.visitList=Ct(gve);bt.prototype.visitStruct=Ct(bve);bt.prototype.visitUnion=Ct(vve);bt.prototype.visitDenseUnion=Ct(CW);bt.prototype.visitSparseUnion=Ct(AW);bt.prototype.visitDictionary=Ct(Ove);bt.prototype.visitInterval=Ct(wve);bt.prototype.visitIntervalDayTime=Ct(EW);bt.prototype.visitIntervalYearMonth=Ct(TW);bt.prototype.visitDuration=Ct(xve);bt.prototype.visitDurationSecond=Ct(DW);bt.prototype.visitDurationMillisecond=Ct(PW);bt.prototype.visitDurationMicrosecond=Ct(RW);bt.prototype.visitDurationNanosecond=Ct($W);bt.prototype.visitFixedSizeList=Ct(_ve);bt.prototype.visitMap=Ct(yve);const na=new bt,Bm=Symbol.for("keys"),gg=Symbol.for("vals"),zm=Symbol.for("kKeysAsStrings"),BE=Symbol.for("_kKeysAsStrings");class UP{constructor(e){return this[Bm]=new Wn([e.children[0]]).memoize(),this[gg]=e.children[1],new Proxy(this,new kve)}get[zm](){return this[BE]||(this[BE]=Array.from(this[Bm].toArray(),String))}[Symbol.iterator](){return new Sve(this[Bm],this[gg])}get size(){return this[Bm].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Bm],n=this[gg],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=na.visit(n,i);return r}toString(){return`{${[...this].map(([e,n])=>`${_v(e)}: ${_v(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Sve{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),na.visit(this.vals,e)]})}}class kve{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[zm]}has(e,n){return e[zm].includes(n)}getOwnPropertyDescriptor(e,n){if(e[zm].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[zm].indexOf(n);if(r!==-1){const i=na.visit(Reflect.get(e,gg),r);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[zm].indexOf(n);return i!==-1?(Tl.visit(Reflect.get(e,gg),i,r),Reflect.set(e,n,r)):Reflect.has(e,n)?Reflect.set(e,n,r):!1}}Object.defineProperties(UP.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Bm]:{writable:!0,enumerable:!1,configurable:!1,value:null},[gg]:{writable:!0,enumerable:!1,configurable:!1,value:null},[BE]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let qM;function IW(t,e,n,r){const{length:i=0}=t;let s=typeof e!="number"?0:e,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(qM=s,s=o,o=qM),o>i&&(o=i),r?r(t,s,o):[s,o]}const jP=(t,e)=>t<0?e+t:t,VM=t=>t!==t;function W1(t){if(typeof t!=="object"||t===null)return VM(t)?VM:n=>n===t;if(t instanceof Date){const n=t.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(t)?n=>n?_be(t,n):!1:t instanceof Map?Ave(t):Array.isArray(t)?Cve(t):t instanceof Wn?Eve(t):Tve(t,!0)}function Cve(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=W1(t[n]);return Wk(e)}function Ave(t){let e=-1;const n=[];for(const r of t.values())n[++e]=W1(r);return Wk(n)}function Eve(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=W1(t.get(n));return Wk(e)}function Tve(t,e=!1){const n=Object.keys(t);if(!e&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=W1(t[n[i]]);return Wk(r,n)}function Wk(t,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Dve(t,n);case Map:return XM(t,n,n.keys());case UP:case zP:case Object:case void 0:return XM(t,n,e||Object.keys(n))}return n instanceof Wn?Pve(t,n):!1}}function Dve(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e[r]))return!1;return!0}function Pve(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e.get(r)))return!1;return!0}function XM(t,e,n){const r=n[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!t[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function FW(t,e,n,r){return(n&1<<r)!==0}function Rve(t,e,n,r){return(n&1<<r)>>r}function xS(t,e,n){const r=n.byteLength+7&-8;if(t>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(t%8===0?n.subarray(t>>3):_S(new qP(n,t,e,null,FW)).subarray(0,r)),i}return n}function _S(t){const e=[];let n=0,r=0,i=0;for(const o of t)o&&(i|=1<<r),++r===8&&(e[n++]=i,i=r=0);(n===0||r>0)&&(e[n++]=i);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class qP{constructor(e,n,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function zE(t,e,n){if(n-e<=0)return 0;if(n-e<8){let s=0;for(const o of new qP(t,e,n-e,t,Rve))s+=o;return s}const r=n>>3<<3,i=e+(e%8===0?0:8-e%8);return zE(t,e,i)+zE(t,r,n)+$ve(t,i>>3,r-i>>3)}function $ve(t,e,n){let r=0,i=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=n===void 0?t.byteLength:i+n;for(;o-i>=4;)r+=j5(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=j5(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=j5(s.getUint8(i)),i+=1;return r}function j5(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const Ive=-1;class Jn{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return ct.isSparseUnion(e)?this.children.some(n=>n.nullable):ct.isDenseUnion(e)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){if(ct.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let e=this._nullCount,n;return e<=Ive&&(n=this.nullBitmap)&&(this._nullCount=e=n.length===0?0:this.length-zE(n,this.offset,this.offset+this.length)),e}constructor(e,n,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof Jn?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=Of(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(e){const{type:n}=this;if(ct.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[e]]],s=r.mode===Us.Dense?this.valueOffsets[e]:e;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+e;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(e,n){let r;const{type:i}=this;if(ct.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[e]]],a=s.mode===Us.Dense?this.valueOffsets[e]:e;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+e,u=1<<l%8,c=l>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0?(s.set(xS(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s})):Object.assign(this,{nullBitmap:s,_nullCount:0}));const f=s[c];r=(f&u)!==0,s[c]=n?f|u:f&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(e=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new Jn(e,n,r,i,s,o,this.dictionary)}slice(e,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,n,r,i);return this.clone(this.type,this.offset+e,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===G.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:r}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(xS(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[vf.VALIDITY]=i,this.clone(this.type,0,e,r+(e-n),s)}_sliceBuffers(e,n,r,i){let s;const{buffers:o}=this;return(s=o[vf.TYPE])&&(o[vf.TYPE]=s.subarray(e,e+n)),(s=o[vf.OFFSET])&&(o[vf.OFFSET]=s.subarray(e,e+n+1))||(s=o[vf.DATA])&&(o[vf.DATA]=i===6?s:s.subarray(r*e,r*(e+n))),o}_sliceChildren(e,n,r){return e.map(i=>i.slice(n,r))}}Jn.prototype.children=Object.freeze([]);class Zb extends tn{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=e;return new Jn(n,r,i,i)}visitBool(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitInt(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitFloat(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.data),s=Sn(e.nullBitmap),o=Qy(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Jn(n,r,a,l,[o,i,s])}visitLargeUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.data),s=Sn(e.nullBitmap),o=$M(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Jn(n,r,a,l,[o,i,s])}visitBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.data),s=Sn(e.nullBitmap),o=Qy(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Jn(n,r,a,l,[o,i,s])}visitLargeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.data),s=Sn(e.nullBitmap),o=$M(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Jn(n,r,a,l,[o,i,s])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length/Of(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitDate(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length/Of(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitTimestamp(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length/Of(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitTime(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length/Of(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitDecimal(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length/Of(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitList(e){const{["type"]:n,["offset"]:r=0,["child"]:i}=e,s=Sn(e.nullBitmap),o=Qy(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Jn(n,r,a,l,[o,void 0,s],[i])}visitStruct(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=Sn(e.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,void 0,s],i)}visitUnion(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=tr(n.ArrayType,e.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=e;if(ct.isSparseUnion(n))return new Jn(n,r,o,a,[void 0,void 0,void 0,s],i);const l=Qy(e.valueOffsets);return new Jn(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.indices.ArrayType,e.data),{["dictionary"]:o=new Wn([new Zb().visit({type:n.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Jn(n,r,a,l,[void 0,s,i],[],o)}visitInterval(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length/Of(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitDuration(e){const{["type"]:n,["offset"]:r=0}=e,i=Sn(e.nullBitmap),s=tr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,s,i])}visitFixedSizeList(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new Zb().visit({type:n.valueType})}=e,s=Sn(e.nullBitmap),{["length"]:o=i.length/Of(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new Jn(n,r,o,a,[void 0,void 0,s],[i])}visitMap(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new Zb().visit({type:n.childType})}=e,s=Sn(e.nullBitmap),o=Qy(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new Jn(n,r,a,l,[o,void 0,s],[i])}}const Fve=new Zb;function rn(t){return Fve.visit(t)}class ZM{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Mve(t){return t.some(e=>e.nullable)}function MW(t){return t.reduce((e,n)=>e+n.nullCount,0)}function LW(t){return t.reduce((e,n,r)=>(e[r+1]=e[r]+n.length,e),new Uint32Array(t.length+1))}function NW(t,e,n,r){const i=[];for(let s=-1,o=t.length;++s<o;){const a=t[s],l=e[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),f=Math.min(r-l,u);i.push(a.slice(c,f-c))}return i.length===0&&i.push(t[0].slice(0,0)),i}function VP(t,e,n,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return n<e[o]?r(t,i,n-e[i]):null;s=i+Math.trunc((o-i)*.5),n<e[s]?o=s:i=s}while(i<o)}function XP(t,e){return t.getValid(e)}function SS(t){function e(n,r,i){return t(n[r],i)}return function(n){const r=this.data;return VP(r,this._offsets,n,e)}}function QW(t){let e;function n(r,i,s){return t(r[i],s,e)}return function(r,i){const s=this.data;e=i;const o=VP(s,this._offsets,r,n);return e=void 0,o}}function BW(t){let e;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const f=r[u];if(~(a=t(f,e,o)))return l+a;o=0,l+=f.length}return-1}return function(r,i){e=r;const s=this.data,o=typeof i!="number"?n(s,0,0):VP(s,this._offsets,i,n);return e=void 0,o}}class vt extends tn{}function Lve(t,e){return e===null&&t.length>0?0:-1}function Nve(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let r=0;for(const i of new qP(n,t.offset+(e||0),t.length,n,FW)){if(!i)return r;++r}return-1}function $t(t,e,n){if(e===void 0)return-1;if(e===null)switch(t.typeId){case G.Union:break;case G.Dictionary:break;default:return Nve(t,n)}const r=na.getVisitFn(t),i=W1(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}function zW(t,e,n){const r=na.getVisitFn(t),i=W1(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}vt.prototype.visitNull=Lve;vt.prototype.visitBool=$t;vt.prototype.visitInt=$t;vt.prototype.visitInt8=$t;vt.prototype.visitInt16=$t;vt.prototype.visitInt32=$t;vt.prototype.visitInt64=$t;vt.prototype.visitUint8=$t;vt.prototype.visitUint16=$t;vt.prototype.visitUint32=$t;vt.prototype.visitUint64=$t;vt.prototype.visitFloat=$t;vt.prototype.visitFloat16=$t;vt.prototype.visitFloat32=$t;vt.prototype.visitFloat64=$t;vt.prototype.visitUtf8=$t;vt.prototype.visitLargeUtf8=$t;vt.prototype.visitBinary=$t;vt.prototype.visitLargeBinary=$t;vt.prototype.visitFixedSizeBinary=$t;vt.prototype.visitDate=$t;vt.prototype.visitDateDay=$t;vt.prototype.visitDateMillisecond=$t;vt.prototype.visitTimestamp=$t;vt.prototype.visitTimestampSecond=$t;vt.prototype.visitTimestampMillisecond=$t;vt.prototype.visitTimestampMicrosecond=$t;vt.prototype.visitTimestampNanosecond=$t;vt.prototype.visitTime=$t;vt.prototype.visitTimeSecond=$t;vt.prototype.visitTimeMillisecond=$t;vt.prototype.visitTimeMicrosecond=$t;vt.prototype.visitTimeNanosecond=$t;vt.prototype.visitDecimal=$t;vt.prototype.visitList=$t;vt.prototype.visitStruct=$t;vt.prototype.visitUnion=$t;vt.prototype.visitDenseUnion=zW;vt.prototype.visitSparseUnion=zW;vt.prototype.visitDictionary=$t;vt.prototype.visitInterval=$t;vt.prototype.visitIntervalDayTime=$t;vt.prototype.visitIntervalYearMonth=$t;vt.prototype.visitDuration=$t;vt.prototype.visitDurationSecond=$t;vt.prototype.visitDurationMillisecond=$t;vt.prototype.visitDurationMicrosecond=$t;vt.prototype.visitDurationNanosecond=$t;vt.prototype.visitFixedSizeList=$t;vt.prototype.visitMap=$t;const kS=new vt;class Ot extends tn{}function At(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(ct.isInt(e)&&e.bitWidth!==64||ct.isTime(e)&&e.bitWidth!==64||ct.isFloat(e)&&e.precision!==Is.HALF))return new ZM(t.data.length,r=>{const i=t.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new ZM(t.data.length,r=>{const s=t.data[r].length,o=t.slice(n,n+s);return n+=s,new Qve(o)})}class Qve{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ot.prototype.visitNull=At;Ot.prototype.visitBool=At;Ot.prototype.visitInt=At;Ot.prototype.visitInt8=At;Ot.prototype.visitInt16=At;Ot.prototype.visitInt32=At;Ot.prototype.visitInt64=At;Ot.prototype.visitUint8=At;Ot.prototype.visitUint16=At;Ot.prototype.visitUint32=At;Ot.prototype.visitUint64=At;Ot.prototype.visitFloat=At;Ot.prototype.visitFloat16=At;Ot.prototype.visitFloat32=At;Ot.prototype.visitFloat64=At;Ot.prototype.visitUtf8=At;Ot.prototype.visitLargeUtf8=At;Ot.prototype.visitBinary=At;Ot.prototype.visitLargeBinary=At;Ot.prototype.visitFixedSizeBinary=At;Ot.prototype.visitDate=At;Ot.prototype.visitDateDay=At;Ot.prototype.visitDateMillisecond=At;Ot.prototype.visitTimestamp=At;Ot.prototype.visitTimestampSecond=At;Ot.prototype.visitTimestampMillisecond=At;Ot.prototype.visitTimestampMicrosecond=At;Ot.prototype.visitTimestampNanosecond=At;Ot.prototype.visitTime=At;Ot.prototype.visitTimeSecond=At;Ot.prototype.visitTimeMillisecond=At;Ot.prototype.visitTimeMicrosecond=At;Ot.prototype.visitTimeNanosecond=At;Ot.prototype.visitDecimal=At;Ot.prototype.visitList=At;Ot.prototype.visitStruct=At;Ot.prototype.visitUnion=At;Ot.prototype.visitDenseUnion=At;Ot.prototype.visitSparseUnion=At;Ot.prototype.visitDictionary=At;Ot.prototype.visitInterval=At;Ot.prototype.visitIntervalDayTime=At;Ot.prototype.visitIntervalYearMonth=At;Ot.prototype.visitDuration=At;Ot.prototype.visitDurationSecond=At;Ot.prototype.visitDurationMillisecond=At;Ot.prototype.visitDurationMicrosecond=At;Ot.prototype.visitDurationNanosecond=At;Ot.prototype.visitFixedSizeList=At;Ot.prototype.visitMap=At;const ZP=new Ot;var UW;const jW={},qW={};class Wn{constructor(e){var n,r,i;const s=e[0]instanceof Wn?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof Jn)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u}=jW[o.typeId],c=s[0];this.isValid=f=>XP(c,f),this.get=f=>a(c,f),this.set=(f,h)=>l(c,f,h),this.indexOf=f=>u(c,f),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,qW[o.typeId]),this._offsets=LW(s);break}this.data=s,this.type=o,this.stride=Of(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,n)=>e+n.byteLength,0)}get nullable(){return Mve(this.data)}get nullCount(){return MW(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${G[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(jP(e,this.length))}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>-1}[Symbol.iterator](){return ZP.visit(this)}concat(...e){return new Wn(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new Wn(IW(this,e,n,({data:r,_offsets:i},s,o)=>NW(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case G.Int:case G.Float:case G.Decimal:case G.Time:case G.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Wn(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return ct.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(ct.isDictionary(this.type)){const e=new CS(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new Wn(n)}return new CS(this)}unmemoize(){if(ct.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new Wn(n)}return this}}UW=Symbol.toStringTag;Wn[UW]=(t=>{t.type=ct.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(G).map(n=>G[n]).filter(n=>typeof n=="number"&&n!==G.NONE);for(const n of e){const r=na.getVisitFnByTypeId(n),i=Tl.getVisitFnByTypeId(n),s=kS.getVisitFnByTypeId(n);jW[n]={get:r,set:i,indexOf:s},qW[n]=Object.create(t,{isValid:{value:SS(XP)},get:{value:SS(na.getVisitFnByTypeId(n))},set:{value:QW(Tl.getVisitFnByTypeId(n))},indexOf:{value:BW(kS.getVisitFnByTypeId(n))}})}return"Vector"})(Wn.prototype);class CS extends Wn{constructor(e){super(e.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new CS(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Wn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class UE{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,r,i){return e.prep(8,24),e.writeInt64(BigInt(i??0)),e.pad(4),e.writeInt32(r),e.writeInt64(BigInt(n??0)),e.offset()}}class Ca{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new Ca).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+Kn),(n||new Ca).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):xi.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Uu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new UE).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new UE).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Yi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,xi.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}let ti=class gp{constructor(e=[],n,r,i=xi.V5){this.fields=e||[],this.metadata=n||new Map,r||(r=jE(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),r=this.fields.filter(i=>n.has(i.name));return new gp(r,this.metadata)}selectAt(e){const n=e.map(r=>this.fields[r]).filter(Boolean);return new gp(n,this.metadata)}assign(...e){const n=e[0]instanceof gp?e[0]:Array.isArray(e[0])?new gp(e[0]):new gp(e),r=[...this.fields],i=_w(_w(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:_w(_w(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=jE(s,new Map);return new gp([...r,...s],i,new Map([...this.dictionaries,...o]))}};ti.prototype.fields=null;ti.prototype.metadata=null;ti.prototype.dictionaries=null;class Lr{static new(...e){let[n,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Lr(`${n}`,r,i,s)}constructor(e,n,r=!1,i){this.name=e,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],Lr.new(n,r,i,s)}}Lr.prototype.type=null;Lr.prototype.name=null;Lr.prototype.nullable=null;Lr.prototype.metadata=null;function _w(t,e){return new Map([...t||new Map,...e||new Map])}function jE(t,e=new Map){for(let n=-1,r=t.length;++n<r;){const s=t[n].type;if(ct.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&jE(s.children,e)}return e}var Bve=pZ,zve=Kg;class Av{static decode(e){e=new zve(Sn(e));const n=Ca.getRootAsFooter(e),r=ti.decode(n.schema(),new Map,n.version());return new Uve(r,n)}static encode(e){const n=new Bve,r=ti.encode(n,e.schema);Ca.startRecordBatchesVector(n,e.numRecordBatches);for(const o of[...e.recordBatches()].slice().reverse())Td.encode(n,o);const i=n.endVector();Ca.startDictionariesVector(n,e.numDictionaries);for(const o of[...e.dictionaryBatches()].slice().reverse())Td.encode(n,o);const s=n.endVector();return Ca.startFooter(n),Ca.addSchema(n,r),Ca.addVersion(n,xi.V5),Ca.addRecordBatches(n,i),Ca.addDictionaries(n,s),Ca.finishFooterBuffer(n,Ca.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=xi.V5,r,i){this.schema=e,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let e,n=-1,r=this.numRecordBatches;++n<r;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,r=this.numDictionaries;++n<r;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class Uve extends Av{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return Td.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return Td.decode(n)}return null}}class Td{static decode(e){return new Td(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return UE.createBlock(e,i,r,s)}constructor(e,n,r){this.metaDataLength=e,this.offset=br(r),this.bodyLength=br(n)}}const ri=Object.freeze({done:!0,value:void 0});class WM{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class WP{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class jve extends WP{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return It(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(ri);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return ll.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return ll.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return It(this,void 0,void 0,function*(){return yield this.abort(e),ri})}return(e){return It(this,void 0,void 0,function*(){return yield this.close(),ri})}read(e){return It(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return It(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(ri)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Xx extends jve{write(e){if((e=Sn(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?IE(this.toUint8Array(!0)):this.toUint8Array(!1).then(IE)}toUint8Array(e=!1){return e?Cc(this._values)[0]:It(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=e0(this),c;c=yield u.next(),n=c.done,!n;l=!0){s=c.value,l=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return Cc(o,a)[0]})}}class AS{constructor(e){e&&(this.source=new qve(ll.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class t1{constructor(e){e instanceof t1?this.source=e.source:e instanceof Xx?this.source=new cp(ll.fromAsyncIterable(e)):cZ(e)?this.source=new cp(ll.fromNodeStream(e)):LP(e)?this.source=new cp(ll.fromDOMStream(e)):uZ(e)?this.source=new cp(ll.fromDOMStream(e.body)):NO(e)?this.source=new cp(ll.fromIterable(e)):b0(e)?this.source=new cp(ll.fromAsyncIterable(e)):Z1(e)&&(this.source=new cp(ll.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class qve{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,n="read"){return this.source.next({cmd:n,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||ri)}return(e){return Object.create(this.source.return&&this.source.return(e)||ri)}}class cp{constructor(e){this.source=e,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(e){return It(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return It(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return It(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e){return It(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(e){return It(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(e))||ri;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(e){return It(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(e))||ri;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class YM extends AS{constructor(e,n){super(),this.position=0,this.buffer=Sn(e),this.size=n===void 0?this.buffer.byteLength:n}readInt32(e){const{buffer:n,byteOffset:r}=this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),n.subarray(i,this.position)):null}readAt(e,n){const r=this.buffer,i=Math.min(this.size,e+n);return r?r.subarray(e,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class ES extends t1{constructor(e,n){super(),this.position=0,this._handle=e,typeof n=="number"?this.size=n:this._pending=It(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return It(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)})}seek(e){return It(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return It(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,e)),u=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=yield n.read(u,o,u.byteLength-o,s));return u}return null})}readAt(e,n){return It(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&e+n<i){const s=Math.min(i,e+n),o=new Uint8Array(s-e);return(yield r.read(o,0,n,e)).buffer}return new Uint8Array(n)})}close(){return It(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return It(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return It(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const Vve=65536;function Ym(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const n1=8,YP=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class VW{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?Vve:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(e){const n=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${Ym(this.buffer[1])} ${Ym(this.buffer[0])}`}}class er extends VW{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,n=new Uint32Array(2)){return er.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return er.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.length,i=new er(n);for(let s=0;s<r;){const o=n1<r-s?n1:r-s,a=new er(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new er(new Uint32Array([YP[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)er.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new er(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new er(new Uint32Array(e.buffer)).plus(n)}}class Ro extends VW{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const n=this.buffer[1]<<0,r=e.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<e.buffer[0]}static from(e,n=new Uint32Array(2)){return Ro.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return Ro.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.startsWith("-"),i=e.length,s=new Ro(n);for(let o=r?1:0;o<i;){const a=n1<i-o?n1:i-o,l=new Ro(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),u=new Ro(new Uint32Array([YP[a],0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Ro.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new Ro(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new Ro(new Uint32Array(e.buffer)).plus(n)}}class ju{constructor(e){this.buffer=e}high(){return new Ro(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Ro(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const n=new er(new Uint32Array([this.buffer[3],0])),r=new er(new Uint32Array([this.buffer[2],0])),i=new er(new Uint32Array([this.buffer[1],0])),s=new er(new Uint32Array([this.buffer[0],0])),o=new er(new Uint32Array([e.buffer[3],0])),a=new er(new Uint32Array([e.buffer[2],0])),l=new er(new Uint32Array([e.buffer[1],0])),u=new er(new Uint32Array([e.buffer[0],0]));let c=er.multiply(s,u);this.buffer[0]=c.low();const f=new er(new Uint32Array([c.high(),0]));return c=er.multiply(i,u),f.plus(c),c=er.multiply(s,l),f.plus(c),this.buffer[1]=f.low(),this.buffer[3]=f.lessThan(c)?1:0,this.buffer[2]=f.high(),new er(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(er.multiply(r,u)).plus(er.multiply(i,l)).plus(er.multiply(s,a)),this.buffer[3]+=er.multiply(n,u).plus(er.multiply(r,l)).plus(er.multiply(i,a)).plus(er.multiply(s,o)).low(),this}plus(e){const n=new Uint32Array(4);return n[3]=this.buffer[3]+e.buffer[3]>>>0,n[2]=this.buffer[2]+e.buffer[2]>>>0,n[1]=this.buffer[1]+e.buffer[1]>>>0,n[0]=this.buffer[0]+e.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${Ym(this.buffer[3])} ${Ym(this.buffer[2])} ${Ym(this.buffer[1])} ${Ym(this.buffer[0])}`}static multiply(e,n){return new ju(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new ju(new Uint32Array(e.buffer)).plus(n)}static from(e,n=new Uint32Array(4)){return ju.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(4)){return ju.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(4)){const r=e.startsWith("-"),i=e.length,s=new ju(n);for(let o=r?1:0;o<i;){const a=n1<i-o?n1:i-o,l=new ju(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),u=new ju(new Uint32Array([YP[a],0,0,0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)ju.from(e[r],new Uint32Array(n.buffer,n.byteOffset+16*r,4));return n}}class XW extends tn{constructor(e,n,r,i,s=xi.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=s}visit(e){return super.visit(e instanceof Lr?e.type:e)}visitNull(e,{length:n}=this.nextFieldNode()){return rn({type:e,length:n})}visitBool(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<xi.V5&&this.readNullBitmap(e,r),e.mode===Us.Sparse?this.visitSparseUnion(e,{length:n,nullCount:r}):this.visitDenseUnion(e,{length:n,nullCount:r})}visitDenseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDuration(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:n,nullCount:r}=this.nextFieldNode()){return rn({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,n,r=this.nextBufferRange()){return n>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,n){return this.readData(e,n)}readTypeIds(e,n){return this.readData(e,n)}readData(e,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(e){return this.dictionaries.get(e.id)}}class Xve extends XW{constructor(e,n,r,i,s){super(new Uint8Array(0),n,r,i,s),this.sources=e}readNullBitmap(e,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):_S(this.sources[r])}readOffsets(e,{offset:n}=this.nextBufferRange()){return tr(Uint8Array,tr(e.OffsetArrayType,this.sources[n]))}readTypeIds(e,{offset:n}=this.nextBufferRange()){return tr(Uint8Array,tr(e.ArrayType,this.sources[n]))}readData(e,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return ct.isTimestamp(e)||(ct.isInt(e)||ct.isTime(e))&&e.bitWidth===64||ct.isDuration(e)||ct.isDate(e)&&e.unit===El.MILLISECOND?tr(Uint8Array,Ro.convertArray(r[n])):ct.isDecimal(e)?tr(Uint8Array,ju.convertArray(r[n])):ct.isBinary(e)||ct.isLargeBinary(e)||ct.isFixedSizeBinary(e)?Zve(r[n]):ct.isBool(e)?_S(r[n]):ct.isUtf8(e)||ct.isLargeUtf8(e)?MP(r[n].join("")):tr(Uint8Array,tr(e.ArrayType,r[n].map(i=>+i)))}}function Zve(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r>>1]=Number.parseInt(e.slice(r,r+2),16);return n}class wt extends tn{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((r,i)=>this.compareFields(r,n[i]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function xo(t,e){return e instanceof t.constructor}function z0(t,e){return t===e||xo(t,e)}function fh(t,e){return t===e||xo(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function Yk(t,e){return t===e||xo(t,e)&&t.precision===e.precision}function Wve(t,e){return t===e||xo(t,e)&&t.byteWidth===e.byteWidth}function GP(t,e){return t===e||xo(t,e)&&t.unit===e.unit}function QO(t,e){return t===e||xo(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function BO(t,e){return t===e||xo(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function Yve(t,e){return t===e||xo(t,e)&&t.children.length===e.children.length&&Dd.compareManyFields(t.children,e.children)}function Gve(t,e){return t===e||xo(t,e)&&t.children.length===e.children.length&&Dd.compareManyFields(t.children,e.children)}function HP(t,e){return t===e||xo(t,e)&&t.mode===e.mode&&t.typeIds.every((n,r)=>n===e.typeIds[r])&&Dd.compareManyFields(t.children,e.children)}function Hve(t,e){return t===e||xo(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&Dd.visit(t.indices,e.indices)&&Dd.visit(t.dictionary,e.dictionary)}function KP(t,e){return t===e||xo(t,e)&&t.unit===e.unit}function zO(t,e){return t===e||xo(t,e)&&t.unit===e.unit}function Kve(t,e){return t===e||xo(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&Dd.compareManyFields(t.children,e.children)}function Jve(t,e){return t===e||xo(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&Dd.compareManyFields(t.children,e.children)}wt.prototype.visitNull=z0;wt.prototype.visitBool=z0;wt.prototype.visitInt=fh;wt.prototype.visitInt8=fh;wt.prototype.visitInt16=fh;wt.prototype.visitInt32=fh;wt.prototype.visitInt64=fh;wt.prototype.visitUint8=fh;wt.prototype.visitUint16=fh;wt.prototype.visitUint32=fh;wt.prototype.visitUint64=fh;wt.prototype.visitFloat=Yk;wt.prototype.visitFloat16=Yk;wt.prototype.visitFloat32=Yk;wt.prototype.visitFloat64=Yk;wt.prototype.visitUtf8=z0;wt.prototype.visitLargeUtf8=z0;wt.prototype.visitBinary=z0;wt.prototype.visitLargeBinary=z0;wt.prototype.visitFixedSizeBinary=Wve;wt.prototype.visitDate=GP;wt.prototype.visitDateDay=GP;wt.prototype.visitDateMillisecond=GP;wt.prototype.visitTimestamp=QO;wt.prototype.visitTimestampSecond=QO;wt.prototype.visitTimestampMillisecond=QO;wt.prototype.visitTimestampMicrosecond=QO;wt.prototype.visitTimestampNanosecond=QO;wt.prototype.visitTime=BO;wt.prototype.visitTimeSecond=BO;wt.prototype.visitTimeMillisecond=BO;wt.prototype.visitTimeMicrosecond=BO;wt.prototype.visitTimeNanosecond=BO;wt.prototype.visitDecimal=z0;wt.prototype.visitList=Yve;wt.prototype.visitStruct=Gve;wt.prototype.visitUnion=HP;wt.prototype.visitDenseUnion=HP;wt.prototype.visitSparseUnion=HP;wt.prototype.visitDictionary=Hve;wt.prototype.visitInterval=KP;wt.prototype.visitIntervalDayTime=KP;wt.prototype.visitIntervalYearMonth=KP;wt.prototype.visitDuration=zO;wt.prototype.visitDurationSecond=zO;wt.prototype.visitDurationMillisecond=zO;wt.prototype.visitDurationMicrosecond=zO;wt.prototype.visitDurationNanosecond=zO;wt.prototype.visitFixedSizeList=Kve;wt.prototype.visitMap=Jve;const Dd=new wt;function qE(t,e){return Dd.compareSchemas(t,e)}function q5(t,e){return eOe(t,e.map(n=>n.data.concat()))}function eOe(t,e){const n=[...t.fields],r=[],i={numBatches:e.reduce((f,h)=>Math.max(f,h.length),0)};let s=0,o=0,a=-1;const l=e.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=tOe(n,o,c,e,i),o>0&&(r[s++]=rn({type:new lo(n),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(n),r.map(f=>new Bo(t,f))]}function tOe(t,e,n,r,i){var s;const o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u?.length;if(c>=e)c===e?n[a]=u:(n[a]=u.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(e,c-e))));else{const f=t[a];t[a]=f.clone({nullable:!0}),n[a]=(s=u?._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:rn({type:f.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return n}var ZW;let Pd=class yp{constructor(...e){var n,r;if(e.length===0)return this.batches=[],this.schema=new ti([]),this._offsets=[0],this;let i,s;e[0]instanceof ti&&(i=e.shift()),e.at(-1)instanceof Uint32Array&&(s=e.pop());const o=l=>{if(l){if(l instanceof Bo)return[l];if(l instanceof yp)return l.batches;if(l instanceof Jn){if(l.type instanceof lo)return[new Bo(new ti(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(d=>new Wn([l[d]])),f=i??new ti(u.map((d,m)=>new Lr(String(d),c[m].type,c[m].nullable))),[,h]=q5(f,c);return h.length===0?[new Bo(l)]:h}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new ti([]),!(i instanceof ti))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof Bo))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!qE(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??LW(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=MW(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(jP(e,this.numRows))}set(e,n){}indexOf(e,n){return-1}[Symbol.iterator](){return this.batches.length>0?ZP.visit(new Wn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new yp(n,r.map(i=>new Bo(n,i)))}slice(e,n){const r=this.schema;[e,n]=IW({length:this.numRows},e,n);const i=NW(this.data,this._offsets,e,n);return new yp(r,i.map(s=>new Bo(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(r=>r.children[e]);if(n.length===0){const{type:r}=this.schema.fields[e],i=rn({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Wn(n)}return null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new Wn([rn({type:new Ed,length:this.numRows})]));const s=r.fields.slice(),o=s[e].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[e],a[e]]=[o,n],[r,i]=q5(r,a)}return new yp(r,i)}select(e){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(e){const n=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new yp(n,r)}assign(e){const n=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,u)=>{const[c,f]=a,h=n.findIndex(d=>d.name===l.name);return~h?f[h]=u:c.push(u),a},[[],[]]),s=this.schema.assign(e.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new yp(...q5(s,o))}};ZW=Symbol.toStringTag;Pd[ZW]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=SS(XP),t.get=SS(na.getVisitFn(G.Struct)),t.set=QW(Tl.getVisitFn(G.Struct)),t.indexOf=BW(kS.getVisitFn(G.Struct)),"Table"))(Pd.prototype);var WW;let Bo=class kb{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof ti))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=rn({nullCount:0,type:new lo(this.schema.fields),children:this.schema.fields.map(n=>rn({type:n.type,nullCount:0}))})]=e,!(this.data instanceof Jn))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=GM(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=Lr.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new ti(r),a=rn({type:new lo(r),length:s,children:i,nullCount:0});[this.schema,this.data]=GM(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=YW(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return na.visit(this.data,e)}at(e){return this.get(jP(e,this.numRows))}set(e,n){return Tl.visit(this.data,e,n)}indexOf(e,n){return kS.visit(this.data,e,n)}[Symbol.iterator](){return ZP.visit(new Wn([this.data]))}toArray(){return[...this]}concat(...e){return new Pd(this.schema,[this,...e])}slice(e,n){const[r]=new Wn([this.data]).slice(e,n).data;return new kb(this.schema,r)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new Wn([this.data.children[e]]):null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){n||(n=new Wn([rn({type:new Ed,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:n.type});[s[e],o[e]]=[a,n.data[0]],r=new ti(s,new Map(this.schema.metadata)),i=rn({type:new lo(s),children:o})}return new kb(r,i)}select(e){const n=this.schema.select(e),r=new lo(n.fields),i=[];for(const s of e){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new kb(n,rn({type:r,length:this.numRows,children:i}))}selectAt(e){const n=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=rn({type:new lo(n.fields),length:this.numRows,children:r});return new kb(n,i)}};WW=Symbol.toStringTag;Bo[WW]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Bo.prototype);function GM(t,e,n=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...t.fields],s=[...e],o=(n+63&-64)>>3;for(const[a,l]of t.fields.entries()){const u=e[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u?._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:rn({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[t.assign(i),rn({type:new lo(i),length:n,children:s})]}function YW(t,e,n=new Map){var r,i;if(((r=t?.length)!==null&&r!==void 0?r:0)>0&&t?.length===e?.length)for(let s=-1,o=t.length;++s<o;){const{type:a}=t[s],l=e[s];for(const u of[l,...((i=l?.dictionary)===null||i===void 0?void 0:i.data)||[]])YW(a.children,u?.children,n);if(ct.isDictionary(a)){const{id:u}=a;if(!n.has(u))l?.dictionary&&n.set(u,l.dictionary);else if(n.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class JP extends Bo{constructor(e){const n=e.fields.map(i=>rn({type:i.type})),r=rn({type:new lo(e.fields),nullCount:0,children:n});super(e,r)}}let Nh=class Mu{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new Mu).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+Kn),(n||new Mu).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):xi.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):$n.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Yi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,xi.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,$n.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,r,i,s,o){return Mu.startMessage(e),Mu.addVersion(e,n),Mu.addHeaderType(e,r),Mu.addHeader(e,i),Mu.addBodyLength(e,s),Mu.addCustomMetadata(e,o),Mu.endMessage(e)}};class nOe extends tn{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return zM.startNull(n),zM.endNull(n)}visitInt(e,n){return Da.startInt(n),Da.addBitWidth(n,e.bitWidth),Da.addIsSigned(n,e.isSigned),Da.endInt(n)}visitFloat(e,n){return Gu.startFloatingPoint(n),Gu.addPrecision(n,e.precision),Gu.endFloatingPoint(n)}visitBinary(e,n){return MM.startBinary(n),MM.endBinary(n)}visitLargeBinary(e,n){return NM.startLargeBinary(n),NM.endLargeBinary(n)}visitBool(e,n){return LM.startBool(n),LM.endBool(n)}visitUtf8(e,n){return UM.startUtf8(n),UM.endUtf8(n)}visitLargeUtf8(e,n){return QM.startLargeUtf8(n),QM.endLargeUtf8(n)}visitDecimal(e,n){return Im.startDecimal(n),Im.addScale(n,e.scale),Im.addPrecision(n,e.precision),Im.addBitWidth(n,e.bitWidth),Im.endDecimal(n)}visitDate(e,n){return Bx.startDate(n),Bx.addUnit(n,e.unit),Bx.endDate(n)}visitTime(e,n){return fl.startTime(n),fl.addUnit(n,e.unit),fl.addBitWidth(n,e.bitWidth),fl.endTime(n)}visitTimestamp(e,n){const r=e.timezone&&n.createString(e.timezone)||void 0;return hl.startTimestamp(n),hl.addUnit(n,e.unit),r!==void 0&&hl.addTimezone(n,r),hl.endTimestamp(n)}visitInterval(e,n){return Hu.startInterval(n),Hu.addUnit(n,e.unit),Hu.endInterval(n)}visitDuration(e,n){return zx.startDuration(n),zx.addUnit(n,e.unit),zx.endDuration(n)}visitList(e,n){return BM.startList(n),BM.endList(n)}visitStruct(e,n){return Ip.startStruct_(n),Ip.endStruct_(n)}visitUnion(e,n){Qo.startTypeIdsVector(n,e.typeIds.length);const r=Qo.createTypeIdsVector(n,e.typeIds);return Qo.startUnion(n),Qo.addMode(n,e.mode),Qo.addTypeIds(n,r),Qo.endUnion(n)}visitDictionary(e,n){const r=this.visit(e.indices,n);return Tf.startDictionaryEncoding(n),Tf.addId(n,BigInt(e.id)),Tf.addIsOrdered(n,e.isOrdered),r!==void 0&&Tf.addIndexType(n,r),Tf.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return Ux.startFixedSizeBinary(n),Ux.addByteWidth(n,e.byteWidth),Ux.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return jx.startFixedSizeList(n),jx.addListSize(n,e.listSize),jx.endFixedSizeList(n)}visitMap(e,n){return qx.startMap(n),qx.addKeysSorted(n,e.keysSorted),qx.endMap(n)}}const V5=new nOe;function rOe(t,e=new Map){return new ti(sOe(t,e),Zx(t.metadata),e)}function GW(t){return new ja(t.count,HW(t.columns),KW(t.columns))}function iOe(t){return new Ec(GW(t.data),t.id,t.isDelta)}function sOe(t,e){return(t.fields||[]).filter(Boolean).map(n=>Lr.fromJSON(n,e))}function HM(t,e){return(t.children||[]).filter(Boolean).map(n=>Lr.fromJSON(n,e))}function HW(t){return(t||[]).reduce((e,n)=>[...e,new Rd(n.count,oOe(n.VALIDITY)),...HW(n.children)],[])}function KW(t,e=[]){for(let n=-1,r=(t||[]).length;++n<r;){const i=t[n];i.VALIDITY&&e.push(new sc(e.length,i.VALIDITY.length)),i.TYPE_ID&&e.push(new sc(e.length,i.TYPE_ID.length)),i.OFFSET&&e.push(new sc(e.length,i.OFFSET.length)),i.DATA&&e.push(new sc(e.length,i.DATA.length)),e=KW(i.children,e)}return e}function oOe(t){return(t||[]).reduce((e,n)=>e+ +(n===0),0)}function aOe(t,e){let n,r,i,s,o,a;return!e||!(s=t.dictionary)?(o=JM(t,HM(t,e)),i=new Lr(t.name,o,t.nullable,Zx(t.metadata))):e.has(n=s.id)?(r=(r=s.indexType)?KM(r):new Cv,a=new e1(e.get(n),r,n,s.isOrdered),i=new Lr(t.name,a,t.nullable,Zx(t.metadata))):(r=(r=s.indexType)?KM(r):new Cv,e.set(n,o=JM(t,HM(t,e))),a=new e1(o,r,n,s.isOrdered),i=new Lr(t.name,a,t.nullable,Zx(t.metadata))),i||null}function Zx(t=[]){return new Map(t.map(({key:e,value:n})=>[e,n]))}function KM(t){return new v0(t.isSigned,t.bitWidth)}function JM(t,e){const n=t.type.name;switch(n){case"NONE":return new Ed;case"null":return new Ed;case"binary":return new oS;case"largebinary":return new aS;case"utf8":return new lS;case"largeutf8":return new uS;case"bool":return new cS;case"list":return new yS((e||[])[0]);case"struct":return new lo(e||[]);case"struct_":return new lo(e||[])}switch(n){case"int":{const r=t.type;return new v0(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=t.type;return new sS(Is[r.precision])}case"decimal":{const r=t.type;return new fS(r.scale,r.precision,r.bitWidth)}case"date":{const r=t.type;return new hS(El[r.unit])}case"time":{const r=t.type;return new dS(St[r.unit],r.bitWidth)}case"timestamp":{const r=t.type;return new pS(St[r.unit],r.timezone)}case"interval":{const r=t.type;return new mS(Ac[r.unit])}case"duration":{const r=t.type;return new gS(St[r.unit])}case"union":{const r=t.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new bS(Us[o],r.typeIds||[],e||[])}case"fixedsizebinary":{const r=t.type;return new vS(r.byteWidth)}case"fixedsizelist":{const r=t.type;return new OS(r.listSize,(e||[])[0])}case"map":{const r=t.type;return new wS((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var lOe=pZ,uOe=Kg;class uo{static fromJSON(e,n){const r=new uo(0,xi.V5,n);return r._createHeader=cOe(e,n),r}static decode(e){e=new uOe(Sn(e));const n=Nh.getRootAsMessage(e),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new uo(r,i,s);return o._createHeader=fOe(n,s),o}static encode(e){const n=new lOe;let r=-1;return e.isSchema()?r=ti.encode(n,e.header()):e.isRecordBatch()?r=ja.encode(n,e.header()):e.isDictionaryBatch()&&(r=Ec.encode(n,e.header())),Nh.startMessage(n),Nh.addVersion(n,xi.V5),Nh.addHeader(n,r),Nh.addHeaderType(n,e.headerType),Nh.addBodyLength(n,BigInt(e.bodyLength)),Nh.finishMessageBuffer(n,Nh.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof ti)return new uo(0,xi.V5,$n.Schema,e);if(e instanceof ja)return new uo(n,xi.V5,$n.RecordBatch,e);if(e instanceof Ec)return new uo(n,xi.V5,$n.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===$n.Schema}isRecordBatch(){return this.headerType===$n.RecordBatch}isDictionaryBatch(){return this.headerType===$n.DictionaryBatch}constructor(e,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=br(e)}}class ja{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,r){this._nodes=n,this._buffers=r,this._length=br(e)}}class Ec{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,r=!1){this._data=e,this._isDelta=r,this._id=br(n)}}class sc{constructor(e,n){this.offset=br(e),this.length=br(n)}}class Rd{constructor(e,n){this.length=br(e),this.nullCount=br(n)}}function cOe(t,e){return(()=>{switch(e){case $n.Schema:return ti.fromJSON(t);case $n.RecordBatch:return ja.fromJSON(t);case $n.DictionaryBatch:return Ec.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${$n[e]}, type: ${e} }`)})}function fOe(t,e){return(()=>{switch(e){case $n.Schema:return ti.decode(t.header(new Uu),new Map,t.version());case $n.RecordBatch:return ja.decode(t.header(new bf),t.version());case $n.DictionaryBatch:return Ec.decode(t.header(new Rm),t.version())}throw new Error(`Unrecognized Message type: { name: ${$n[e]}, type: ${e} }`)})}Lr.encode=xOe;Lr.decode=OOe;Lr.fromJSON=aOe;ti.encode=wOe;ti.decode=hOe;ti.fromJSON=rOe;ja.encode=_Oe;ja.decode=dOe;ja.fromJSON=GW;Ec.encode=SOe;Ec.decode=pOe;Ec.fromJSON=iOe;Rd.encode=kOe;Rd.decode=gOe;sc.encode=COe;sc.decode=mOe;function hOe(t,e=new Map,n=xi.V5){const r=vOe(t,e);return new ti(r,Wx(t),e,n)}function dOe(t,e=xi.V5){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new ja(t.length(),yOe(t),bOe(t,e))}function pOe(t,e=xi.V5){return new Ec(ja.decode(t.data(),e),t.id(),t.isDelta())}function mOe(t){return new sc(t.offset(),t.length())}function gOe(t){return new Rd(t.length(),t.nullCount())}function yOe(t){const e=[];for(let n,r=-1,i=-1,s=t.nodesLength();++r<s;)(n=t.nodes(r))&&(e[++i]=Rd.decode(n));return e}function bOe(t,e){const n=[];for(let r,i=-1,s=-1,o=t.buffersLength();++i<o;)(r=t.buffers(i))&&(e<xi.V4&&(r.bb_pos+=8*(i+1)),n[++s]=sc.decode(r));return n}function vOe(t,e){const n=[];for(let r,i=-1,s=-1,o=t.fieldsLength();++i<o;)(r=t.fields(i))&&(n[++s]=Lr.decode(r,e));return n}function eL(t,e){const n=[];for(let r,i=-1,s=-1,o=t.childrenLength();++i<o;)(r=t.children(i))&&(n[++s]=Lr.decode(r,e));return n}function OOe(t,e){let n,r,i,s,o,a;return!e||!(a=t.dictionary())?(i=nL(t,eL(t,e)),r=new Lr(t.name(),i,t.nullable(),Wx(t))):e.has(n=br(a.id()))?(s=(s=a.indexType())?tL(s):new Cv,o=new e1(e.get(n),s,n,a.isOrdered()),r=new Lr(t.name(),o,t.nullable(),Wx(t))):(s=(s=a.indexType())?tL(s):new Cv,e.set(n,i=nL(t,eL(t,e))),o=new e1(i,s,n,a.isOrdered()),r=new Lr(t.name(),o,t.nullable(),Wx(t))),r||null}function Wx(t){const e=new Map;if(t)for(let n,r,i=-1,s=Math.trunc(t.customMetadataLength());++i<s;)(n=t.customMetadata(i))&&(r=n.key())!=null&&e.set(r,n.value());return e}function tL(t){return new v0(t.isSigned(),t.bitWidth())}function nL(t,e){const n=t.typeType();switch(n){case _r.NONE:return new Ed;case _r.Null:return new Ed;case _r.Binary:return new oS;case _r.LargeBinary:return new aS;case _r.Utf8:return new lS;case _r.LargeUtf8:return new uS;case _r.Bool:return new cS;case _r.List:return new yS((e||[])[0]);case _r.Struct_:return new lo(e||[])}switch(n){case _r.Int:{const r=t.type(new Da);return new v0(r.isSigned(),r.bitWidth())}case _r.FloatingPoint:{const r=t.type(new Gu);return new sS(r.precision())}case _r.Decimal:{const r=t.type(new Im);return new fS(r.scale(),r.precision(),r.bitWidth())}case _r.Date:{const r=t.type(new Bx);return new hS(r.unit())}case _r.Time:{const r=t.type(new fl);return new dS(r.unit(),r.bitWidth())}case _r.Timestamp:{const r=t.type(new hl);return new pS(r.unit(),r.timezone())}case _r.Interval:{const r=t.type(new Hu);return new mS(r.unit())}case _r.Duration:{const r=t.type(new zx);return new gS(r.unit())}case _r.Union:{const r=t.type(new Qo);return new bS(r.mode(),r.typeIdsArray()||[],e||[])}case _r.FixedSizeBinary:{const r=t.type(new Ux);return new vS(r.byteWidth())}case _r.FixedSizeList:{const r=t.type(new jx);return new OS(r.listSize(),(e||[])[0])}case _r.Map:{const r=t.type(new qx);return new wS((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${_r[n]}" (${n})`)}function wOe(t,e){const n=e.fields.map(s=>Lr.encode(t,s));Uu.startFieldsVector(t,n.length);const r=Uu.createFieldsVector(t,n),i=e.metadata&&e.metadata.size>0?Uu.createCustomMetadataVector(t,[...e.metadata].map(([s,o])=>{const a=t.createString(`${s}`),l=t.createString(`${o}`);return Yi.startKeyValue(t),Yi.addKey(t,a),Yi.addValue(t,l),Yi.endKeyValue(t)})):-1;return Uu.startSchema(t),Uu.addFields(t,r),Uu.addEndianness(t,AOe?Jg.Little:Jg.Big),i!==-1&&Uu.addCustomMetadata(t,i),Uu.endSchema(t)}function xOe(t,e){let n=-1,r=-1,i=-1;const s=e.type;let o=e.typeId;ct.isDictionary(s)?(o=s.dictionary.typeId,i=V5.visit(s,t),r=V5.visit(s.dictionary,t)):r=V5.visit(s,t);const a=(s.children||[]).map(c=>Lr.encode(t,c)),l=nl.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?nl.createCustomMetadataVector(t,[...e.metadata].map(([c,f])=>{const h=t.createString(`${c}`),d=t.createString(`${f}`);return Yi.startKeyValue(t),Yi.addKey(t,h),Yi.addValue(t,d),Yi.endKeyValue(t)})):-1;return e.name&&(n=t.createString(e.name)),nl.startField(t),nl.addType(t,r),nl.addTypeType(t,o),nl.addChildren(t,l),nl.addNullable(t,!!e.nullable),n!==-1&&nl.addName(t,n),i!==-1&&nl.addDictionary(t,i),u!==-1&&nl.addCustomMetadata(t,u),nl.endField(t)}function _Oe(t,e){const n=e.nodes||[],r=e.buffers||[];bf.startNodesVector(t,n.length);for(const o of n.slice().reverse())Rd.encode(t,o);const i=t.endVector();bf.startBuffersVector(t,r.length);for(const o of r.slice().reverse())sc.encode(t,o);const s=t.endVector();return bf.startRecordBatch(t),bf.addLength(t,BigInt(e.length)),bf.addNodes(t,i),bf.addBuffers(t,s),bf.endRecordBatch(t)}function SOe(t,e){const n=ja.encode(t,e.data);return Rm.startDictionaryBatch(t),Rm.addId(t,BigInt(e.id)),Rm.addIsDelta(t,e.isDelta),Rm.addData(t,n),Rm.endDictionaryBatch(t)}function kOe(t,e){return yZ.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function COe(t,e){return gZ.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const AOe=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),e7=t=>`Expected ${$n[t]} Message in stream, but was null or length 0.`,t7=t=>`Header pointer of flatbuffer-encoded ${$n[t]} Message is null or length 0.`,JW=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,eY=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class tY{constructor(e){this.source=e instanceof AS?e:new AS(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?ri:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(e7(e));return n.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const n=Sn(this.source.read(e));if(n.byteLength<e)throw new Error(eY(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(e=!1){const n=$n.Schema,r=this.readMessage(n),i=r?.header();if(e&&!i)throw new Error(t7(n));return i}readMetadataLength(){const e=this.source.read(Gk),n=e&&new Kg(e),r=n?.readInt32(0)||0;return{done:r===0,value:r}}readMetadata(e){const n=this.source.read(e);if(!n)return ri;if(n.byteLength<e)throw new Error(JW(e,n.byteLength));return{done:!1,value:uo.decode(n)}}}class EOe{constructor(e,n){this.source=e instanceof t1?e:lZ(e)?new ES(e,n):new t1(e)}[Symbol.asyncIterator](){return this}next(){return It(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?ri:e})}throw(e){return It(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return It(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return It(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(e7(e));return n.value})}readMessageBody(e){return It(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const n=Sn(yield this.source.read(e));if(n.byteLength<e)throw new Error(eY(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return It(this,arguments,void 0,function*(e=!1){const n=$n.Schema,r=yield this.readMessage(n),i=r?.header();if(e&&!i)throw new Error(t7(n));return i})}readMetadataLength(){return It(this,void 0,void 0,function*(){const e=yield this.source.read(Gk),n=e&&new Kg(e),r=n?.readInt32(0)||0;return{done:r===0,value:r}})}readMetadata(e){return It(this,void 0,void 0,function*(){const n=yield this.source.read(e);if(!n)return ri;if(n.byteLength<e)throw new Error(JW(e,n.byteLength));return{done:!1,value:uo.decode(n)}})}}class TOe extends tY{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof WM?e:new WM(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:uo.fromJSON(e.schema,$n.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const n=e.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:uo.fromJSON(n,$n.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:uo.fromJSON(n,$n.RecordBatch)}}return this._body=[],ri}readMessageBody(e){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE_ID&&[s.TYPE_ID]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(e7(e));return n.value}readSchema(){const e=$n.Schema,n=this.readMessage(e),r=n?.header();if(!n||!r)throw new Error(t7(e));return r}}const Gk=4,VE="ARROW1",Ev=new Uint8Array(VE.length);for(let t=0;t<VE.length;t+=1)Ev[t]=VE.codePointAt(t);function n7(t,e=0){for(let n=-1,r=Ev.length;++n<r;)if(Ev[n]!==t[e+n])return!1;return!0}const UO=Ev.length,nY=UO+Gk,DOe=UO*2+Gk;class wl extends WP{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const n=this._impl.open(e);return b0(n)?n.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return ll.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return ll.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof wl?e:FE(e)?IOe(e):lZ(e)?LOe(e):b0(e)?It(this,void 0,void 0,function*(){return yield wl.from(yield e)}):uZ(e)||LP(e)||cZ(e)||Z1(e)?MOe(new t1(e)):FOe(new AS(e))}static readAll(e){return e instanceof wl?e.isSync()?rL(e):iL(e):FE(e)||ArrayBuffer.isView(e)||NO(e)||aZ(e)?rL(e):iL(e)}}class TS extends wl{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return ic(this,arguments,function*(){yield Wt(yield*Qx(e0(this[Symbol.iterator]())))})}}class DS extends wl{constructor(e){super(e),this._impl=e}readAll(){return It(this,void 0,void 0,function*(){var e,n,r,i;const s=new Array;try{for(var o=!0,a=e0(this),l;l=yield a.next(),e=l.done,!e;o=!0){i=l.value,o=!1;const u=i;s.push(u)}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class rY extends TS{constructor(e){super(e),this._impl=e}}class POe extends DS{constructor(e){super(e),this._impl=e}}class iY{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,n){const r=this._loadVectors(e,n,this.schema.fields),i=rn({type:new lo(this.schema.fields),length:e.length,children:r});return new Bo(this.schema,i)}_loadDictionaryBatch(e,n){const{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r),l=o.dictionaries.get(r),u=this._loadVectors(e.data,n,[l]);return(a&&i?a.concat(new Wn(u)):new Wn(u)).memoize()}_loadVectors(e,n,r){return new XW(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}class PS extends iY{constructor(e,n){super(n),this._reader=FE(e)?new TOe(this._handle=e):new tY(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=oY(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):ri}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):ri}next(){if(this.closed)return ri;let e;const{_reader:n}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new JP(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class RS extends iY{constructor(e,n){super(n),this._reader=new EOe(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return It(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return It(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=oY(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return It(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):ri})}return(e){return It(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):ri})}next(){return It(this,void 0,void 0,function*(){if(this.closed)return ri;let e;const{_reader:n}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new JP(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return It(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class sY extends PS{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,n){super(e instanceof YM?e:new YM(e),n)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage($n.RecordBatch);if(i?.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage($n.DictionaryBatch);if(i?.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:e}=this,n=e.size-nY,r=e.readInt32(n),i=e.readAt(n-r,r);return Av.decode(i)}_readNextMessageAndValidate(e){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}}class ROe extends RS{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(e instanceof ES?e:new ES(e,r),i)}isFile(){return!0}isAsync(){return!0}open(e){const n=Object.create(null,{open:{get:()=>super.open}});return It(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,e)})}readRecordBatch(e){return It(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage($n.RecordBatch);if(i?.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){return It(this,void 0,void 0,function*(){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage($n.DictionaryBatch);if(i?.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return It(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const n=e.size-nY,r=yield e.readInt32(n),i=yield e.readAt(n-r,r);return Av.decode(i)})}_readNextMessageAndValidate(e){return It(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(e)}return null})}}class $Oe extends PS{constructor(e,n){super(e,n)}_loadVectors(e,n,r){return new Xve(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}function oY(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*rL(t){const e=wl.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function iL(t){return ic(this,arguments,function*(){const n=yield Wt(wl.from(t));try{if(!(yield Wt(n.open({autoDestroy:!1}))).closed)do yield yield Wt(n);while(!(yield Wt(n.reset().open())).closed)}finally{yield Wt(n.cancel())}})}function IOe(t){return new TS(new $Oe(t))}function FOe(t){const e=t.peek(UO+7&-8);return e&&e.byteLength>=4?n7(e)?new rY(new sY(t.read())):new TS(new PS(t)):new TS(new PS((function*(){})()))}function MOe(t){return It(this,void 0,void 0,function*(){const e=yield t.peek(UO+7&-8);return e&&e.byteLength>=4?n7(e)?new rY(new sY(yield t.read())):new DS(new RS(t)):new DS(new RS((function(){return ic(this,arguments,function*(){})})()))})}function LOe(t){return It(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),n=new ES(t,e);return e>=DOe&&n7(yield n.readAt(0,UO+7&-8))?new POe(new ROe(n)):new DS(new RS(n))})}class oi extends tn{static assemble(...e){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof Bo?s.data.children:s.data),r=new oi;return r.visitMany(n(e)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof Wn)return this.visitMany(e.data),this;const{type:n}=e;if(!ct.isDictionary(n)){const{length:r}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(ct.isUnion(n))this.nodes.push(new Rd(r,0));else{const{nullCount:i}=e;ct.isNull(n)||lu.call(this,i<=0?new Uint8Array(0):xS(e.offset,r,e.nullBitmap)),this.nodes.push(new Rd(r,i))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function lu(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new sc(this._byteLength,e)),this._byteLength+=e,this}function NOe(t){var e;const{type:n,length:r,typeIds:i,valueOffsets:s}=t;if(lu.call(this,i),n.mode===Us.Sparse)return XE.call(this,t);if(n.mode===Us.Dense){if(t.offset<=0)return lu.call(this,s),XE.call(this,t);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let u,c,f=-1;++f<r;)(u=i[f])!==void 0&&((c=a[u])===void 0&&(c=a[u]=s[f]),o[f]=s[f]-c,l[u]=((e=l[u])!==null&&e!==void 0?e:0)+1);lu.call(this,o),this.visitMany(t.children.map((u,c)=>{const f=n.typeIds[c],h=a[f],d=l[f];return u.slice(h,Math.min(r,d))}))}}return this}function QOe(t){let e;return t.nullCount>=t.length?lu.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?lu.call(this,xS(t.offset,t.length,e)):lu.call(this,_S(t.values))}function hh(t){return lu.call(this,t.values.subarray(0,t.length*t.stride))}function Hk(t){const{length:e,values:n,valueOffsets:r}=t,i=br(r[0]),s=br(r[e]),o=Math.min(s-i,n.byteLength-i);return lu.call(this,hZ(-i,e+1,r)),lu.call(this,n.subarray(i,i+o)),this}function r7(t){const{length:e,valueOffsets:n}=t;if(n){const{[0]:r,[e]:i}=n;return lu.call(this,hZ(-r,e+1,n)),this.visit(t.children[0].slice(r,i-r))}return this.visit(t.children[0])}function XE(t){return this.visitMany(t.type.children.map((e,n)=>t.children[n]).filter(Boolean))[0]}oi.prototype.visitBool=QOe;oi.prototype.visitInt=hh;oi.prototype.visitFloat=hh;oi.prototype.visitUtf8=Hk;oi.prototype.visitLargeUtf8=Hk;oi.prototype.visitBinary=Hk;oi.prototype.visitLargeBinary=Hk;oi.prototype.visitFixedSizeBinary=hh;oi.prototype.visitDate=hh;oi.prototype.visitTimestamp=hh;oi.prototype.visitTime=hh;oi.prototype.visitDecimal=hh;oi.prototype.visitList=r7;oi.prototype.visitStruct=XE;oi.prototype.visitUnion=NOe;oi.prototype.visitInterval=hh;oi.prototype.visitDuration=hh;oi.prototype.visitFixedSizeList=r7;oi.prototype.visitMap=r7;class aY extends WP{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new Xx,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,ta(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return b0(e)?e.then(n=>this.writeAll(n)):Z1(e)?a7(this,e):o7(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof Xx?this._sink=e:(this._sink=new Xx,e&&gbe(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&ybe(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!qE(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Pd&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof Bo&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!qE(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof Bo?e instanceof JP||this._writeRecordBatch(e):e instanceof Pd?this.writeAll(e.batches):NO(e)&&this.writeAll(e)}_writeMessage(e,n=8){const r=n-1,i=uo.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===$n.RecordBatch?this._recordBatchBlocks.push(new Td(a,e.bodyLength,this._position)):e.headerType===$n.DictionaryBatch&&this._dictionaryBlocks.push(new Td(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){const n=Sn(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(uo.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ev)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=oi.assemble(e),o=new ja(e.numRows,r,i),a=uo.from(o,n);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,n,r=!1){const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=oi.assemble(new Wn([e])),l=new ja(e.length,s,o),u=new Ec(l,n,r),c=uo.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(e){let n,r,i;for(let s=-1,o=e.length;++s<o;)(n=e[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){var n,r;for(const[i,s]of e.dictionaries){const o=(n=s?.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(i),l=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!a||a.data[0]!==o[0])for(const[u,c]of o.entries())this._writeDictionaryBatch(c,i,u>0);else if(l<o.length)for(const u of o.slice(l))this._writeDictionaryBatch(u,i,!0);this._seenDictionaries.set(i,s),this._dictionaryDeltaOffsets.set(i,o.length)}return this}}class i7 extends aY{static writeAll(e,n){const r=new i7(n);return b0(e)?e.then(i=>r.writeAll(i)):Z1(e)?a7(r,e):o7(r,e)}}class s7 extends aY{static writeAll(e){const n=new s7;return b0(e)?e.then(r=>n.writeAll(r)):Z1(e)?a7(n,e):o7(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(e,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(e,n,r)}_writeFooter(e){const n=Av.encode(new Av(e,xi.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function o7(t,e){let n=e;e instanceof Pd&&(n=e.batches,t.reset(void 0,e.schema));for(const r of n)t.write(r);return t.finish()}function a7(t,e){return It(this,void 0,void 0,function*(){var n,r,i,s,o,a,l;try{for(n=!0,r=e0(e);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;t.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return t.finish()})}function BOe(t,e="stream"){return(e==="stream"?i7:s7).writeAll(t).toUint8Array(!0)}var zOe=Object.create,lY=Object.defineProperty,UOe=Object.getOwnPropertyDescriptor,jOe=Object.getOwnPropertyNames,qOe=Object.getPrototypeOf,VOe=Object.prototype.hasOwnProperty,XOe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ZOe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jOe(e))!VOe.call(t,i)&&i!==n&&lY(t,i,{get:()=>e[i],enumerable:!(r=UOe(e,i))||r.enumerable});return t},WOe=(t,e,n)=>(n=t!=null?zOe(qOe(t)):{},ZOe(!t||!t.__esModule?lY(n,"default",{value:t,enumerable:!0}):n,t)),YOe=XOe((t,e)=>{e.exports=Worker}),GOe=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(GOe||{}),HOe=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(HOe||{}),KOe=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(KOe||{}),JOe=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(JOe||{}),e2e=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(e2e||{}),t2e=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(t2e||{}),uY=class{log(e){}},cY=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},n2e=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",t[t.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",t))(n2e||{}),r2e=class{constructor(e,n){this._bindings=e,this._conn=n}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let n=await this._bindings.runQuery(this._conn,e),r=wl.from(n);return console.assert(r.isSync(),"Reader is not sync"),console.assert(r.isFile(),"Reader is not file"),new Pd(r)}async send(e,n=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let r=await this._bindings.startPendingQuery(this._conn,e,n);for(;r==null;)r=await this._bindings.pollPendingQuery(this._conn);let i=new fY(this._bindings,this._conn,r),s=await wl.from(i);return console.assert(s.isAsync()),console.assert(s.isStream()),s}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let n=await this._bindings.createPrepared(this._conn,e);return new i2e(this._bindings,this._conn,n)}async insertArrowTable(e,n){let r=BOe(e,"stream");await this.insertArrowFromIPCStream(r,n)}async insertArrowFromIPCStream(e,n){await this._bindings.insertArrowFromIPCStream(this._conn,e,n)}async insertCSVFromPath(e,n){await this._bindings.insertCSVFromPath(this._conn,e,n)}async insertJSONFromPath(e,n){await this._bindings.insertJSONFromPath(this._conn,e,n)}},fY=class{constructor(e,n,r){this.db=e,this.conn=n,this.header=r,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=null;for(this._inFlight!=null&&(e=await this._inFlight,this._inFlight=null);e==null;)e=await this.db.fetchQueryResults(this.conn);return this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},i2e=class{constructor(e,n,r){this.bindings=e,this.connectionId=n,this.statementId=r}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let n=await this.bindings.runPrepared(this.connectionId,this.statementId,e),r=wl.from(n);return console.assert(r.isSync()),console.assert(r.isFile()),new Pd(r)}async send(...e){let n=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),r=new fY(this.bindings,this.connectionId,n),i=await wl.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}},s2e=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(s2e||{}),o2e=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.PROGRESS_UPDATE="PROGRESS_UPDATE",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(o2e||{}),An=class{constructor(e,n){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=n,this.promise=new Promise((r,i)=>{this.promiseResolver=r,this.promiseRejecter=i})}};function Yx(t){switch(t.typeId){case G.Binary:return{sqlType:"binary"};case G.Bool:return{sqlType:"bool"};case G.Date:return{sqlType:"date"};case G.DateDay:return{sqlType:"date32[d]"};case G.DateMillisecond:return{sqlType:"date64[ms]"};case G.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case G.Float:return{sqlType:"float"};case G.Float16:return{sqlType:"float16"};case G.Float32:return{sqlType:"float32"};case G.Float64:return{sqlType:"float64"};case G.Int:return{sqlType:"int32"};case G.Int16:return{sqlType:"int16"};case G.Int32:return{sqlType:"int32"};case G.Int64:return{sqlType:"int64"};case G.Uint16:return{sqlType:"uint16"};case G.Uint32:return{sqlType:"uint32"};case G.Uint64:return{sqlType:"uint64"};case G.Uint8:return{sqlType:"uint8"};case G.IntervalDayTime:return{sqlType:"interval[dt]"};case G.IntervalYearMonth:return{sqlType:"interval[m]"};case G.List:return{sqlType:"list",valueType:Yx(t.valueType)};case G.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case G.Null:return{sqlType:"null"};case G.Utf8:return{sqlType:"utf8"};case G.Struct:return{sqlType:"struct",fields:t.children.map(e=>ZE(e.name,e.type))};case G.Map:{let e=t;return{sqlType:"map",keyType:Yx(e.keyType),valueType:Yx(e.valueType)}}case G.Time:return{sqlType:"time[s]"};case G.TimeMicrosecond:return{sqlType:"time[us]"};case G.TimeMillisecond:return{sqlType:"time[ms]"};case G.TimeNanosecond:return{sqlType:"time[ns]"};case G.TimeSecond:return{sqlType:"time[s]"};case G.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case G.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case G.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case G.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case G.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function ZE(t,e){let n=Yx(e);return n.name=t,n}var a2e=new TextEncoder,hY=class{constructor(e,n=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),n!=null&&this.attach(n)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((n,r)=>{this._workerShutdownResolver=n})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,n=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let r=this._nextMessageId++;return this._pendingRequests.set(r,e),this._worker.postMessage({messageId:r,type:e.type,data:e.data},n),await e.promise}onMessage(e){var n;let r=e.data;switch(r.type){case"PROGRESS_UPDATE":{for(let s of this._onExecutionProgress)s(r.data);return}case"LOG":{this._logger.log(r.data);return}case"INSTANTIATE_PROGRESS":{for(let s of this._onInstantiationProgress)s(r.data);return}}let i=this._pendingRequests.get(r.requestId);if(!i){console.warn("unassociated response: [".concat(r.requestId,", ").concat(r.type.toString(),"]"));return}if(this._pendingRequests.delete(r.requestId),r.type=="ERROR"){let s=new Error(r.data.message);s.name=r.data.name,(n=Object.getOwnPropertyDescriptor(s,"stack"))!=null&&n.writable&&(s.stack=r.data.stack),i.promiseRejecter(s);return}switch(i.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(r.type=="OK"){i.promiseResolver(r.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],r.type=="OK"){i.promiseResolver(r.data);return}break;case"GLOB_FILE_INFOS":if(r.type=="FILE_INFOS"){i.promiseResolver(r.data);return}break;case"GET_VERSION":if(r.type=="VERSION_STRING"){i.promiseResolver(r.data);return}break;case"GET_FEATURE_FLAGS":if(r.type=="FEATURE_FLAGS"){i.promiseResolver(r.data);return}break;case"GET_TABLE_NAMES":if(r.type=="TABLE_NAMES"){i.promiseResolver(r.data);return}break;case"TOKENIZE":if(r.type=="SCRIPT_TOKENS"){i.promiseResolver(r.data);return}break;case"COPY_FILE_TO_BUFFER":if(r.type=="FILE_BUFFER"){i.promiseResolver(r.data);return}break;case"EXPORT_FILE_STATISTICS":if(r.type=="FILE_STATISTICS"){i.promiseResolver(r.data);return}break;case"CONNECT":if(r.type=="CONNECTION_INFO"){i.promiseResolver(r.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(r.type=="QUERY_RESULT"){i.promiseResolver(r.data);return}break;case"SEND_PREPARED":if(r.type=="QUERY_RESULT_HEADER"){i.promiseResolver(r.data);return}break;case"START_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(r.data);return}break;case"POLL_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(r.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],r.type=="SUCCESS"){i.promiseResolver(r.data);return}break;case"FETCH_QUERY_RESULTS":if(r.type=="QUERY_RESULT_CHUNK"){i.promiseResolver(r.data);return}break;case"CREATE_PREPARED":if(r.type=="PREPARED_STATEMENT_ID"){i.promiseResolver(r.data);return}break}i.promiseRejecter(new Error("unexpected response type: ".concat(r.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let e=new An("RESET",null);return await this.postTask(e)}async ping(){let e=new An("PING",null);await this.postTask(e)}async dropFile(e){let n=new An("DROP_FILE",e);return await this.postTask(n)}async dropFiles(){let e=new An("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new An("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,n=null,r=i=>{}){this._onInstantiationProgress.push(r);let i=new An("INSTANTIATE",[e,n]);return await this.postTask(i)}async getVersion(){let e=new An("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new An("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let n=new An("OPEN",e);await this.postTask(n)}async tokenize(e){let n=new An("TOKENIZE",e);return await this.postTask(n)}async connectInternal(){let e=new An("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new r2e(this,e)}async disconnect(e){let n=new An("DISCONNECT",e);await this.postTask(n)}async runQuery(e,n){let r=new An("RUN_QUERY",[e,n]);return await this.postTask(r)}async startPendingQuery(e,n,r=!1){let i=new An("START_PENDING_QUERY",[e,n,r]);return await this.postTask(i)}async pollPendingQuery(e){let n=new An("POLL_PENDING_QUERY",e);return await this.postTask(n)}async cancelPendingQuery(e){let n=new An("CANCEL_PENDING_QUERY",e);return await this.postTask(n)}async fetchQueryResults(e){let n=new An("FETCH_QUERY_RESULTS",e);return await this.postTask(n)}async getTableNames(e,n){let r=new An("GET_TABLE_NAMES",[e,n]);return await this.postTask(r)}async createPrepared(e,n){let r=new An("CREATE_PREPARED",[e,n]);return await this.postTask(r)}async closePrepared(e,n){let r=new An("CLOSE_PREPARED",[e,n]);await this.postTask(r)}async runPrepared(e,n,r){let i=new An("RUN_PREPARED",[e,n,r]);return await this.postTask(i)}async sendPrepared(e,n,r){let i=new An("SEND_PREPARED",[e,n,r]);return await this.postTask(i)}async globFiles(e){let n=new An("GLOB_FILE_INFOS",e);return await this.postTask(n)}async registerFileText(e,n){let r=a2e.encode(n);await this.registerFileBuffer(e,r)}async registerFileURL(e,n,r,i){n===void 0&&(n=e);let s=new An("REGISTER_FILE_URL",[e,n,r,i]);await this.postTask(s)}async registerEmptyFileBuffer(e){}async registerFileBuffer(e,n){let r=new An("REGISTER_FILE_BUFFER",[e,n]);await this.postTask(r,[n.buffer])}async registerFileHandle(e,n,r,i){let s=new An("REGISTER_FILE_HANDLE",[e,n,r,i]);await this.postTask(s,[])}async registerOPFSFileName(e){let n=new An("REGISTER_OPFS_FILE_NAME",[e]);await this.postTask(n,[])}async collectFileStatistics(e,n){let r=new An("COLLECT_FILE_STATISTICS",[e,n]);await this.postTask(r,[])}async exportFileStatistics(e){let n=new An("EXPORT_FILE_STATISTICS",e);return await this.postTask(n,[])}async copyFileToBuffer(e){let n=new An("COPY_FILE_TO_BUFFER",e);return await this.postTask(n)}async copyFileToPath(e,n){let r=new An("COPY_FILE_TO_PATH",[e,n]);await this.postTask(r)}async insertArrowFromIPCStream(e,n,r){if(n.length==0)return;let i=new An("INSERT_ARROW_FROM_IPC_STREAM",[e,n,r]);await this.postTask(i,[n.buffer])}async insertCSVFromPath(e,n,r){if(r.columns!==void 0){let s=[];for(let o in r.columns){let a=r.columns[o];s.push(ZE(o,a))}r.columnsFlat=s,delete r.columns}let i=new An("IMPORT_CSV_FROM_PATH",[e,n,r]);await this.postTask(i)}async insertJSONFromPath(e,n,r){if(r.columns!==void 0){let s=[];for(let o in r.columns){let a=r.columns[o];s.push(ZE(o,a))}r.columnsFlat=s,delete r.columns}let i=new An("IMPORT_JSON_FROM_PATH",[e,n,r]);await this.postTask(i)}};function l2e(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}l2e();var u2e=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(u2e||{}),c2e=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),f2e=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),h2e=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),d2e=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),l7={name:"@duckdb/duckdb-wasm",version:"1.30.0"},p2e=l7.name,m2e=l7.version,u7=l7.version.split(".");u7[0];u7[1];u7[2];var g2e=()=>typeof navigator>"u";function y2e(){let t="https://cdn.jsdelivr.net/npm/".concat(p2e,"@").concat(m2e,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var X5=null,Z5=null,W5=null,Y5=null,G5=null;async function b2e(){return X5==null&&(X5=typeof BigInt64Array<"u"),Z5==null&&(Z5=await f2e()),W5==null&&(W5=await d2e()),Y5==null&&(Y5=await h2e()),G5==null&&(G5=await c2e()),{bigInt64Array:X5,crossOriginIsolated:g2e()||globalThis.crossOriginIsolated||!1,wasmExceptions:Z5,wasmSIMD:Y5,wasmThreads:W5,wasmBulkMemory:G5}}async function dY(t){let e=await b2e();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}WOe(YOe());function v2e(t={}){return new O2e(t)}class O2e{_ipc;_options;_db;_con;_config;_loadPromise;constructor(e={}){const{ipc:n,duckdb:r,connection:i,config:s,...o}=e;this._ipc=n,this._options=o,this._db=r,this._con=i,this._config=s}async getDuckDB(){return this._db||await sL(this),this._db}async getConnection(){return this._con||await sL(this),this._con}async query(e){const{type:n,sql:r}=e,i=await this.getConnection(),s=await w2e(i,r);return n==="exec"?void 0:n==="arrow"?G_(s,this._ipc):G_(s).toArray()}}function w2e(t,e){return new Promise((n,r)=>{t.useUnsafe(async(i,s)=>{try{const o=await i.runQuery(s,e);n(o)}catch(o){r(o)}})})}function sL(t){return t._loadPromise||(t._loadPromise=(t._db?Promise.resolve(t._db):x2e(t._options).then(e=>t._db=e)).then(e=>t._config!=null?e.open(t._config).then(()=>e):e).then(e=>e.connect()).then(e=>t._con=e)),t._loadPromise}async function x2e({log:t=!1}={}){const e=y2e(),n=await dY(e),r=URL.createObjectURL(new Blob([`importScripts("${n.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),s=t?new cY:new uY,o=new hY(s,i);return await o.instantiate(n.mainModule,n.pthreadWorker),URL.revokeObjectURL(r),o}function pY(t){switch(t){case"BIGINT":case"HUGEINT":case"INTEGER":case"SMALLINT":case"TINYINT":case"UBIGINT":case"UINTEGER":case"USMALLINT":case"UTINYINT":case"DOUBLE":case"FLOAT":case"REAL":return"number";case"DATE":case"TIMESTAMP":case"TIMESTAMPTZ":case"TIMESTAMP WITH TIME ZONE":case"TIME":case"TIMESTAMP_NS":return"date";case"BOOLEAN":return"boolean";case"VARCHAR":case"UUID":case"JSON":return"string";case"ARRAY":case"LIST":return"array";case"BLOB":case"STRUCT":case"MAP":case"GEOMETRY":return"object";default:if(t.startsWith("ENUM"))return"string";if(t.startsWith("DECIMAL"))return"number";if(t.startsWith("STRUCT")||t.startsWith("MAP"))return"object";if(t.endsWith("]"))return"array";throw new Error(`Unsupported type: ${t}`)}}const _2e="count",S2e="nulls",k2e="max",C2e="min",A2e="distinct",E2e={[_2e]:ei,[A2e]:t=>ei(t).distinct(),[k2e]:FO,[C2e]:Yg,[S2e]:t=>ei().where(gc(t))};function T2e({table:t,column:e,stats:n}){return at.from(t).select(Array.from(n,r=>({[r]:E2e[r](e)})))}async function D2e(t,e){return e.length===1&&e[0].column==="*"?R2e(t,e[0].table):(await Promise.all(e.map(n=>P2e(t,n)))).filter(n=>n!==void 0)}async function P2e(t,{table:e,column:n,stats:r}){const i=at.from({source:e}).select({column:n}).groupby(cu(n)&&Xk(n)?pt`ALL`:[]),[s]=Array.from(await t.query(at.describe(i))),o={table:e,column:`${n}`,sqlType:s.column_type,type:pY(s.column_type),nullable:s.null==="YES"};if(!r?.length)return o;const[a]=await t.query(T2e({table:e,column:n,stats:r}),{persist:!0});return Object.assign(o,a)}async function R2e(t,e){return Array.from(await t.query(`DESC ${NX(e)}`)).map(r=>({table:e,column:r.column_name,sqlType:r.column_type,type:pY(r.column_type),nullable:r.null==="YES"}))}const $2e=t=>t;function mY(t){const e=t-1;return e*e*e+1}function gY(t,{delay:e=0,duration:n=400,easing:r=$2e}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function Cb(t,{delay:e=0,duration:n=400,easing:r=mY,axis:i="y"}={}){const s=getComputedStyle(t),o=+s.opacity,a=i==="y"?"height":"width",l=parseFloat(s[a]),u=i==="y"?["top","bottom"]:["left","right"],c=u.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),f=parseFloat(s[`padding${c[0]}`]),h=parseFloat(s[`padding${c[1]}`]),d=parseFloat(s[`margin${c[0]}`]),m=parseFloat(s[`margin${c[1]}`]),g=parseFloat(s[`border${c[0]}Width`]),b=parseFloat(s[`border${c[1]}Width`]);return{delay:e,duration:n,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*o};${a}: ${v*l}px;padding-${u[0]}: ${v*f}px;padding-${u[1]}: ${v*h}px;margin-${u[0]}: ${v*d}px;margin-${u[1]}: ${v*m}px;border-${u[0]}-width: ${v*g}px;border-${u[1]}-width: ${v*b}px;min-${a}: 0`}}function I2e(t,{delay:e=0,duration:n=400,easing:r=mY,start:i=0,opacity:s=0}={}){const o=getComputedStyle(t),a=+o.opacity,l=o.transform==="none"?"":o.transform,u=1-i,c=a*(1-s);return{delay:e,duration:n,easing:r,css:(f,h)=>`
			transform: ${l} scale(${1-u*h});
			opacity: ${a-c*h}
		`}}var F2e=fe("<button> </button>");function c7(t,e){He(e,!0);var n=F2e();n.__click=()=>{e.disabled||e.onClick?.()};var r=K(n,!0);Z(n),Me(()=>{sr(n,1,`px-2 h-8 w-24 rounded-md text-white text-sm select-none ${e.disabled?"bg-gray-300 dark:text-gray-500 dark:bg-gray-700":"bg-blue-500"}`),n.disabled=e.disabled,Mt(r,e.label)}),X(t,n),Ke()}Tr(["click"]);var M2e=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,L2e=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,N2e=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,H5={Space_Separator:M2e,ID_Start:L2e,ID_Continue:N2e},Oi={isSpaceSeparator(t){return typeof t=="string"&&H5.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||H5.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="â"||t==="â"||H5.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let WE,co,Df,$S,$d,uu,ns,f7,Wb;var Q2e=function(e,n){WE=String(e),co="start",Df=[],$S=0,$d=1,uu=0,ns=void 0,f7=void 0,Wb=void 0;do ns=B2e(),j2e[co]();while(ns.type!=="eof");return typeof n=="function"?YE({"":Wb},"",n):Wb};function YE(t,e,n){const r=t[e];if(r!=null&&typeof r=="object")if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=String(i),o=YE(r,s,n);o===void 0?delete r[s]:Object.defineProperty(r,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(const i in r){const s=YE(r,i,n);s===void 0?delete r[i]:Object.defineProperty(r,i,{value:s,writable:!0,enumerable:!0,configurable:!0})}return n.call(t,e,r)}let Ht,Ut,Ab,df,yn;function B2e(){for(Ht="default",Ut="",Ab=!1,df=1;;){yn=jf();const t=yY[Ht]();if(t)return t}}function jf(){if(WE[$S])return String.fromCodePoint(WE.codePointAt($S))}function xe(){const t=jf();return t===`
`?($d++,uu=0):t?uu+=t.length:uu++,t&&($S+=t.length),t}const yY={default(){switch(yn){case"	":case"\v":case"\f":case" ":case"Â ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":xe();return;case"/":xe(),Ht="comment";return;case void 0:return xe(),Rr("eof")}if(Oi.isSpaceSeparator(yn)){xe();return}return yY[co]()},comment(){switch(yn){case"*":xe(),Ht="multiLineComment";return;case"/":xe(),Ht="singleLineComment";return}throw $r(xe())},multiLineComment(){switch(yn){case"*":xe(),Ht="multiLineCommentAsterisk";return;case void 0:throw $r(xe())}xe()},multiLineCommentAsterisk(){switch(yn){case"*":xe();return;case"/":xe(),Ht="default";return;case void 0:throw $r(xe())}xe(),Ht="multiLineComment"},singleLineComment(){switch(yn){case`
`:case"\r":case"\u2028":case"\u2029":xe(),Ht="default";return;case void 0:return xe(),Rr("eof")}xe()},value(){switch(yn){case"{":case"[":return Rr("punctuator",xe());case"n":return xe(),fp("ull"),Rr("null",null);case"t":return xe(),fp("rue"),Rr("boolean",!0);case"f":return xe(),fp("alse"),Rr("boolean",!1);case"-":case"+":xe()==="-"&&(df=-1),Ht="sign";return;case".":Ut=xe(),Ht="decimalPointLeading";return;case"0":Ut=xe(),Ht="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ut=xe(),Ht="decimalInteger";return;case"I":return xe(),fp("nfinity"),Rr("numeric",1/0);case"N":return xe(),fp("aN"),Rr("numeric",NaN);case'"':case"'":Ab=xe()==='"',Ut="",Ht="string";return}throw $r(xe())},identifierNameStartEscape(){if(yn!=="u")throw $r(xe());xe();const t=GE();switch(t){case"$":case"_":break;default:if(!Oi.isIdStartChar(t))throw oL();break}Ut+=t,Ht="identifierName"},identifierName(){switch(yn){case"$":case"_":case"â":case"â":Ut+=xe();return;case"\\":xe(),Ht="identifierNameEscape";return}if(Oi.isIdContinueChar(yn)){Ut+=xe();return}return Rr("identifier",Ut)},identifierNameEscape(){if(yn!=="u")throw $r(xe());xe();const t=GE();switch(t){case"$":case"_":case"â":case"â":break;default:if(!Oi.isIdContinueChar(t))throw oL();break}Ut+=t,Ht="identifierName"},sign(){switch(yn){case".":Ut=xe(),Ht="decimalPointLeading";return;case"0":Ut=xe(),Ht="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ut=xe(),Ht="decimalInteger";return;case"I":return xe(),fp("nfinity"),Rr("numeric",df*(1/0));case"N":return xe(),fp("aN"),Rr("numeric",NaN)}throw $r(xe())},zero(){switch(yn){case".":Ut+=xe(),Ht="decimalPoint";return;case"e":case"E":Ut+=xe(),Ht="decimalExponent";return;case"x":case"X":Ut+=xe(),Ht="hexadecimal";return}return Rr("numeric",df*0)},decimalInteger(){switch(yn){case".":Ut+=xe(),Ht="decimalPoint";return;case"e":case"E":Ut+=xe(),Ht="decimalExponent";return}if(Oi.isDigit(yn)){Ut+=xe();return}return Rr("numeric",df*Number(Ut))},decimalPointLeading(){if(Oi.isDigit(yn)){Ut+=xe(),Ht="decimalFraction";return}throw $r(xe())},decimalPoint(){switch(yn){case"e":case"E":Ut+=xe(),Ht="decimalExponent";return}if(Oi.isDigit(yn)){Ut+=xe(),Ht="decimalFraction";return}return Rr("numeric",df*Number(Ut))},decimalFraction(){switch(yn){case"e":case"E":Ut+=xe(),Ht="decimalExponent";return}if(Oi.isDigit(yn)){Ut+=xe();return}return Rr("numeric",df*Number(Ut))},decimalExponent(){switch(yn){case"+":case"-":Ut+=xe(),Ht="decimalExponentSign";return}if(Oi.isDigit(yn)){Ut+=xe(),Ht="decimalExponentInteger";return}throw $r(xe())},decimalExponentSign(){if(Oi.isDigit(yn)){Ut+=xe(),Ht="decimalExponentInteger";return}throw $r(xe())},decimalExponentInteger(){if(Oi.isDigit(yn)){Ut+=xe();return}return Rr("numeric",df*Number(Ut))},hexadecimal(){if(Oi.isHexDigit(yn)){Ut+=xe(),Ht="hexadecimalInteger";return}throw $r(xe())},hexadecimalInteger(){if(Oi.isHexDigit(yn)){Ut+=xe();return}return Rr("numeric",df*Number(Ut))},string(){switch(yn){case"\\":xe(),Ut+=z2e();return;case'"':if(Ab)return xe(),Rr("string",Ut);Ut+=xe();return;case"'":if(!Ab)return xe(),Rr("string",Ut);Ut+=xe();return;case`
`:case"\r":throw $r(xe());case"\u2028":case"\u2029":q2e(yn);break;case void 0:throw $r(xe())}Ut+=xe()},start(){switch(yn){case"{":case"[":return Rr("punctuator",xe())}Ht="value"},beforePropertyName(){switch(yn){case"$":case"_":Ut=xe(),Ht="identifierName";return;case"\\":xe(),Ht="identifierNameStartEscape";return;case"}":return Rr("punctuator",xe());case'"':case"'":Ab=xe()==='"',Ht="string";return}if(Oi.isIdStartChar(yn)){Ut+=xe(),Ht="identifierName";return}throw $r(xe())},afterPropertyName(){if(yn===":")return Rr("punctuator",xe());throw $r(xe())},beforePropertyValue(){Ht="value"},afterPropertyValue(){switch(yn){case",":case"}":return Rr("punctuator",xe())}throw $r(xe())},beforeArrayValue(){if(yn==="]")return Rr("punctuator",xe());Ht="value"},afterArrayValue(){switch(yn){case",":case"]":return Rr("punctuator",xe())}throw $r(xe())},end(){throw $r(xe())}};function Rr(t,e){return{type:t,value:e,line:$d,column:uu}}function fp(t){for(const e of t){if(jf()!==e)throw $r(xe());xe()}}function z2e(){switch(jf()){case"b":return xe(),"\b";case"f":return xe(),"\f";case"n":return xe(),`
`;case"r":return xe(),"\r";case"t":return xe(),"	";case"v":return xe(),"\v";case"0":if(xe(),Oi.isDigit(jf()))throw $r(xe());return"\0";case"x":return xe(),U2e();case"u":return xe(),GE();case`
`:case"\u2028":case"\u2029":return xe(),"";case"\r":return xe(),jf()===`
`&&xe(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw $r(xe());case void 0:throw $r(xe())}return xe()}function U2e(){let t="",e=jf();if(!Oi.isHexDigit(e)||(t+=xe(),e=jf(),!Oi.isHexDigit(e)))throw $r(xe());return t+=xe(),String.fromCodePoint(parseInt(t,16))}function GE(){let t="",e=4;for(;e-- >0;){const n=jf();if(!Oi.isHexDigit(n))throw $r(xe());t+=xe()}return String.fromCodePoint(parseInt(t,16))}const j2e={start(){if(ns.type==="eof")throw hp();K5()},beforePropertyName(){switch(ns.type){case"identifier":case"string":f7=ns.value,co="afterPropertyName";return;case"punctuator":Sw();return;case"eof":throw hp()}},afterPropertyName(){if(ns.type==="eof")throw hp();co="beforePropertyValue"},beforePropertyValue(){if(ns.type==="eof")throw hp();K5()},beforeArrayValue(){if(ns.type==="eof")throw hp();if(ns.type==="punctuator"&&ns.value==="]"){Sw();return}K5()},afterPropertyValue(){if(ns.type==="eof")throw hp();switch(ns.value){case",":co="beforePropertyName";return;case"}":Sw()}},afterArrayValue(){if(ns.type==="eof")throw hp();switch(ns.value){case",":co="beforeArrayValue";return;case"]":Sw()}},end(){}};function K5(){let t;switch(ns.type){case"punctuator":switch(ns.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=ns.value;break}if(Wb===void 0)Wb=t;else{const e=Df[Df.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,f7,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")Df.push(t),Array.isArray(t)?co="beforeArrayValue":co="beforePropertyName";else{const e=Df[Df.length-1];e==null?co="end":Array.isArray(e)?co="afterArrayValue":co="afterPropertyValue"}}function Sw(){Df.pop();const t=Df[Df.length-1];t==null?co="end":Array.isArray(t)?co="afterArrayValue":co="afterPropertyValue"}function $r(t){return IS(t===void 0?`JSON5: invalid end of input at ${$d}:${uu}`:`JSON5: invalid character '${bY(t)}' at ${$d}:${uu}`)}function hp(){return IS(`JSON5: invalid end of input at ${$d}:${uu}`)}function oL(){return uu-=5,IS(`JSON5: invalid identifier character at ${$d}:${uu}`)}function q2e(t){console.warn(`JSON5: '${bY(t)}' in strings is not valid ECMAScript; consider escaping`)}function bY(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const n=t.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return t}function IS(t){const e=new SyntaxError(t);return e.lineNumber=$d,e.columnNumber=uu,e}var V2e=function(e,n,r){const i=[];let s="",o,a,l="",u;if(n!=null&&typeof n=="object"&&!Array.isArray(n)&&(r=n.space,u=n.quote,n=n.replacer),typeof n=="function")a=n;else if(Array.isArray(n)){o=[];for(const g of n){let b;typeof g=="string"?b=g:(typeof g=="number"||g instanceof String||g instanceof Number)&&(b=String(g)),b!==void 0&&o.indexOf(b)<0&&o.push(b)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),l="          ".substr(0,r)):typeof r=="string"&&(l=r.substr(0,10)),c("",{"":e});function c(g,b){let v=b[g];switch(v!=null&&(typeof v.toJSON5=="function"?v=v.toJSON5(g):typeof v.toJSON=="function"&&(v=v.toJSON(g))),a&&(v=a.call(b,g,v)),v instanceof Number?v=Number(v):v instanceof String?v=String(v):v instanceof Boolean&&(v=v.valueOf()),v){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof v=="string")return f(v);if(typeof v=="number")return String(v);if(typeof v=="object")return Array.isArray(v)?m(v):h(v)}function f(g){const b={"'":.1,'"':.2},v={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let O="";for(let S=0;S<g.length;S++){const k=g[S];switch(k){case"'":case'"':b[k]++,O+=k;continue;case"\0":if(Oi.isDigit(g[S+1])){O+="\\x00";continue}}if(v[k]){O+=v[k];continue}if(k<" "){let A=k.charCodeAt(0).toString(16);O+="\\x"+("00"+A).substring(A.length);continue}O+=k}const _=u||Object.keys(b).reduce((S,k)=>b[S]<b[k]?S:k);return O=O.replace(new RegExp(_,"g"),v[_]),_+O+_}function h(g){if(i.indexOf(g)>=0)throw TypeError("Converting circular structure to JSON5");i.push(g);let b=s;s=s+l;let v=o||Object.keys(g),O=[];for(const S of v){const k=c(S,g);if(k!==void 0){let A=d(S)+":";l!==""&&(A+=" "),A+=k,O.push(A)}}let _;if(O.length===0)_="{}";else{let S;if(l==="")S=O.join(","),_="{"+S+"}";else{let k=`,
`+s;S=O.join(k),_=`{
`+s+S+`,
`+b+"}"}}return i.pop(),s=b,_}function d(g){if(g.length===0)return f(g);const b=String.fromCodePoint(g.codePointAt(0));if(!Oi.isIdStartChar(b))return f(g);for(let v=b.length;v<g.length;v++)if(!Oi.isIdContinueChar(String.fromCodePoint(g.codePointAt(v))))return f(g);return g}function m(g){if(i.indexOf(g)>=0)throw TypeError("Converting circular structure to JSON5");i.push(g);let b=s;s=s+l;let v=[];for(let _=0;_<g.length;_++){const S=c(String(_),g);v.push(S!==void 0?S:"null")}let O;if(v.length===0)O="[]";else if(l==="")O="["+v.join(",")+"]";else{let _=`,
`+s,S=v.join(_);O=`[
`+s+S+`,
`+b+"]"}return i.pop(),s=b,O}};const X2e={parse:Q2e,stringify:V2e};var r1=X2e;let HE=[],vY=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?vY:HE).push(n=n+t[e])})();function Z2e(t){if(t<768)return!1;for(let e=0,n=HE.length;;){let r=e+n>>1;if(t<HE[r])n=r;else if(t>=vY[r])e=r+1;else return!0;if(e==n)return!1}}function aL(t){return t>=127462&&t<=127487}const lL=8205;function W2e(t,e,n=!0,r=!0){return(n?OY:Y2e)(t,e,r)}function OY(t,e,n){if(e==t.length)return e;e&&wY(t.charCodeAt(e))&&xY(t.charCodeAt(e-1))&&e--;let r=J5(t,e);for(e+=uL(r);e<t.length;){let i=J5(t,e);if(r==lL||i==lL||n&&Z2e(i))e+=uL(i),r=i;else if(aL(i)){let s=0,o=e-2;for(;o>=0&&aL(J5(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Y2e(t,e,n){for(;e>0;){let r=OY(t,e-2,n);if(r<e)return r;e--}return 0}function J5(t,e){let n=t.charCodeAt(e);if(!xY(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return wY(r)?(n-55296<<10)+(r-56320)+65536:n}function wY(t){return t>=56320&&t<57344}function xY(t){return t>=55296&&t<56320}function uL(t){return t<65536?1:2}let In=class _Y{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=i1(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Ku.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=i1(this,e,n);let r=[];return this.decompose(e,n,r,0),Ku.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Yb(this),s=new Yb(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Yb(this,e)}iterRange(e,n=this.length){return new SY(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new kY(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?_Y.empty:e.length<=32?new wi(e):Ku.from(wi.split(e,[]))}};class wi extends In{constructor(e,n=G2e(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new H2e(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new wi(cL(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Gx(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new wi(a,o.length+s.length));else{let l=a.length>>1;r.push(new wi(a.slice(0,l)),new wi(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof wi))return super.replace(e,n,r);[e,n]=i1(this,e,n);let i=Gx(this.text,Gx(r.text,cL(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new wi(i,s):Ku.from(wi.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=i1(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new wi(r,i)),r=[],i=-1);return i>-1&&n.push(new wi(r,i)),n}}class Ku extends In{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?r.push(a):a.decompose(e-o,n-o,r,u)}o=l+1}}replace(e,n,r){if([e,n]=i1(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new Ku(c,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=i1(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Ku))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let m of e)m.flatten(d);return new wi(d,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,c=[];function f(d){let m;if(d.lines>s&&d instanceof Ku)for(let g of d.children)f(g);else d.lines>o&&(l>o||!l)?(h(),a.push(d)):d instanceof wi&&l&&(m=c[c.length-1])instanceof wi&&d.lines+m.lines<=32?(l+=d.lines,u+=d.length+1,c[c.length-1]=new wi(m.text.concat(d.text),m.length+1+d.length)):(l+d.lines>i&&h(),l+=d.lines,u+=d.length+1,c.push(d))}function h(){l!=0&&(a.push(c.length==1?c[0]:Ku.from(c,u)),u=-1,l=c.length=0)}for(let d of e)f(d);return h(),a.length==1?a[0]:new Ku(a,n)}}In.empty=new wi([""],0);function G2e(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Gx(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function cL(t,e,n){return Gx(t,[""],e,n)}class Yb{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof wi?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof wi?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof wi){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof wi?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class SY{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Yb(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class kY{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(In.prototype[Symbol.iterator]=function(){return this.iter()},Yb.prototype[Symbol.iterator]=SY.prototype[Symbol.iterator]=kY.prototype[Symbol.iterator]=function(){return this});let H2e=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function i1(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function bs(t,e,n=!0,r=!0){return W2e(t,e,n,r)}function K2e(t){return t>=56320&&t<57344}function J2e(t){return t>=55296&&t<56320}function zo(t,e){let n=t.charCodeAt(e);if(!J2e(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return K2e(r)?(n-55296<<10)+(r-56320)+65536:n}function h7(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Ju(t){return t<65536?1:2}const KE=/\r\n?|\n/;var gs=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(gs||(gs={}));class yc{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){JE(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new yc(e)}composeDesc(e){return this.empty?e:e.empty?this:CY(this,e)}mapDesc(e,n=!1){return e.empty?this:e8(this,e,n)}mapPos(e,n=-1,r=gs.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=gs.Simple&&u>=e&&(r==gs.TrackDel&&i<e&&u>e||r==gs.TrackBefore&&i<e||r==gs.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new yc(e)}static create(e){return new yc(e)}}class Wi extends yc{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return JE(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return e8(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(In.empty);r.push(o?e.slice(s,s+o):In.empty)}s+=o}return new Wi(n,r)}compose(e){return this.empty?e:e.empty?this:CY(this,e,!0)}map(e,n=!1){return e.empty?this:e8(this,e,n,!0)}iterChanges(e,n=!1){JE(this,e,n)}get desc(){return yc.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new Tv(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);As(i,c,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;As(n,c,f),f>0&&Hh(r,n,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);As(n,c,-1),As(i,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new Wi(n,r),filtered:yc.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!i.length)return;o<n&&As(i,n-o,-1);let f=new Wi(i,s);a=a?a.compose(f.map(a)):f,i=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof Wi){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:f,to:h=f,insert:d}=c;if(f>h||f<0||h>n)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${n})`);let m=d?typeof d=="string"?In.of(d.split(r||KE)):d:In.empty,g=m.length;if(f==h&&g==0)return;f<o&&l(),f>o&&As(i,f-o,-1),As(i,h-f,g),Hh(s,i,m),o=h}}return u(e),l(!a),a}static empty(e){return new Wi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(In.empty);r[i]=In.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Wi(n,r)}static createSet(e,n){return new Wi(e,n)}}function As(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Hh(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(In.empty);t.push(n)}}function JE(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,c=s,f=In.empty;for(;u+=a,c+=l,l&&r&&(f=f.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,u,s,c,f),i=u,s=c}}}function e8(t,e,n,r=!1){let i=[],s=r?[]:null,o=new Tv(t),a=new Tv(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);As(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(As(i,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(As(i,0,o.ins),s&&Hh(s,i,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let f=Math.min(c,a.len);u+=f,c-=f,a.forward(f)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;As(i,u,l<o.i?o.ins:0),s&&l<o.i&&Hh(s,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?Wi.createSet(i,s):yc.create(i);throw new Error("Mismatched change set lengths")}}}function CY(t,e,n=!1){let r=[],i=n?[]:null,s=new Tv(t),o=new Tv(e);for(let a=!1;;){if(s.done&&o.done)return i?Wi.createSet(r,i):yc.create(r);if(s.ins==0)As(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)As(r,0,o.ins,a),i&&Hh(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;As(r,l,c,a),i&&c&&Hh(i,r,o.text)}else o.ins==-1?(As(r,s.off?0:s.len,l,a),i&&Hh(i,r,s.textBit(l))):(As(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&Hh(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class Tv{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?In.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?In.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Fp{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Fp(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return me.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return me.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return me.range(e.anchor,e.head)}static create(e,n,r){return new Fp(e,n,r)}}class me{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:me.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new me([this.main],0)}addRange(e,n=!0){return me.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,me.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new me(e.ranges.map(n=>Fp.fromJSON(n)),e.main)}static single(e,n=e){return new me([me.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return me.normalized(e.slice(),n);r=s.to}return new me(e,n)}static cursor(e,n=0,r,i){return Fp.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Fp.create(n,e,48|s):Fp.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?me.range(l,a):me.range(a,l))}}return new me(e,n)}}function AY(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let d7=0;class Ge{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=d7++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ge(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:p7),!!e.static,e.enables)}of(e){return new Hx([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hx(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Hx(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function p7(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Hx{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=d7++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:(((n=e[f.id])!==null&&n!==void 0?n:1)&1)==0&&c.push(e[f.id]);return{create(f){return f.values[o]=r(f),1},update(f,h){if(l&&h.docChanged||u&&(h.docChanged||h.selection)||t8(f,c)){let d=r(f);if(a?!fL(d,f.values[o],i):!i(d,f.values[o]))return f.values[o]=d,1}return 0},reconfigure:(f,h)=>{let d,m=h.config.address[s];if(m!=null){let g=MS(h,m);if(this.dependencies.every(b=>b instanceof Ge?h.facet(b)===f.facet(b):b instanceof Mi?h.field(b,!1)==f.field(b,!1):!0)||(a?fL(d=r(f),g,i):i(d=r(f),g)))return f.values[o]=g,0}else d=r(f);return f.values[o]=d,1}}}}function fL(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function t8(t,e){let n=!1;for(let r of e)Gb(t,r)&1&&(n=!0);return n}function ewe(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<r.length;c++){let f=MS(l,r[c]);if(i[c]==2)for(let h of f)u.push(h);else u.push(f)}return e.combine(u)}return{create(l){for(let u of r)Gb(l,u);return l.values[o]=a(l),1},update(l,u){if(!t8(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=t8(l,r),f=u.config.facets[e.id],h=u.facet(e);if(f&&!c&&p7(n,f))return l.values[o]=h,0;let d=a(l);return e.compare(d,h)?(l.values[o]=h,0):(l.values[o]=d,1)}}}const kw=Ge.define({static:!0});class Mi{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new Mi(d7++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(kw).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(kw),o=i.facet(kw),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,kw.of({field:this,create:e})]}get extension(){return this}}const Sp={lowest:4,low:3,default:2,high:1,highest:0};function By(t){return e=>new EY(e,t)}const dh={highest:By(Sp.highest),high:By(Sp.high),default:By(Sp.default),low:By(Sp.low),lowest:By(Sp.lowest)};class EY{constructor(e,n){this.inner=e,this.prec=n}}class Kk{of(e){return new n8(this,e)}reconfigure(e){return Kk.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class n8{constructor(e,n){this.compartment=e,this.inner=n}}class FS{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let h of twe(e,n,o))h instanceof Mi?i.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],u=[];for(let h of i)a[h.id]=u.length<<1,u.push(d=>h.slot(d));let c=r?.config.facets;for(let h in s){let d=s[h],m=d[0].facet,g=c&&c[h]||[];if(d.every(b=>b.type==0))if(a[m.id]=l.length<<1|1,p7(g,d))l.push(r.facet(m));else{let b=m.combine(d.map(v=>v.value));l.push(r&&m.compare(b,r.facet(m))?r.facet(m):b)}else{for(let b of d)b.type==0?(a[b.id]=l.length<<1|1,l.push(b.value)):(a[b.id]=u.length<<1,u.push(v=>b.dynamicSlot(v)));a[m.id]=u.length<<1,u.push(b=>ewe(b,m,d))}}let f=u.map(h=>h(a));return new FS(e,o,f,a,l,s)}}function twe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof n8&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof n8){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof EY)s(o.inner,o.prec);else if(o instanceof Mi)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Hx)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Sp.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,Sp.default),r.reduce((o,a)=>o.concat(a))}function Gb(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function MS(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const TY=Ge.define(),r8=Ge.define({combine:t=>t.some(e=>e),static:!0}),DY=Ge.define({combine:t=>t.length?t[0]:void 0,static:!0}),PY=Ge.define(),RY=Ge.define(),$Y=Ge.define(),IY=Ge.define({combine:t=>t.length?t[0]:!1});class ph{constructor(e,n){this.type=e,this.value=n}static define(){return new nwe}}class nwe{of(e){return new ph(this,e)}}class rwe{constructor(e){this.map=e}of(e){return new Vt(this,e)}}class Vt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Vt(this.type,n)}is(e){return this.type==e}static define(e={}){return new rwe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Vt.reconfigure=Vt.define();Vt.appendConfig=Vt.define();class $i{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&AY(r,n.newLength),s.some(a=>a.type==$i.time)||(this.annotations=s.concat($i.time.of(Date.now())))}static create(e,n,r,i,s,o){return new $i(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation($i.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}$i.time=ph.define();$i.userEvent=ph.define();$i.addToHistory=ph.define();$i.remote=ph.define();function iwe(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function FY(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Wi.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Vt.mapEffects(t.effects,i).concat(Vt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function i8(t,e,n){let r=e.selection,i=yg(e.annotations);return e.userEvent&&(i=i.concat($i.userEvent.of(e.userEvent))),{changes:e.changes instanceof Wi?e.changes:Wi.of(e.changes||[],n,t.facet(DY)),selection:r&&(r instanceof me?r:me.single(r.anchor,r.head)),effects:yg(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function MY(t,e,n){let r=i8(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=FY(r,i8(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=$i.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return owe(n?swe(i):i)}function swe(t){let e=t.startState,n=!0;for(let i of e.facet(PY)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:iwe(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Wi.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=$i.create(e,i,t.selection&&t.selection.map(s),Vt.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(RY);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof $i?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof $i?t=s[0]:t=MY(e,yg(s),!1)}return t}function owe(t){let e=t.startState,n=e.facet($Y),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=FY(r,i8(e,s,t.changes.newLength),!0))}return r==t?t:$i.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const awe=[];function yg(t){return t==null?awe:Array.isArray(t)?t:[t]}var Xr=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(Xr||(Xr={}));const lwe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let s8;try{s8=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function uwe(t){if(s8)return s8.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"Â"&&(n.toUpperCase()!=n.toLowerCase()||lwe.test(n)))return!0}return!1}function cwe(t){return e=>{if(!/\S/.test(e))return Xr.Space;if(uwe(e))return Xr.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Xr.Word;return Xr.Other}}class Tn{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Gb(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Gb(this,r),MS(this,r)}update(...e){return MY(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(Kk.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Vt.reconfigure)?(n=null,r=a.value):a.is(Vt.appendConfig)&&(n=null,r=yg(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=FS.resolve(r,i,this),s=new Tn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(r8)?e.newSelection:e.newSelection.asSingle();new Tn(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:me.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=yg(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),c=u.map(i);for(let h=0;h<a;h++)s[h]=s[h].map(c);let f=i.mapDesc(u,!0);s.push(l.range.map(f)),i=i.compose(c),o=Vt.mapEffects(o,c).concat(Vt.mapEffects(yg(l.effects),f))}return{changes:i,selection:me.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Wi?e:Wi.of(e,this.doc.length,this.facet(Tn.lineSeparator))}toText(e){return In.of(e.split(this.facet(Tn.lineSeparator)||KE))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Gb(this,n),MS(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Mi&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Tn.create({doc:e.doc,selection:me.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=FS.resolve(e.extensions||[],new Map),r=e.doc instanceof In?e.doc:In.of((e.doc||"").split(n.staticFacet(Tn.lineSeparator)||KE)),i=e.selection?e.selection instanceof me?e.selection:me.single(e.selection.anchor,e.selection.head):me.single(0);return AY(i,r.length),n.staticFacet(r8)||(i=i.asSingle()),new Tn(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Tn.tabSize)}get lineBreak(){return this.facet(Tn.lineSeparator)||`
`}get readOnly(){return this.facet(IY)}phrase(e,...n){for(let r of this.facet(Tn.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(TY))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return cwe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=bs(n,o,!1);if(s(n.slice(l,o))!=Xr.Word)break;o=l}for(;a<i;){let l=bs(n,a);if(s(n.slice(a,l))!=Xr.Word)break;a=l}return o==a?null:me.range(o+r,a+r)}}Tn.allowMultipleSelections=r8;Tn.tabSize=Ge.define({combine:t=>t.length?t[0]:4});Tn.lineSeparator=DY;Tn.readOnly=IY;Tn.phrases=Ge.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Tn.languageData=TY;Tn.changeFilter=PY;Tn.transactionFilter=RY;Tn.transactionExtender=$Y;Kk.reconfigure=Vt.define();function mh(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class O0{eq(e){return this==e}range(e,n=e){return o8.create(e,n,this)}}O0.prototype.startSide=O0.prototype.endSide=0;O0.prototype.point=!1;O0.prototype.mapMode=gs.TrackDel;let o8=class LY{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new LY(e,n,r)}};function a8(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class m7{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,h,d;if(c==f){let m=n.mapPos(c,u.startSide,u.mapMode);if(m==null||(h=d=m,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide),d<h)))continue}else if(h=n.mapPos(c,u.startSide),d=n.mapPos(f,u.endSide),h>d||h==d&&u.startSide>0&&u.endSide<=0)continue;(d-h||u.endSide-u.startSide)<0||(o<0&&(o=h),u.point&&(a=Math.max(a,d-h)),r.push(u),i.push(h-o),s.push(d-o))}return{mapped:r.length?new m7(i,s,r,a):null,pos:o}}}class Bn{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Bn(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(a8)),this.isEmpty)return n.length?Bn.of(n):this;let a=new NY(this,null,-1).goto(0),l=0,u=[],c=new Id;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push(o8.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?Bn.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:f}=l.map(a,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}let s=this.nextLayer.map(e);return n.length==0?s:new Bn(r,n,s||Bn.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Dv.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Dv.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=hL(o,a,r),u=new zy(o,l,s),c=new zy(a,l,s);r.iterGaps((f,h,d)=>dL(u,f,c,h,d,i)),r.empty&&r.length==0&&dL(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=hL(s,o),l=new zy(s,a,0).goto(r),u=new zy(o,a,0).goto(r);for(;;){if(l.to!=u.to||!l8(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let o=new zy(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let c=o.activeForPoint(o.to),f=o.pointFrom<n?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);i.point(a,u,o.point,c,f,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new Id;for(let i of e instanceof o8?[e]:n?fwe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return Bn.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=Bn.empty;i=i.nextLayer)n=new Bn(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Bn.empty=new Bn([],[],null,-1);function fwe(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(a8(e,r)>0)return t.slice().sort(a8);e=r}return t}Bn.empty.nextLayer=Bn.empty;class Id{finishChunk(e){this.chunks.push(new m7(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Id)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Bn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Bn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function hL(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!n?.touchesRange(a,a+s.chunk[o].length)&&i.add(s.chunk[o])}return i}class NY{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Dv{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new NY(o,n,r,s));return i.length==1?i[0]:new Dv(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)eA(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)eA(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),eA(this.heap,0)}}}function eA(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class zy{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Dv.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Cw(this.active,e),Cw(this.activeTo,e),Cw(this.activeRank,e),this.minActive=pL(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Aw(this.active,n,r),Aw(this.activeTo,n,i),Aw(this.activeRank,n,s),e&&Aw(e,n,this.cursor.from),this.minActive=pL(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Cw(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function dL(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=t.to+l-n.to,c=u||t.endSide-n.endSide,f=c<0?t.to+l:n.to,h=Math.min(f,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&l8(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,h,t.point,n.point):h>a&&!l8(t.active,n.active)&&s.compareRange(a,h,t.active,n.active),f>o)break;(u||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(f),a=f,c<=0&&t.next(),c>=0&&n.next()}}function l8(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Cw(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Aw(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function pL(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function fu(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=bs(t,i));return r}function u8(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=bs(t,i)}return r===!0?-1:t.length}const c8="Í¼",mL=typeof Symbol>"u"?"__"+c8:Symbol.for(c8),f8=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),gL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Fd{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],f=/^@(\w+)\b/.exec(o[0]),h=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let d in a){let m=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(g=>o.map(b=>g.replace(/&/,b))).reduce((g,b)=>g.concat(b)),m,l);else if(m&&typeof m=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(i(d),m,c,h)}else m!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(c.length||h)&&l.push((r&&!f&&!u?o.map(r):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=gL[mL]||1;return gL[mL]=e+1,c8+e.toString(36)}static mount(e,n,r){let i=e[f8],s=r&&r.nonce;i?s&&i.setNonce(s):i=new hwe(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let yL=new Map;class hwe{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=yL.get(r);if(s)return e[f8]=s;this.sheet=new i.CSSStyleSheet,yL.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[f8]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Md={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dwe=typeof navigator<"u"&&/Mac/.test(navigator.platform),pwe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ms=0;ms<10;ms++)Md[48+ms]=Md[96+ms]=String(ms);for(var ms=1;ms<=24;ms++)Md[ms+111]="F"+ms;for(var ms=65;ms<=90;ms++)Md[ms]=String.fromCharCode(ms+32),Pv[ms]=String.fromCharCode(ms);for(var tA in Md)Pv.hasOwnProperty(tA)||(Pv[tA]=Md[tA]);function mwe(t){var e=dwe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||pwe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Pv:Md)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function pr(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)QY(t,arguments[e]);return t}function QY(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)QY(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let so=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},h8=typeof document<"u"?document:{documentElement:{style:{}}};const d8=/Edge\/(\d+)/.exec(so.userAgent),BY=/MSIE \d/.test(so.userAgent),p8=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(so.userAgent),Jk=!!(BY||p8||d8),bL=!Jk&&/gecko\/(\d+)/i.test(so.userAgent),nA=!Jk&&/Chrome\/(\d+)/.exec(so.userAgent),gwe="webkitFontSmoothing"in h8.documentElement.style,m8=!Jk&&/Apple Computer/.test(so.vendor),vL=m8&&(/Mobile\/\w+/.test(so.userAgent)||so.maxTouchPoints>2);var qe={mac:vL||/Mac/.test(so.platform),windows:/Win/.test(so.platform),linux:/Linux|X11/.test(so.platform),ie:Jk,ie_version:BY?h8.documentMode||6:p8?+p8[1]:d8?+d8[1]:0,gecko:bL,gecko_version:bL?+(/Firefox\/(\d+)/.exec(so.userAgent)||[0,0])[1]:0,chrome:!!nA,chrome_version:nA?+nA[1]:0,ios:vL,android:/Android\b/.test(so.userAgent),webkit_version:gwe?+(/\bAppleWebKit\/(\d+)/.exec(so.userAgent)||[0,0])[1]:0,safari:m8,safari_version:m8?+(/\bVersion\/(\d+(\.\d+)?)/.exec(so.userAgent)||[0,0])[1]:0,tabSize:h8.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function Rv(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function g8(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Kx(t,e){if(!e.anchorNode)return!1;try{return g8(t,e.anchorNode)}catch{return!1}}function $v(t){return t.nodeType==3?x0(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Hb(t,e,n,r){return n?OL(t,e,n,r,-1)||OL(t,e,n,r,1):!1}function w0(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function LS(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function OL(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Tc(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=w0(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Tc(t):0}else return!1}}function Tc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function e4(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function ywe(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function zY(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function bwe(t,e,n,r,i,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,f=!1;c&&!f;)if(c.nodeType==1){let h,d=c==l.body,m=1,g=1;if(d)h=ywe(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(f=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let O=c.getBoundingClientRect();({scaleX:m,scaleY:g}=zY(c,O)),h={left:O.left,right:O.left+c.clientWidth*m,top:O.top,bottom:O.top+c.clientHeight*g}}let b=0,v=0;if(i=="nearest")e.top<h.top?(v=e.top-(h.top+o),n>0&&e.bottom>h.bottom+v&&(v=e.bottom-h.bottom+o)):e.bottom>h.bottom&&(v=e.bottom-h.bottom+o,n<0&&e.top-v<h.top&&(v=e.top-(h.top+o)));else{let O=e.bottom-e.top,_=h.bottom-h.top;v=(i=="center"&&O<=_?e.top+O/2-_/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-_+o)-h.top}if(r=="nearest"?e.left<h.left?(b=e.left-(h.left+s),n>0&&e.right>h.right+b&&(b=e.right-h.right+s)):e.right>h.right&&(b=e.right-h.right+s,n<0&&e.left<h.left+b&&(b=e.left-(h.left+s))):b=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,b||v)if(d)u.scrollBy(b,v);else{let O=0,_=0;if(v){let S=c.scrollTop;c.scrollTop+=v/g,_=(c.scrollTop-S)*g}if(b){let S=c.scrollLeft;c.scrollLeft+=b/m,O=(c.scrollLeft-S)*m}e={left:e.left-O,top:e.top-_,right:e.right-O,bottom:e.bottom-_},O&&Math.abs(O-b)<1&&(r="nearest"),_&&Math.abs(_-v)<1&&(i="nearest")}if(d)break;(e.top<h.top||e.bottom>h.bottom||e.left<h.left||e.right>h.right)&&(e={left:Math.max(e.left,h.left),right:Math.min(e.right,h.right),top:Math.max(e.top,h.top),bottom:Math.min(e.bottom,h.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function vwe(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class Owe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Tc(n):0),r,Math.min(e.focusOffset,r?Tc(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let bp=null;qe.safari&&qe.safari_version>=26&&(bp=!1);function UY(t){if(t.setActive)return t.setActive();if(bp)return t.focus(bp);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(bp==null?{get preventScroll(){return bp={preventScroll:!0},!0}}:void 0),!bp){bp=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let wL;function x0(t,e,n=e){let r=wL||(wL=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function bg(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function wwe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function jY(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function xwe(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Tc(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Tc(n))}else{if(n==t)return!0;r=w0(n),n=n.parentNode}}function qY(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function VY(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Tc(n)}else if(n.parentNode&&!LS(n))r=w0(n),n=n.parentNode;else return null}}function XY(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!LS(n))r=w0(n)+1,n=n.parentNode;else return null}}class Ts{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Ts(e.parentNode,w0(e),n)}static after(e,n){return new Ts(e.parentNode,w0(e)+1,n)}}const g7=[];class cr{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=cr.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=xL(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=xL(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Tc(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!cr.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let f=this.children[l],h=u+f.length;if(u<e&&h>n)return f.domBoundsAround(e,n,u);if(h>=e&&i==-1&&(i=l,s=u),u>n&&f.dom.parentNode==this.dom){o=l,a=c;break}c=h,u=h+f.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=g7){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ZY(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}cr.prototype.breakAfter=0;function xL(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ZY{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function WY(t,e,n,r,i,s,o,a,l){let{children:u}=t,c=u.length?u[e]:null,f=s.length?s[s.length-1]:null,h=f?f.breakAfter:o;if(!(e==r&&c&&!o&&!h&&s.length<2&&c.merge(n,i,s.length?f:null,n==0,a,l))){if(r<u.length){let d=u[r];d&&(i<d.length||d.breakAfter&&f?.breakAfter)?(e==r&&(d=d.split(i),i=0),!h&&f&&d.merge(0,i,f,!0,0,l)?s[s.length-1]=d:((i||d.children.length&&!d.children[0].length)&&d.merge(0,i,null,!1,0,l),s.push(d))):d?.breakAfter&&(f?f.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function YY(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),f=e-n;for(let h of r)f+=h.length;t.length+=f,WY(t,u,c,a,l,r,0,i,s)}const _we=256;class hu extends cr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof hu)||this.length-(n-e)+r.length>_we||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new hu(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Ts(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Swe(this.dom,e,n)}}class nh extends cr{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(jY(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof nh&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(YY(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new nh(this.mark,n,o)}domAtPos(e){return GY(this,e)}coordsAt(e,n){return KY(this,e,n)}}function Swe(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?qe.chrome||qe.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=x0(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return qe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?e4(l,o<0):l||null}class Ff extends cr{static create(e,n,r){return new Ff(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Ff.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Ff)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Ff&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return In.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):In.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ts.before(this.dom):Ts.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return e4(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class s1 extends cr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof s1&&e.side==this.side}split(){return new s1(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ts.before(this.dom):Ts.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return In.empty}get isHidden(){return!0}}hu.prototype.children=Ff.prototype.children=s1.prototype.children=g7;function GY(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Ts(n,0)}function HY(t,e,n){let r,{children:i}=t;n>0&&e instanceof nh&&i.length&&(r=i[i.length-1])instanceof nh&&r.mark.eq(e.mark)?HY(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function KY(t,e,n){let r=null,i=-1,s=null,o=-1;function a(u,c){for(let f=0,h=0;f<u.children.length&&h<=c;f++){let d=u.children[f],m=h+d.length;m>=c&&(d.children.length?a(d,c-h):(!s||s.isHidden&&(n>0||Cwe(s,d)))&&(m>c||h==m&&d.getSide()>0)?(s=d,o=c-h):(h<c||h==m&&d.getSide()<0&&!d.isHidden)&&(r=d,i=c-h)),h=m}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):kwe(t)}function kwe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=$v(e);return n[n.length-1]||null}function Cwe(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function y8(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const _L=Object.create(null);function NS(t,e,n){if(t==e)return!0;t||(t=_L),e||(e=_L);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function b8(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Awe(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class U0{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var mo=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(mo||(mo={}));class Tt extends O0{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new jO(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Ld(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=JY(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new Ld(e,r,i,n,e.widget||null,!0)}static line(e){return new qO(e)}static set(e,n=!1){return Bn.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Tt.none=Bn.empty;class jO extends Tt{constructor(e){let{start:n,end:r}=JY(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof jO&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&NS(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}jO.prototype.point=!1;class qO extends Tt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof qO&&this.spec.class==e.spec.class&&NS(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}qO.prototype.mapMode=gs.TrackBefore;qO.prototype.point=!0;class Ld extends Tt{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?gs.TrackBefore:gs.TrackAfter:gs.TrackDel}get type(){return this.startSide!=this.endSide?mo.WidgetRange:this.startSide<=0?mo.WidgetBefore:mo.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ld&&Ewe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Ld.prototype.point=!0;function JY(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Ewe(t,e){return t==e||!!(t&&e&&t.compare(e))}function Jx(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Pi extends cr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof Pi))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),YY(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new Pi;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){NS(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){HY(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=y8(n,this.attrs||{})),r&&(this.attrs=y8({class:r},this.attrs||{}))}domAtPos(e){return GY(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(jY(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(b8(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&cr.get(i)instanceof nh;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=cr.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!qe.ios||!this.children.some(s=>s instanceof hu))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof hu)||/[^ -~]/.test(r.text))return null;let i=$v(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=KY(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof Pi&&this.children.length==0&&e.children.length==0&&NS(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof Pi)return s;if(o>n)break}i=o+s.breakAfter}return null}}class qf extends cr{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof qf)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Ts.before(this.dom):Ts.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new qf(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return g7}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):In.empty}domBoundsAround(){return null}become(e){return e instanceof qf&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof v8?null:e4(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class v8 extends U0{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Kb{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof qf&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Pi),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ew(new s1(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof qf)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Ew(new hu(this.text.slice(this.textOff,this.textOff+s)),n),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=i<=s?0:n.length}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof Ld){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Ld)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new qf(r.widget||o1.block,a,r));else{let l=Ff.create(r.widget||o1.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(f.append(Ew(new s1(1),i),s),s=i.length+Math.max(0,s-i.length)),f.append(Ew(l,i),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new Kb(e,n,r,s);return o.openEnd=Bn.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Ew(t,e){for(let n of e)t=new nh(n,[t],t.length);return t}class o1 extends U0{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}o1.inline=new o1("span");o1.block=new o1("div");var Mr=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(Mr||(Mr={}));const _0=Mr.LTR,y7=Mr.RTL;function eG(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Twe=eG("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Dwe=eG("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),O8=Object.create(null),$u=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);O8[e]=n,O8[n]=-e}function tG(t){return t<=247?Twe[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Dwe[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Pwe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Kh{get dir(){return this.level%2?y7:_0}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function nG(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!nG(r.inner,i.inner))return!1}return!0}const gr=[];function Rwe(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let u=o,c=l,f=l;u<a;u++){let h=tG(t.charCodeAt(u));h==512?h=c:h==8&&f==4&&(h=16),gr[u]=h==4?2:h,h&7&&(f=h),c=h}for(let u=o,c=l,f=l;u<a;u++){let h=gr[u];if(h==128)u<a-1&&c==gr[u+1]&&c&24?h=gr[u]=c:gr[u]=256;else if(h==64){let d=u+1;for(;d<a&&gr[d]==64;)d++;let m=u&&c==8||d<n&&gr[d]==8?f==1?1:8:256;for(let g=u;g<d;g++)gr[g]=m;u=d-1}else h==8&&f==1&&(gr[u]=1);c=h,h&7&&(f=h)}}}function $we(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:n;for(let f=u,h,d,m;f<c;f++)if(d=O8[h=t.charCodeAt(f)])if(d<0){for(let g=a-3;g>=0;g-=3)if($u[g+1]==-d){let b=$u[g+2],v=b&2?i:b&4?b&1?s:i:0;v&&(gr[f]=gr[$u[g]]=v),a=g;break}}else{if($u.length==189)break;$u[a++]=f,$u[a++]=h,$u[a++]=l}else if((m=gr[f])==2||m==1){let g=m==i;l=g?0:1;for(let b=a-3;b>=0;b-=3){let v=$u[b+2];if(v&2)break;if(g)$u[b+2]|=2;else{if(v&4)break;$u[b+2]|=4}}}}}function Iwe(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let u=gr[l];if(u==256){let c=l+1;for(;;)if(c==a){if(i==n.length)break;c=n[i++].to,a=i<n.length?n[i].from:e}else if(gr[c]==256)c++;else break;let f=s==1,h=(c<e?gr[c]:r)==1,d=f==h?f?1:2:r;for(let m=c,g=i,b=g?n[g-1].to:t;m>l;)m==b&&(m=n[--g].from,b=g?n[g-1].to:t),gr[--m]=d;l=c}else s=u,l++}}}function w8(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let c=!0,f=!1;if(u==s.length||l<s[u].from){let g=gr[l];g!=a&&(c=!1,f=g==16)}let h=!c&&a==1?[]:null,d=c?r:r+1,m=l;e:for(;;)if(u<s.length&&m==s[u].from){if(f)break e;let g=s[u];if(!c)for(let b=g.to,v=u+1;;){if(b==n)break e;if(v<s.length&&s[v].from==b)b=s[v++].to;else{if(gr[b]==a)break e;break}}if(u++,h)h.push(g);else{g.from>l&&o.push(new Kh(l,g.from,d));let b=g.direction==_0!=!(d%2);x8(t,b?r+1:r,i,g.inner,g.from,g.to,o),l=g.to}m=g.to}else{if(m==n||(c?gr[m]!=a:gr[m]==a))break;m++}h?w8(t,l,m,r+1,i,h,o):l<m&&o.push(new Kh(l,m,d)),l=m}else for(let l=n,u=s.length;l>e;){let c=!0,f=!1;if(!u||l>s[u-1].to){let g=gr[l-1];g!=a&&(c=!1,f=g==16)}let h=!c&&a==1?[]:null,d=c?r:r+1,m=l;e:for(;;)if(u&&m==s[u-1].to){if(f)break e;let g=s[--u];if(!c)for(let b=g.from,v=u;;){if(b==e)break e;if(v&&s[v-1].to==b)b=s[--v].from;else{if(gr[b-1]==a)break e;break}}if(h)h.push(g);else{g.to<l&&o.push(new Kh(g.to,l,d));let b=g.direction==_0!=!(d%2);x8(t,b?r+1:r,i,g.inner,g.from,g.to,o),l=g.from}m=g.from}else{if(m==e||(c?gr[m-1]!=a:gr[m-1]==a))break;m--}h?w8(t,m,l,r+1,i,h,o):m<l&&o.push(new Kh(m,l,d)),l=m}}function x8(t,e,n,r,i,s,o){let a=e%2?2:1;Rwe(t,i,s,r,a),$we(t,i,s,r,a),Iwe(i,s,r,a),w8(t,i,s,e,n,r,o)}function Fwe(t,e,n){if(!t)return[new Kh(0,0,e==y7?1:0)];if(e==_0&&!n.length&&!Pwe.test(t))return rG(t.length);if(n.length)for(;t.length>gr.length;)gr[gr.length]=256;let r=[],i=e==_0?0:1;return x8(t,i,i,n,0,t.length,r),r}function rG(t){return[new Kh(0,t,0)]}let iG="";function Mwe(t,e,n,r,i){var s;let o=r.head-t.from,a=Kh.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],u=l.side(i,n);if(o==u){let h=a+=i?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],o=l.side(!i,n),u=l.side(i,n)}let c=bs(t.text,o,l.forward(i,n));(c<l.from||c>l.to)&&(c=u),iG=t.text.slice(Math.min(o,c),Math.max(o,c));let f=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return f&&c==u&&f.level+(i?0:1)<l.level?me.cursor(f.side(!i,n)+t.from,f.forward(i,n)?1:-1,f.level):me.cursor(c+t.from,l.forward(i,n)?-1:1,l.level)}function Lwe(t,e,n){for(let r=e;r<n;r++){let i=tG(t.charCodeAt(r));if(i==1)return _0;if(i==2||i==4)return y7}return _0}const sG=Ge.define(),oG=Ge.define(),aG=Ge.define(),lG=Ge.define(),_8=Ge.define(),uG=Ge.define(),cG=Ge.define(),b7=Ge.define(),v7=Ge.define(),fG=Ge.define({combine:t=>t.some(e=>e)}),hG=Ge.define({combine:t=>t.some(e=>e)}),dG=Ge.define();class vg{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new vg(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new vg(me.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Tw=Vt.define({map:(t,e)=>t.map(e)}),pG=Vt.define();function ho(t,e,n){let r=t.facet(lG);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Pf=Ge.define({combine:t=>t.length?t[0]:!0});let Nwe=0;const Gm=Ge.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Fi{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Gm.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Gm.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new Fi(Nwe++,e,r,i,a=>{let l=[];return o&&l.push(Iv.of(u=>{let c=u.plugin(a);return c?o(c):Tt.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return Fi.define((r,i)=>new e(r,i),n)}}class rA{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(ho(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){ho(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){ho(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const mG=Ge.define(),O7=Ge.define(),Iv=Ge.define(),gG=Ge.define(),VO=Ge.define(),yG=Ge.define();function SL(t,e){let n=t.state.facet(yG);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return Bn.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,c=o-e.from,f=i;for(let h=a.length-1;h>=0;h--,l--){let d=a[h].spec.bidiIsolate,m;if(d==null&&(d=Lwe(e.text,u,c)),l>0&&f.length&&(m=f[f.length-1]).to==u&&m.direction==d)m.to=c,f=m.inner;else{let g={from:u,to:c,direction:d,inner:[]};f.push(g),f=g.inner}}}}),i}const bG=Ge.define();function w7(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(bG)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Eb=Ge.define();class xl{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new xl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let f=n[s],h=n[s+1],d=Math.max(a,f),m=Math.min(c,h);if(d<=m&&new xl(d+u,m+u,d,m).addToSet(r),h>c)break;s+=2}if(!l)return r;new xl(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class QS{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Wi.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new xl(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new QS(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class kL extends cr{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Tt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Pi],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new xl(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!Vwe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?Bwe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new xl(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(qe.ie||qe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=jwe(o,a,e.changes);return r=xl.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=qe.chrome||qe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof qf&&o.widget instanceof v8&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:f}=a,h,d,m,g;if(r&&r.range.fromB<f&&r.range.toB>c){let S=Kb.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),k=Kb.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);d=S.breakAtStart,m=S.openStart,g=k.openEnd;let A=this.compositionView(r);k.breakAtStart?A.breakAfter=1:k.content.length&&A.merge(A.length,A.length,k.content[0],!1,k.openStart,0)&&(A.breakAfter=k.content[0].breakAfter,k.content.shift()),S.content.length&&A.merge(0,0,S.content[S.content.length-1],!0,0,S.openEnd)&&S.content.pop(),h=S.content.concat(A).concat(k.content)}else({content:h,breakAtStart:d,openStart:m,openEnd:g}=Kb.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap));let{i:b,off:v}=s.findPos(u,1),{i:O,off:_}=s.findPos(l,-1);WY(this,O,_,b,v,h,d,m,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(pG)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new hu(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new nh(i,[n],n.length);let r=new Pi;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=cr.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(Pf)||this.dom.tabIndex>-1)&&Kx(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(qe.gecko&&a.empty&&!this.hasComposition&&Qwe(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new Ts(f,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!Hb(l.node,l.offset,c.anchorNode,c.anchorOffset)||!Hb(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{qe.android&&qe.chrome&&this.dom.contains(c.focusNode)&&qwe(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=Rv(this.view.root);if(f)if(a.empty){if(qe.gecko){let h=zwe(l.node,l.offset);if(h&&h!=3){let d=(h==1?VY:XY)(l.node,l.offset);d&&(l=new Ts(d.node,d.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let h=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),h.setEnd(u.node,u.offset),h.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(h)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Ts(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Ts(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Hb(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Rv(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=Pi.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=cr.get(n.childNodes[i]);s instanceof Pi&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=cr.get(n.childNodes[i]);s instanceof Pi&&(r=s.domAtPos(s.length))}return r?new Ts(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=cr.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Pi)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Pi&&!(r instanceof Pi&&n>=0)))r=a,i=u;else if(r&&u==e&&l==e&&a instanceof qf&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof Pi))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof hu))return null;let s=bs(i.text,r);if(s==r)return null;let o=x0(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Mr.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],h=u+f.length;if(h>i)break;if(u>=r){let d=f.dom.getBoundingClientRect();if(n.push(d.height),o){let m=f.dom.lastChild,g=m?$v(m):[];if(g.length){let b=g[g.length-1],v=l?b.right-d.left:d.right-b.left;v>a&&(a=v,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=h)}}}u=h+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Mr.RTL:Mr.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Pi){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=$v(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new ZY(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Tt.replace({widget:new v8(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Tt.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Iv).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(gG).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(Bn.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(dG))try{if(u(this.view,e.range,e))return!0}catch(c){ho(this.view.state,c,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=w7(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;bwe(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Mr.LTR)}lineHasWidget(e){let{i:n}=this.childCursor().findPos(e);if(n==this.children.length)return!1;let r=i=>i instanceof Ff||i.children.some(r);return r(this.children[n])}}function Qwe(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function vG(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=VY(n.focusNode,n.focusOffset),i=XY(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=cr.get(i.node);if(!a||a instanceof hu&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=cr.get(r.node);!l||l instanceof hu&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function Bwe(t,e,n){let r=vG(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new xl(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let f=i.parentNode;;f=f.parentNode){let h=cr.get(f);if(h instanceof nh)c.push({node:f,deco:h.mark});else{if(h instanceof Pi||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:f};if(f!=t.contentDOM)c.push({node:f,deco:new jO({inclusive:!0,attributes:Awe(f),tagName:f.tagName.toLowerCase()})});else return null}}}function zwe(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Uwe=class{constructor(){this.changes=[]}compareRange(e,n){Jx(e,n,this.changes)}comparePoint(e,n){Jx(e,n,this.changes)}boundChange(e){Jx(e,e,this.changes)}};function jwe(t,e,n){let r=new Uwe;return Bn.compare(t,e,n,r),r.changes}function qwe(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Vwe(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function Xwe(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return me.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=bs(i.text,s,!1):a=bs(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=bs(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=bs(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return me.range(o+i.from,a+i.from)}function Zwe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Wwe(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function iA(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function CL(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function AL(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function S8(t,e,n){let r,i,s,o,a=!1,l,u,c,f;for(let m=t.firstChild;m;m=m.nextSibling){let g=$v(m);for(let b=0;b<g.length;b++){let v=g[b];i&&iA(i,v)&&(v=CL(AL(v,i.bottom),i.top));let O=Zwe(e,v),_=Wwe(n,v);if(O==0&&_==0)return m.nodeType==3?EL(m,e,n):S8(m,e,n);(!r||o>_||o==_&&s>O)&&(r=m,i=v,s=O,o=_,a=O?e<v.left?b>0:b<g.length-1:!0),O==0?n>v.bottom&&(!c||c.bottom<v.bottom)?(l=m,c=v):n<v.top&&(!f||f.top>v.top)&&(u=m,f=v):c&&iA(c,v)?c=AL(c,v.bottom):f&&iA(f,v)&&(f=CL(f,v.top))}}if(c&&c.bottom>=n?(r=l,i=c):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return EL(r,h,n);if(a&&r.contentEditable!="false")return S8(r,h,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function EL(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=x0(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<s){let h=e>=(c.left+c.right)/2,d=h;if((qe.chrome||qe.gecko)&&x0(t,a).getBoundingClientRect().left==c.right&&(d=!h),f<=0)return{node:t,offset:a+(d?1:0)};i=a+(d?1:0),s=f}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function OG(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,h=f-a;if(h<0)return 0;if(h>u)return t.state.doc.length;for(let S=t.viewState.heightOracle.textHeight/2,k=!1;l=t.elementAtHeight(h),l.type!=mo.Text;)for(;h=r>0?l.bottom+S:l.top-S,!(h>=0&&h<=u);){if(k)return n?null:0;k=!0,r=-r}f=a+h;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:TL(t,o,l,c,f);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:TL(t,o,l,c,f);let m=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:m,b=g.elementFromPoint(c,f);b&&!t.contentDOM.contains(b)&&(b=null),b||(c=Math.max(o.left+1,Math.min(o.right-1,c)),b=g.elementFromPoint(c,f),b&&!t.contentDOM.contains(b)&&(b=null));let v,O=-1;if(b&&((i=t.docView.nearest(b))===null||i===void 0?void 0:i.isEditable)!=!1){if(m.caretPositionFromPoint){let S=m.caretPositionFromPoint(c,f);S&&({offsetNode:v,offset:O}=S)}else if(m.caretRangeFromPoint){let S=m.caretRangeFromPoint(c,f);S&&({startContainer:v,startOffset:O}=S)}v&&(!t.contentDOM.contains(v)||qe.safari&&Ywe(v,O,c)||qe.chrome&&Gwe(v,O,c))&&(v=void 0),v&&(O=Math.min(Tc(v),O))}if(!v||!t.docView.dom.contains(v)){let S=Pi.find(t.docView,d);if(!S)return h>l.top+l.height/2?l.to:l.from;({node:v,offset:O}=S8(S.dom,c,f))}let _=t.docView.nearest(v);if(!_)return null;if(_.isWidget&&((s=_.dom)===null||s===void 0?void 0:s.nodeType)==1){let S=_.dom.getBoundingClientRect();return e.y<S.top||e.y<=S.bottom&&e.x<=(S.left+S.right)/2?_.posAtStart:_.posAtEnd}else return _.localPosFromDOM(v,O)+_.posAtStart}function TL(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+u8(o,s,t.state.tabSize)}function wG(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return x0(t,r-1,r).getBoundingClientRect().right>n}function Ywe(t,e,n){return wG(t,e,n)}function Gwe(t,e,n){if(e!=0)return wG(t,e,n);for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():x0(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function k8(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==mo.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function Hwe(t,e,n,r){let i=k8(t,e.head,e.assoc||-1),s=!r||i.type!=mo.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==Mr.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return me.cursor(l,n?-1:1)}return me.cursor(n?i.to:i.from,n?-1:1)}function DL(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=Mwe(i,s,o,a,n),c=iG;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(c))return a}else{if(!r)return u;l=r(c)}a=u}}function Kwe(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Xr.Space&&(i=o),i==o}}function Jwe(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return me.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-d.from))),a=(s<0?d.top:d.bottom)+c}let f=l.left+o,h=r??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let m=a+(h+d)*s,g=OG(t,{x:f,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?g<i:g>i)){let b=t.docView.coordsForChar(g),v=!b||m<b.top?-1:1;return me.cursor(g,v,void 0,o)}}}function Jb(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function xG(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=Jb(t,i.from,0);o!=i.from&&(s=me.cursor(o,-1))}else{let o=Jb(t,i.from,-1),a=Jb(t,i.to,1);(o!=i.from||a!=i.to)&&(s=me.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?me.create(n,e.mainIndex):e}function sA(t,e,n){let r=Jb(t.state.facet(VO).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:me.cursor(r,r<n.from?1:-1)}const Tb="ï¿¿";class exe{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Tn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Tb}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=cr.get(i),l=cr.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:LS(i))||LS(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!nxe(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=cr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(txe(e,r.node,r.offset)?n:0))}}function txe(t,e,n){for(;;){if(!e||n<Tc(e))return!1;if(e==t)return!0;n=w0(e)+1,e=e.parentNode}}function nxe(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=cr.get(t);if(!(r?.isWidget||t.cmIgnore))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class PL{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class rxe{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:sxe(e),l=new exe(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=oxe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!g8(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!g8(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((qe.ios||qe.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let f=Math.min(l,u),h=Math.max(l,u),d=c.from-f,m=c.to-h;(d==0||d==1||f==0)&&(m==0||m==-1||h==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=me.single(u,l)}}}function _G(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||qe.android&&e.text.length<a-o)&&(l=i.to,u="end");let c=SG(t.state.doc.sliceString(o,a,Tb),e.text,l-o,u);c&&(qe.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Tb+Tb&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:In.of(e.text.slice(c.from,c.toB).split(Tb))})}else r&&(!t.hasFocus&&t.state.facet(Pf)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(qe.mac||qe.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=me.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:In.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:qe.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=me.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:In.of([" "])}),n)return x7(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=xG(t.state.facet(VO).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function x7(t,e,n,r=-1){if(qe.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(qe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&bg(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&bg(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&bg(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=ixe(t,e,n));return t.state.facet(uG).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function ixe(t,e,n){let r,i=t.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,u=l<0?s.from:s.to,c=Jb(i.facet(VO).map(f=>f(t)),u,l);e.from==c&&(o=c)}if(o>-1)r={changes:e,selection:me.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",u=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let l=i.changes(e),u=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to+10&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),f,h=n&&vG(t,n.main.head);if(h){let g=e.insert.length-(e.to-e.from);f={from:h.from,to:h.to-g}}else f=t.state.doc.lineAt(s.head);let d=s.to-e.to,m=s.to-s.from;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:l,range:u||g.map(l)};let b=g.to-d,v=b-c.length;if(g.to-g.from!=m||t.state.sliceDoc(v,b)!=c||g.to>=f.from&&g.from<=f.to)return{range:g};let O=i.changes({from:v,to:b,insert:e.insert}),_=g.to-s.to;return{changes:O,range:u?me.range(Math.max(0,u.anchor+_),Math.max(0,u.head+_)):g.map(O)}})}else r={changes:l,selection:u&&i.selection.replaceRange(u)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function SG(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function sxe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new PL(n,r)),(i!=n||s!=r)&&e.push(new PL(i,s))),e}function oxe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?me.single(n+e,r+e):null}class axe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,qe.safari&&e.contentDOM.addEventListener("input",()=>null),qe.gecko&&_xe(e.contentDOM.ownerDocument)}handleEvent(e){!mxe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=lxe(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&CG.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),qe.android&&qe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return qe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=kG.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||uxe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,bg(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:qe.safari&&!qe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function RL(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){ho(n.state,i)}}}function lxe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&n(a).handlers.push(RL(r.value,l))}if(o)for(let a in o){let l=o[a];l&&n(a).observers.push(RL(r.value,l))}}for(let r in du)n(r).handlers.push(du[r]);for(let r in Dl)n(r).observers.push(Dl[r]);return e}const kG=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],uxe="dthko",CG=[16,17,18,20,91,92,224,225],Dw=6;function Pw(t){return Math.max(0,t)*.7+8}function cxe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class fxe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=vwe(e.contentDOM),this.atoms=e.state.facet(VO).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Tn.allowMultipleSelections)&&hxe(e,n),this.dragging=pxe(e,n)&&TG(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&cxe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=w7(this.view);e.clientX-l.left<=i+Dw?n=-Pw(i-e.clientX):e.clientX+l.right>=o-Dw&&(n=Pw(e.clientX-o)),e.clientY-l.top<=s+Dw?r=-Pw(s-e.clientY):e.clientY+l.bottom>=a-Dw&&(r=Pw(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=xG(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function hxe(t,e){let n=t.state.facet(sG);return n.length?n[0](e):qe.mac?e.metaKey:e.ctrlKey}function dxe(t,e){let n=t.state.facet(oG);return n.length?n[0](e):qe.mac?!e.altKey:!e.ctrlKey}function pxe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Rv(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function mxe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=cr.get(n))&&r.ignoreEvent(e))return!1;return!0}const du=Object.create(null),Dl=Object.create(null),AG=qe.ie&&qe.ie_version<15||qe.ios&&qe.webkit_version<604;function gxe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),EG(t,n.value)},50)}function t4(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function EG(t,e){e=t4(t.state,b7,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(C8!=null&&n.selection.ranges.every(l=>l.empty)&&C8==s.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:f},range:me.cursor(u.from+f.length)}})}else o?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:me.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Dl.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};du.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Dl.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Dl.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};du.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(aG))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=vxe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new fxe(t,e,n,r)),r&&t.observer.ignore(()=>{UY(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function $L(t,e,n,r){if(r==1)return me.cursor(e,n);if(r==2)return Xwe(t.state,e,n);{let i=Pi.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,me.range(o,a)}}let IL=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function yxe(t,e,n,r){let i=Pi.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&IL(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&IL(n,r,a)?1:o&&o.bottom>=r?-1:1}function FL(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:yxe(t,n,e.clientX,e.clientY)}}const bxe=qe.ie&&qe.ie_version<=11;let ML=null,LL=0,NL=0;function TG(t){if(!bxe)return t.detail;let e=ML,n=NL;return ML=t,NL=Date.now(),LL=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(LL+1)%3:1}function vxe(t,e){let n=FL(t,e),r=TG(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=FL(t,s),u,c=$L(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let f=$L(t,n.pos,n.bias,r),h=Math.min(f.from,c.from),d=Math.max(f.to,c.to);c=h<c.from?me.range(h,d):me.range(d,h)}return o?i.replaceRange(i.main.extend(c.from,c.to)):a&&r==1&&i.ranges.length>1&&(u=Oxe(i,l.pos))?u:a?i.addRange(c):me.create([c])}}}function Oxe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return me.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}du.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=me.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t4(t.state,v7,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};du.dragend=t=>(t.inputState.draggedContent=null,!1);function QL(t,e,n,r){if(n=t4(t.state,b7,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&dxe(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}du.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&QL(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return QL(t,e,r,!0),!0}return!1};du.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=AG?null:e.clipboardData;return n?(EG(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(gxe(t),!1)};function wxe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function xxe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:t4(t,v7,e.join(t.lineBreak)),ranges:n,linewise:r}}let C8=null;du.copy=du.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=xxe(t.state);if(!n&&!i)return!1;C8=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=AG?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(wxe(t,n),!1)};const DG=ph.define();function PG(t,e){let n=[];for(let r of t.facet(cG)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:DG.of(!0)}):null}function RG(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=PG(t.state,e);n?t.dispatch(n):t.update([])}},10)}Dl.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),RG(t)};Dl.blur=t=>{t.observer.clearSelectionRange(),RG(t)};Dl.compositionstart=Dl.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Dl.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,qe.chrome&&qe.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Dl.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};du.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),u=t.posAtDOM(a.endContainer,a.endOffset);return x7(t,{from:l,to:u,insert:t.state.toText(s)},null),!0}}let i;if(qe.chrome&&qe.android&&(i=kG.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return qe.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),qe.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Dl.compositionend(t,e),20),!1};const BL=new Set;function _xe(t){BL.has(t)||(BL.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const zL=["pre-wrap","normal","pre-line","break-spaces"];let a1=!1;function UL(){a1=!1}class Sxe{constructor(e){this.lineWrapping=e,this.doc=In.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return zL.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=zL.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class kxe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class ec{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?mo.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ld?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ec(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Fr=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(Fr||(Fr={}));const e_=.001;class go{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>e_&&(a1=!0),this.height=e)}replace(e,n,r){return go.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:f}=i[a],h=s.lineAt(l,Fr.ByPosNoHeight,r.setDoc(n),0,0),d=h.to>=u?h:s.lineAt(u,Fr.ByPosNoHeight,r,0,0);for(f+=d.to-u,u=d.to;a>0&&h.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<h.from&&(h=s.lineAt(l,Fr.ByPosNoHeight,r,0,0));c+=h.from-l,l=h.from;let m=_7.build(r.setDoc(o),e,c,f);s=BS(s,s.replace(l,u,m))}return s.updateHeight(r,0)}static empty(){return new Aa(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new Cxe(go.of(e.slice(0,n)),o,go.of(e.slice(r)))}}function BS(t,e){return t==e?t:(t.constructor!=e.constructor&&(a1=!0),e)}go.prototype.size=1;class $G extends go{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new ec(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Aa extends $G{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new ec(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Aa||i instanceof ps&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ps?i=new Aa(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):go.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ps extends go{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=n.doc.lineAt(u),f=a+c.length*l,h=Math.max(r,e-f/2);return new ec(c.from,c.length,h,f,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:c,length:f}=n.doc.line(s+u);return new ec(c,f,r+a*u,a,0)}}lineAt(e,n,r,i,s){if(n==Fr.ByHeight)return this.blockAt(e,r,i,s);if(n==Fr.ByPosNoHeight){let{from:d,to:m}=r.doc.lineAt(e);return new ec(d,m-d,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),c=a+u.length*l,f=u.number-o,h=i+a*f+l*(u.from-s-f);return new ec(u.from,u.length,Math.max(i,Math.min(h,i+this.height-c)),c,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let c=e,f=i;c<=n;){let h=r.doc.lineAt(c);if(c==e){let m=h.number-a;f+=l*m+u*(e-s-m)}let d=l+u*h.length;o(new ec(h.from,h.length,f,d,0)),f+=d,c=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof ps?r[r.length-1]=new ps(s.length+i):r.push(null,new ps(i-1))}if(e>0){let s=r[0];s instanceof ps?r[0]=new ps(e+s.length):r.unshift(new ps(e-1),null)}return go.of(r)}decomposeLeft(e,n){n.push(new ps(e-1),null)}decomposeRight(e,n){n.push(null,new ps(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new ps(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=e_&&(l=-2);let h=new Aa(c,f);h.outdated=!1,o.push(h),a+=c+1}a<=s&&o.push(null,new ps(s-a).updateHeight(e,a));let u=go.of(o);return(l<0||Math.abs(u.height-this.height)>=e_||Math.abs(l-this.heightMetrics(e,n).perLine)>=e_)&&(a1=!0),BS(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Cxe extends go{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==Fr.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=n==Fr.ByPosNoHeight?Fr.ByPosNoHeight:Fr.ByPos;return l?u.join(this.right.lineAt(a,c,r,o,a)):this.left.lineAt(a,c,r,i,s).join(u)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let u=this.lineAt(l,Fr.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&jL(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),jL(s,a)}return go.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?go.of(this.break?[e,null,n]:[e,n]):(this.left=BS(this.left,e),this.right=BS(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function jL(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof ps&&(r=t[e+1])instanceof ps&&t.splice(e-1,3,new ps(n.length+1+r.length))}const Axe=5;class _7{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Aa?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Aa(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new $G(o,i,r)):(o||s||i>=Axe)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Aa(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new ps(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Aa)return e;let n=new Aa(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Aa)&&!this.isCovered?this.nodes.push(new Aa(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Aa&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new _7(r,e);return Bn.spans(n,r,i,s,0),s.finish(r)}}function Exe(t,e,n){let r=new Txe;return Bn.compare(t,e,n,r,0),r.changes}class Txe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Jx(e,n,this.changes,5)}}function Dxe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let h=c.getBoundingClientRect();s=Math.max(s,h.left),o=Math.min(o,h.right),a=Math.max(a,h.top),l=Math.min(u==t.parentNode?i.innerHeight:l,h.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Pxe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Rxe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class oA{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return Tt.replace({widget:new $xe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class $xe extends U0{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class qL{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=VL,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Mr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(O7).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Sxe(n),this.stateDeco=e.facet(Iv).filter(r=>typeof r!="function"),this.heightMap=go.empty().applyChanges(this.stateDeco,In.empty,this.heightOracle.setDoc(e.doc),[new xl(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Tt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Rw(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?VL:new S7(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Db(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Iv).filter(c=>typeof c!="function");let i=e.changedRanges,s=xl.extendWithRanges(i,Exe(r,this.stateDeco,e?e.changes:Wi.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);UL(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||a1)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(hG)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Mr.RTL:Mr.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:S,scaleY:k}=zY(n,a);(S>.005&&Math.abs(this.scaleX-S)>.005||k>.005&&Math.abs(this.scaleY-k)>.005)&&(this.scaleX=S,this.scaleY=k,u|=16,o=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=qY(e.scrollDOM);let m=(this.printing?Rxe:Dxe)(n,this.paddingTop),g=m.top-this.pixelViewport.top,b=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget&&!Pxe(e.dom))return 0;let O=a.width;if((this.contentDOMWidth!=O||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let S=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(S)&&(o=!0),o||i.lineWrapping&&Math.abs(O-this.contentDOMWidth)>i.charWidth){let{lineHeight:k,charWidth:A,textHeight:C}=e.docView.measureTextSize();o=k>0&&i.refresh(s,k,A,C,Math.max(5,O/A),S),o&&(e.docView.minWidth=0,u|=16)}g>0&&b>0?c=Math.max(g,b):g<0&&b<0&&(c=Math.min(g,b)),UL();for(let k of this.viewports){let A=k.from==this.viewport.from?S:e.docView.measureVisibleLineHeights(k);this.heightMap=(o?go.empty().applyChanges(this.stateDeco,In.empty,this.heightOracle,[new xl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new kxe(k.from,A))}a1&&(u|=2)}let _=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return _&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||_)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Rw(i.lineAt(o-r*1e3,Fr.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Fr.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(u,Fr.ByPos,s,0,0),h;n.y=="center"?h=(f.top+f.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?h=f.top:h=f.bottom-c,l=new Rw(i.lineAt(h-1e3/2,Fr.ByHeight,s,0,0).from,i.lineAt(h+c+1e3/2,Fr.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Rw(this.heightMap.lineAt(r,Fr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Fr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Fr.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Fr.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new oA(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Mr.LTR&&!r)return[];let a=[],l=(c,f,h,d)=>{if(f-c<s)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let v of g)if(v>c&&v<f){l(c,v-10,h,d),l(v+10,f,h,d);return}let b=Fxe(e,v=>v.from>=h.from&&v.to<=h.to&&Math.abs(v.from-c)<s&&Math.abs(v.to-f)<s&&!g.some(O=>v.from<O&&v.to>O));if(!b){if(f<h.to&&n&&r&&n.visibleRanges.some(_=>_.from<=f&&_.to>=f)){let _=n.moveToLineBoundary(me.cursor(f),!1,!0).head;_>c&&(f=_)}let v=this.gapSize(h,c,f,d),O=r||v<2e6?v:2e6;b=new oA(c,f,v,O)}a.push(b)},u=c=>{if(c.length<o||c.type!=mo.Text)return;let f=Ixe(c.from,c.to,this.stateDeco);if(f.total<o)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,d,m;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,v;if(h!=null){let O=Iw(f,h),_=((this.visibleBottom-this.visibleTop)/2+g)/c.height;b=O-_,v=O+_}else b=(this.visibleTop-c.top-g)/c.height,v=(this.visibleBottom-c.top+g)/c.height;d=$w(f,b),m=$w(f,v)}else{let g=f.total*this.heightOracle.charWidth,b=i*this.heightOracle.charWidth,v=0;if(g>2e6)for(let A of e)A.from>=c.from&&A.from<c.to&&A.size!=A.displaySize&&A.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=A.size-A.displaySize);let O=this.pixelViewport.left+v,_=this.pixelViewport.right+v,S,k;if(h!=null){let A=Iw(f,h),C=((_-O)/2+b)/g;S=A-C,k=A+C}else S=(O-b)/g,k=(_+b)/g;d=$w(f,S),m=$w(f,k)}d>c.from&&l(c.from,d,c,f),m<c.to&&l(m,c.to,c,f)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return a}gapSize(e,n,r,i){let s=Iw(i,r)-Iw(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){oA.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Tt.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];Bn.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Db(this.heightMap.lineAt(e,Fr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Db(this.heightMap.lineAt(this.scaler.fromDOM(e),Fr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Db(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Rw{constructor(e,n){this.from=e,this.to=n}}function Ixe(t,e,n){let r=[],i=t,s=0;return Bn.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function $w({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Iw(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Fxe(t,e){for(let n of t)if(e(n))return n}const VL={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class S7{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,Fr.ByPos,e,0,0).top,c=n.lineAt(l,Fr.ByPos,e,0,0).bottom;return i+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof S7?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Db(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ec(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Db(i,e)):t._content)}const Fw=Ge.define({combine:t=>t.join(" ")}),A8=Ge.define({combine:t=>t.indexOf(!0)>-1}),E8=Fd.newName(),IG=Fd.newName(),FG=Fd.newName(),MG={"&light":"."+IG,"&dark":"."+FG};function T8(t,e,n){return new Fd(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Mxe=T8("."+E8,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},MG),Lxe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},aA=qe.ie&&qe.ie_version<=11;class Nxe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Owe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(qe.ie&&qe.ie_version<=11||qe.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&qe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(qe.chrome&&qe.chrome_version<126)&&(this.editContext=new Bxe(e),e.state.facet(Pf)&&(e.contentDOM.editContext=this.editContext.editContext)),aA&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Pf)?r.root.activeElement!=this.dom:!Kx(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(qe.ie&&qe.ie_version<=11||qe.android&&qe.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Hb(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Rv(e.root);if(!n)return!1;let r=qe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Qxe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Kx(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&xwe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Lxe),aA&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),aA&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&bg(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Kx(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new rxe(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=_G(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=XL(n,e.previousSibling||e.target.previousSibling,-1),i=XL(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Pf)!=e.state.facet(Pf)&&(e.view.contentDOM.editContext=e.state.facet(Pf)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function XL(t,e,n){for(;e;){let r=cr.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function ZL(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Hb(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Qxe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return ZL(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?ZL(t,n):null}class Bxe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let u=l-a>r.text.length;a==this.from&&s<this.from?a=s:l==this.to&&s>this.to&&(l=s);let c=SG(e.state.sliceDoc(a,l),r.text,(u?i.from:i.to)-a,u?"end":null);if(!c){let h=me.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));h.main.eq(i)||e.dispatch({selection:h,userEvent:"select"});return}let f={from:c.from+a,to:c.toA+a,insert:In.of(r.text.slice(c.from,c.toB).split(`
`))};if((qe.mac||qe.android)&&f.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:a,to:l,insert:In.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let h=this.to-this.from+(f.to-f.from+f.insert.length);x7(e,f,me.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),f.from<f.to&&!f.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(a)){let l=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(l<u){let c=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;i.push(Tt.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:pG.of(Tt.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Rv(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,u)=>{if(r)return;let c=u.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=c}n+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Xe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||wwe(e.parent)||document,this.viewState=new qL(e.state||Tn.create(e)),e.scrollTo&&e.scrollTo.is(Tw)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Gm).map(i=>new rA(i));for(let i of this.plugins)i.update(this);this.observer=new Nxe(this),this.inputState=new axe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new kL(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof $i?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let h of e){if(h.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=h.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(DG))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=PG(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Tn.phrases)!=this.state.facet(Tn.phrases))return this.setState(s);i=QS.create(this,s,e),i.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;f=new vg(d.empty?d:me.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(Tw)&&(f=d.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=zS.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Eb)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Fw)!=i.state.facet(Fw)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet(_8))try{h(i)}catch(d){ho(this.state,d,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!_G(this,c)&&u.force&&bg(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new qL(e),this.plugins=e.facet(Gm).map(r=>new rA(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new kL(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Gm),r=e.state.facet(Gm);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new rA(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){ho(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(qY(r))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(i);s=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(d=>{try{return d.read(this)}catch(m){return ho(this.state,m),WL}}),f=QS.create(this,this.state,[]),h=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),h=this.docView.update(f),h&&this.docViewUpdate());for(let d=0;d<u.length;d++)if(c[d]!=WL)try{let m=u[d];m.write&&m.write(c[d],this)}catch(m){ho(this.state,m)}if(h&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){i=i+m,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(_8))a(n)}get themeClasses(){return E8+" "+(this.state.facet(A8)?FG:IG)+" "+this.state.facet(Fw)}updateAttrs(){let e=YL(this,mG,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Pf)?"true":"false",class:"cm-content",style:`${qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),YL(this,O7,n);let r=this.observer.ignore(()=>{let i=b8(this.contentDOM,this.contentAttrs,n),s=b8(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Xe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Eb);let e=this.state.facet(Xe.cspNonce);Fd.mount(this.root,this.styleModules.concat(Mxe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return sA(this,e,DL(this,e,n,r))}moveByGroup(e,n){return sA(this,e,DL(this,e,n,r=>Kwe(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return me.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return Hwe(this,e,n,r)}moveVertically(e,n,r){return sA(this,e,Jwe(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),OG(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Kh.find(s,e-i.from,-1,n)];return e4(r,o.dir==Mr.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(fG)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>zxe)return rG(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||nG(s.isolates,r=SL(this,e))))return s.order;r||(r=SL(this,e));let i=Fwe(e.text,n,r);return this.bidiCache.push(new zS(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||qe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{UY(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Tw.of(new vg(typeof e=="number"?me.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Tw.of(new vg(me.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Fi.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Fi.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Fd.newName(),i=[Fw.of(r),Eb.of(T8(`.${r}`,e))];return n&&n.dark&&i.push(A8.of(!0)),i}static baseTheme(e){return dh.lowest(Eb.of(T8("."+E8,e,MG)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&cr.get(r)||cr.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}}Xe.styleModule=Eb;Xe.inputHandler=uG;Xe.clipboardInputFilter=b7;Xe.clipboardOutputFilter=v7;Xe.scrollHandler=dG;Xe.focusChangeEffect=cG;Xe.perLineTextDirection=fG;Xe.exceptionSink=lG;Xe.updateListener=_8;Xe.editable=Pf;Xe.mouseSelectionStyle=aG;Xe.dragMovesSelection=oG;Xe.clickAddsSelectionRange=sG;Xe.decorations=Iv;Xe.outerDecorations=gG;Xe.atomicRanges=VO;Xe.bidiIsolatedRanges=yG;Xe.scrollMargins=bG;Xe.darkTheme=A8;Xe.cspNonce=Ge.define({combine:t=>t.length?t[0]:""});Xe.contentAttributes=O7;Xe.editorAttributes=mG;Xe.lineWrapping=Xe.contentAttributes.of({class:"cm-lineWrapping"});Xe.announce=Vt.define();const zxe=4096,WL={};class zS{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Mr.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new zS(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function YL(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&y8(o,n)}return n}const Uxe=qe.mac?"mac":qe.windows?"win":qe.linux?"linux":"key";function jxe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Mw(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const qxe=dh.default(Xe.domEventHandlers({keydown(t,e){return NG(LG(e.state),t,e,"editor")}})),XO=Ge.define({enables:qxe}),GL=new WeakMap;function LG(t){let e=t.facet(XO),n=GL.get(e);return n||GL.set(e,n=Zxe(e.reduce((r,i)=>r.concat(i),[]))),n}function Vxe(t,e,n){return NG(LG(t.state),e,t,n)}let Xh=null;const Xxe=4e3;function Zxe(t,e=Uxe){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,c)=>{var f,h;let d=n[o]||(n[o]=Object.create(null)),m=a.split(/ (?!$)/).map(v=>jxe(v,e));for(let v=1;v<m.length;v++){let O=m.slice(0,v).join(" ");i(O,!0),d[O]||(d[O]={preventDefault:!0,stopPropagation:!1,run:[_=>{let S=Xh={view:_,prefix:O,scope:o};return setTimeout(()=>{Xh==S&&(Xh=null)},Xxe),!0}]})}let g=m.join(" ");i(g,!1);let b=d[g]||(d[g]={preventDefault:!1,stopPropagation:!1,run:((h=(f=d._any)===null||f===void 0?void 0:f.run)===null||h===void 0?void 0:h.slice())||[]});l&&b.run.push(l),u&&(b.preventDefault=!0),c&&(b.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let h in c)c[h].run.push(d=>f(d,D8))}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let D8=null;function NG(t,e,n,r){D8=e;let i=mwe(e),s=zo(i,0),o=Ju(s)==i.length&&i!=" ",a="",l=!1,u=!1,c=!1;Xh&&Xh.view==n&&Xh.scope==r&&(a=Xh.prefix+" ",CG.indexOf(e.keyCode)<0&&(u=!0,Xh=null));let f=new Set,h=b=>{if(b){for(let v of b.run)if(!f.has(v)&&(f.add(v),v(n)))return b.stopPropagation&&(c=!0),!0;b.preventDefault&&(b.stopPropagation&&(c=!0),u=!0)}return!1},d=t[r],m,g;return d&&(h(d[a+Mw(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(qe.windows&&e.ctrlKey&&e.altKey)&&!(qe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(m=Md[e.keyCode])&&m!=i?(h(d[a+Mw(m,e,!0)])||e.shiftKey&&(g=Pv[e.keyCode])!=i&&g!=m&&h(d[a+Mw(g,e,!1)]))&&(l=!0):o&&e.shiftKey&&h(d[a+Mw(i,e,!0)])&&(l=!0),!l&&h(d._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),D8=null,l}class ZO{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=QG(e);return[new ZO(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Wxe(e,n,r)}}function QG(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Mr.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function HL(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function Wxe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==Mr.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=QG(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),f=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),h=a.right-(c?parseInt(c.paddingRight):0),d=k8(t,r,1),m=k8(t,i,-1),g=d.type==mo.Text?d:null,b=m.type==mo.Text?m:null;if(g&&(t.lineWrapping||d.widgetLineBreaks)&&(g=HL(t,r,1,g)),b&&(t.lineWrapping||m.widgetLineBreaks)&&(b=HL(t,i,-1,b)),g&&b&&g.from==b.from&&g.to==b.to)return O(_(n.from,n.to,g));{let k=g?_(n.from,null,g):S(d,!1),A=b?_(null,n.to,b):S(m,!0),C=[];return(g||d).to<(b||m).from-(g&&b?1:0)||d.widgetLineBreaks>1&&k.bottom+t.defaultLineHeight/2<A.top?C.push(v(f,k.bottom,h,A.top)):k.bottom<A.top&&t.elementAtHeight((k.bottom+A.top)/2).type==mo.Text&&(k.bottom=A.top=(k.bottom+A.top)/2),O(k).concat(C).concat(O(A))}function v(k,A,C,T){return new ZO(e,k-l.left,A-l.top,C-k,T-A)}function O({top:k,bottom:A,horizontal:C}){let T=[];for(let P=0;P<C.length;P+=2)T.push(v(C[P],k,C[P+1],A));return T}function _(k,A,C){let T=1e9,P=-1e9,N=[];function I(M,B,U,j,ee){let W=t.coordsAtPos(M,M==C.to?-2:2),ue=t.coordsAtPos(U,U==C.from?2:-2);!W||!ue||(T=Math.min(W.top,ue.top,T),P=Math.max(W.bottom,ue.bottom,P),ee==Mr.LTR?N.push(s&&B?f:W.left,s&&j?h:ue.right):N.push(!s&&j?f:ue.left,!s&&B?h:W.right))}let $=k??C.from,R=A??C.to;for(let M of t.visibleRanges)if(M.to>$&&M.from<R)for(let B=Math.max(M.from,$),U=Math.min(M.to,R);;){let j=t.state.doc.lineAt(B);for(let ee of t.bidiSpans(j)){let W=ee.from+j.from,ue=ee.to+j.from;if(W>=U)break;ue>B&&I(Math.max(W,B),k==null&&W<=$,Math.min(ue,U),A==null&&ue>=R,ee.dir)}if(B=j.to+1,B>=U)break}return N.length==0&&I($,k==null,R,A==null,t.textDirection),{top:T,bottom:P,horizontal:N}}function S(k,A){let C=a.top+(A?k.top:k.bottom);return{top:C,bottom:C,horizontal:[]}}}function Yxe(t,e){return t.constructor==e.constructor&&t.eq(e)}class Gxe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(t_)!=e.state.facet(t_)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(t_);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Yxe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,qe.safari&&qe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const t_=Ge.define();function BG(t){return[Fi.define(e=>new Gxe(e,t)),t_.of(t)]}const Fv=Ge.define({combine(t){return mh(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Hxe(t={}){return[Fv.of(t),Kxe,Jxe,e_e,hG.of(!0)]}function zG(t){return t.startState.facet(Fv)!=t.state.facet(Fv)}const Kxe=BG({above:!0,markers(t){let{state:e}=t,n=e.facet(Fv),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:me.cursor(i.head,i.head>i.anchor?-1:1);for(let l of ZO.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=zG(t);return n&&KL(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){KL(e.state,t)},class:"cm-cursorLayer"});function KL(t,e){e.style.animationDuration=t.facet(Fv).cursorBlinkRate+"ms"}const Jxe=BG({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:ZO.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||zG(t)},class:"cm-selectionLayer"}),e_e=dh.highest(Xe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),UG=Vt.define({map(t,e){return t==null?null:e.mapPos(t)}}),Pb=Mi.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(UG)?r.value:n,t)}}),t_e=Fi.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Pb);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Pb)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Pb),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Pb)!=t&&this.view.dispatch({effects:UG.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function n_e(){return[Pb,t_e]}function JL(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function r_e(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class i_e{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,c)=>i(c,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,c)=>{let f=r(a,l,u);f&&c(u,u+a[0].length,f)};else if(r)this.addMatch=(a,l,u,c)=>c(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new Id,r=n.add.bind(n);for(let{from:i,to:s}of r_e(e,this.maxLength))JL(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>=o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),f=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){f=a;break}}let h=[],d,m=(g,b,v)=>h.push(v.range(g,b));if(l==u)for(this.regexp.lastIndex=c-l.from;(d=this.regexp.exec(l.text))&&d.index<f-l.from;)this.addMatch(d,e,d.index+l.from,m);else JL(e.state.doc,this.regexp,c,f,(g,b)=>this.addMatch(b,e,g,m));n=n.update({filterFrom:c,filterTo:f,filter:(g,b)=>g<c||b>f,add:h})}}return n}}const P8=/x/.unicode!=null?"gu":"g",s_e=new RegExp(`[\0-\b
--ÂÂ­Øâââ\u2028\u2029â­â®â¦â§â©\uFEFFï¿¹-ï¿¼]`,P8),o_e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let lA=null;function a_e(){var t;if(lA==null&&typeof document<"u"&&document.body){let e=document.body.style;lA=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return lA||!1}const n_=Ge.define({combine(t){let e=mh(t,{render:null,specialChars:s_e,addSpecialChars:null});return(e.replaceTabs=!a_e())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,P8)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,P8)),e}});function l_e(t={}){return[n_.of(t),u_e()]}let eN=null;function u_e(){return eN||(eN=Fi.fromClass(class{constructor(t){this.view=t,this.decorations=Tt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(n_)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new i_e({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=zo(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=fu(o.text,a,r-o.from);return Tt.replace({widget:new d_e((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Tt.replace({widget:new h_e(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(n_);t.startState.facet(n_)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const c_e="â¢";function f_e(t){return t>=32?c_e:t==10?"â¤":String.fromCharCode(9216+t)}class h_e extends U0{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=f_e(this.code),r=e.state.phrase("Control character")+" "+(o_e[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class d_e extends U0{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function p_e(){return g_e}const m_e=Tt.line({class:"cm-activeLine"}),g_e=Fi.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(m_e.range(i.from)),e=i.from)}return Tt.set(n)}},{decorations:t=>t.decorations}),R8=2e3;function y_e(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>R8||n.off>R8||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&s.push(me.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=u8(u.text,o,t.tabSize,!0);if(c<0)s.push(me.cursor(u.to));else{let f=u8(u.text,a,t.tabSize);s.push(me.range(u.from+c,u.from+f))}}}return s}function b_e(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function tN(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>R8?-1:i==r.length?b_e(t,e.clientX):fu(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function v_e(t,e){let n=tN(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=tN(t,i);if(!a)return r;let l=y_e(t.state,n,a);return l.length?o?me.create(l.concat(r.ranges)):me.create(l):r}}:null}function O_e(t){let e=(n=>n.altKey&&n.button==0);return Xe.mouseSelectionStyle.of((n,r)=>e(r)?v_e(n,r):null)}const w_e={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},x_e={style:"cursor: crosshair"};function __e(t={}){let[e,n]=w_e[t.key||"Alt"],r=Fi.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Xe.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?x_e:null})]}const Lw="-10000px";class jG{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let u=s[l],c=-1;if(u){for(let f=0;f<this.tooltips.length;f++){let h=this.tooltips[f];h&&h.create==u.create&&(c=f)}if(c<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let f=o[l]=this.tooltipViews[c];a&&(a[l]=n[c]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,u)=>n[u]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function S_e(t={}){return r_.of(t)}function k_e(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const r_=Ge.define({combine:t=>{var e,n,r;return{position:qe.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||k_e}}}),nN=new WeakMap,k7=Fi.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(r_);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new jG(t,C7,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(r_);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Lw,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(qe.safari){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=w7(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(r_).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:c}=u,f=t.pos[a],h=t.size[a];if(!f||l.clip!==!1&&(f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1)){c.style.top=Lw;continue}let d=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,m=d?7:0,g=h.right-h.left,b=(e=nN.get(u))!==null&&e!==void 0?e:h.bottom-h.top,v=u.offset||A_e,O=this.view.textDirection==Mr.LTR,_=h.width>r.right-r.left?O?r.left:r.right-h.width:O?Math.max(r.left,Math.min(f.left-(d?14:0)+v.x,r.right-g)):Math.min(Math.max(r.left,f.left-g+(d?14:0)-v.x),r.right-g),S=this.above[a];!l.strictSide&&(S?f.top-b-m-v.y<r.top:f.bottom+b+m+v.y>r.bottom)&&S==r.bottom-f.bottom>f.top-r.top&&(S=this.above[a]=!S);let k=(S?f.top-r.top:r.bottom-f.bottom)-m;if(k<b&&u.resize!==!1){if(k<this.view.defaultLineHeight){c.style.top=Lw;continue}nN.set(u,b),c.style.height=(b=k)/s+"px"}else c.style.height&&(c.style.height="");let A=S?f.top-b-m-v.y:f.bottom+m+v.y,C=_+g;if(u.overlap!==!0)for(let T of o)T.left<C&&T.right>_&&T.top<A+b&&T.bottom>A&&(A=S?T.top-b-2-m:T.bottom+m+2);if(this.position=="absolute"?(c.style.top=(A-t.parent.top)/s+"px",rN(c,(_-t.parent.left)/i)):(c.style.top=A/s+"px",rN(c,_/i)),d){let T=f.left+(O?v.x:-v.x)-(_+14-7);d.style.left=T/i+"px"}u.overlap!==!0&&o.push({left:_,top:A,right:C,bottom:A+b}),c.classList.toggle("cm-tooltip-above",S),c.classList.toggle("cm-tooltip-below",!S),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Lw}},{eventObservers:{scroll(){this.maybeMeasure()}}});function rN(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const C_e=Xe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),A_e={x:0,y:0},C7=Ge.define({enables:[k7,C_e]}),US=Ge.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class n4{static create(e){return new n4(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new jG(e,US,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const E_e=C7.compute([US],t=>{let e=t.facet(US);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:n4.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class T_e{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,s=1;if(r instanceof Ff)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=l&&l.dir==Mr.RTL?-1:1;s=n.x<a.left?-u:u}let o=this.source(e,i,s);if(o?.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>ho(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(k7),n=e?e.manager.tooltips.findIndex(r=>r.create==n4.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!D_e(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!P_e(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Nw=4;function D_e(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-Nw&&e.clientX<=r+Nw&&e.clientY>=i-Nw&&e.clientY<=s+Nw}function P_e(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function A7(t,e={}){let n=Vt.define(),r=Mi.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,gs.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(R_e)&&(i=[]);return i},provide:i=>US.from(i)});return{active:r,extension:[r,Fi.define(i=>new T_e(i,t,r,n,e.hoverTime||300)),E_e]}}function qG(t,e){let n=t.plugin(k7);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const R_e=Vt.define(),iN=Ge.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Mv(t,e){let n=t.plugin(VG),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const VG=Fi.fromClass(class{constructor(t){this.input=t.state.facet(Lv),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(iN);this.top=new Qw(t,!0,e.topContainer),this.bottom=new Qw(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(iN);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Qw(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Qw(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Lv);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),a.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?s:o).push(c)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Xe.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Qw{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=sN(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=sN(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function sN(t){let e=t.nextSibling;return t.remove(),e}const Lv=Ge.define({enables:VG});class Nd extends O0{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Nd.prototype.elementClass="";Nd.prototype.toDOM=void 0;Nd.prototype.mapMode=gs.TrackBefore;Nd.prototype.startSide=Nd.prototype.endSide=-1;Nd.prototype.point=!0;const i_=Ge.define(),$_e=Ge.define(),s_=Ge.define(),oN=Ge.define({combine:t=>t.some(e=>e)});function I_e(t){return[F_e]}const F_e=Fi.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(s_).map(e=>new lN(t,e)),this.fixed=!t.state.facet(oN);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(oN)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=Bn.iter(this.view.state.facet(i_),this.view.viewport.from),r=[],i=this.gutters.map(s=>new M_e(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==mo.Text&&o){$8(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==mo.Text){$8(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(s_),n=t.state.facet(s_),r=t.docChanged||t.heightChanged||t.viewportChanged||!Bn.eq(t.startState.facet(i_),t.state.facet(i_),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new lN(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>Xe.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Mr.LTR?{left:r,right:i}:{right:r,left:i}})});function aN(t){return Array.isArray(t)?t:[t]}function $8(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class M_e{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Bn.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new XG(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];$8(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet($_e)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class lN{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=aN(n.markers(e)),n.initialSpacer&&(this.spacer=new XG(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=aN(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Bn.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class XG{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),L_e(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,u=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function L_e(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const N_e=Ge.define(),Q_e=Ge.define(),Hm=Ge.define({combine(t){return mh(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class uA extends Nd{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function cA(t,e){return t.state.facet(Hm).formatNumber(e,t.state)}const B_e=s_.compute([Hm],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(N_e)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new uA(cA(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(Q_e)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Hm)!=e.state.facet(Hm),initialSpacer(e){return new uA(cA(e,uN(e.state.doc.lines)))},updateSpacer(e,n){let r=cA(n.view,uN(n.view.state.doc.lines));return r==e.number?e:new uA(r)},domEventHandlers:t.facet(Hm).domEventHandlers,side:"before"}));function z_e(t={}){return[Hm.of(t),I_e(),B_e]}function uN(t){let e=9;for(;e<t;)e=e*10+9;return e}const U_e=new class extends Nd{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},j_e=i_.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(U_e.range(i)))}return Bn.of(e)});function q_e(){return j_e}const ZG=1024;let V_e=0;class dl{constructor(e,n){this.from=e,this.to=n}}class Ft{constructor(e={}){this.id=V_e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Hi.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ft.closedBy=new Ft({deserialize:t=>t.split(" ")});Ft.openedBy=new Ft({deserialize:t=>t.split(" ")});Ft.group=new Ft({deserialize:t=>t.split(" ")});Ft.isolate=new Ft({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Ft.contextHash=new Ft({perNode:!0});Ft.lookAhead=new Ft({perNode:!0});Ft.mounted=new Ft({perNode:!0});class Nv{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Ft.mounted.id]}}const X_e=Object.create(null);class Hi{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):X_e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Hi(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ft.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Ft.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}Hi.none=new Hi("",Object.create(null),0,8);class WO{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);if(o){i||(i=Object.assign({},r.props));let a=o[1],l=o[0];l.combine&&l.id in i&&(a=l.combine(i[l.id],a)),i[l.id]=a}}n.push(i?new Hi(r.name,i,r.id,r.flags):r)}return new WO(n)}}const Bw=new WeakMap,cN=new WeakMap;var Cr;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Cr||(Cr={}));class Gn{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Nv.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new jS(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Bw.get(this)||this.topNode,s=new jS(i);return s.moveTo(e,n),Bw.set(this,s._tree),s}get topNode(){return new Fs(this,0,0,null)}resolve(e,n=0){let r=Qv(Bw.get(this)||this.topNode,e,n,!1);return Bw.set(this,r),r}resolveInner(e,n=0){let r=Qv(cN.get(this)||this.topNode,e,n,!0);return cN.set(this,r),r}resolveStack(e,n=0){return Y_e(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Cr.IncludeAnonymous)>0;for(let l=this.cursor(o|Cr.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:D7(Hi.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Gn(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Gn(Hi.none,n,r,i)))}static build(e){return G_e(e)}}Gn.empty=new Gn(Hi.none,[],[],0);class E7{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new E7(this.buffer,this.index)}}class Qd{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Hi.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(WG(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new Qd(s,o,this.set)}}function WG(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Qv(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Fs&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:Cr.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Fs&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class YG{cursor(e=0){return new jS(this,e)}getChild(e,n=null,r=null){let i=fN(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return fN(this,e,n,r)}resolve(e,n=0){return Qv(this,e,n,!1)}resolveInner(e,n=0){return Qv(this,e,n,!0)}matchContext(e){return I8(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Fs extends YG{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let c=a[e],f=l[e]+o.from;if(WG(i,r,f,f+c.length)){if(c instanceof Qd){if(s&Cr.ExcludeBuffers)continue;let h=c.findChild(0,c.buffer.length,n,r-f,i);if(h>-1)return new oc(new Z_e(o,c,e,f),null,h)}else if(s&Cr.IncludeAnonymous||!c.type.isAnonymous||T7(c)){let h;if(!(s&Cr.IgnoreMounts)&&(h=Nv.get(c))&&!h.overlay)return new Fs(h.tree,f,e,o);let d=new Fs(c,f,e,o);return s&Cr.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(s&Cr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Cr.IgnoreOverlays)&&(i=Nv.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new Fs(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function fN(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function I8(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Z_e{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class oc extends YG{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new oc(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Cr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new oc(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new oc(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new oc(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new Gn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function GG(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof Fs&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new W_e(i,n)}class W_e{constructor(e,n){this.heads=e,this.node=n}get next(){return GG(this.heads)}}function Y_e(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof Fs?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=Nv.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Fs(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Qv(a,e,n,!1))}}return i?GG(i):r}class jS{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Fs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Fs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Cr.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Cr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Cr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Cr.IncludeAnonymous||a instanceof Qd||!a.type.isAnonymous||T7(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new oc(this.buffer,n,this.stack[i]);return this.bufferNode=new oc(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return I8(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return I8(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function T7(t){return t.children.some(e=>e instanceof Qd||!e.type.isAnonymous||T7(e))}function G_e(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=ZG,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new E7(n,n.length):n,l=r.types,u=0,c=0;function f(k,A,C,T,P,N){let{id:I,start:$,end:R,size:M}=a,B=c,U=u;if(M<0)if(a.next(),M==-1){let te=s[I];C.push(te),T.push($-k);return}else if(M==-3){u=I;return}else if(M==-4){c=I;return}else throw new RangeError(`Unrecognized record size: ${M}`);let j=l[I],ee,W,ue=$-k;if(R-$<=i&&(W=b(a.pos-A,P))){let te=new Uint16Array(W.size-W.skip),ae=a.pos-W.size,ie=te.length;for(;a.pos>ae;)ie=v(W.start,te,ie);ee=new Qd(te,R-W.start,r),ue=W.start-k}else{let te=a.pos-M;a.next();let ae=[],ie=[],_e=I>=o?I:-1,le=0,ce=R;for(;a.pos>te;)_e>=0&&a.id==_e&&a.size>=0?(a.end<=ce-i&&(m(ae,ie,$,le,a.end,ce,_e,B,U),le=ae.length,ce=a.end),a.next()):N>2500?h($,te,ae,ie):f($,te,ae,ie,_e,N+1);if(_e>=0&&le>0&&le<ae.length&&m(ae,ie,$,le,$,ce,_e,B,U),ae.reverse(),ie.reverse(),_e>-1&&le>0){let Qe=d(j,U);ee=D7(j,ae,ie,0,ae.length,0,R-$,Qe,Qe)}else ee=g(j,ae,ie,R-$,B-R,U)}C.push(ee),T.push(ue)}function h(k,A,C,T){let P=[],N=0,I=-1;for(;a.pos>A;){let{id:$,start:R,end:M,size:B}=a;if(B>4)a.next();else{if(I>-1&&R<I)break;I<0&&(I=M-i),P.push($,R,M),N++,a.next()}}if(N){let $=new Uint16Array(N*4),R=P[P.length-2];for(let M=P.length-3,B=0;M>=0;M-=3)$[B++]=P[M],$[B++]=P[M+1]-R,$[B++]=P[M+2]-R,$[B++]=B;C.push(new Qd($,P[2]-R,r)),T.push(R-k)}}function d(k,A){return(C,T,P)=>{let N=0,I=C.length-1,$,R;if(I>=0&&($=C[I])instanceof Gn){if(!I&&$.type==k&&$.length==P)return $;(R=$.prop(Ft.lookAhead))&&(N=T[I]+$.length+R)}return g(k,C,T,P,N,A)}}function m(k,A,C,T,P,N,I,$,R){let M=[],B=[];for(;k.length>T;)M.push(k.pop()),B.push(A.pop()+C-P);k.push(g(r.types[I],M,B,N-P,$-N,R)),A.push(P-C)}function g(k,A,C,T,P,N,I){if(N){let $=[Ft.contextHash,N];I=I?[$].concat(I):[$]}if(P>25){let $=[Ft.lookAhead,P];I=I?[$].concat(I):[$]}return new Gn(k,A,C,T,I)}function b(k,A){let C=a.fork(),T=0,P=0,N=0,I=C.end-i,$={size:0,start:0,skip:0};e:for(let R=C.pos-k;C.pos>R;){let M=C.size;if(C.id==A&&M>=0){$.size=T,$.start=P,$.skip=N,N+=4,T+=4,C.next();continue}let B=C.pos-M;if(M<0||B<R||C.start<I)break;let U=C.id>=o?4:0,j=C.start;for(C.next();C.pos>B;){if(C.size<0)if(C.size==-3)U+=4;else break e;else C.id>=o&&(U+=4);C.next()}P=j,T+=M,N+=U}return(A<0||T==k)&&($.size=T,$.start=P,$.skip=N),$.size>4?$:void 0}function v(k,A,C){let{id:T,start:P,end:N,size:I}=a;if(a.next(),I>=0&&T<o){let $=C;if(I>4){let R=a.pos-(I-4);for(;a.pos>R;)C=v(k,A,C)}A[--C]=$,A[--C]=N-k,A[--C]=P-k,A[--C]=T}else I==-3?u=T:I==-4&&(c=T);return C}let O=[],_=[];for(;a.pos>0;)f(t.start||0,t.bufferStart||0,O,_,-1,0);let S=(e=t.length)!==null&&e!==void 0?e:O.length?_[0]+O[0].length:0;return new Gn(l[t.topID],O.reverse(),_.reverse(),S)}const hN=new WeakMap;function o_(t,e){if(!t.isAnonymous||e instanceof Qd||e.type!=t)return 1;let n=hN.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Gn)){n=1;break}n+=o_(t,r)}hN.set(e,n)}return n}function D7(t,e,n,r,i,s,o,a,l){let u=0;for(let m=r;m<i;m++)u+=o_(t,e[m]);let c=Math.ceil(u*1.5/8),f=[],h=[];function d(m,g,b,v,O){for(let _=b;_<v;){let S=_,k=g[_],A=o_(t,m[_]);for(_++;_<v;_++){let C=o_(t,m[_]);if(A+C>=c)break;A+=C}if(_==S+1){if(A>c){let C=m[S];d(C.children,C.positions,0,C.children.length,g[S]+O);continue}f.push(m[S])}else{let C=g[_-1]+m[_-1].length-k;f.push(D7(t,m,g,S,_,k,C,null,l))}h.push(k+O-s)}}return d(e,n,r,i,0),(a||l)(f,h,o)}class HG{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof oc?this.setBuffer(e.context.buffer,e.index,n):e instanceof Fs&&this.map.set(e.tree,n)}get(e){return e instanceof oc?this.getBuffer(e.context.buffer,e.index):e instanceof Fs?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Vf{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Vf(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<n.length?n[a]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;o&&o.from<f;){let h=o;if(l>=h.from||f<=h.to||u){let d=Math.max(h.from,l)-u,m=Math.min(h.to,f)-u;h=d>=m?null:new Vf(d,m,h.tree,h.offset+u,a>0,!!c)}if(h&&i.push(h),o.to>f)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}let P7=class{startParse(e,n,r){return typeof e=="string"&&(e=new H_e(e)),r=r?r.length?r.map(i=>new dl(i.from,i.to)):[new dl(0,0)]:[new dl(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}};class H_e{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function KG(t){return(e,n,r,i)=>new J_e(e,t,n,r,i)}class dN{constructor(e,n,r,i,s){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=s}}function pN(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class K_e{constructor(e,n,r,i,s,o,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const F8=new Ft({perNode:!0});class J_e{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Gn(r.type,r.children,r.positions,r.length,r.propValues.concat([[F8,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Ft.mounted.id]=new Nv(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new nSe(this.fragments),n=null,r=null,i=new jS(new Fs(this.baseTree,this.ranges[0].from,0,null),Cr.IncludeAnonymous|Cr.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let u=n.mounts.find(c=>c.frag.from<=i.from&&c.frag.to>=i.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let f=c.from+u.pos,h=c.to+u.pos;f>=i.from&&h<=i.to&&!n.ranges.some(d=>d.from<h&&d.to>f)&&n.ranges.push({from:f,to:h})}}a=!1}else if(r&&(o=eSe(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||(tSe(i),n&&n.depth++,r&&r.depth++);let u=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new K_e(s.parser,s.overlay,u,this.inner.length,i.from,i.tree,n);else{let c=yN(this.ranges,s.overlay||(i.from<i.to?[new dl(i.from,i.to)]:[]));c.length&&pN(c),(c.length||!s.overlay)&&this.inner.push(new dN(s.parser,c.length?s.parser.startParse(this.input,bN(u,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(f=>new dl(f.from-i.from,f.to-i.from)):null,i.tree,c.length?c[0].from:i.from)),s.overlay?c.length&&(r={ranges:c,depth:0,prev:r}):a=!1}}else if(n&&(l=n.predicate(i))&&(l===!0&&(l=new dl(i.from,i.to)),l.from<l.to)){let u=n.ranges.length-1;u>=0&&n.ranges[u].to==l.from?n.ranges[u]={from:n.ranges[u].from,to:l.to}:n.ranges.push(l)}if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let u=yN(this.ranges,n.ranges);u.length&&(pN(u),this.inner.splice(n.index,0,new dN(n.parser,n.parser.startParse(this.input,bN(n.mounts,u),u),n.ranges.map(c=>new dl(c.from-n.start,c.to-n.start)),n.target,u[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function eSe(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function mN(t,e,n,r,i,s){if(e<n){let o=t.buffer[e+1];r.push(t.slice(e,n,o)),i.push(o-s)}}function tSe(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function u(c,f,h,d,m,g){let b=n[g],v=[],O=[];mN(o,c,b,v,O,d);let _=a[b+1],S=a[b+2];l.push(v.length);let k=g?u(b+4,a[b+3],o.set.types[a[b]],_,S-_,g-1):e.toTree();return v.push(k),O.push(_-d),mN(o,a[b+3],f,v,O,d),new Gn(h,v,O,m)}i.children[s]=u(0,a.length,Hi.none,0,o.length,n.length-1);for(let c of l){let f=t.tree.children[c],h=t.tree.positions[c];t.yield(new Fs(f,h+t.from,c,t._tree))}}class gN{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Cr.IncludeAnonymous|Cr.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Cr.IgnoreOverlays|Cr.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Gn)n=n.children[0];else break}return!1}}let nSe=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(F8))!==null&&n!==void 0?n:r.to,this.inner=new gN(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(F8))!==null&&e!==void 0?e:n.to,this.inner=new gN(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Ft.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}};function yN(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let o=t[i-1].to,a=t[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(n||(r=n=e.slice()),l.from<o?(n[s]=new dl(l.from,o),l.to>a&&n.splice(s+1,0,new dl(a,l.to))):l.to>a?n[s--]=new dl(a,l.to):n.splice(s--,1))}}return r}function rSe(t,e,n,r){let i=0,s=0,o=!1,a=!1,l=-1e9,u=[];for(;;){let c=i==t.length?1e9:o?t[i].to:t[i].from,f=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let h=Math.max(l,n),d=Math.min(c,f,r);h<d&&u.push(new dl(h,d))}if(l=Math.min(c,f),l==1e9)break;c==l&&(o?(o=!1,i++):o=!0),f==l&&(a?(a=!1,s++):a=!0)}return u}function bN(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),u=Math.min(s.to,a);if(i.overlay){let c=i.overlay.map(h=>new dl(h.from+r,h.to+r)),f=rSe(e,c,l,u);for(let h=0,d=l;;h++){let m=h==f.length,g=m?u:f[h].from;if(g>d&&n.push(new Vf(d,g,i.tree,-o,s.from>=d||s.openStart,s.to<=g||s.openEnd)),m)break;d=f[h].to}}else n.push(new Vf(l,u,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let iSe=0;class Pa{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=iSe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Pa&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Pa(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new qS(e);return r=>r.modified.indexOf(n)>-1?r:qS.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let sSe=0;class qS{constructor(e){this.name=e,this.instances=[],this.id=sSe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&oSe(n,a.modified));if(r)return r;let i=[],s=new Pa(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=aSe(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(qS.get(a,l));return s}}function oSe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function aSe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function gh(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let f=0;;){if(a=="..."&&f>0&&f+3==i.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+i);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let d=i[f++];if(f==i.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);a=i.slice(f)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new Bv(r,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return JG.add(e)}const JG=new Ft({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new Bv(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});let Bv=class{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};Bv.empty=new Bv([],2,null);function eH(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function lSe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function uSe(t,e,n,r=0,i=t.length){let s=new cSe(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class cSe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let u=i,c=fSe(e)||Bv.empty,f=lSe(s,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,a),u),c.opaque)return;let h=e.tree&&e.tree.prop(Ft.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+a,1),m=this.highlighters.filter(b=>!b.scope||b.scope(h.tree.type)),g=e.firstChild();for(let b=0,v=a;;b++){let O=b<h.overlay.length?h.overlay[b]:null,_=O?O.from+a:l,S=Math.max(n,v),k=Math.min(r,_);if(S<k&&g)for(;e.from<k&&(this.highlightRange(e,S,k,i,s),this.startSpan(Math.min(k,e.to),u),!(e.to>=_||!e.nextSibling())););if(!O||_>r)break;v=O.to+a,v>n&&(this.highlightRange(d.cursor(),Math.max(n,O.from+a),Math.min(r,v),"",m),this.startSpan(Math.min(r,v),u))}g&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function fSe(t){let e=t.type.prop(JG);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Be=Pa.define,zw=Be(),Uh=Be(),vN=Be(Uh),ON=Be(Uh),jh=Be(),Uw=Be(jh),fA=Be(jh),Lu=Be(),dp=Be(Lu),Iu=Be(),Fu=Be(),M8=Be(),Uy=Be(M8),jw=Be(),Q={comment:zw,lineComment:Be(zw),blockComment:Be(zw),docComment:Be(zw),name:Uh,variableName:Be(Uh),typeName:vN,tagName:Be(vN),propertyName:ON,attributeName:Be(ON),className:Be(Uh),labelName:Be(Uh),namespace:Be(Uh),macroName:Be(Uh),literal:jh,string:Uw,docString:Be(Uw),character:Be(Uw),attributeValue:Be(Uw),number:fA,integer:Be(fA),float:Be(fA),bool:Be(jh),regexp:Be(jh),escape:Be(jh),color:Be(jh),url:Be(jh),keyword:Iu,self:Be(Iu),null:Be(Iu),atom:Be(Iu),unit:Be(Iu),modifier:Be(Iu),operatorKeyword:Be(Iu),controlKeyword:Be(Iu),definitionKeyword:Be(Iu),moduleKeyword:Be(Iu),operator:Fu,derefOperator:Be(Fu),arithmeticOperator:Be(Fu),logicOperator:Be(Fu),bitwiseOperator:Be(Fu),compareOperator:Be(Fu),updateOperator:Be(Fu),definitionOperator:Be(Fu),typeOperator:Be(Fu),controlOperator:Be(Fu),punctuation:M8,separator:Be(M8),bracket:Uy,angleBracket:Be(Uy),squareBracket:Be(Uy),paren:Be(Uy),brace:Be(Uy),content:Lu,heading:dp,heading1:Be(dp),heading2:Be(dp),heading3:Be(dp),heading4:Be(dp),heading5:Be(dp),heading6:Be(dp),contentSeparator:Be(Lu),list:Be(Lu),quote:Be(Lu),emphasis:Be(Lu),strong:Be(Lu),link:Be(Lu),monospace:Be(Lu),strikethrough:Be(Lu),inserted:Be(),deleted:Be(),changed:Be(),invalid:Be(),meta:jw,documentMeta:Be(jw),annotation:Be(jw),processingInstruction:Be(jw),definition:Pa.defineModifier("definition"),constant:Pa.defineModifier("constant"),function:Pa.defineModifier("function"),standard:Pa.defineModifier("standard"),local:Pa.defineModifier("local"),special:Pa.defineModifier("special")};for(let t in Q){let e=Q[t];e instanceof Pa&&(e.name=t)}eH([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);var hA;const Mp=new Ft;function R7(t){return Ge.define({combine:t?e=>e.concat(t):void 0})}const $7=new Ft;class pl{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Tn.prototype.hasOwnProperty("tree")||Object.defineProperty(Tn.prototype,"tree",{get(){return Hn(this)}}),this.parser=n,this.extension=[u1.of(this),Tn.languageData.of((s,o,a)=>{let l=wN(s,o,a),u=l.type.prop(Mp);if(!u)return[];let c=s.facet(u),f=l.type.prop($7);if(f){let h=l.resolve(o-l.from,a);for(let d of f)if(d.test(h,s)){let m=s.facet(d.facet);return d.type=="replace"?m:m.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return wN(e,n,r).type.prop(Mp)==this.data}findRegions(e){let n=e.facet(u1);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Mp)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Ft.mounted);if(a){if(a.tree.prop(Mp)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof Gn&&i(u,s.positions[l]+o)}};return i(Hn(e),0),r}get allowsNesting(){return!0}}pl.setState=Vt.define();function wN(t,e,n){let r=t.facet(u1),i=Hn(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Cr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class rh extends pl{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=R7(e.languageData);return new rh(n,e.parser.configure({props:[Mp.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new rh(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Hn(t){let e=t.field(pl.state,!1);return e?e.tree:Gn.empty}class hSe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let jy=null;class zv{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new zv(e,n,[],Gn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new hSe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Gn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Vf.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Vf.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=jy;jy=this;try{return e()}finally{jy=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=xN(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,h)=>l.push({fromA:u,toA:c,fromB:f,toB:h})),r=Vf.applyChanges(r,l),i=Gn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&a.push({from:c,to:f})}}}return new zv(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=xN(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends P7{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=jy;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Gn(Hi.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return jy}}function xN(t,e,n){return Vf.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class l1{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new l1(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=zv.create(e.facet(u1).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new l1(r)}}pl.state=Mi.define({create:l1.init,update(t,e){for(let n of e.effects)if(n.is(pl.setState))return n.value;return e.startState.facet(u1)!=e.state.facet(u1)?l1.init(e.state):t.apply(e)}});let tH=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(tH=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const dA=typeof navigator<"u"&&(!((hA=navigator.scheduling)===null||hA===void 0)&&hA.isInputPending)?()=>navigator.scheduling.isInputPending():null,dSe=Fi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(pl.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(pl.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=tH(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(pl.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!dA?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>dA&&dA()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:pl.setState.of(new l1(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>ho(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),u1=Ge.define({combine(t){return t.length?t[0]:null},enables:t=>[pl.state,dSe,Xe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Bd{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class VS{constructor(e,n,r,i,s,o=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new VS(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(s=>s==n))return i;if(r)for(let i of e)for(let s of i.alias){let o=n.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+s.length])))return i}return null}}const pSe=Ge.define(),YO=Ge.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function XS(t){let e=t.facet(YO);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Uv(t,e){let n="",r=t.tabSize,i=t.facet(YO)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function I7(t,e){t instanceof Tn&&(t=new r4(t));for(let r of t.state.facet(pSe)){let i=r(t,e);if(i!==void 0)return i}let n=Hn(t.state);return n.length>=e?mSe(t,n,e):null}class r4{constructor(e,n={}){this.state=e,this.options=n,this.unit=XS(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return fu(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Wd=new Ft;function mSe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return nH(r,t,n)}function nH(t,e,n){for(let r=t;r;r=r.next){let i=ySe(r.node);if(i)return i(F7.create(e,n,r))}return 0}function gSe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function ySe(t){let e=t.type.prop(Wd);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ft.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>rH(o,!0,1,void 0,s&&!gSe(o)?i.from:void 0)}return t.parent==null?bSe:null}function bSe(){return 0}class F7 extends r4{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new F7(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(vSe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return nH(this.context.next,this.base,this.pos)}}function vSe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function OSe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+u}}a=l.to}}function wSe({closing:t,align:e=!0,units:n=1}){return r=>rH(r,e,n,t)}function rH(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?OSe(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const xSe=t=>t.baseIndent;function Xf({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const _Se=200;function SSe(){return Tn.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+_Se)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==a)continue;a=c.from;let f=I7(o,c.from);if(f==null)continue;let h=/^\s*/.exec(c.text)[0],d=Uv(o,f);h!=d&&l.push({from:c.from,to:c.from+h.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const kSe=Ge.define(),Yd=new Ft;function i4(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class GO{constructor(e,n){this.specs=e;let r;function i(a){let l=Fd.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof pl?a=>a.prop(Mp)==o.data:o?a=>a==o:void 0,this.style=eH(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Fd(r):null,this.themeType=n.themeType}static define(e,n){return new GO(e,n||{})}}const L8=Ge.define(),iH=Ge.define({combine(t){return t.length?[t[0]]:null}});function pA(t){let e=t.facet(L8);return e.length?e:t.facet(iH)}function sH(t,e){let n=[ASe],r;return t instanceof GO&&(t.module&&n.push(Xe.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(iH.of(t)):r?n.push(L8.computeN([Xe.darkTheme],i=>i.facet(Xe.darkTheme)==(r=="dark")?[t]:[])):n.push(L8.of(t)),n}class CSe{constructor(e){this.markCache=Object.create(null),this.tree=Hn(e.state),this.decorations=this.buildDeco(e,pA(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Hn(e.state),r=pA(e.state),i=r!=pA(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Tt.none;let r=new Id;for(let{from:i,to:s}of e.visibleRanges)uSe(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=Tt.mark({class:l})))},i,s);return r.finish()}}const ASe=dh.high(Fi.fromClass(CSe,{decorations:t=>t.decorations})),ESe=GO.define([{tag:Q.meta,color:"#404740"},{tag:Q.link,textDecoration:"underline"},{tag:Q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strong,fontWeight:"bold"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.keyword,color:"#708"},{tag:[Q.atom,Q.bool,Q.url,Q.contentSeparator,Q.labelName],color:"#219"},{tag:[Q.literal,Q.inserted],color:"#164"},{tag:[Q.string,Q.deleted],color:"#a11"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],color:"#e40"},{tag:Q.definition(Q.variableName),color:"#00f"},{tag:Q.local(Q.variableName),color:"#30a"},{tag:[Q.typeName,Q.namespace],color:"#085"},{tag:Q.className,color:"#167"},{tag:[Q.special(Q.variableName),Q.macroName],color:"#256"},{tag:Q.definition(Q.propertyName),color:"#00c"},{tag:Q.comment,color:"#940"},{tag:Q.invalid,color:"#f00"}]),TSe=Xe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),oH=1e4,aH="()[]{}",lH=Ge.define({combine(t){return mh(t,{afterCursor:!0,brackets:aH,maxScanDistance:oH,renderMatch:RSe})}}),DSe=Tt.mark({class:"cm-matchingBracket"}),PSe=Tt.mark({class:"cm-nonmatchingBracket"});function RSe(t){let e=[],n=t.matched?DSe:PSe;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const $Se=Mi.define({create(){return Tt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(lH);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=ac(e.state,i.head,-1,r)||i.head>0&&ac(e.state,i.head-1,1,r)||r.afterCursor&&(ac(e.state,i.head,1,r)||i.head<e.state.doc.length&&ac(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return Tt.set(n,!0)},provide:t=>Xe.decorations.from(t)}),ISe=[$Se,TSe];function FSe(t={}){return[lH.of(t),ISe]}const uH=new Ft;function N8(t,e,n){let r=t.prop(e<0?Ft.openedBy:Ft.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Q8(t){let e=t.type.prop(uH);return e?e(t.node):t}function ac(t,e,n,r={}){let i=r.maxScanDistance||oH,s=r.brackets||aH,o=Hn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=N8(l.type,n,s);if(u&&l.from<l.to){let c=Q8(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return MSe(t,e,n,l,c,u,s)}}return LSe(t,e,n,o,a.type,i,s)}function MSe(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,c=a?.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let f=Q8(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(N8(c.type,n,o))u++;else if(N8(c.type,-n,o)){if(u==0){let f=Q8(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function LSe(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let h=0;!c.next().done&&h<=s;){let d=c.value;n<0&&(h+=d.length);let m=e+h*n;for(let g=n>0?0:d.length-1,b=n>0?d.length:-1;g!=b;g+=n){let v=o.indexOf(d[g]);if(!(v<0||r.resolveInner(m+g,1).type!=i))if(v%2==0==n>0)f++;else{if(f==1)return{start:u,end:{from:m+g,to:m+g+1},matched:v>>1==l>>1};f--}}n>0&&(h+=d.length)}return c.done?{start:u,matched:!1}:null}const NSe=Object.create(null),_N=[Hi.none],SN=[],kN=Object.create(null),QSe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])QSe[t]=BSe(NSe,e);function mA(t,e){SN.indexOf(t)>-1||(SN.push(t),console.warn(e))}function BSe(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=t[u]||Q[u];c?typeof c=="function"?l.length?l=l.map(c):mA(u,`Modifier ${u} used at start of tag`):l.length?mA(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:mA(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=kN[i];if(s)return s.id;let o=kN[i]=Hi.define({id:_N.length,name:r,props:[gh({[r]:n})]});return _N.push(o),o.id}Mr.RTL,Mr.LTR;class M7{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Hn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(fH(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function CN(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function zSe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=CN(e)+CN(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function L7(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:zSe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function cH(t,e){return n=>{for(let r=Hn(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class AN{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function t0(t){return t.selection.main.from}function fH(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const N7=ph.define();function USe(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return{...t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:me.cursor(a.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const EN=new WeakMap;function jSe(t){if(!Array.isArray(t))return t;let e=EN.get(t);return e||EN.set(t,e=L7(t)),e}const ZS=Vt.define(),jv=Vt.define();class qSe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=zo(e,n),i=Ju(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(zo(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let O=zo(e,0),_=Ju(O),S=_==e.length?0:-100;if(O!=n[0])if(O==r[0])S+=-200;else return null;return this.ret(S,[0,_])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(a<0){for(let O=0,_=Math.min(e.length,200);O<_&&u<l;){let S=zo(e,O);(S==n[u]||S==r[u])&&(i[u++]=O),O+=Ju(S)}if(u<l)return null}let c=0,f=0,h=!1,d=0,m=-1,g=-1,b=/[a-z]/.test(e),v=!0;for(let O=0,_=Math.min(e.length,200),S=0;O<_&&f<l;){let k=zo(e,O);a<0&&(c<l&&k==n[c]&&(s[c++]=O),d<l&&(k==n[d]||k==r[d]?(d==0&&(m=O),g=O+1,d++):d=0));let A,C=k<255?k>=48&&k<=57||k>=97&&k<=122?2:k>=65&&k<=90?1:0:(A=h7(k))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!O||C==1&&b||S==0&&C!=0)&&(n[f]==k||r[f]==k&&(h=!0)?o[f++]=O:o.length&&(v=!1)),S=C,O+=Ju(k)}return f==l&&o[0]==0&&v?this.result(-100+(h?-200:0),o,e):d==l&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-900-e.length,[m,g]):f==l?this.result(-100+(h?-200:0)+-700+(v?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Ju(zo(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class VSe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const os=Ge.define({combine(t){return mh(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:XSe,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>TN(e(r),n(r)),optionClass:(e,n)=>r=>TN(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function TN(t,e){return t?e?t+" "+e:t:e}function XSe(t,e,n,r,i,s){let o=t.textDirection==Mr.RTL,a=o,l=!1,u="top",c,f,h=e.left-i.left,d=i.right-e.right,m=r.right-r.left,g=r.bottom-r.top;if(a&&h<Math.min(m,d)?a=!1:!a&&d<Math.min(m,h)&&(a=!0),m<=(a?h:d))c=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,f=Math.min(400,a?h:d);else{l=!0,f=Math.min(400,(o?e.right:i.right-e.left)-30);let O=i.bottom-e.bottom;O>=g||O>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let b=(e.bottom-e.top)/s.offsetHeight,v=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${c/b}px; max-width: ${f/v}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function ZSe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let u=0;u<s.length;){let c=s[u++],f=s[u++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let h=o.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(a.slice(c,f))),h.className="cm-completionMatchedText",l=f}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function gA(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class WSe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(os);this.optionContent=ZSe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=gA(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,f;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<u.length){this.applyCompletion(e,u[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(os).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:jv.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=gA(s.length,o,e.state.facet(os).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=gA(n.options.length,n.selected,this.view.state.facet(os).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(i);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>ho(this.view.state,a,"completion info")):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&GSe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(os).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let h=typeof u=="string"?u:u.name;if(h!=s&&(o>r.from||r.from==0))if(s=h,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=h}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let f=this.optionClass(a);f&&(c.className=f);for(let h of this.optionContent){let d=h(a,this.view.state,this.view,l);d&&c.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function YSe(t,e){return n=>new WSe(n,t,e)}function GSe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function DN(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function HSe(t,e){let n=[],r=null,i=null,s=c=>{n.push(c);let{section:f}=c.completion;if(f){r||(r=[]);let h=typeof f=="string"?f:f.name;r.some(d=>d.name==h)||r.push(typeof f=="string"?{name:h}:f)}},o=e.facet(os);for(let c of t)if(c.hasResult()){let f=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)s(new AN(h,c.source,f?f(h):[],1e9-n.length));else{let h=e.sliceDoc(c.from,c.to),d,m=o.filterStrict?new VSe(h):new qSe(h);for(let g of c.result.options)if(d=m.match(g.label)){let b=g.displayLabel?f?f(g,d.matched):[]:d.matched,v=d.score+(g.boost||0);if(s(new AN(g,c.source,b,v)),typeof g.section=="object"&&g.section.rank==="dynamic"){let{name:O}=g.section;i||(i=Object.create(null)),i[O]=Math.max(v,i[O]||-1e9)}}}}if(r){let c=Object.create(null),f=0,h=(d,m)=>(d.rank==="dynamic"&&m.rank==="dynamic"?i[m.name]-i[d.name]:0)||(typeof d.rank=="number"?d.rank:1e9)-(typeof m.rank=="number"?m.rank:1e9)||(d.name<m.name?-1:1);for(let d of r.sort(h))f-=1e5,c[d.name]=f;for(let d of n){let{section:m}=d.completion;m&&(d.score+=c[typeof m=="string"?m:m.name])}}let a=[],l=null,u=o.compareCompletions;for(let c of n.sort((f,h)=>h.score-f.score||u(f.completion,h.completion))){let f=c.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?a.push(c):DN(c.completion)>DN(l)&&(a[a.length-1]=c),l=c.completion}return a}class Km{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Km(this.options,PN(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let a=HSe(e,n);if(!a.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=n.facet(os).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<a.length;c++)if(a[c].completion==u){l=c;break}}return new Km(a,PN(r,l),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:r3e,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Km(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Km(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class WS{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new WS(t3e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(os),s=(r.override||n.languageDataAt("autocomplete",t0(n)).map(jSe)).map(l=>(this.active.find(c=>c.source==l)||new ml(l,this.active.some(c=>c.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,u)=>l==this.active[u])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(Q7));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!KSe(s,this.active)||a?o=Km.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new ml(l.source,0):l));for(let l of e.effects)l.is(dH)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new WS(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?JSe:e3e}}function KSe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const JSe={"aria-autocomplete":"list"},e3e={};function PN(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const t3e=[];function hH(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(N7);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class ml{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=hH(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new ml(i.source,0)),r&4&&i.state==0&&(i=new ml(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(ZS))i=new ml(i.source,1,s.value);else if(s.is(jv))i=new ml(i.source,0);else if(s.is(Q7))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(t0(e.state))}}class Og extends ml{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=t0(e.state);if(a>o||!i||n&2&&(t0(e.startState)==this.from||a<this.limit))return new ml(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return n3e(i.validFor,e.state,s,o)?new Og(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new M7(e.state,a,!1)))?new Og(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:t0(e.state)):new ml(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Og(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ml(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function n3e(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):fH(t,!0).test(i)}const Q7=Vt.define({map(t,e){return t.map(n=>n.map(e))}}),dH=Vt.define(),Uo=Mi.define({create(){return WS.start()},update(t,e){return t.update(e)},provide:t=>[C7.from(t,e=>e.tooltip),Xe.contentAttributes.from(t,e=>e.attrs)]});function B7(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Uo).active.find(i=>i.source==e.source);return r instanceof Og?(typeof n=="string"?t.dispatch({...USe(t.state,n,r.from,r.to),annotations:N7.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const r3e=YSe(Uo,B7);function qw(t,e="option"){return n=>{let r=n.state.field(Uo,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(os).interactionDelay)return!1;let i=1,s;e=="page"&&(s=qG(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:dH.of(a)}),!0}}const i3e=t=>{let e=t.state.field(Uo,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(os).interactionDelay?!1:B7(t,e.open.options[e.open.selected])},yA=t=>t.state.field(Uo,!1)?(t.dispatch({effects:ZS.of(!0)}),!0):!1,s3e=t=>{let e=t.state.field(Uo,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:jv.of(null)}),!0)};class o3e{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const a3e=50,l3e=1e3,u3e=Fi.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Uo).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Uo),n=t.state.facet(os);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Uo)==e)return;let r=t.transactions.some(s=>{let o=hH(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>a3e&&Date.now()-o.time>l3e){for(let a of o.context.abortListeners)try{a()}catch(l){ho(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(ZS)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Uo);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(os).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=t0(e),r=new M7(e,n,t.explicit,this.view),i=new o3e(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:jv.of(null)}),ho(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(os).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(os),r=this.view.state.field(Uo);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=t0(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),u=new Og(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let c of s.updates)u=u.update(c,n);if(u.hasResult()){e.push(u);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new ml(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:Q7.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Uo,!1);if(e&&e.tooltip&&this.view.state.facet(os).closeOnBlur){let n=e.open&&qG(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:jv.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ZS.of(!1)}),20),this.composing=0}}}),c3e=typeof navigator=="object"&&/Win/.test(navigator.platform),f3e=dh.highest(Xe.domEventHandlers({keydown(t,e){let n=e.state.field(Uo,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(c3e&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&B7(e,r),!1}})),pH=Xe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"Â·Â·Â·"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'Æ'"}},".cm-completionIcon-class":{"&:after":{content:"'â'"}},".cm-completionIcon-interface":{"&:after":{content:"'â'"}},".cm-completionIcon-variable":{"&:after":{content:"'ð¥'"}},".cm-completionIcon-constant":{"&:after":{content:"'ð¶'"}},".cm-completionIcon-type":{"&:after":{content:"'ð¡'"}},".cm-completionIcon-enum":{"&:after":{content:"'âª'"}},".cm-completionIcon-property":{"&:after":{content:"'â¡'"}},".cm-completionIcon-keyword":{"&:after":{content:"'ðï¸'"}},".cm-completionIcon-namespace":{"&:after":{content:"'â¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class h3e{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class z7{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,gs.TrackDel),r=e.mapPos(this.to,1,gs.TrackDel);return n==null||r==null?null:new z7(this.field,n,r)}}class U7{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let u=o,c=/^\t*/.exec(l)[0].length;for(let f=0;f<c;f++)u+=e.facet(YO);i.push(n+u.length-c),l=u+l.slice(c)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new z7(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1,c=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<n.length;f++)(a!=null?n[f].seq==a:c&&n[f].name==c)&&(u=f);if(u<0){let f=0;for(;f<n.length&&(a==null||n[f].seq!=null&&n[f].seq<a);)f++;n.splice(f,0,{seq:a,name:c}),u=f;for(let h of i)h.field>=u&&h.field++}for(let f of i)if(f.line==r.length&&f.from>s.index){let h=s[2]?3+(s[1]||"").length:2;f.from-=h,f.to-=h}i.push(new h3e(u,r.length,s.index,s.index+c.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,u)=>{for(let c of i)c.line==r.length&&c.from>u&&(c.from--,c.to--);return l}),r.push(o)}return new U7(r,i)}}let d3e=Tt.widget({widget:new class extends U0{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),p3e=Tt.mark({class:"cm-snippetField"});class Y1{constructor(e,n){this.ranges=e,this.active=n,this.deco=Tt.set(e.map(r=>(r.from==r.to?d3e:p3e).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new Y1(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const HO=Vt.define({map(t,e){return t&&t.map(e)}}),m3e=Vt.define(),qv=Mi.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(HO))return n.value;if(n.is(m3e)&&t)return new Y1(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Xe.decorations.from(t,e=>e?e.deco:Tt.none)});function j7(t,e){return me.create(t.filter(n=>n.field==e).map(n=>me.range(n.from,n.to)))}function g3e(t){let e=U7.parse(t);return(n,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,i),{main:l}=n.state.selection,u={changes:{from:i,to:s==l.from?l.to:s,insert:In.of(o)},scrollIntoView:!0,annotations:r?[N7.of(r),$i.userEvent.of("input.complete")]:void 0};if(a.length&&(u.selection=j7(a,0)),a.some(c=>c.field>0)){let c=new Y1(a,0),f=u.effects=[HO.of(c)];n.state.field(qv,!1)===void 0&&f.push(Vt.appendConfig.of([qv,w3e,x3e,pH]))}n.dispatch(n.state.update(u))}}function mH(t){return({state:e,dispatch:n})=>{let r=e.field(qv,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:j7(r.ranges,i),effects:HO.of(s?null:new Y1(r.ranges,i)),scrollIntoView:!0})),!0}}const y3e=({state:t,dispatch:e})=>t.field(qv,!1)?(e(t.update({effects:HO.of(null)})),!0):!1,b3e=mH(1),v3e=mH(-1),O3e=[{key:"Tab",run:b3e,shift:v3e},{key:"Escape",run:y3e}],RN=Ge.define({combine(t){return t.length?t[0]:O3e}}),w3e=dh.highest(XO.compute([RN],t=>t.facet(RN)));function eo(t,e){return{...e,apply:g3e(t)}}const x3e=Xe.domEventHandlers({mousedown(t,e){let n=e.state.field(qv,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:j7(n.ranges,i.field),effects:HO.of(n.ranges.some(s=>s.field>i.field)?new Y1(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Vv={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Lp=Vt.define({map(t,e){let n=e.mapPos(t,-1,gs.TrackAfter);return n??void 0}}),q7=new class extends O0{};q7.startSide=1;q7.endSide=-1;const gH=Mi.define({create(){return Bn.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Lp)&&(t=t.update({add:[q7.range(n.value,n.value+1)]}));return t}});function _3e(){return[k3e,gH]}const bA="()[]{}<>Â«Â»Â»Â«ï¼»ï¼½ï½ï½";function yH(t){for(let e=0;e<bA.length;e+=2)if(bA.charCodeAt(e)==t)return bA.charAt(e+1);return h7(t<128?t:t+1)}function bH(t,e){return t.languageDataAt("closeBrackets",e)[0]||Vv}const S3e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),k3e=Xe.inputHandler.of((t,e,n,r)=>{if((S3e?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Ju(zo(r,0))==1||e!=i.from||n!=i.to)return!1;let s=E3e(t.state,r);return s?(t.dispatch(s),!0):!1}),C3e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=bH(t,t.selection.main.head).brackets||Vv.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=T3e(t.doc,o.head);for(let l of r)if(l==a&&s4(t.doc,o.head)==yH(zo(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:me.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},A3e=[{key:"Backspace",run:C3e}];function E3e(t,e){let n=bH(t,t.selection.main.head),r=n.brackets||Vv.brackets;for(let i of r){let s=yH(zo(i,0));if(e==i)return s==i?R3e(t,i,r.indexOf(i+i+i)>-1,n):D3e(t,i,s,n.before||Vv.before);if(e==s&&vH(t,t.selection.main.from))return P3e(t,i,s)}return null}function vH(t,e){let n=!1;return t.field(gH).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function s4(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Ju(zo(n,0)))}function T3e(t,e){let n=t.sliceString(e-2,e);return Ju(zo(n,0))==n.length?n:n.slice(1)}function D3e(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Lp.of(o.to+e.length),range:me.range(o.anchor+e.length,o.head+e.length)};let a=s4(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Lp.of(o.head+e.length),range:me.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function P3e(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&s4(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:me.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function R3e(t,e,n,r){let i=r.stringPrefixes||Vv.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Lp.of(a.to+e.length),range:me.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=s4(t.doc,l),c;if(u==e){if($N(t,l))return{changes:{insert:e+e,from:l},effects:Lp.of(l+e.length),range:me.cursor(l+e.length)};if(vH(t,l)){let h=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:me.cursor(l+h.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=IN(t,l-2*e.length,i))>-1&&$N(t,c))return{changes:{insert:e+e+e+e,from:l},effects:Lp.of(l+e.length),range:me.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=Xr.Word&&IN(t,l,i)>-1&&!$3e(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Lp.of(l+e.length),range:me.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function $N(t,e){let n=Hn(t).resolveInner(e+1);return n.parent&&n.from==e}function $3e(t,e,n,r){let i=Hn(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function IN(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Xr.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Xr.Word)return s}return-1}function I3e(t={}){return[f3e,Uo,os.of(t),u3e,F3e,pH]}const OH=[{key:"Ctrl-Space",run:yA},{mac:"Alt-`",run:yA},{mac:"Alt-i",run:yA},{key:"Escape",run:s3e},{key:"ArrowDown",run:qw(!0)},{key:"ArrowUp",run:qw(!1)},{key:"PageDown",run:qw(!0,"page")},{key:"PageUp",run:qw(!1,"page")},{key:"Enter",run:i3e}],F3e=dh.highest(XO.computeN([os],t=>t.facet(os).defaultKeymap?[OH]:[])),M3e=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=X7(t.state,n.from);return r.line?L3e(t):r.block?Q3e(t):!1};function V7(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const L3e=V7(U3e,0),N3e=V7(wH,0),Q3e=V7((t,e)=>wH(t,e,z3e(e)),0);function X7(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const qy=50;function B3e(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-qy,r),o=t.sliceDoc(i,i+qy),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let c,f;i-r<=2*qy?c=f=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+qy),f=t.sliceDoc(i-qy,i));let h=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(f)[0].length,m=f.length-d-n.length;return c.slice(h,h+e.length)==e&&f.slice(m,m+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(c.charAt(h+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(f.charAt(m-1))?1:0}}:null}function z3e(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function wH(t,e,n=e.selection.ranges){let r=n.map(s=>X7(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>B3e(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function U3e(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,u=X7(e,s).line;if(u){for(let c=s;c<=o;){let f=e.doc.lineAt(c);if(f.from>i&&(s==o||o>f.from)){i=f.from;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,m=f.text.slice(h,h+u.length)==u?h:-1;h<f.text.length&&h<l&&(l=h),r.push({line:f,comment:m,token:u,indent:h,empty:d,single:!1})}c=f.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:f}of r)(f||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const B8=ph.define(),j3e=ph.define(),q3e=Ge.define(),xH=Ge.define({combine(t){return mh(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),_H=Mi.define({create(){return lc.empty},update(t,e){let n=e.state.facet(xH),r=e.annotation(B8);if(r){let l=Xo.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return l?c=YS(c,c.length,n.minDepth,l):c=CH(c,e.startState.selection),new lc(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(j3e);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation($i.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=Xo.fromTransaction(e),o=e.annotation($i.time),a=e.annotation($i.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new lc(t.done.map(Xo.fromJSON),t.undone.map(Xo.fromJSON))}});function V3e(t={}){return[_H,xH.of(t),Xe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?SH:e.inputType=="historyRedo"?z8:null;return r?(e.preventDefault(),r(n)):!1}})]}function o4(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(_H,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const SH=o4(0,!1),z8=o4(1,!1),X3e=o4(0,!0),Z3e=o4(1,!0);class Xo{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new Xo(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Xo(e.changes&&Wi.fromJSON(e.changes),[],e.mapped&&yc.fromJSON(e.mapped),e.startSelection&&me.fromJSON(e.startSelection),e.selectionsAfter.map(me.fromJSON))}static fromTransaction(e,n){let r=gl;for(let i of e.startState.facet(q3e)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new Xo(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,gl)}static selection(e){return new Xo(void 0,gl,void 0,void 0,e)}}function YS(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function W3e(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];a>=u&&o<=c&&(r=!0)}}),r}function Y3e(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function kH(t,e){return t.length?e.length?t.concat(e):t:e}const gl=[],G3e=200;function CH(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-G3e));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),YS(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Xo.selection([e])]}function H3e(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function vA(t,e){if(!t.length)return t;let n=t.length,r=gl;for(;n;){let i=K3e(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Xo.selection(r)]:gl}function K3e(t,e,n){let r=kH(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):gl,n);if(!t.changes)return Xo.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new Xo(i,Vt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const J3e=/^(input\.type|delete)($|\.)/;class lc{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new lc(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||J3e.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,W3e(a.changes,e.changes))||r=="input.type.compose")?o=YS(o,o.length-1,i.minDepth,new Xo(e.changes.compose(a.changes),kH(Vt.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,gl)):o=YS(o,o.length,i.minDepth,e),new lc(o,gl,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:gl;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Y3e(s[s.length-1],e)?this:new lc(CH(this.done,e),this.undone,n,r)}addMapping(e){return new lc(vA(this.done,e),vA(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:B8.of({side:e,rest:H3e(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?gl:i.slice(0,i.length-1);return s.mapped&&(a=vA(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:B8.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}lc.empty=new lc(gl,gl);const eke=[{key:"Mod-z",run:SH,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:z8,preventDefault:!0},{linux:"Ctrl-Shift-z",run:z8,preventDefault:!0},{key:"Mod-u",run:X3e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Z3e,preventDefault:!0}];function G1(t,e){return me.create(t.ranges.map(e),t.mainIndex)}function xu(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function _u({state:t,dispatch:e},n){let r=G1(t.selection,n);return r.eq(t.selection,!0)?!1:(e(xu(t,r)),!0)}function a4(t,e){return me.cursor(e?t.to:t.from)}function AH(t,e){return _u(t,n=>n.empty?t.moveByChar(n,e):a4(n,e))}function Xs(t){return t.textDirectionAt(t.state.selection.main.head)==Mr.LTR}const EH=t=>AH(t,!Xs(t)),TH=t=>AH(t,Xs(t));function DH(t,e){return _u(t,n=>n.empty?t.moveByGroup(n,e):a4(n,e))}const tke=t=>DH(t,!Xs(t)),nke=t=>DH(t,Xs(t));function rke(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function l4(t,e,n){let r=Hn(t).resolveInner(e.head),i=n?Ft.closedBy:Ft.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;rke(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=n?ac(t,r.from,1):ac(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,me.cursor(a,n?-1:1)}const ike=t=>_u(t,e=>l4(t.state,e,!Xs(t))),ske=t=>_u(t,e=>l4(t.state,e,Xs(t)));function PH(t,e){return _u(t,n=>{if(!n.empty)return a4(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const RH=t=>PH(t,!1),$H=t=>PH(t,!0);function IH(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(Xe.scrollMargins)){let o=s(t);o?.top&&(n=Math.max(o?.top,n)),o?.bottom&&(r=Math.max(o?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function FH(t,e){let n=IH(t),{state:r}=t,i=G1(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):a4(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=Xe.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(xu(r,i),{effects:s}),!0}const FN=t=>FH(t,!1),U8=t=>FH(t,!0);function Gd(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=me.cursor(r.from+s))}return i}const oke=t=>_u(t,e=>Gd(t,e,!0)),ake=t=>_u(t,e=>Gd(t,e,!1)),lke=t=>_u(t,e=>Gd(t,e,!Xs(t))),uke=t=>_u(t,e=>Gd(t,e,Xs(t))),cke=t=>_u(t,e=>me.cursor(t.lineBlockAt(e.head).from,1)),fke=t=>_u(t,e=>me.cursor(t.lineBlockAt(e.head).to,-1));function hke(t,e,n){let r=!1,i=G1(t.selection,s=>{let o=ac(t,s.head,-1)||ac(t,s.head,1)||s.head>0&&ac(t,s.head-1,1)||s.head<t.doc.length&&ac(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return me.cursor(a)});return r?(e(xu(t,i)),!0):!1}const dke=({state:t,dispatch:e})=>hke(t,e);function Fl(t,e){let n=G1(t.state.selection,r=>{let i=e(r);return me.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(xu(t.state,n)),!0)}function MH(t,e){return Fl(t,n=>t.moveByChar(n,e))}const LH=t=>MH(t,!Xs(t)),NH=t=>MH(t,Xs(t));function QH(t,e){return Fl(t,n=>t.moveByGroup(n,e))}const pke=t=>QH(t,!Xs(t)),mke=t=>QH(t,Xs(t)),gke=t=>Fl(t,e=>l4(t.state,e,!Xs(t))),yke=t=>Fl(t,e=>l4(t.state,e,Xs(t)));function BH(t,e){return Fl(t,n=>t.moveVertically(n,e))}const zH=t=>BH(t,!1),UH=t=>BH(t,!0);function jH(t,e){return Fl(t,n=>t.moveVertically(n,e,IH(t).height))}const MN=t=>jH(t,!1),LN=t=>jH(t,!0),bke=t=>Fl(t,e=>Gd(t,e,!0)),vke=t=>Fl(t,e=>Gd(t,e,!1)),Oke=t=>Fl(t,e=>Gd(t,e,!Xs(t))),wke=t=>Fl(t,e=>Gd(t,e,Xs(t))),xke=t=>Fl(t,e=>me.cursor(t.lineBlockAt(e.head).from)),_ke=t=>Fl(t,e=>me.cursor(t.lineBlockAt(e.head).to)),NN=({state:t,dispatch:e})=>(e(xu(t,{anchor:0})),!0),QN=({state:t,dispatch:e})=>(e(xu(t,{anchor:t.doc.length})),!0),BN=({state:t,dispatch:e})=>(e(xu(t,{anchor:t.selection.main.anchor,head:0})),!0),zN=({state:t,dispatch:e})=>(e(xu(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Ske=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),kke=({state:t,dispatch:e})=>{let n=u4(t).map(({from:r,to:i})=>me.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:me.create(n),userEvent:"select"})),!0},Cke=({state:t,dispatch:e})=>{let n=G1(t.selection,r=>{let i=Hn(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return me.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(xu(t,n)),!0)};function qH(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let o=n.doc.lineAt(s.head);if(e?o.to<t.state.doc.length:o.from>0)for(let a=s;;){let l=t.moveVertically(a,e);if(l.head<o.from||l.head>o.to){i.some(u=>u.head==l.head)||i.push(l);break}else{if(l.head==a.head)break;a=l}}}return i.length==r.ranges.length?!1:(t.dispatch(xu(n,me.create(i,i.length-1))),!0)}const Ake=t=>qH(t,!1),Eke=t=>qH(t,!0),Tke=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=me.create([n.main]):n.main.empty||(r=me.create([me.cursor(n.main.head)])),r?(e(xu(t,r)),!0):!1};function KO(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=Vw(t,l,!1)):l>o&&(n="delete.forward",l=Vw(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Vw(t,o,!1),a=Vw(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:me.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Xe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Vw(t,e,n){if(t instanceof Xe)for(let r of t.state.facet(Xe.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const VH=(t,e,n)=>KO(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let u=fu(a,s.tabSize),c=u%XS(s)||XS(s);for(let f=0;f<c&&a[a.length-1-f]==" ";f++)i--;l=i}else l=bs(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=bs(o.text,l-o.from,!1,!1)+o.from);return l}),j8=t=>VH(t,!1,!0),XH=t=>VH(t,!0,!1),ZH=(t,e)=>KO(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=bs(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||r!=n.head)&&(a=c),r=l}return r}),WH=t=>ZH(t,!1),Dke=t=>ZH(t,!0),Pke=t=>KO(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Rke=t=>KO(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),$ke=t=>KO(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Ike=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:In.of(["",""])},range:me.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Fke=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:bs(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:bs(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:me.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function u4(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function YH(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of u4(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(me.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(me.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:me.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Mke=({state:t,dispatch:e})=>YH(t,e,!1),Lke=({state:t,dispatch:e})=>YH(t,e,!0);function GH(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of u4(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Nke=({state:t,dispatch:e})=>GH(t,e,!1),Qke=({state:t,dispatch:e})=>GH(t,e,!0),Bke=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(u4(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=G1(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function zke(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Hn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Ft.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const UN=HH(!1),Uke=HH(!0);function HH(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&zke(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new r4(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=I7(u,s);for(c==null&&(c=fu(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",Uv(e,c)];return l&&f.push(Uv(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:In.of(f)},range:me.cursor(s+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Z7(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:me.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const jke=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new r4(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=Z7(t,(s,o,a)=>{let l=I7(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=Uv(t,l);(u!=c||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},KH=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Z7(t,(n,r)=>{r.push({from:n.from,insert:t.facet(YO)})}),{userEvent:"input.indent"})),!0),JH=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Z7(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=fu(i,t.tabSize),o=0,a=Uv(t,Math.max(0,s-XS(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),qke=t=>(t.setTabFocusMode(),!0),Vke=({state:t,dispatch:e})=>t.selection.ranges.some(n=>!n.empty)?KH({state:t,dispatch:e}):(e(t.update(t.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),Xke=[{key:"Ctrl-b",run:EH,shift:LH,preventDefault:!0},{key:"Ctrl-f",run:TH,shift:NH},{key:"Ctrl-p",run:RH,shift:zH},{key:"Ctrl-n",run:$H,shift:UH},{key:"Ctrl-a",run:cke,shift:xke},{key:"Ctrl-e",run:fke,shift:_ke},{key:"Ctrl-d",run:XH},{key:"Ctrl-h",run:j8},{key:"Ctrl-k",run:Pke},{key:"Ctrl-Alt-h",run:WH},{key:"Ctrl-o",run:Ike},{key:"Ctrl-t",run:Fke},{key:"Ctrl-v",run:U8}],Zke=[{key:"ArrowLeft",run:EH,shift:LH,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:tke,shift:pke,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:lke,shift:Oke,preventDefault:!0},{key:"ArrowRight",run:TH,shift:NH,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:nke,shift:mke,preventDefault:!0},{mac:"Cmd-ArrowRight",run:uke,shift:wke,preventDefault:!0},{key:"ArrowUp",run:RH,shift:zH,preventDefault:!0},{mac:"Cmd-ArrowUp",run:NN,shift:BN},{mac:"Ctrl-ArrowUp",run:FN,shift:MN},{key:"ArrowDown",run:$H,shift:UH,preventDefault:!0},{mac:"Cmd-ArrowDown",run:QN,shift:zN},{mac:"Ctrl-ArrowDown",run:U8,shift:LN},{key:"PageUp",run:FN,shift:MN},{key:"PageDown",run:U8,shift:LN},{key:"Home",run:ake,shift:vke,preventDefault:!0},{key:"Mod-Home",run:NN,shift:BN},{key:"End",run:oke,shift:bke,preventDefault:!0},{key:"Mod-End",run:QN,shift:zN},{key:"Enter",run:UN,shift:UN},{key:"Mod-a",run:Ske},{key:"Backspace",run:j8,shift:j8,preventDefault:!0},{key:"Delete",run:XH,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:WH,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Dke,preventDefault:!0},{mac:"Mod-Backspace",run:Rke,preventDefault:!0},{mac:"Mod-Delete",run:$ke,preventDefault:!0}].concat(Xke.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Wke=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:ike,shift:gke},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:ske,shift:yke},{key:"Alt-ArrowUp",run:Mke},{key:"Shift-Alt-ArrowUp",run:Nke},{key:"Alt-ArrowDown",run:Lke},{key:"Shift-Alt-ArrowDown",run:Qke},{key:"Mod-Alt-ArrowUp",run:Ake},{key:"Mod-Alt-ArrowDown",run:Eke},{key:"Escape",run:Tke},{key:"Mod-Enter",run:Uke},{key:"Alt-l",mac:"Ctrl-l",run:kke},{key:"Mod-i",run:Cke,preventDefault:!0},{key:"Mod-[",run:JH},{key:"Mod-]",run:KH},{key:"Mod-Alt-\\",run:jke},{key:"Shift-Mod-k",run:Bke},{key:"Shift-Mod-\\",run:dke},{key:"Mod-/",run:M3e},{key:"Alt-A",run:N3e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:qke}].concat(Zke);class jN{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class kp{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(uc).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((d,m)=>d.from-m.from||d.to-m.to),o=new Id,a=[],l=0,u=r.doc.iter(),c=0,f=r.doc.length;for(let d=0;;){let m=d==s.length?null:s[d];if(!m&&!a.length)break;let g,b;if(a.length)g=l,b=a.reduce((_,S)=>Math.min(_,S.to),m&&m.from>g?m.from:1e8);else{if(g=m.from,g>f)break;b=m.to,a.push(m),d++}for(;d<s.length;){let _=s[d];if(_.from==g&&(_.to>_.from||_.to==g))a.push(_),d++,b=Math.min(_.to,b);else{b=Math.min(_.from,b);break}}b=Math.min(b,f);let v=!1;if(a.some(_=>_.from==g&&(_.to==b||b==f))&&(v=g==b,!v&&b-g<10)){let _=g-(c+u.value.length);_>0&&(u.next(_),c=g);for(let S=g;;){if(S>=b){v=!0;break}if(!u.lineBreak&&c+u.value.length>S)break;S=c+u.value.length,c+=u.value.length,u.next()}}let O=u4e(a);if(v)o.add(g,g,Tt.widget({widget:new s4e(O),diagnostics:a.slice()}));else{let _=a.reduce((S,k)=>k.markClass?S+" "+k.markClass:S,"");o.add(g,b,Tt.mark({class:"cm-lintRange cm-lintRange-"+O+_,diagnostics:a.slice(),inclusiveEnd:a.some(S=>S.to>b)}))}if(l=b,l==f)break;for(let _=0;_<a.length;_++)a[_].to<=l&&a.splice(_--,1)}let h=o.finish();return new kp(h,n,c1(h))}}function c1(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new jN(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new jN(r.from,s,r.diagnostic)}}),r}function Yke(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(uc).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(W7))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function eK(t,e){return t.field(Ma,!1)?e:e.concat(Vt.appendConfig.of(iK))}function Gke(t,e){return{effects:eK(t,[W7.of(e)])}}const W7=Vt.define(),Y7=Vt.define(),tK=Vt.define(),Ma=Mi.define({create(){return new kp(Tt.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=c1(n,t.selected.diagnostic,s)||c1(n,null,s)}!n.size&&i&&e.state.facet(uc).autoPanel&&(i=null),t=new kp(n,i,r)}for(let n of e.effects)if(n.is(W7)){let r=e.state.facet(uc).autoPanel?n.value.length?Xv.open:null:t.panel;t=kp.init(n.value,r,e.state)}else n.is(Y7)?t=new kp(t.diagnostics,n.value?Xv.open:null,t.selected):n.is(tK)&&(t=new kp(t.diagnostics,t.panel,n.value));return t},provide:t=>[Lv.from(t,e=>e.panel),Xe.decorations.from(t,e=>e.diagnostics)]}),Hke=Tt.mark({class:"cm-lintRange cm-lintRange-active"});function Kke(t,e,n){let{diagnostics:r}=t.state.field(Ma),i,s=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{if(e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0)))return i=c.diagnostics,s=l,o=u,!1});let a=t.state.facet(uc).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:Jke(t,i)}}}:null}function Jke(t,e){return pr("ul",{class:"cm-tooltip-lint"},e.map(n=>rK(t,n,!1)))}const e4e=t=>{let e=t.state.field(Ma,!1);(!e||!e.panel)&&t.dispatch({effects:eK(t.state,[Y7.of(!0)])});let n=Mv(t,Xv.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},qN=t=>{let e=t.state.field(Ma,!1);return!e||!e.panel?!1:(t.dispatch({effects:Y7.of(!1)}),!0)},t4e=t=>{let e=t.state.field(Ma,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},n4e=[{key:"Mod-Shift-m",run:e4e,preventDefault:!0},{key:"F8",run:t4e}],r4e=Fi.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(uc);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(uc);n.length&&i4e(n.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(Gke(this.view.state,r.reduce((i,s)=>i.concat(s))))},r=>{ho(this.view.state,r)})}}update(t){let e=t.state.facet(uc);(t.docChanged||e!=t.startState.facet(uc)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function i4e(t,e,n){let r=[],i=-1;for(let s of t)s.then(o=>{r.push(o),clearTimeout(i),r.length==t.length?e(r):i=setTimeout(()=>e(r),200)},n)}const uc=Ge.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...mh(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:VN,tooltipFilter:VN,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,s)=>e(r,i,s)||n(r,i,s):e:n,autoPanel:(e,n)=>e||n})}}});function VN(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function GS(t,e={}){return[uc.of({source:t,config:e}),r4e,iK]}function nK(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function rK(t,e,n){var r;let i=n?nK(e.actions):[];return pr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},pr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let m=c1(t.state.field(Ma).diagnostics,e);m&&s.apply(t,m.from,m.to)},{name:u}=s,c=i[o]?u.indexOf(i[o]):-1,f=c<0?u:[u.slice(0,c),pr("u",u.slice(c,c+1)),u.slice(c+1)],h=s.markClass?" "+s.markClass:"";return pr("button",{type:"button",class:"cm-diagnosticAction"+h,onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[o]})"`}.`},f)}),e.source&&pr("div",{class:"cm-diagnosticSource"},e.source))}class s4e extends U0{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return pr("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class XN{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=rK(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Xv{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)qN(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=nK(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=c1(this.view.state.field(Ma).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=pr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=pr("div",{class:"cm-panel-lint"},this.list,pr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>qN(this.view)},"Ã")),this.update()}get selectedIndex(){let e=this.view.state.field(Ma).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Ma),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:u})=>{for(let c of u.diagnostics){if(o.has(c))continue;o.add(c);let f=-1,h;for(let d=r;d<this.items.length;d++)if(this.items[d].diagnostic==c){f=d;break}f<0?(h=new XN(this.view,c),this.items.splice(r,0,h),i=!0):(h=this.items[f],f>r&&(this.items.splice(r,f-r),i=!0)),n&&h.diagnostic==n.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),s=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new XN(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let u=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/u:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Ma),r=c1(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:tK.of(r)})}static open(e){return new Xv(e)}}function o4e(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Xw(t){return o4e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const a4e=Xe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Xw("#d11")},".cm-lintRange-warning":{backgroundImage:Xw("orange")},".cm-lintRange-info":{backgroundImage:Xw("#999")},".cm-lintRange-hint":{backgroundImage:Xw("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function l4e(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function u4e(t){let e="hint",n=1;for(let r of t){let i=l4e(r.severity);i>n&&(n=i,e=r.severity)}return e}const iK=[Ma,Xe.decorations.compute([Ma],t=>{let{selected:e,panel:n}=t.field(Ma);return!e||!n||e.from==e.to?Tt.none:Tt.set([Hke.range(e.from,e.to)])}),A7(Kke,{hideOn:Yke}),a4e],ZN=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class f1{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(ZN(a)):ZN,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return zo(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=h7(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Ju(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(f1.prototype[Symbol.iterator]=function(){return this});const sK={from:-1,to:-1,match:/.*/.exec("")},G7="gm"+(/x/.unicode==null?"":"u");class oK{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=sK,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new aK(e,n,r,i,s);this.re=new RegExp(n,G7+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=HS(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=HS(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const OA=new WeakMap;class wg{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=OA.get(e);if(!i||i.from>=r||i.to<=n){let a=new wg(n,e.sliceString(n,r));return OA.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),OA.set(e,new wg(o,s)),new wg(n,s.slice(n-o,r-o))}}class aK{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=sK,this.matchPos=HS(e,i),this.re=new RegExp(n,G7+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=wg.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=HS(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=wg.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(oK.prototype[Symbol.iterator]=aK.prototype[Symbol.iterator]=function(){return this});function c4e(t){try{return new RegExp(t,G7),!0}catch{return!1}}function HS(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function q8(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=pr("input",{class:"cm-textfield",name:"line",value:e}),r=pr("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:ev.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},pr("label",t.state.phrase("Go to line"),": ",n)," ",pr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),pr("button",{name:"close",onclick:()=>{t.dispatch({effects:ev.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},["Ã"]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,u,c,f]=s,h=c?+c.slice(1):0,d=u?+u:a.number;if(u&&f){let b=d/100;l&&(b=b*(l=="-"?-1:1)+a.number/o.doc.lines),d=Math.round(o.doc.lines*b)}else u&&l&&(d=d*(l=="-"?-1:1)+a.number);let m=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),g=me.cursor(m.from+Math.max(0,Math.min(h,m.length)));t.dispatch({effects:[ev.of(!1),Xe.scrollIntoView(g.from,{y:"center"})],selection:g}),t.focus()}return{dom:r}}const ev=Vt.define(),WN=Mi.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(ev)&&(t=n.value);return t},provide:t=>Lv.from(t,e=>e?q8:null)}),f4e=t=>{let e=Mv(t,q8);if(!e){let n=[ev.of(!0)];t.state.field(WN,!1)==null&&n.push(Vt.appendConfig.of([WN,h4e])),t.dispatch({effects:n}),e=Mv(t,q8)}return e&&e.dom.querySelector("input").select(),!0},h4e=Xe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),d4e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},p4e=Ge.define({combine(t){return mh(t,d4e,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function m4e(t){return[O4e,v4e]}const g4e=Tt.mark({class:"cm-selectionMatch"}),y4e=Tt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function YN(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Xr.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Xr.Word)}function b4e(t,e,n,r){return t(e.sliceDoc(n,n+1))==Xr.Word&&t(e.sliceDoc(r-1,r))==Xr.Word}const v4e=Fi.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(p4e),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Tt.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Tt.none;let l=n.wordAt(i.head);if(!l)return Tt.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Tt.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(YN(o,n,i.from,i.to)&&b4e(o,n,i.from,i.to)))return Tt.none}else if(s=n.sliceDoc(i.from,i.to),!s)return Tt.none}let a=[];for(let l of t.visibleRanges){let u=new f1(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:f}=u.value;if((!o||YN(o,n,c,f))&&(i.empty&&c<=i.from&&f>=i.to?a.push(y4e.range(c,f)):(c>=i.to||f<=i.from)&&a.push(g4e.range(c,f)),a.length>e.maxMatches))return Tt.none}}return Tt.set(a)}},{decorations:t=>t.decorations}),O4e=Xe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),w4e=({state:t,dispatch:e})=>{let{selection:n}=t,r=me.create(n.ranges.map(i=>t.wordAt(i.head)||me.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function x4e(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new f1(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new f1(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const _4e=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return w4e({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=x4e(t,r);return i?(e(t.update({selection:t.selection.addRange(me.range(i.from,i.to),!1),effects:Xe.scrollIntoView(i.to)})),!0):!1},H1=Ge.define({combine(t){return mh(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new F4e(e),scrollToMatch:e=>Xe.scrollIntoView(e)})}});class lK{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||c4e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new A4e(this):new k4e(this)}getCursor(e,n=0,r){let i=e.doc?e:Tn.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?jm(this,i,n,r):Um(this,i,n,r)}}class uK{constructor(e){this.spec=e}}function Um(t,e,n,r){return new f1(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?S4e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function S4e(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(KS(i,n-s))!=Xr.Word||e(JS(i,n-s))!=Xr.Word)&&(e(JS(i,r-s))!=Xr.Word||e(KS(i,r-s))!=Xr.Word))}class k4e extends uK{constructor(e){super(e)}nextMatch(e,n,r){let i=Um(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Um(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=Um(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Um(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Um(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function jm(t,e,n,r){return new oK(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?C4e(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function KS(t,e){return t.slice(bs(t,e,!1),e)}function JS(t,e){return t.slice(e,bs(t,e))}function C4e(t){return(e,n,r)=>!r[0].length||(t(KS(r.input,r.index))!=Xr.Word||t(JS(r.input,r.index))!=Xr.Word)&&(t(JS(r.input,r.index+r[0].length))!=Xr.Word||t(KS(r.input,r.index+r[0].length))!=Xr.Word)}class A4e extends uK{nextMatch(e,n,r){let i=jm(this.spec,e,r,e.doc.length).next();return i.done&&(i=jm(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=jm(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return n})}matchAll(e,n){let r=jm(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=jm(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Zv=Vt.define(),H7=Vt.define(),hd=Mi.define({create(t){return new wA(V8(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Zv)?t=new wA(n.value.create(),t.panel):n.is(H7)&&(t=new wA(t.query,n.value?K7:null));return t},provide:t=>Lv.from(t,e=>e.panel)});class wA{constructor(e,n){this.query=e,this.panel=n}}const E4e=Tt.mark({class:"cm-searchMatch"}),T4e=Tt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),D4e=Fi.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(hd))}update(t){let e=t.state.field(hd);(e!=t.startState.field(hd)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Tt.none;let{view:n}=this,r=new Id;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-500;)l=s[++i].to;t.highlight(n.state,a,l,(u,c)=>{let f=n.state.selection.ranges.some(h=>h.from==u&&h.to==c);r.add(u,c,f?T4e:E4e)})}return r.finish()}},{decorations:t=>t.decorations});function JO(t){return e=>{let n=e.state.field(hd,!1);return n&&n.query.spec.valid?t(e,n):hK(e)}}const e3=JO((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=me.single(r.from,r.to),s=t.state.facet(H1);return t.dispatch({selection:i,effects:[J7(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),fK(t),!0}),t3=JO((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=me.single(i.from,i.to),o=t.state.facet(H1);return t.dispatch({selection:s,effects:[J7(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),fK(t),!0}),P4e=JO((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:me.create(n.map(r=>me.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),R4e=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new f1(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(me.range(a.value.from,a.value.to))}return e(t.update({selection:me.create(s,o),userEvent:"select.search.matches"})),!0},GN=JO((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=s,a=[],l,u,c=[];o.from==r&&o.to==i&&(u=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(n,o.from,o.to),c.push(Xe.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let f=t.state.changes(a);return o&&(l=me.single(o.from,o.to).map(f),c.push(J7(t,o)),c.push(n.facet(H1).scrollToMatch(l.main,t))),t.dispatch({changes:f,selection:l,effects:c,userEvent:"input.replace"}),!0}),$4e=JO((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Xe.announce.of(r),userEvent:"input.replace.all"}),!0});function K7(t){return t.state.facet(H1).createPanel(t)}function V8(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=t.facet(H1);return new lK({search:((n=e?.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function cK(t){let e=Mv(t,K7);return e&&e.dom.querySelector("[main-field]")}function fK(t){let e=cK(t);e&&e==t.root.activeElement&&e.select()}const hK=t=>{let e=t.state.field(hd,!1);if(e&&e.panel){let n=cK(t);if(n&&n!=t.root.activeElement){let r=V8(t.state,e.query.spec);r.valid&&t.dispatch({effects:Zv.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[H7.of(!0),e?Zv.of(V8(t.state,e.query.spec)):Vt.appendConfig.of(L4e)]});return!0},dK=t=>{let e=t.state.field(hd,!1);if(!e||!e.panel)return!1;let n=Mv(t,K7);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:H7.of(!1)}),!0},I4e=[{key:"Mod-f",run:hK,scope:"editor search-panel"},{key:"F3",run:e3,shift:t3,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:e3,shift:t3,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:dK,scope:"editor search-panel"},{key:"Mod-Shift-l",run:R4e},{key:"Mod-Alt-g",run:f4e},{key:"Mod-d",run:_4e,preventDefault:!0}];class F4e{constructor(e){this.view=e;let n=this.query=e.state.field(hd).query.spec;this.commit=this.commit.bind(this),this.searchField=pr("input",{value:n.search,placeholder:va(e,"Find"),"aria-label":va(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=pr("input",{value:n.replace,placeholder:va(e,"Replace"),"aria-label":va(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=pr("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=pr("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=pr("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return pr("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=pr("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>e3(e),[va(e,"next")]),r("prev",()=>t3(e),[va(e,"previous")]),r("select",()=>P4e(e),[va(e,"all")]),pr("label",null,[this.caseField,va(e,"match case")]),pr("label",null,[this.reField,va(e,"regexp")]),pr("label",null,[this.wordField,va(e,"by word")]),...e.state.readOnly?[]:[pr("br"),this.replaceField,r("replace",()=>GN(e),[va(e,"replace")]),r("replaceAll",()=>$4e(e),[va(e,"replace all")])],pr("button",{name:"close",onclick:()=>dK(e),"aria-label":va(e,"close"),type:"button"},["Ã"])])}commit(){let e=new lK({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Zv.of(e)}))}keydown(e){Vxe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?t3:e3)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),GN(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Zv)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(H1).top}}function va(t,e){return t.state.phrase(e)}const Zw=30,Ww=/[\s\.,:;?!]/;function J7(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Zw),o=Math.min(i,n+Zw),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Zw;l++)if(!Ww.test(a[l+1])&&Ww.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Zw;l--)if(!Ww.test(a[l-1])&&Ww.test(a[l])){a=a.slice(0,l);break}}return Xe.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const M4e=Xe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),L4e=[hd,dh.low(D4e),M4e];class n3{static create(e,n,r,i,s){let o=i+(i<<8)+e+(n<<4)|0;return new n3(e,n,r,o,s,[],[])}constructor(e,n,r,i,s,o,a){this.type=e,this.value=n,this.from=r,this.hash=i,this.end=s,this.children=o,this.positions=a,this.hashProp=[[Ft.contextHash,i]]}addChild(e,n){e.prop(Ft.contextHash)!=this.hash&&(e=new Gn(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new Gn(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,s,o)=>new Gn(Hi.none,i,s,o,this.hashProp)})}}var Fe;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(Fe||(Fe={}));class N4e{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class Q4e{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return tv(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let i=n;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function HN(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==Fe.OrderedList?n9:t9)(n,e,!1);return r>0&&(t.type!=Fe.BulletList||e9(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const pK={[Fe.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(En(Fe.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(Ml(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[Fe.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[Fe.OrderedList]:HN,[Fe.BulletList]:HN,[Fe.Document](){return!0}};function Ml(t){return t==32||t==9||t==10||t==13}function tv(t,e=0){for(;e<t.length&&Ml(t.charCodeAt(e));)e++;return e}function KN(t,e,n){for(;e>n&&Ml(t.charCodeAt(e-1));)e--;return e}function mK(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function gK(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function e9(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let i=t.pos+1;i<t.text.length;i++){let s=t.text.charCodeAt(i);if(s==t.next)r++;else if(!Ml(s))return-1}return n&&t.next==45&&vK(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(_K.SetextHeading)>-1||r<3?-1:1}function yK(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function t9(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||Ml(t.text.charCodeAt(t.pos+1)))&&(!n||yK(e,Fe.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function n9(t,e,n){let r=t.pos,i=t.next;for(;i>=48&&i<=57;){r++;if(r==t.text.length)return-1;i=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||i!=46&&i!=41||r<t.text.length-1&&!Ml(t.text.charCodeAt(r+1))||n&&!yK(e,Fe.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function bK(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function vK(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&Ml(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const X8=/^[ \t]*$/,OK=/-->/,wK=/\?>/,Z8=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,OK],[/^\s*<\?/,wK],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,X8],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,X8]];function xK(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let i=0,s=Z8.length-(n?1:0);i<s;i++)if(Z8[i][0].test(r))return i;return-1}function JN(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function pp(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==Fe.CodeText?t[r].to=n:t.push(En(Fe.CodeText,e,n))}const Yw={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),i=t.lineStart+r,s=t.lineStart+e.text.length,o=[],a=[];for(pp(o,i,s);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){pp(a,t.lineStart-1,t.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<n)break;{if(a.length){for(let u of a)u.type==Fe.CodeText?pp(o,u.from,u.to):o.push(u);a=[]}pp(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u);s=t.lineStart+e.text.length;let l=t.lineStart+e.findColumn(e.baseIndent+4);l<s&&pp(o,l,s)}}return a.length&&(a=a.filter(l=>l.type!=Fe.CodeText),a.length&&(e.markers=a.concat(e.markers))),t.addNode(t.buffer.writeElements(o,-i).finish(Fe.CodeBlock,s-i),i),!0},FencedCode(t,e){let n=mK(e);if(n<0)return!1;let r=t.lineStart+e.pos,i=e.next,s=n-e.pos,o=e.skipSpace(n),a=KN(e.text,e.text.length,o),l=[En(Fe.CodeMark,r,r+s)];o<a&&l.push(En(Fe.CodeInfo,t.lineStart+o,t.lineStart+a));for(let u=!0;t.nextLine()&&e.depth>=t.stack.length;u=!1){let c=e.pos;if(e.indent-e.baseIndent<4)for(;c<e.text.length&&e.text.charCodeAt(c)==i;)c++;if(c-e.pos>=s&&e.skipSpace(c)==e.text.length){for(let f of e.markers)l.push(f);l.push(En(Fe.CodeMark,t.lineStart+e.pos,t.lineStart+c)),t.nextLine();break}else{u||pp(l,t.lineStart-1,t.lineStart);for(let d of e.markers)l.push(d);let f=t.lineStart+e.basePos,h=t.lineStart+e.text.length;f<h&&pp(l,f,h)}}return t.addNode(t.buffer.writeElements(l,-r).finish(Fe.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=gK(e);return n<0?!1:(t.startContext(Fe.Blockquote,e.pos),t.addNode(Fe.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(e9(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(Fe.HorizontalRule,n),!0},BulletList(t,e){let n=t9(e,t,!1);if(n<0)return!1;t.block.type!=Fe.BulletList&&t.startContext(Fe.BulletList,e.basePos,e.next);let r=JN(e,e.pos+1);return t.startContext(Fe.ListItem,e.basePos,r-e.baseIndent),t.addNode(Fe.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=n9(e,t,!1);if(n<0)return!1;t.block.type!=Fe.OrderedList&&t.startContext(Fe.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=JN(e,e.pos+n);return t.startContext(Fe.ListItem,e.basePos,r-e.baseIndent),t.addNode(Fe.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=bK(e);if(n<0)return!1;let r=e.pos,i=t.lineStart+r,s=KN(e.text,e.text.length,r),o=s;for(;o>r&&e.text.charCodeAt(o-1)==e.next;)o--;(o==s||o==r||!Ml(e.text.charCodeAt(o-1)))&&(o=e.text.length);let a=t.buffer.write(Fe.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,o),i+n+1),-i);o<e.text.length&&a.write(Fe.HeaderMark,o-r,s-r);let l=a.finish(Fe.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(l,i),!0},HTMLBlock(t,e){let n=xK(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,i=Z8[n][1],s=[],o=i!=X8;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){o=!1;break}for(let u of e.markers)s.push(u)}o&&t.nextLine();let a=i==OK?Fe.CommentBlock:i==wK?Fe.ProcessingInstructionBlock:Fe.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(s,-r).finish(a,l-r),r),!0},SetextHeading:void 0};class B4e{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),s=this.advance(i);return s>-1&&s<i.length?this.complete(e,r,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&tv(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,En(Fe.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(RK(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(En(Fe.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(DK(e,tv(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=tv(e,this.pos),r=0;if(n>this.pos){let i=PK(e,n,this.start);if(i){let s=xA(e,i.to-this.start);s>0&&(this.nextStage(i),r=s)}}return r||(r=xA(e,this.pos)),r>0&&r<e.length?r:-1}else return xA(e,this.pos)}}}function xA(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!Ml(n))return-1}return e}class z4e{nextLine(e,n,r){let i=n.depth<e.stack.length?-1:vK(n),s=n.next;if(i<0)return!1;let o=En(Fe.HeaderMark,e.lineStart+n.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,En(s==61?Fe.SetextHeading1:Fe.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),o])),!0}finish(){return!1}}const _K={LinkReference(t,e){return e.content.charCodeAt(0)==91?new B4e(e):null},SetextHeading(){return new z4e}},U4e=[(t,e)=>bK(e)>=0,(t,e)=>mK(e)>=0,(t,e)=>gK(e)>=0,(t,e)=>t9(e,t,!0)>=0,(t,e)=>n9(e,t,!0)>=0,(t,e)=>e9(e,t,!0)>=0,(t,e)=>xK(e,t,!0)>=0],j4e={text:"",end:0};class q4e{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.line=new Q4e,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=n3.create(Fe.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new Z4e(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let s=e.markers[r++];this.addNode(s.type,s.from,s.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let n=new N4e(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=$K(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=j4e;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let s=this.ranges[i].from,o=this.lineChunkAt(s);n.end=s+o.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+o,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],s=this.parser.skipContextMarkup[i.type];if(!s)throw new Error("Unhandled block context "+Fe[i.type]);let o=this.line.markers.length;if(!s(i,this,e)){this.line.markers.length>o&&(i.end=this.line.markers[this.line.markers.length-1].to);break}e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=n3.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new Gn(this.parser.nodeSet.types[e],h1,h1,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(Y8(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?SK(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=Y8(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Fe.Paragraph,e.content.length),e.start)}elt(e,n,r,i){return typeof e=="string"?En(this.parser.getNodeType(e),n,r,i):new AK(e,n)}get buffer(){return new CK(this.parser.nodeSet)}}function SK(t,e,n,r,i){let s=t[e].to,o=[],a=[],l=n.from+r;function u(c,f){for(;f?c>=s:c>s;){let h=t[e+1].from-s;r+=h,c+=h,e++,s=t[e].to}}for(let c=n.firstChild;c;c=c.nextSibling){u(c.from+r,!0);let f=c.from+r,h,d=i.get(c.tree);d?h=d:c.to+r>s?(h=SK(t,e,c,r,i),u(c.to+r,!1)):h=c.toTree(),o.push(h),a.push(f-l)}return u(n.to+r,!1),new Gn(n.type,o,a,n.to+r-l,n.tree?n.tree.propValues:void 0)}class c4 extends P7{constructor(e,n,r,i,s,o,a,l,u){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=s,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=l,this.wrappers=u,this.nodeTypes=Object.create(null);for(let c of e.types)this.nodeTypes[c.name]=c.id}createParse(e,n,r){let i=new q4e(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}configure(e){let n=W8(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,s=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),u=this.inlineNames.slice(),c=this.endLeafBlock.slice(),f=this.wrappers;if(Vy(n.defineNodes)){i=Object.assign({},i);let h=r.types.slice(),d;for(let m of n.defineNodes){let{name:g,block:b,composite:v,style:O}=typeof m=="string"?{name:m}:m;if(h.some(k=>k.name==g))continue;v&&(i[h.length]=(k,A,C)=>v(A,C,k.value));let _=h.length,S=v?["Block","BlockContext"]:b?_>=Fe.ATXHeading1&&_<=Fe.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;h.push(Hi.define({id:_,name:g,props:S&&[[Ft.group,S]]})),O&&(d||(d={}),Array.isArray(O)||O instanceof Pa?d[g]=O:Object.assign(d,O))}r=new WO(h),d&&(r=r.extend(gh(d)))}if(Vy(n.props)&&(r=r.extend(...n.props)),Vy(n.remove))for(let h of n.remove){let d=this.blockNames.indexOf(h),m=this.inlineNames.indexOf(h);d>-1&&(s[d]=o[d]=void 0),m>-1&&(l[m]=void 0)}if(Vy(n.parseBlock))for(let h of n.parseBlock){let d=a.indexOf(h.name);if(d>-1)s[d]=h.parse,o[d]=h.leaf;else{let m=h.before?Gw(a,h.before):h.after?Gw(a,h.after)+1:a.length-1;s.splice(m,0,h.parse),o.splice(m,0,h.leaf),a.splice(m,0,h.name)}h.endLeaf&&c.push(h.endLeaf)}if(Vy(n.parseInline))for(let h of n.parseInline){let d=u.indexOf(h.name);if(d>-1)l[d]=h.parse;else{let m=h.before?Gw(u,h.before):h.after?Gw(u,h.after)+1:u.length-1;l.splice(m,0,h.parse),u.splice(m,0,h.name)}}return n.wrap&&(f=f.concat(n.wrap)),new c4(r,s,o,a,c,i,l,u,f)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new r9(this,e,n);e:for(let i=n;i<r.end;){let s=r.char(i);for(let o of this.inlineParsers)if(o){let a=o(r,s,i);if(a>=0){i=a;continue e}}i++}return r.resolveMarkers(0)}}function Vy(t){return t!=null&&t.length>0}function W8(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=W8(t[0]);if(t.length==1)return e;let n=W8(t.slice(1));if(!n||!e)return e||n;let r=(o,a)=>(o||h1).concat(a||h1),i=e.wrap,s=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:i?s?(o,a,l,u)=>i(s(o,a,l,u),a,l,u):i:s}}function Gw(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let kK=[Hi.none];for(let t=1,e;e=Fe[t];t++)kK[t]=Hi.define({id:t,name:e,props:t>=Fe.Escape?[]:[[Ft.group,t in pK?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const h1=[];let CK=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,i=0){return this.content.push(e,n,r,4+i*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return Gn.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}},Wv=class{constructor(e,n,r,i=h1){this.type=e,this.from=n,this.to=r,this.children=i}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new CK(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class AK{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return h1}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function En(t,e,n,r){return new Wv(t,e,n,r)}const EK={resolve:"Emphasis",mark:"EmphasisMark"},TK={resolve:"Emphasis",mark:"EmphasisMark"},Cp={},r3={};class Ea{constructor(e,n,r,i){this.type=e,this.from=n,this.to=r,this.side=i}}const eQ="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Yv=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Yv=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const _A={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let i=0;i<eQ.length;i++)if(eQ.charCodeAt(i)==r)return t.append(En(Fe.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(En(Fe.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let i=r-n,s=0;for(;r<t.end;r++)if(t.char(r)==96){if(s++,s==i&&t.char(r+1)!=96)return t.append(En(Fe.InlineCode,n,r+1,[En(Fe.CodeMark,n,n+i),En(Fe.CodeMark,r+1-i,r+1)]))}else s=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return t.append(En(Fe.Autolink,n,n+1+i[0].length,[En(Fe.LinkMark,n,n+1),En(Fe.URL,n+1,n+i[0].length),En(Fe.LinkMark,n+i[0].length,n+1+i[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(s)return t.append(En(Fe.Comment,n,n+1+s[0].length));let o=/^\?[^]*?\?>/.exec(r);if(o)return t.append(En(Fe.ProcessingInstruction,n,n+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return a?t.append(En(Fe.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let i=t.slice(n-1,n),s=t.slice(r,r+1),o=Yv.test(i),a=Yv.test(s),l=/\s|^$/.test(i),u=/\s|^$/.test(s),c=!u&&(!a||l||o),f=!l&&(!o||u||a),h=c&&(e==42||!f||o),d=f&&(e==42||!c||a);return t.append(new Ea(e==95?EK:TK,n,r,(h?1:0)|(d?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(En(Fe.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(En(Fe.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new Ea(Cp,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new Ea(r3,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let i=t.parts[r];if(i instanceof Ea&&(i.type==Cp||i.type==r3)){if(!i.side||t.skipSpace(i.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let s=t.takeContent(r),o=t.parts[r]=V4e(t,s,i.type==Cp?Fe.Link:Fe.Image,i.from,n+1);if(i.type==Cp)for(let a=0;a<r;a++){let l=t.parts[a];l instanceof Ea&&l.type==Cp&&(l.side=0)}return o.to}}return-1}};function V4e(t,e,n,r,i){let{text:s}=t,o=t.char(i),a=i;if(e.unshift(En(Fe.LinkMark,r,r+(n==Fe.Image?2:1))),e.push(En(Fe.LinkMark,i-1,i)),o==40){let l=t.skipSpace(i+1),u=DK(s,l-t.offset,t.offset),c;u&&(l=t.skipSpace(u.to),l!=u.to&&(c=PK(s,l-t.offset,t.offset),c&&(l=t.skipSpace(c.to)))),t.char(l)==41&&(e.push(En(Fe.LinkMark,i,i+1)),a=l+1,u&&e.push(u),c&&e.push(c),e.push(En(Fe.LinkMark,l,a)))}else if(o==91){let l=RK(s,i-t.offset,t.offset,!1);l&&(e.push(l),a=l.to)}return En(n,r,a,e)}function DK(t,e,n){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let s=t.charCodeAt(i);if(s==62)return En(Fe.URL,e+n,i+1+n);if(s==60||s==10)return!1}return null}else{let i=0,s=e;for(let o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(Ml(a))break;if(o)o=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(o=!0)}return s>e?En(Fe.URL,e+n,s+n):s==t.length?null:!1}}function PK(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let s=e+1,o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(o)o=!1;else{if(a==i)return En(Fe.LinkTitle,e+n,s+1+n);a==92&&(o=!0)}}return null}function RK(t,e,n,r){for(let i=!1,s=e+1,o=Math.min(t.length,s+999);s<o;s++){let a=t.charCodeAt(s);if(i)i=!1;else{if(a==93)return r?!1:En(Fe.LinkLabel,e+n,s+1+n);if(r&&!Ml(a)&&(r=!1),a==91)return!1;a==92&&(i=!0)}}return null}class r9{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,i,s){return this.append(new Ea(e,n,r,(i?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof Ea&&(n.type==Cp||n.type==r3))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof Ea&&i.type.resolve&&i.side&2))continue;let s=i.type==EK||i.type==TK,o=i.to-i.from,a,l=r-1;for(;l>=e;l--){let g=this.parts[l];if(g instanceof Ea&&g.side&1&&g.type==i.type&&!(s&&(i.side&1||g.side&2)&&(g.to-g.from+o)%3==0&&((g.to-g.from)%3||o%3))){a=g;break}}if(!a)continue;let u=i.type.resolve,c=[],f=a.from,h=i.to;if(s){let g=Math.min(2,a.to-a.from,o);f=a.to-g,h=i.from+g,u=g==1?"Emphasis":"StrongEmphasis"}a.type.mark&&c.push(this.elt(a.type.mark,f,a.to));for(let g=l+1;g<r;g++)this.parts[g]instanceof Wv&&c.push(this.parts[g]),this.parts[g]=null;i.type.mark&&c.push(this.elt(i.type.mark,i.from,h));let d=this.elt(u,f,h,c);this.parts[l]=s&&a.from!=f?new Ea(a.type,a.from,f,a.side):null,(this.parts[r]=s&&i.to!=h?new Ea(i.type,h,i.to,i.side):null)?this.parts.splice(r,0,d):this.parts[r]=d}let n=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof Wv&&n.push(i)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof Ea&&r.type==e&&r.side&1)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}getDelimiterAt(e){let n=this.parts[e];return n instanceof Ea?n:null}skipSpace(e){return tv(this.text,e-this.offset)+this.offset}elt(e,n,r,i){return typeof e=="string"?En(this.parser.getNodeType(e),n,r,i):new AK(e,n)}}r9.linkStart=Cp;r9.imageStart=r3;function Y8(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let i of e){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let s=n[r];s instanceof Wv&&(n[r]=new Wv(s.type,s.from,s.to,Y8(s.children,[i])))}else n.splice(r++,0,i)}return n}const X4e=[Fe.CodeBlock,Fe.ListItem,Fe.OrderedList,Fe.BulletList];let Z4e=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(Ft.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,o=s,a=e.block.children.length,l=o,u=a;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let c=$K(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,c);else{let f=new Gn(e.parser.nodeSet.types[Fe.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(f,n.tree),e.addNode(f,c)}if(n.type.is("Block")&&(X4e.indexOf(n.type.id)<0?(o=n.to-r,a=e.block.children.length):(o=l,a=u,l=n.to-r,u=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-s}};function $K(t,e){let n=t;for(let r=1;r<e.length;r++){let i=e[r-1].to,s=e[r].from;i<t&&(n-=s-i)}return n}const W4e=gh({"Blockquote/...":Q.quote,HorizontalRule:Q.contentSeparator,"ATXHeading1/... SetextHeading1/...":Q.heading1,"ATXHeading2/... SetextHeading2/...":Q.heading2,"ATXHeading3/...":Q.heading3,"ATXHeading4/...":Q.heading4,"ATXHeading5/...":Q.heading5,"ATXHeading6/...":Q.heading6,"Comment CommentBlock":Q.comment,Escape:Q.escape,Entity:Q.character,"Emphasis/...":Q.emphasis,"StrongEmphasis/...":Q.strong,"Link/... Image/...":Q.link,"OrderedList/... BulletList/...":Q.list,"BlockQuote/...":Q.quote,"InlineCode CodeText":Q.monospace,"URL Autolink":Q.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Q.processingInstruction,"CodeInfo LinkLabel":Q.labelName,LinkTitle:Q.string,Paragraph:Q.content}),Y4e=new c4(new WO(kK).extend(W4e),Object.keys(Yw).map(t=>Yw[t]),Object.keys(Yw).map(t=>_K[t]),Object.keys(Yw),U4e,pK,Object.keys(_A).map(t=>_A[t]),Object.keys(_A),[]);function G4e(t,e,n){let r=[];for(let i=t.firstChild,s=e;;i=i.nextSibling){let o=i?i.from:n;if(o>s&&r.push({from:s,to:o}),!i)break;s=i.to}return r}function H4e(t){let{codeParser:e,htmlParser:n}=t;return{wrap:KG((i,s)=>{let o=i.type.id;if(e&&(o==Fe.CodeBlock||o==Fe.FencedCode)){let a="";if(o==Fe.FencedCode){let u=i.node.getChild(Fe.CodeInfo);u&&(a=s.read(u.from,u.to))}let l=e(a);if(l)return{parser:l,overlay:u=>u.type.id==Fe.CodeText}}else if(n&&(o==Fe.HTMLBlock||o==Fe.HTMLTag||o==Fe.CommentBlock))return{parser:n,overlay:G4e(i.node,i.from,i.to)};return null})}}const K4e={resolve:"Strikethrough",mark:"StrikethroughMark"},J4e={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Q.strikethrough}},{name:"StrikethroughMark",style:Q.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),i=t.slice(n+2,n+3),s=/\s|^$/.test(r),o=/\s|^$/.test(i),a=Yv.test(r),l=Yv.test(i);return t.addDelimiter(K4e,n,n+2,!o&&(!l||s||a),!s&&(!a||o||l))},after:"Emphasis"}]};function nv(t,e,n=0,r,i=0){let s=0,o=!0,a=-1,l=-1,u=!1,c=()=>{r.push(t.elt("TableCell",i+a,i+l,t.parser.parseInline(e.slice(a,l),i+a)))};for(let f=n;f<e.length;f++){let h=e.charCodeAt(f);h==124&&!u?((!o||a>-1)&&s++,o=!1,r&&(a>-1&&c(),r.push(t.elt("TableDelimiter",f+i,f+i+1))),a=l=-1):(u||h!=32&&h!=9)&&(a<0&&(a=f),l=f+1),u=!u&&h==92}return a>-1&&(s++,r&&c()),s}function tQ(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const IK=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class nQ{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&IK.test(i=n.text.slice(n.pos))){let s=[];nv(e,r.content,0,s,r.start)==nv(e,i,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let i=[];nv(e,n.text,n.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,i))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const eCe={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Q.heading}},"TableRow",{name:"TableCell",style:Q.content},{name:"TableDelimiter",style:Q.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return tQ(e.content,0)?new nQ:null},endLeaf(t,e,n){if(n.parsers.some(i=>i instanceof nQ)||!tQ(e.text,e.basePos))return!1;let r=t.peekLine();return IK.test(r)&&nv(t,e.text,e.basePos)==nv(t,r,e.basePos)},before:"SetextHeading"}]};class tCe{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const nCe={defineNodes:[{name:"Task",block:!0,style:Q.list},{name:"TaskMarker",style:Q.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new tCe:null},after:"SetextHeading"}]},rQ=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,iQ=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,rCe=/[\w-]+\.[\w-]+($|\/)/,sQ=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,oQ=/\/[a-zA-Z\d@.]+/gy;function aQ(t,e,n,r){let i=0;for(let s=e;s<n;s++)t[s]==r&&i++;return i}function iCe(t,e){iQ.lastIndex=e;let n=iQ.exec(t);if(!n||rCe.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let i=t[r-1],s;if(/[?!.,:*_~]/.test(i)||i==")"&&aQ(t,e,r,")")>aQ(t,e,r,"("))r--;else if(i==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,r))))r=e+s.index;else break}return r}function lQ(t,e){sQ.lastIndex=e;let n=sQ.exec(t);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const sCe={parseInline:[{name:"Autolink",parse(t,e,n){let r=n-t.offset;if(r&&/\w/.test(t.text[r-1]))return-1;rQ.lastIndex=r;let i=rQ.exec(t.text),s=-1;if(!i)return-1;if(i[1]||i[2]){if(s=iCe(t.text,r+i[0].length),s>-1&&t.hasOpenLink){let o=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(r,s));s=r+o[0].length}}else i[3]?s=lQ(t.text,r):(s=lQ(t.text,r+i[0].length),s>-1&&i[0]=="xmpp:"&&(oQ.lastIndex=s,i=oQ.exec(t.text),i&&(s=i.index+i[0].length)));return s<0?-1:(t.addElement(t.elt("URL",n,s+t.offset)),s+t.offset)}}]},oCe=[eCe,nCe,J4e,sCe];function FK(t,e,n){return(r,i,s)=>{if(i!=t||r.char(s+1)==t)return-1;let o=[r.elt(n,s,s+1)];for(let a=s+1;a<r.end;a++){let l=r.char(a);if(l==t)return r.addElement(r.elt(e,s,a+1,o.concat(r.elt(n,a,a+1))));if(l==92&&o.push(r.elt("Escape",a,a+++2)),Ml(l))break}return-1}}const aCe={defineNodes:[{name:"Superscript",style:Q.special(Q.content)},{name:"SuperscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Superscript",parse:FK(94,"Superscript","SuperscriptMark")}]},lCe={defineNodes:[{name:"Subscript",style:Q.special(Q.content)},{name:"SubscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Subscript",parse:FK(126,"Subscript","SubscriptMark")}]},uCe={defineNodes:[{name:"Emoji",style:Q.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]};var uQ={};class i3{constructor(e,n,r,i,s,o,a,l,u,c=0,f){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new i3(e,[],n,r,r,0,[],0,i?new cQ(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let f=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-f;if(i<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,d,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=s.getGoto(d,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new i3(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new cCe(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new cQ(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class cQ{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class cCe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class s3{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new s3(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new s3(this.stack,this.pos,this.index)}}function Rb(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class a_{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const fQ=new a_;class fCe{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=fQ,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=fQ,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class xg{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;MK(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}xg.prototype.contextual=xg.prototype.fallback=xg.prototype.extend=!1;class o3{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?Rb(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(MK(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}o3.prototype.contextual=xg.prototype.fallback=xg.prototype.extend=!1;class la{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function MK(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;(a&t[o])!=0;){let u=t[o+1];for(let d=o+3;d<u;d+=2)if((t[d+1]&a)>0){let m=t[d];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||hCe(m,e.token.value,i,s))){e.acceptToken(m);break}}let c=e.next,f=0,h=t[o+2];if(e.next<0&&h>f&&t[u+h*3-3]==65535){o=t[u+h*3-1];continue e}for(;f<h;){let d=f+h>>1,m=u+d+(d<<1),g=t[m],b=t[m+1]||65536;if(c<g)h=d;else if(c>=b)f=d+1;else{o=t[m+2],e.advance();continue e}}break}}function hQ(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function hCe(t,e,n,r){let i=hQ(n,r,e);return i<0||hQ(n,r,t)<i}const Oa=typeof process<"u"&&uQ&&/\bparse\b/.test(uQ.LOG);let SA=null;function dQ(t,e,n){let r=t.cursor(Cr.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class dCe{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?dQ(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?dQ(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Gn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Ft.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class pCe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new a_)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if((1<<u&o)==0)continue;let c=s[u],f=this.tokens[u];if(!(r&&!c.fallback)&&((c.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,c,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let h=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!c.extend&&(r=f,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new a_,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new a_,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){(a&1)==0?e.value=a>>1:e.extended=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=Sf(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(Sf(a,u+2),n,r,i));break}a[u]==n&&(i=this.putAction(Sf(a,u+1),n,r,i))}return i}}class mCe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new fCe(n,i),this.tokens=new pCe(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[i3.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new dCe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&yCe(i);if(o)return Oa&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Oa&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return Oa&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=Oa?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(h>-1&&f.length&&(!u||(f.prop(Ft.contextHash)||0)==c))return e.useNode(f,h),Oa&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof Gn)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof Gn&&f.positions[0]==0)f=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Oa&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],f=l[u++],h=l[u++],d=u==l.length||!r,m=d?e:e.split(),g=this.tokens.mainToken;if(m.apply(c,f,g?g.start:m.pos,h),Oa&&console.log(o+this.stackID(m)+` (via ${(c&65536)==0?"shift":`reduce of ${s.getName(c&65535)}`} for ${s.getName(f)} @ ${i}${m==e?"":", split"})`),d)return!0;m.pos>i?n.push(m):r.push(m)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return pQ(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],c=Oa?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Oa&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let f=a.split(),h=c;for(let d=0;d<10&&f.forceReduce()&&(Oa&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));d++)Oa&&(h=this.stackID(f)+" -> ");for(let d of a.recoverByInsert(l))Oa&&console.log(c+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),Oa&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),pQ(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Gn.build({buffer:s3.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(SA||(SA=new WeakMap)).get(e);return n||SA.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function pQ(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class gCe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const kA=t=>t;class LK{constructor(e){this.start=e.start,this.shift=e.shift||kA,this.reduce=e.reduce||kA,this.reuse=e.reuse||kA,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class ih extends P7{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Ft[l]);for(let u=1;u<a.length;){let c=a[u++];if(c>=0)s(c,l,a[u++]);else{let f=a[u+-c];for(let h=-c;h>0;h--)s(a[u++],l,f);u++}}}this.nodeSet=new WO(n.map((a,l)=>Hi.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=ZG;let o=Rb(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(mQ),this.states=Rb(e.states,Uint32Array),this.data=Rb(e.stateData),this.goto=Rb(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new xg(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new mCe(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Sf(r,s+2)];else{if(r[s+1]==2)return Sf(r,s+2);break}if(o==n||o==0)return Sf(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Sf(this.data,s+2);else break;i=n(Sf(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Sf(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(ih.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=mQ(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new gCe(e,r,i)}static deserialize(e){return new ih(e)}}function Sf(t,e){return t[e]|t[e+1]<<16}function yCe(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function mQ(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const bCe=55,vCe=1,OCe=56,wCe=2,xCe=57,_Ce=3,gQ=4,SCe=5,i9=6,NK=7,QK=8,BK=9,zK=10,kCe=11,CCe=12,ACe=13,CA=58,ECe=14,TCe=15,yQ=59,UK=21,DCe=23,jK=24,PCe=25,G8=27,qK=28,RCe=29,$Ce=32,ICe=35,FCe=37,MCe=38,LCe=0,NCe=1,QCe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},BCe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},bQ={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function zCe(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}let vQ=null,OQ=null,wQ=0;function H8(t,e){let n=t.pos+e;if(wQ==n&&OQ==t)return vQ;let r=t.peek(e),i="";for(;zCe(r);)i+=String.fromCharCode(r),r=t.peek(++e);return OQ=t,wQ=n,vQ=i?i.toLowerCase():r==UCe||r==jCe?void 0:null}const VK=60,a3=62,s9=47,UCe=63,jCe=33,qCe=45;function xQ(t,e){this.name=t,this.parent=e}const VCe=[i9,zK,NK,QK,BK],XCe=new LK({start:null,shift(t,e,n,r){return VCe.indexOf(e)>-1?new xQ(H8(r,1)||"",t):t},reduce(t,e){return e==UK&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==i9||i==FCe?new xQ(H8(r,1)||"",t):t},strict:!1}),ZCe=new la((t,e)=>{if(t.next!=VK){t.next<0&&e.context&&t.acceptToken(CA);return}t.advance();let n=t.next==s9;n&&t.advance();let r=H8(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?TCe:ECe);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(kCe);if(i&&BCe[i])return t.acceptToken(CA,-2);if(e.dialectEnabled(LCe))return t.acceptToken(CCe);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(ACe)}else{if(r=="script")return t.acceptToken(NK);if(r=="style")return t.acceptToken(QK);if(r=="textarea")return t.acceptToken(BK);if(QCe.hasOwnProperty(r))return t.acceptToken(zK);i&&bQ[i]&&bQ[i][r]?t.acceptToken(CA,-1):t.acceptToken(i9)}},{contextual:!0}),WCe=new la(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(yQ);break}if(t.next==qCe)e++;else if(t.next==a3&&e>=2){n>=3&&t.acceptToken(yQ,-2);break}else e=0;t.advance()}});function YCe(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const GCe=new la((t,e)=>{if(t.next==s9&&t.peek(1)==a3){let n=e.dialectEnabled(NCe)||YCe(e.context);t.acceptToken(n?SCe:gQ,2)}else t.next==a3&&t.acceptToken(gQ,1)});function o9(t,e,n){let r=2+t.length;return new la(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==VK||s==1&&i.next==s9||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,o++;else if(s==r&&i.next==a3){a>o?i.acceptToken(e,-o):i.acceptToken(n,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const HCe=o9("script",bCe,vCe),KCe=o9("style",OCe,wCe),JCe=o9("textarea",xCe,_Ce),e5e=gh({"Text RawText IncompleteTag IncompleteCloseTag":Q.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Q.angleBracket,TagName:Q.tagName,"MismatchedCloseTag/TagName":[Q.tagName,Q.invalid],AttributeName:Q.attributeName,"AttributeValue UnquotedAttributeValue":Q.attributeValue,Is:Q.definitionOperator,"EntityReference CharacterReference":Q.character,Comment:Q.blockComment,ProcessingInst:Q.processingInstruction,DoctypeDecl:Q.documentMeta}),t5e=ih.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"â  StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:XCe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[e5e],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[HCe,KCe,JCe,GCe,ZCe,WCe,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function XK(t,e){let n=Object.create(null);for(let r of t.getChildren(jK)){let i=r.getChild(PCe),s=r.getChild(G8)||r.getChild(qK);i&&(n[e.read(i.from,i.to)]=s?s.type.id==G8?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function _Q(t,e){let n=t.getChild(DCe);return n?e.read(n.from,n.to):" "}function AA(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=XK(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function ZK(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return KG((a,l)=>{let u=a.type.id;if(u==RCe)return AA(a,l,n);if(u==$Ce)return AA(a,l,r);if(u==ICe)return AA(a,l,i);if(u==UK&&s.length){let c=a.node,f=c.firstChild,h=f&&_Q(f,l),d;if(h){for(let m of s)if(m.tag==h&&(!m.attrs||m.attrs(d||(d=XK(f,l))))){let g=c.lastChild,b=g.type.id==MCe?g.from:c.to;if(b>f.to)return{parser:m.parser,overlay:[{from:f.to,to:b}]}}}}if(o&&u==jK){let c=a.node,f;if(f=c.firstChild){let h=o[l.read(f.from,f.to)];if(h)for(let d of h){if(d.tagName&&d.tagName!=_Q(c.parent,l))continue;let m=c.lastChild;if(m.type.id==G8){let g=m.from+1,b=m.lastChild,v=m.to-(b&&b.isError?0:1);if(v>g)return{parser:d.parser,overlay:[{from:g,to:v}]}}else if(m.type.id==qK)return{parser:d.parser,overlay:[{from:m.from,to:m.to}]}}}}return null})}const n5e=122,SQ=1,r5e=123,i5e=124,WK=2,s5e=125,o5e=3,a5e=4,YK=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],l5e=58,u5e=40,GK=95,c5e=91,l_=45,f5e=46,h5e=35,d5e=37,p5e=38,m5e=92,g5e=10,y5e=42;function Gv(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function a9(t){return t>=48&&t<=57}function kQ(t){return a9(t)||t>=97&&t<=102||t>=65&&t<=70}const HK=(t,e,n)=>(r,i)=>{for(let s=!1,o=0,a=0;;a++){let{next:l}=r;if(Gv(l)||l==l_||l==GK||s&&a9(l))!s&&(l!=l_||a>0)&&(s=!0),o===a&&l==l_&&o++,r.advance();else if(l==m5e&&r.peek(1)!=g5e){if(r.advance(),kQ(r.next)){do r.advance();while(kQ(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();s=!0}else{s&&r.acceptToken(o==2&&i.canShift(WK)?e:l==u5e?n:t);break}}},b5e=new la(HK(r5e,WK,i5e)),v5e=new la(HK(s5e,o5e,a5e)),O5e=new la(t=>{if(YK.includes(t.peek(-1))){let{next:e}=t;(Gv(e)||e==GK||e==h5e||e==f5e||e==y5e||e==c5e||e==l5e&&Gv(t.peek(1))||e==l_||e==p5e)&&t.acceptToken(n5e)}}),w5e=new la(t=>{if(!YK.includes(t.peek(-1))){let{next:e}=t;if(e==d5e&&(t.advance(),t.acceptToken(SQ)),Gv(e)){do t.advance();while(Gv(t.next)||a9(t.next));t.acceptToken(SQ)}}}),x5e=gh({"AtKeyword import charset namespace keyframes media supports":Q.definitionKeyword,"from to selector":Q.keyword,NamespaceName:Q.namespace,KeyframeName:Q.labelName,KeyframeRangeName:Q.operatorKeyword,TagName:Q.tagName,ClassName:Q.className,PseudoClassName:Q.constant(Q.className),IdName:Q.labelName,"FeatureName PropertyName":Q.propertyName,AttributeName:Q.attributeName,NumberLiteral:Q.number,KeywordQuery:Q.keyword,UnaryQueryOp:Q.operatorKeyword,"CallTag ValueName":Q.atom,VariableName:Q.variableName,Callee:Q.operatorKeyword,Unit:Q.unit,"UniversalSelector NestingSelector":Q.definitionOperator,"MatchOp CompareOp":Q.compareOperator,"ChildOp SiblingOp, LogicOp":Q.logicOperator,BinOp:Q.arithmeticOperator,Important:Q.modifier,Comment:Q.blockComment,ColorLiteral:Q.color,"ParenthesizedContent StringLiteral":Q.string,":":Q.punctuation,"PseudoOp #":Q.derefOperator,"; ,":Q.separator,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace}),_5e={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},S5e={__proto__:null,or:98,and:98,not:106,only:106,layer:170},k5e={__proto__:null,selector:112,layer:166},C5e={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},A5e={__proto__:null,to:207},E5e=ih.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:"â  Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[x5e],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[O5e,w5e,b5e,v5e,1,2,3,4,new o3("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:t=>_5e[t]||-1},{term:125,get:t=>S5e[t]||-1},{term:4,get:t=>k5e[t]||-1},{term:25,get:t=>C5e[t]||-1},{term:123,get:t=>A5e[t]||-1}],tokenPrec:1963});let EA=null;function TA(){if(!EA&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));EA=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return EA||[]}const CQ=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),AQ=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),T5e=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),D5e=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),uf=/^(\w[\w-]*|-\w[\w-]*|)$/,P5e=/^-(-[\w-]*)?$/;function R5e(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return r?.name!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const EQ=new HG,$5e=["Declaration"];function I5e(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function KK(t,e,n){if(e.to-e.from>4096){let r=EQ.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(Cr.IncludeAnonymous);if(o.firstChild())do for(let a of KK(t,o.node,n))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return EQ.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext($5e)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const F5e=t=>e=>{let{state:n,pos:r}=e,i=Hn(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:TA(),validFor:uf};if(i.name=="ValueName")return{from:i.from,options:AQ,validFor:uf};if(i.name=="PseudoClassName")return{from:i.from,options:CQ,validFor:uf};if(t(i)||(e.explicit||s)&&R5e(i,n.doc))return{from:t(i)||s?i.from:r,options:KK(n.doc,I5e(i),t),validFor:P5e};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:TA(),validFor:uf};return{from:i.from,options:T5e,validFor:uf}}if(i.name=="AtKeyword")return{from:i.from,options:D5e,validFor:uf};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:CQ,validFor:uf}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:AQ,validFor:uf}:o.name=="Block"||o.name=="Styles"?{from:r,options:TA(),validFor:uf}:null},M5e=F5e(t=>t.name=="VariableName"),l3=rh.define({name:"css",parser:E5e.configure({props:[Wd.add({Declaration:Xf()}),Yd.add({"Block KeyframeList":i4})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function L5e(){return new Bd(l3,l3.data.of({autocomplete:M5e}))}const N5e=316,Q5e=317,TQ=1,B5e=2,z5e=3,U5e=4,j5e=318,q5e=320,V5e=321,X5e=5,Z5e=6,W5e=0,K8=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],JK=125,Y5e=59,J8=47,G5e=42,H5e=43,K5e=45,J5e=60,eAe=44,tAe=63,nAe=46,rAe=91,iAe=new LK({start:!1,shift(t,e){return e==X5e||e==Z5e||e==q5e?t:e==V5e},strict:!1}),sAe=new la((t,e)=>{let{next:n}=t;(n==JK||n==-1||e.context)&&t.acceptToken(j5e)},{contextual:!0,fallback:!0}),oAe=new la((t,e)=>{let{next:n}=t,r;K8.indexOf(n)>-1||n==J8&&((r=t.peek(1))==J8||r==G5e)||n!=JK&&n!=Y5e&&n!=-1&&!e.context&&t.acceptToken(N5e)},{contextual:!0}),aAe=new la((t,e)=>{t.next==rAe&&!e.context&&t.acceptToken(Q5e)},{contextual:!0}),lAe=new la((t,e)=>{let{next:n}=t;if(n==H5e||n==K5e){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(TQ);t.acceptToken(r?TQ:B5e)}}else n==tAe&&t.peek(1)==nAe&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(z5e))},{contextual:!0});function DA(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const uAe=new la((t,e)=>{if(t.next!=J5e||!e.dialectEnabled(W5e)||(t.advance(),t.next==J8))return;let n=0;for(;K8.indexOf(t.next)>-1;)t.advance(),n++;if(DA(t.next,!0)){for(t.advance(),n++;DA(t.next,!1);)t.advance(),n++;for(;K8.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==eAe)return;for(let r=0;;r++){if(r==7){if(!DA(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(U5e,-n)}),cAe=gh({"get set async static":Q.modifier,"for while do if else switch try catch finally return throw break continue default case defer":Q.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Q.operatorKeyword,"let var const using function class extends":Q.definitionKeyword,"import export from":Q.moduleKeyword,"with debugger new":Q.keyword,TemplateString:Q.special(Q.string),super:Q.atom,BooleanLiteral:Q.bool,this:Q.self,null:Q.null,Star:Q.modifier,VariableName:Q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Q.function(Q.variableName),VariableDefinition:Q.definition(Q.variableName),Label:Q.labelName,PropertyName:Q.propertyName,PrivatePropertyName:Q.special(Q.propertyName),"CallExpression/MemberExpression/PropertyName":Q.function(Q.propertyName),"FunctionDeclaration/VariableDefinition":Q.function(Q.definition(Q.variableName)),"ClassDeclaration/VariableDefinition":Q.definition(Q.className),"NewExpression/VariableName":Q.className,PropertyDefinition:Q.definition(Q.propertyName),PrivatePropertyDefinition:Q.definition(Q.special(Q.propertyName)),UpdateOp:Q.updateOperator,"LineComment Hashbang":Q.lineComment,BlockComment:Q.blockComment,Number:Q.number,String:Q.string,Escape:Q.escape,ArithOp:Q.arithmeticOperator,LogicOp:Q.logicOperator,BitOp:Q.bitwiseOperator,CompareOp:Q.compareOperator,RegExp:Q.regexp,Equals:Q.definitionOperator,Arrow:Q.function(Q.punctuation),": Spread":Q.punctuation,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace,"InterpolationStart InterpolationEnd":Q.special(Q.brace),".":Q.derefOperator,", ;":Q.separator,"@":Q.meta,TypeName:Q.typeName,TypeDefinition:Q.definition(Q.typeName),"type enum interface implements namespace module declare":Q.definitionKeyword,"abstract global Privacy readonly override":Q.modifier,"is keyof unique infer asserts":Q.operatorKeyword,JSXAttributeValue:Q.attributeValue,JSXText:Q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Q.angleBracket,"JSXIdentifier JSXNameSpacedName":Q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Q.attributeName,"JSXBuiltin/JSXIdentifier":Q.standard(Q.tagName)}),fAe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},hAe={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},dAe={__proto__:null,"<":193},pAe=ih.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:"â  ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:iAe,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[cAe],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[oAe,aAe,lAe,uAe,2,3,4,5,6,7,8,9,10,11,12,13,14,sAe,new o3("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new o3("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>fAe[t]||-1},{term:343,get:t=>hAe[t]||-1},{term:95,get:t=>dAe[t]||-1}],tokenPrec:15201}),eJ=[eo("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),eo("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),eo("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),eo("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),eo("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),eo(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),eo("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),eo(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),eo(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),eo('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),eo('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],mAe=eJ.concat([eo("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),eo("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),eo("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),DQ=new HG,tJ=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Xy(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const gAe=["FunctionDeclaration"],yAe={FunctionDeclaration:Xy("function"),ClassDeclaration:Xy("class"),ClassExpression:()=>!0,EnumDeclaration:Xy("constant"),TypeAliasDeclaration:Xy("type"),NamespaceDeclaration:Xy("namespace"),VariableDefinition(t,e){t.matchContext(gAe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function nJ(t,e){let n=DQ.get(e);if(n)return n;let r=[],i=!0;function s(o,a){let l=t.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Cr.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=yAe[o.name];if(a&&a(o,s)||tJ.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of nJ(t,o.node))r.push(a);return!1}}),DQ.set(e,r),r}const PQ=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,rJ=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function bAe(t){let e=Hn(t.state).resolveInner(t.pos,-1);if(rJ.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&PQ.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)tJ.has(i.name)&&(r=r.concat(nJ(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:PQ}}const bc=rh.define({name:"javascript",parser:pAe.configure({props:[Wd.add({IfStatement:Xf({except:/^\s*({|else\b)/}),TryStatement:Xf({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:xSe,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:wSe({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Xf({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Yd.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":i4,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),iJ={test:t=>/^JSX/.test(t.name),facet:R7({commentTokens:{block:{open:"{/*",close:"*/}"}}})},sJ=bc.configure({dialect:"ts"},"typescript"),oJ=bc.configure({dialect:"jsx",props:[$7.add(t=>t.isTop?[iJ]:void 0)]}),aJ=bc.configure({dialect:"jsx ts",props:[$7.add(t=>t.isTop?[iJ]:void 0)]},"typescript");let lJ=t=>({label:t,type:"keyword"});const uJ="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(lJ),vAe=uJ.concat(["declare","implements","private","protected","public"].map(lJ));function OAe(t={}){let e=t.jsx?t.typescript?aJ:oJ:t.typescript?sJ:bc,n=t.typescript?mAe.concat(vAe):eJ.concat(uJ);return new Bd(e,[bc.data.of({autocomplete:cH(rJ,L7(n))}),bc.data.of({autocomplete:bAe}),t.jsx?_Ae:[]])}function wAe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function RQ(t,e,n=t.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const xAe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),_Ae=Xe.inputHandler.of((t,e,n,r,i)=>{if((xAe?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!bc.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var u;let{head:c}=l,f=Hn(o).resolveInner(c-1,-1),h;if(f.name=="JSXStartTag"&&(f=f.parent),!(o.doc.sliceString(c-1,c)!=r||f.name=="JSXAttributeValue"&&f.to>c)){if(r==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(r=="/"&&f.name=="JSXStartCloseTag"){let d=f.parent,m=d.parent;if(m&&d.from==c-2&&((h=RQ(o.doc,m.firstChild,c))||((u=m.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let g=`${h}>`;return{range:me.cursor(c+g.length,-1),changes:{from:c,insert:g}}}}else if(r==">"){let d=wAe(f);if(d&&d.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(c,c+2))&&(h=RQ(o.doc,d,c)))return{range:l,changes:{from:c,insert:`</${h}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Zy=["_blank","_self","_top","_parent"],PA=["ascii","utf-8","utf-16","latin1","latin1"],RA=["get","post","put","delete"],$A=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],wa=["true","false"],ut={},SAe={a:{attrs:{href:null,ping:null,type:null,media:null,target:Zy,hreflang:null}},abbr:ut,address:ut,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:ut,aside:ut,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:ut,base:{attrs:{href:null,target:Zy}},bdi:ut,bdo:ut,blockquote:{attrs:{cite:null}},body:ut,br:ut,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:$A,formmethod:RA,formnovalidate:["novalidate"],formtarget:Zy,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:ut,center:ut,cite:ut,code:ut,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:ut,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:ut,div:ut,dl:ut,dt:ut,em:ut,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:ut,figure:ut,footer:ut,form:{attrs:{action:null,name:null,"accept-charset":PA,autocomplete:["on","off"],enctype:$A,method:RA,novalidate:["novalidate"],target:Zy}},h1:ut,h2:ut,h3:ut,h4:ut,h5:ut,h6:ut,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:ut,hgroup:ut,hr:ut,html:{attrs:{manifest:null}},i:ut,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:$A,formmethod:RA,formnovalidate:["novalidate"],formtarget:Zy,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:ut,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:ut,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:ut,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:PA,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:ut,noscript:ut,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:ut,param:{attrs:{name:null,value:null}},pre:ut,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:ut,rt:ut,ruby:ut,samp:ut,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:PA}},section:ut,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:ut,source:{attrs:{src:null,type:null,media:null}},span:ut,strong:ut,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:ut,summary:ut,sup:ut,table:ut,tbody:ut,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:ut,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:ut,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:ut,time:{attrs:{datetime:null}},title:ut,tr:ut,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:ut,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:ut},cJ={accesskey:null,class:null,contenteditable:wa,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:wa,autocorrect:wa,autocapitalize:wa,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":wa,"aria-autocomplete":["inline","list","both","none"],"aria-busy":wa,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":wa,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":wa,"aria-hidden":wa,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":wa,"aria-multiselectable":wa,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":wa,"aria-relevant":null,"aria-required":wa,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},fJ="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of fJ)cJ[t]=null;let Hv=class{constructor(e,n){this.tags={...SAe,...e},this.globalAttrs={...cJ,...n},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};Hv.default=new Hv;function d1(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function p1(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function hJ(t,e,n){let r=n.tags[d1(t,p1(e))];return r?.children||n.allTags}function l9(t,e){let n=[];for(let r=p1(e);r&&!r.type.isTop;r=p1(r.parent)){let i=d1(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const dJ=/^[:\-\.\w\u00b7-\uffff]*$/;function $Q(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",o=p1(n,n.name=="StartTag"||n.name=="TagName");return{from:r,to:i,options:hJ(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(l9(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function IQ(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:l9(t.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:dJ}}function kAe(t,e,n,r){let i=[],s=0;for(let o of hJ(t.doc,n,e))i.push({label:"<"+o,type:"type"});for(let o of l9(t.doc,n))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function CAe(t,e,n,r,i){let s=p1(n),o=s?e.tags[d1(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(u=>({label:u,type:"property"})),validFor:dJ}}function AAe(t,e,n,r,i){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let u=t.sliceDoc(o.from,o.to),c=e.globalAttrs[u];if(!c){let f=p1(n),h=f?e.tags[d1(t.doc,f)]:null;c=h?.attrs&&h.attrs[u]}if(c){let f=t.sliceDoc(r,i).toLowerCase(),h='"',d='"';/^['"]/.test(f)?(l=f[0]=='"'?/^[^"]*$/:/^[^']*$/,h="",d=t.sliceDoc(i,i+1)==f[0]?"":f[0],f=f.slice(1),r++):l=/^[^\s<>='"]*$/;for(let m of c)a.push({label:m,apply:h+m+d,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function pJ(t,e){let{state:n,pos:r}=e,i=Hn(n).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?IQ(n,i,i.from,r):$Q(n,t,i,i.from,r):i.name=="StartTag"||i.name=="IncompleteTag"?$Q(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?IQ(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?CAe(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?AAe(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?kAe(n,t,i,r):null}function EAe(t){return pJ(Hv.default,t)}function TAe(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new Hv(e,n):Hv.default;return i=>pJ(r,i)}const DAe=bc.parser.configure({top:"SingleExpression"}),mJ=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:sJ.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:oJ.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:aJ.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:DAe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:bc.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:l3.parser}],gJ=[{name:"style",parser:l3.parser.configure({top:"Styles"})}].concat(fJ.map(t=>({name:t,parser:bc.parser}))),yJ=rh.define({name:"html",parser:t5e.configure({props:[Wd.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Yd.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),uH.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),u_=yJ.configure({wrap:ZK(mJ,gJ)});function PAe(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=ZK((t.nestedLanguages||[]).concat(mJ),(t.nestedAttributes||[]).concat(gJ)));let r=n?yJ.configure({wrap:n,dialect:e}):e?u_.configure({dialect:e}):u_;return new Bd(r,[u_.data.of({autocomplete:TAe(t)}),t.autoCloseTags!==!1?RAe:[],OAe().support,L5e().support])}const FQ=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),RAe=Xe.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!u_.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var u,c,f;let h=o.doc.sliceString(l.from-1,l.to)==r,{head:d}=l,m=Hn(o).resolveInner(d,-1),g;if(h&&r==">"&&m.name=="EndTag"){let b=m.parent;if(((c=(u=b.parent)===null||u===void 0?void 0:u.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(g=d1(o.doc,b.parent,d))&&!FQ.has(g)){let v=d+(o.doc.sliceString(d,d+1)===">"?1:0),O=`</${g}>`;return{range:l,changes:{from:d,to:v,insert:O}}}}else if(h&&r=="/"&&m.name=="IncompleteCloseTag"){let b=m.parent;if(m.from==d-2&&((f=b.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(g=d1(o.doc,b,d))&&!FQ.has(g)){let v=d+(o.doc.sliceString(d,d+1)===">"?1:0),O=`${g}>`;return{range:me.cursor(d+O.length,-1),changes:{from:d,to:v,insert:O}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),bJ=R7({commentTokens:{block:{open:"<!--",close:"-->"}}}),vJ=new Ft,OJ=Y4e.configure({props:[Yd.add(t=>!t.is("Block")||t.is("Document")||eT(t)!=null||$Ae(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),vJ.add(eT),Wd.add({Document:()=>null}),Mp.add({Document:bJ})]});function eT(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function $Ae(t){return t.name=="OrderedList"||t.name=="BulletList"}function IAe(t,e){let n=t;for(;;){let r=n.nextSibling,i;if(!r||(i=eT(r.type))!=null&&i<=e)break;n=r}return n.to}const FAe=kSe.of((t,e,n)=>{for(let r=Hn(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let i=r.type.prop(vJ);if(i==null)continue;let s=IAe(r,i);if(s>n)return{from:n,to:s}}return null});function u9(t){return new pl(bJ,t,[],"markdown")}const MAe=u9(OJ),LAe=OJ.configure([oCe,lCe,aCe,uCe,{props:[Yd.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),u3=u9(LAe);function NAe(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=VS.matchLanguageName(t,n,!0),r instanceof VS)return r.support?r.support.language.parser:zv.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}class IA{constructor(e,n,r,i,s,o,a){this.node=e,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=s,this.type=o,this.item=a}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+xJ(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function wJ(t,e){let n=[],r=[];for(let i=t;i;i=i.parent){if(i.name=="FencedCode")return r;(i.name=="ListItem"||i.name=="Blockquote")&&n.push(i)}for(let i=n.length-1;i>=0;i--){let s=n[i],o,a=e.lineAt(s.from),l=s.from-a.from;if(s.name=="Blockquote"&&(o=/^ *>( ?)/.exec(a.text.slice(l))))r.push(new IA(s,l,l+o[0].length,"",o[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(o=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let u=o[3],c=o[0].length;u.length>=4&&(u=u.slice(0,u.length-4),c-=4),r.push(new IA(s.parent,l,l+c,o[1],u,o[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(o=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let u=o[4],c=o[0].length;u.length>4&&(u=u.slice(0,u.length-4),c-=4);let f=o[2];o[3]&&(f+=o[3].replace(/[xX]/," ")),r.push(new IA(s.parent,l,l+c,o[1],u,f,s))}}return r}function xJ(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function FA(t,e,n,r=0){for(let i=-1,s=t;;){if(s.name=="ListItem"){let a=xJ(s,e),l=+a[2];if(i>=0){if(l!=i+1)return;n.push({from:s.from+a[1].length,to:s.from+a[0].length,insert:String(i+2+r)})}i=l}let o=s.nextSibling;if(!o)break;s=o}}function c9(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(YO)!="	")return t;let r=fu(t,4,n),i="";for(let s=r;s>0;)s>=4?(i+="	",s-=4):(i+=" ",s--);return i+t.slice(n)}const QAe=(t={})=>({state:e,dispatch:n})=>{let r=Hn(e),{doc:i}=e,s=null,o=e.changeByRange(a=>{if(!a.empty||!u3.isActiveAt(e,a.from,-1)&&!u3.isActiveAt(e,a.from,1))return s={range:a};let l=a.from,u=i.lineAt(l),c=wJ(r.resolveInner(l,-1),i);for(;c.length&&c[c.length-1].from>l-u.from;)c.pop();if(!c.length)return s={range:a};let f=c[c.length-1];if(f.to-f.spaceAfter.length>l-u.from)return s={range:a};let h=l>=f.to-f.spaceAfter.length&&!/\S/.test(u.text.slice(f.to));if(f.item&&h){let v=f.node.firstChild,O=f.node.getChild("ListItem","ListItem");if(v.to>=l||O&&O.to<l||u.from>0&&!/[^\s>]/.test(i.lineAt(u.from-1).text)||t.nonTightLists===!1){let _=c.length>1?c[c.length-2]:null,S,k="";_&&_.item?(S=u.from+_.from,k=_.marker(i,1)):S=u.from+(_?_.to:0);let A=[{from:S,to:l,insert:k}];return f.node.name=="OrderedList"&&FA(f.item,i,A,-2),_&&_.node.name=="OrderedList"&&FA(_.item,i,A),{range:me.cursor(S+k.length),changes:A}}else{let _=LQ(c,e,u);return{range:me.cursor(l+_.length+1),changes:{from:u.from,insert:_+e.lineBreak}}}}if(f.node.name=="Blockquote"&&h&&u.from){let v=i.lineAt(u.from-1),O=/>\s*$/.exec(v.text);if(O&&O.index==f.from){let _=e.changes([{from:v.from+O.index,to:v.to},{from:u.from+f.from,to:u.to}]);return{range:a.map(_),changes:_}}}let d=[];f.node.name=="OrderedList"&&FA(f.item,i,d);let m=f.item&&f.item.from<u.from,g="";if(!m||/^[\s\d.)\-+*>]*/.exec(u.text)[0].length>=f.to)for(let v=0,O=c.length-1;v<=O;v++)g+=v==O&&!m?c[v].marker(i,1):c[v].blank(v<O?fu(u.text,4,c[v+1].from)-g.length:null);let b=l;for(;b>u.from&&/\s/.test(u.text.charAt(b-u.from-1));)b--;return g=c9(g,e),zAe(f.node,e.doc)&&(g=LQ(c,e,u)+e.lineBreak+g),d.push({from:b,to:l,insert:e.lineBreak+g}),{range:me.cursor(b+g.length+1),changes:d}});return s?!1:(n(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)},BAe=QAe();function MQ(t){return t.name=="QuoteMark"||t.name=="ListMark"}function zAe(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,r=t.getChild("ListItem","ListItem");if(!r)return!1;let i=e.lineAt(n.to),s=e.lineAt(r.from),o=/^[\s>]*$/.test(i.text);return i.number+(o?0:1)<s.number}function LQ(t,e,n){let r="";for(let i=0,s=t.length-2;i<=s;i++)r+=t[i].blank(i<s?fu(n.text,4,t[i+1].from)-r.length:null,i<s);return c9(r,e)}function UAe(t,e){let n=t.resolveInner(e,-1),r=e;MQ(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(MQ(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const jAe=({state:t,dispatch:e})=>{let n=Hn(t),r=null,i=t.changeByRange(s=>{let o=s.from,{doc:a}=t;if(s.empty&&u3.isActiveAt(t,s.from)){let l=a.lineAt(o),u=wJ(UAe(n,o),a);if(u.length){let c=u[u.length-1],f=c.to-c.spaceAfter.length+(c.spaceAfter?1:0);if(o-l.from>f&&!/\S/.test(l.text.slice(f,o-l.from)))return{range:me.cursor(l.from+f),changes:{from:l.from+f,to:o}};if(o-l.from==f&&(!c.item||l.from<=c.item.from||!/\S/.test(l.text.slice(0,c.to)))){let h=l.from+c.from;if(c.item&&c.node.from<c.item.from&&/\S/.test(l.text.slice(c.from,c.to))){let d=c.blank(fu(l.text,4,c.to)-fu(l.text,4,c.from));return h==l.from&&(d=c9(d,t)),{range:me.cursor(h+d.length),changes:{from:h,to:l.from+c.to,insert:d}}}if(h<o)return{range:me.cursor(h),changes:{from:h,to:o}}}}}return r={range:s}});return r?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},qAe=[{key:"Enter",run:BAe},{key:"Backspace",run:jAe}],_J=PAe({matchClosingTags:!1});function VAe(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=MAe,completeHTMLTags:s=!0,pasteURLAsLink:o=!0,htmlTagLanguage:a=_J}=t;if(!(i instanceof c4))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let l=t.extensions?[t.extensions]:[],u=[a.support,FAe],c;o&&u.push(YAe),n instanceof Bd?(u.push(n.support),c=n.language):n&&(c=n);let f=e||c?NAe(e,c):void 0;l.push(H4e({codeParser:f,htmlParser:a.language.parser})),r&&u.push(dh.high(XO.of(qAe)));let h=u9(i.configure(l));return s&&u.push(h.data.of({autocomplete:XAe})),new Bd(h,u)}function XAe(t){let{state:e,pos:n}=t,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let i=Hn(e).resolveInner(n,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:n-r[0].length,to:n,options:ZAe(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let MA=null;function ZAe(){if(MA)return MA;let t=EAe(new M7(Tn.create({extensions:_J}),0,!0));return MA=t?t.options:[]}const WAe=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,YAe=Xe.domEventHandlers({paste:(t,e)=>{var n;let{main:r}=e.state.selection;if(r.empty)return!1;let i=(n=t.clipboardData)===null||n===void 0?void 0:n.getData("text/plain");if(!i||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(i)||(/^www\./.test(i)&&(i="https://"+i),!u3.isActiveAt(e.state,r.from,1)))return!1;let s=Hn(e.state),o=!1;return s.iterate({from:r.from,to:r.to,enter:a=>{(a.from>r.from||WAe.test(a.name))&&(o=!0)},leave:a=>{a.to<r.to&&(o=!0)}}),o?!1:(e.dispatch({changes:[{from:r.from,insert:"["},{from:r.to,insert:`](${i})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),GAe=36,NQ=1,HAe=2,xm=3,LA=4,KAe=5,JAe=6,e6e=7,t6e=8,n6e=9,r6e=10,i6e=11,s6e=12,o6e=13,a6e=14,l6e=15,u6e=16,c6e=17,QQ=18,f6e=19,SJ=20,kJ=21,BQ=22,h6e=23,d6e=24;function tT(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function p6e(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function vp(t,e,n){for(let r=!1;;){if(t.next<0)return;if(t.next==e&&!r){t.advance();return}r=n&&!r&&t.next==92,t.advance()}}function m6e(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let n=0;n<e.length;n++){if(t.next!=e.charCodeAt(n))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function g6e(t,e){let n="[{<(".indexOf(String.fromCharCode(e)),r=n<0?e:"]}>)".charCodeAt(n);for(;;){if(t.next<0)return;if(t.next==r&&t.peek(1)==39){t.advance(2);return}t.advance()}}function nT(t,e){for(;!(t.next!=95&&!tT(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function y6e(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),vp(t,e,!1)}else nT(t)}function zQ(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function UQ(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function jQ(t){for(;!(t.next<0||t.next==10);)t.advance()}function mp(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const NA=` 	\r
`;function CJ(t,e,n){let r=Object.create(null);r.true=r.false=KAe,r.null=r.unknown=JAe;for(let i of t.split(" "))i&&(r[i]=SJ);for(let i of e.split(" "))i&&(r[i]=kJ);for(let i of(n||"").split(" "))i&&(r[i]=d6e);return r}const AJ="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",EJ="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",rT={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:CJ(EJ,AJ)};function b6e(t,e,n,r){let i={};for(let s in rT)i[s]=(t.hasOwnProperty(s)?t:rT)[s];return e&&(i.words=CJ(e,n||"",r)),i}function TJ(t){return new la(e=>{var n;let{next:r}=e;if(e.advance(),mp(r,NA)){for(;mp(e.next,NA);)e.advance();e.acceptToken(GAe)}else if(r==36&&t.doubleDollarQuotedStrings){let i=nT(e,"");e.next==36&&(e.advance(),m6e(e,i),e.acceptToken(xm))}else if(r==39||r==34&&t.doubleQuotedStrings)vp(e,r,t.backslashEscapes),e.acceptToken(xm);else if(r==35&&t.hashComments||r==47&&e.next==47&&t.slashComments)jQ(e),e.acceptToken(NQ);else if(r==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))jQ(e),e.acceptToken(NQ);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(HAe)}else if((r==101||r==69)&&e.next==39)e.advance(),vp(e,39,!0),e.acceptToken(xm);else if((r==110||r==78)&&e.next==39&&t.charSetCasts)e.advance(),vp(e,39,t.backslashEscapes),e.acceptToken(xm);else if(r==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),vp(e,39,t.backslashEscapes),e.acceptToken(xm);break}if(!tT(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!mp(e.peek(1),NA)){let i=e.peek(1);e.advance(2),g6e(e,i),e.acceptToken(xm)}else if(mp(r,t.identifierQuotes)){const i=r==91?93:r;vp(e,i,!1),e.acceptToken(f6e)}else if(r==40)e.acceptToken(e6e);else if(r==41)e.acceptToken(t6e);else if(r==123)e.acceptToken(n6e);else if(r==125)e.acceptToken(r6e);else if(r==91)e.acceptToken(i6e);else if(r==93)e.acceptToken(s6e);else if(r==59)e.acceptToken(o6e);else if(t.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),zQ(e),e.acceptToken(BQ);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(vp(e,i,t.backslashEscapes),e.acceptToken(h6e)):(zQ(e,i),e.acceptToken(BQ))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();p6e(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(LA)}else if(r==46&&e.next>=48&&e.next<=57)UQ(e,!0),e.acceptToken(LA);else if(r==46)e.acceptToken(a6e);else if(r>=48&&r<=57)UQ(e,!1),e.acceptToken(LA);else if(mp(r,t.operatorChars)){for(;mp(e.next,t.operatorChars);)e.advance();e.acceptToken(l6e)}else if(mp(r,t.specialVar))e.next==r&&e.advance(),y6e(e),e.acceptToken(c6e);else if(r==58||r==44)e.acceptToken(u6e);else if(tT(r)){let i=nT(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?QQ:(n=t.words[i.toLowerCase()])!==null&&n!==void 0?n:QQ)}})}const DJ=TJ(rT),v6e=ih.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:"â  LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,DJ],topRules:{Script:[0,25]},tokenPrec:0});function iT(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function Kv(t,e){let n=t.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(n);return r?r[2]:n}function c3(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function O6e(t,e){if(e.name=="CompositeIdentifier"){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)c3(r)&&n.push(Kv(t,r));return n}return[Kv(t,e)]}function qQ(t,e){for(let n=[];;){if(!e||e.name!=".")return n;let r=iT(e);if(!c3(r))return n;n.unshift(Kv(t,r)),e=iT(r)}}function w6e(t,e){let n=Hn(t).resolveInner(e,-1),r=_6e(t.doc,n);return n.name=="Identifier"||n.name=="QuotedIdentifier"||n.name=="Keyword"?{from:n.from,quoted:n.name=="QuotedIdentifier"?t.doc.sliceString(n.from,n.from+1):null,parents:qQ(t.doc,iT(n)),aliases:r}:n.name=="."?{from:e,quoted:null,parents:qQ(t.doc,n),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const x6e=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function _6e(t,e){let n;for(let i=e;!n;i=i.parent){if(!i)return null;i.name=="Statement"&&(n=i)}let r=null;for(let i=n.firstChild,s=!1,o=null;i;i=i.nextSibling){let a=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&c3(i.nextSibling))l=Kv(t,i.nextSibling);else{if(a&&x6e.has(a))break;o&&c3(i)&&(l=Kv(t,i))}l&&(r||(r=Object.create(null)),r[l]=O6e(t,o)),o=/Identifier$/.test(i.name)?i:null}return r}function S6e(t,e,n){return n.map(r=>({...r,label:r.label[0]==t?r.label:t+r.label+e,apply:void 0}))}const k6e=/^\w*$/,C6e=/^[`'"\[]?\w*[`'"\]]?$/;function VQ(t){return t.self&&typeof t.self.label=="string"}class f9{constructor(e,n){this.idQuote=e,this.idCaseInsensitive=n,this.list=[],this.children=void 0}child(e){let n=this.children||(this.children=Object.create(null)),r=n[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(XQ(e,"type",this.idQuote,this.idCaseInsensitive)),n[e]=new f9(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let n=this.list.findIndex(r=>r.label==e.label);n>-1?this.list[n]=e:this.list.push(e)}addCompletions(e){for(let n of e)this.addCompletion(typeof n=="string"?XQ(n,"property",this.idQuote,this.idCaseInsensitive):n)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):VQ(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let n of Object.keys(e)){let r=e[n],i=null,s=n.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;VQ(r)&&(i=r.self,r=r.children);for(let a=0;a<s.length;a++)i&&a==s.length-1&&o.addCompletion(i),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(r)}}}function XQ(t,e,n,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:n+t+PJ(n)}}function PJ(t){return t==="["?"]":t}function A6e(t,e,n,r,i,s){var o;let a=((o=s?.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new f9(a,!!s?.spec.caseInsensitiveIdentifiers),u=i?l.child(i):null;return l.addNamespace(t),e&&(u||l).addCompletions(e),n&&l.addCompletions(n),u&&l.addCompletions(u.list),r&&l.addCompletions((u||l).child(r).list),c=>{let{parents:f,from:h,quoted:d,empty:m,aliases:g}=w6e(c.state,c.pos);if(m&&!c.explicit)return null;g&&f.length==1&&(f=g[f[0]]||f);let b=l;for(let O of f){for(;!b.children||!b.children[O];)if(b==l&&u)b=u;else if(b==u&&r)b=b.child(r);else return null;let _=b.maybeChild(O);if(!_)return null;b=_}let v=b.list;if(b==l&&g&&(v=v.concat(Object.keys(g).map(O=>({label:O,type:"constant"})))),d){let O=d[0],_=PJ(O),S=c.state.sliceDoc(c.pos,c.pos+1)==_;return{from:h,to:S?c.pos+1:void 0,options:S6e(O,_,v),validFor:C6e}}else return{from:h,options:v,validFor:k6e}}}function E6e(t){return t==kJ?"type":t==SJ?"keyword":"variable"}function T6e(t,e,n){let r=Object.keys(t).map(i=>n(e?i.toUpperCase():i,E6e(t[i])));return cH(["QuotedIdentifier","String","LineComment","BlockComment","."],L7(r))}let D6e=v6e.configure({props:[Wd.add({Statement:Xf()}),Yd.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),gh({Keyword:Q.keyword,Type:Q.typeName,Builtin:Q.standard(Q.name),Bits:Q.number,Bytes:Q.string,Bool:Q.bool,Null:Q.null,Number:Q.number,String:Q.string,Identifier:Q.name,QuotedIdentifier:Q.special(Q.string),SpecialVar:Q.special(Q.name),LineComment:Q.lineComment,BlockComment:Q.blockComment,Operator:Q.operator,"Semi Punctuation":Q.punctuation,"( )":Q.paren,"{ }":Q.brace,"[ ]":Q.squareBracket})]});class Jv{constructor(e,n,r){this.dialect=e,this.language=n,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,n){return new Jv(this.dialect,this.language.configure(e,n),this.spec)}static define(e){let n=b6e(e,e.keywords,e.types,e.builtin),r=rh.define({name:"sql",parser:D6e.configure({tokenizers:[{from:DJ,to:TJ(n)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Jv(n,r,e)}}function P6e(t,e){return{label:t,type:e,boost:-1}}function R6e(t,e=!1,n){return T6e(t.dialect.words,e,n||P6e)}function $6e(t){return t.schema?A6e(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||h9):()=>null}function I6e(t){return t.schema?(t.dialect||h9).language.data.of({autocomplete:$6e(t)}):[]}function F6e(t={}){let e=t.dialect||h9;return new Bd(e.language,[I6e(t),e.language.data.of({autocomplete:R6e(e,t.upperCaseKeywords,t.keywordCompletion)})])}const h9=Jv.define({}),M6e=Jv.define({charSetCasts:!0,doubleDollarQuotedStrings:!0,operatorChars:"+-*/<>=~!@#%^&|`?",specialVar:"",keywords:EJ+"abort abs absent access according ada admin aggregate alias also always analyse analyze array_agg array_max_cardinality asensitive assert assignment asymmetric atomic attach attribute attributes avg backward base64 begin_frame begin_partition bernoulli bit_length blocked bom cache called cardinality catalog_name ceil ceiling chain char_length character_length character_set_catalog character_set_name character_set_schema characteristics characters checkpoint class class_origin cluster coalesce cobol collation_catalog collation_name collation_schema collect column_name columns command_function command_function_code comment comments committed concurrently condition_number configuration conflict connection_name constant constraint_catalog constraint_name constraint_schema contains content control conversion convert copy corr cost covar_pop covar_samp csv cume_dist current_catalog current_row current_schema cursor_name database datalink datatype datetime_interval_code datetime_interval_precision db debug defaults defined definer degree delimiter delimiters dense_rank depends derived detach detail dictionary disable discard dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue document dump dynamic_function dynamic_function_code element elsif empty enable encoding encrypted end_frame end_partition endexec enforced enum errcode error event every exclude excluding exclusive exp explain expression extension extract family file filter final first_value flag floor following force foreach fortran forward frame_row freeze fs functions fusion generated granted greatest groups handler header hex hierarchy hint id ignore ilike immediately immutable implementation implicit import include including increment indent index indexes info inherit inherits inline insensitive instance instantiable instead integrity intersection invoker isnull key_member key_type label lag last_value lead leakproof least length library like_regex link listen ln load location lock locked log logged lower mapping matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text min minvalue mod mode more move multiset mumps name namespace nfc nfd nfkc nfkd nil normalize normalized nothing notice notify notnull nowait nth_value ntile nullable nullif nulls number occurrences_regex octet_length octets off offset oids operator options ordering others over overlay overriding owned owner parallel parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partition pascal passing passthrough password percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding prepared print_strict_params procedural procedures program publication query quote raise range rank reassign recheck recovery refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex rename repeatable replace replica requiring reset respect restart restore result_oid returned_cardinality returned_length returned_octet_length returned_sqlstate returning reverse routine_catalog routine_name routine_schema routines row_count row_number rowtype rule scale schema_name schemas scope scope_catalog scope_name scope_schema security selective self sensitive sequence sequences serializable server server_name setof share show simple skip slice snapshot source specific_name sqlcode sqlerror sqrt stable stacked standalone statement statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time table_name tables tablesample tablespace temp template ties token top_level_count transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex trigger_catalog trigger_name trigger_schema trim trim_array truncate trusted type types uescape unbounded uncommitted unencrypted unlink unlisten unlogged unnamed untyped upper uri use_column use_variable user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema vacuum valid validate validator value_of var_pop var_samp varbinary variable_conflict variadic verbose version versioning views volatile warning whitespace width_bucket window within wrapper xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate yes",types:AJ+"bigint int8 bigserial serial8 varbit bool box bytea cidr circle precision float8 inet int4 json jsonb line lseg macaddr macaddr8 money numeric pg_lsn point polygon float4 int2 smallserial serial2 serial serial4 text timetz timestamptz tsquery tsvector txid_snapshot uuid xml"});function j0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c_={exports:{}},L6e=c_.exports,ZQ;function N6e(){return ZQ||(ZQ=1,(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(L6e,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function a(g,b){var v=g[b];if(typeof v.bind=="function")return v.bind(g);try{return Function.prototype.bind.call(v,g)}catch{return function(){return Function.prototype.apply.apply(v,[g,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(g){return g==="debug"&&(g="log"),typeof console===n?!1:g==="trace"&&r?l:console[g]!==void 0?a(console,g):console.log!==void 0?a(console,"log"):e}function c(){for(var g=this.getLevel(),b=0;b<i.length;b++){var v=i[b];this[v]=b<g?e:this.methodFactory(v,g,this.name)}if(this.log=this.debug,typeof console===n&&g<this.levels.SILENT)return"No console available for logging"}function f(g){return function(){typeof console!==n&&(c.call(this),this[g].apply(this,arguments))}}function h(g,b,v){return u(g)||f.apply(this,arguments)}function d(g,b){var v=this,O,_,S,k="loglevel";typeof g=="string"?k+=":"+g:typeof g=="symbol"&&(k=void 0);function A(I){var $=(i[I]||"silent").toUpperCase();if(!(typeof window===n||!k)){try{window.localStorage[k]=$;return}catch{}try{window.document.cookie=encodeURIComponent(k)+"="+$+";"}catch{}}}function C(){var I;if(!(typeof window===n||!k)){try{I=window.localStorage[k]}catch{}if(typeof I===n)try{var $=window.document.cookie,R=encodeURIComponent(k),M=$.indexOf(R+"=");M!==-1&&(I=/^([^;]+)/.exec($.slice(M+R.length+1))[1])}catch{}return v.levels[I]===void 0&&(I=void 0),I}}function T(){if(!(typeof window===n||!k)){try{window.localStorage.removeItem(k)}catch{}try{window.document.cookie=encodeURIComponent(k)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function P(I){var $=I;if(typeof $=="string"&&v.levels[$.toUpperCase()]!==void 0&&($=v.levels[$.toUpperCase()]),typeof $=="number"&&$>=0&&$<=v.levels.SILENT)return $;throw new TypeError("log.setLevel() called with invalid level: "+I)}v.name=g,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=b||h,v.getLevel=function(){return S??_??O},v.setLevel=function(I,$){return S=P(I),$!==!1&&A(S),c.call(v)},v.setDefaultLevel=function(I){_=P(I),C()||v.setLevel(I,!1)},v.resetLevel=function(){S=null,T(),c.call(v)},v.enableAll=function(I){v.setLevel(v.levels.TRACE,I)},v.disableAll=function(I){v.setLevel(v.levels.SILENT,I)},v.rebuild=function(){if(o!==v&&(O=P(o.getLevel())),c.call(v),o===v)for(var I in s)s[I].rebuild()},O=P(o?o.getLevel():"WARN");var N=C();N!=null&&(S=P(N)),c.call(v)}o=new d,o.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var v=s[b];return v||(v=s[b]=new d(b,o.methodFactory)),v};var m=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=m),o},o.getLoggers=function(){return s},o.default=o,o})})(c_)),c_.exports}var Q6e=N6e();const RJ=j0(Q6e);RJ.setLevel("silent");const Gr=RJ,jt={STRING:"String",NUMBER:"Number",TRUE:"True",FALSE:"False",NULL:"Null",OBJECT:"Object",ARRAY:"Array",PROPERTY:"Property",PROPERTY_NAME:"PropertyName",PROPERTY_COLON:"PropertyColon",ITEM:"Item",JSON_TEXT:"JsonText",INVALID:"â "},B6e={Pair:jt.PROPERTY,Key:jt.PROPERTY_NAME,BlockSequence:jt.ARRAY,BlockMapping:jt.OBJECT,FlowSequence:jt.ARRAY,FlowMapping:jt.OBJECT,QuotedLiteral:jt.STRING,Literal:jt.STRING,Stream:jt.JSON_TEXT,Document:jt.OBJECT},z6e={File:jt.JSON_TEXT},d9=[jt.STRING,jt.NUMBER,jt.TRUE,jt.FALSE,jt.NULL],$J=[jt.OBJECT,jt.ARRAY,jt.ITEM],mr={JSON5:"json5",JSON:"json4",YAML:"yaml"},_i=(t,e)=>{var n,r;switch(e){case mr.YAML:return(n=B6e[t])!==null&&n!==void 0?n:t;case mr.JSON5:return(r=z6e[t])!==null&&r!==void 0?r:t;default:return t}};function IJ(t,e,n){const r=[];for(let i=e;i?.parent;i=i.parent)switch(_i(i.parent.name,n)){case jt.PROPERTY:{const s=sT(i.parent,jt.PROPERTY_NAME,n);if(s){let o=qm(t,s).replace(/[/~]/g,a=>a==="~"?"~0":"~1");r.unshift(o)}break}case jt.ARRAY:{if(j6e(i,n)){const s=LJ(i.parent,i,n);r.unshift(`${s}`)}break}}return r.length===0?"":"/"+r.join("/")}const FJ=(t,e,n=-1,r)=>IJ(t.doc,Hn(t).resolve(e,n),r),p9=(t,e)=>{const n=Hn(t),r=new Map;return n.iterate({enter:i=>{var s,o,a,l,u,c,f,h;if([jt.PROPERTY_NAME,jt.OBJECT].includes(_i(i.name,e))){const d=IJ(t.doc,i.node,e),{from:m,to:g}=i.node;if(!(!((o=(s=i.node)===null||s===void 0?void 0:s.nextSibling)===null||o===void 0)&&o.node))return r.set(d,{keyFrom:m,keyTo:g}),!0;const b=e===mr.JSON?(l=(a=i.node)===null||a===void 0?void 0:a.nextSibling)===null||l===void 0?void 0:l.node:(h=(f=(c=(u=i.node)===null||u===void 0?void 0:u.nextSibling)===null||c===void 0?void 0:c.node)===null||f===void 0?void 0:f.nextSibling)===null||h===void 0?void 0:h.node;if(!b)return r.set(d,{keyFrom:m,keyTo:g}),!0;const{from:v,to:O}=b;return r.set(d,{keyFrom:m,keyTo:g,valueFrom:v,valueTo:O}),!0}}}),r},QA=(t,e,n=-1)=>Hn(t).resolveInner(e,n),f_=t=>t.replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1"),U6e=t=>t.replace(/^"(.*)"$/,"'$1'"),qm=(t,e,n=!0,r=!0)=>{const i=e?t.sliceString(e.from,e.to):"";return n?r?f_(i):i.replace(/(^["'])|(["']$)/g,""):i},MJ=(t,e)=>{var n,r,i,s;return _i(t.name,e)===jt.INVALID&&(_i((r=(n=t.prevSibling)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",e)===jt.PROPERTY_NAME||_i((s=(i=t.prevSibling)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:"",e)===jt.PROPERTY_COLON)},h_=(t,e)=>d9.includes(_i(t.name,e))||MJ(t,e),j6e=(t,e)=>[...d9,...$J].includes(_i(t.name,e))||MJ(t,e),Hw=(t,e)=>{var n,r,i,s,o,a;return _i(t.name,e)===jt.PROPERTY_NAME||_i(t.name,e)===jt.INVALID&&(_i((r=(n=t.prevSibling)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",e)===jt.PROPERTY||_i((s=(i=t.prevSibling)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:"",e)==="{")||e===mr.YAML&&_i((a=(o=t.parent)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:"",e)===jt.OBJECT},e2=t=>{const e=[];let n=t.firstChild;for(;n;)n&&e.push(n),n=n?.nextSibling;return e},q6e=(t,e,n)=>e2(t).filter(r=>_i(r.name,n)===e),sT=(t,e,n)=>{var r;return(r=e2(t).find(i=>_i(i.name,n)===e))!==null&&r!==void 0?r:null},WQ=(t,e)=>e2(t).find(n=>h_(n,e)),V6e=(t,e)=>e2(t).filter(n=>d9.includes(_i(n.name,e))||$J.includes(_i(n.name,e))),LJ=(t,e,n)=>V6e(t,n).findIndex(r=>r.from===e.from&&r.to===e.to),YQ=(t,e,n,r=1/0)=>{let i=t;for(;i&&r>0;){if(_i(i.name,n)===e)return i;i=i.parent,r--}return null},X6e=Vt.define(),f3=Mi.define({create(){},update(t,e){for(const n of e.effects)if(n.is(X6e))return n.value;return t}}),m9=t=>t.field(f3),NJ=t=>[f3.init(()=>t)],Z6e={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",ForbiddenPropertyError:"Property name `{{property}}` at `{{pointer}}` is not allowed",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJsonPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minItems}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",SchemaWarning:"Failed retrieving a schema from '{{pointer}}' to key '{{key}}'",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Items in array must be unique. Value `{{value}}` in `{{pointer}}` is a duplicate of {{duplicatePointer}}.",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"},W6e=Object.prototype.toString;function Rn(t){const e=W6e.call(t).match(/\s([^\]]+)\]/).pop().toLowerCase();return e==="file"?"object":e}const Y6e="object",G6e="array";function H6e(t,e={}){return t.replace(/\{\{\w+\}\}/g,n=>{const r=n.replace(/[{}]/g,""),i=e[r],s=Rn(i);return s===Y6e||s===G6e?JSON.stringify(i):i})}function K6e(t,e,n=t){var r;const i=(r=Z6e[t])!==null&&r!==void 0?r:n;return H6e(i,e)}function J6e(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function eEe(t,e){return{type:"error",name:t,code:J6e(t),message:K6e(t,e),data:e}}function ht(t){return eEe.bind(null,t)}function eO(t,e=[]){for(let n=0;n<t.length;n+=1){const r=t[n];Array.isArray(r)?eO(r,e):e.push(r)}return e}const K1={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,propertyBlacklist:["_id"],templateDefaultOptions:{addOptionalProps:!1,removeInvalidData:!1,extendDefaults:!0}};function rv(t,e,n){const r={...e};return Object.defineProperty(r,"getOneOfOrigin",{enumerable:!1,value:()=>({index:n,schema:t})}),r}function js(t){return t?.type==="error"}function tEe(t){return t instanceof Promise}function h3(t){return js(t)||tEe(t)}const{DECLARATOR_ONEOF:_g}=K1;function QJ(t,e,n=t.rootSchema,r="#"){if(e!=null&&n[_g]){const o=[],a=n[_g],l=e[n[_g]];if(l===void 0)return t.errors.missingOneOfPropertyError({property:a,pointer:r,schema:n,value:e});for(let u=0;u<n.oneOf.length;u+=1){const c=t.resolveRef(n.oneOf[u]),f=t.step(a,c,e,r);if(js(f))return f;let h=eO(t.validate(l,f,r));if(h=h.filter(h3),h.length>0)o.push(...h);else return rv(n,c,u)}return t.errors.oneOfPropertyError({property:a,value:l,pointer:r,schema:n,errors:o})}const i=[],s=[];for(let o=0;o<n.oneOf.length;o+=1){const a=t.resolveRef(n.oneOf[o]);let l=eO(t.validate(e,a,r));l=l.filter(h3),l.length>0?s.push(...l):i.push({index:o,schema:a})}return i.length===1?rv(n,i[0].schema,i[0].index):i.length>1?t.errors.multipleOneOfError({value:e,pointer:r,schema:n,matches:i}):t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf,errors:s})}function nEe(t,e,n,r){if(n==null||e.properties==null)return-1;let i=0;const s=Object.keys(e.properties);for(let o=0;o<s.length;o+=1){const a=s[o];n[a]!=null&&t.isValid(n[a],e.properties[a],r)&&(i+=1)}return i}function g9(t,e,n=t.rootSchema,r="#"){if(e!=null&&n[_g]){const s=[],o=n[_g],a=e[n[_g]];if(a===void 0)return t.errors.missingOneOfPropertyError({property:o,pointer:r,schema:n,value:e});for(let l=0;l<n.oneOf.length;l+=1){const u=t.resolveRef(n.oneOf[l]),c=t.step(o,u,e,r);if(js(c))return c;let f=eO(t.validate(a,c,r));if(f=f.filter(h3),f.length>0)s.push(...f);else return rv(n,u,l)}return t.errors.oneOfPropertyError({property:o,value:a,pointer:r,schema:n,errors:s})}const i=[];for(let s=0;s<n.oneOf.length;s+=1){const o=t.resolveRef(n.oneOf[s]);t.isValid(e,o,r)&&i.push({schema:o,index:s})}if(i.length===1)return rv(n,i[0].schema,i[0].index);if(Rn(e)==="object"){let s,o=-1,a=0;for(let l=0;l<n.oneOf.length;l+=1){const u=t.resolveRef(n.oneOf[l]),c=nEe(t,u,e);a<c&&(a=c,s=n.oneOf[l],o=l)}return s===void 0?t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf}):rv(n,s,o)}return i.length>1?t.errors.multipleOneOfError({matches:i,pointer:r,schema:n,value:e}):t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf})}const rEe=(t,e,n,r)=>{if(Array.isArray(e.oneOf)){const i=t.resolveOneOf(n,e,r);if(js(i))return i}};var BA,GQ;function iEe(){if(GQ)return BA;GQ=1;var t=function(O){return e(O)&&!n(O)};function e(v){return!!v&&typeof v=="object"}function n(v){var O=Object.prototype.toString.call(v);return O==="[object RegExp]"||O==="[object Date]"||s(v)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(v){return v.$$typeof===i}function o(v){return Array.isArray(v)?[]:{}}function a(v,O){return O.clone!==!1&&O.isMergeableObject(v)?g(o(v),v,O):v}function l(v,O,_){return v.concat(O).map(function(S){return a(S,_)})}function u(v,O){if(!O.customMerge)return g;var _=O.customMerge(v);return typeof _=="function"?_:g}function c(v){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(v).filter(function(O){return Object.propertyIsEnumerable.call(v,O)}):[]}function f(v){return Object.keys(v).concat(c(v))}function h(v,O){try{return O in v}catch{return!1}}function d(v,O){return h(v,O)&&!(Object.hasOwnProperty.call(v,O)&&Object.propertyIsEnumerable.call(v,O))}function m(v,O,_){var S={};return _.isMergeableObject(v)&&f(v).forEach(function(k){S[k]=a(v[k],_)}),f(O).forEach(function(k){d(v,k)||(h(v,k)&&_.isMergeableObject(O[k])?S[k]=u(k,_)(v[k],O[k],_):S[k]=a(O[k],_))}),S}function g(v,O,_){_=_||{},_.arrayMerge=_.arrayMerge||l,_.isMergeableObject=_.isMergeableObject||t,_.cloneUnlessOtherwiseSpecified=a;var S=Array.isArray(O),k=Array.isArray(v),A=S===k;return A?S?_.arrayMerge(v,O,_):m(v,O,_):a(O,_)}g.all=function(O,_){if(!Array.isArray(O))throw new Error("first argument should be an array");return O.reduce(function(S,k){return g(S,k,_)},{})};var b=g;return BA=b,BA}var sEe=iEe();const BJ=j0(sEe),oEe=(t,e)=>e,y9=(t,e)=>BJ(t,e,{arrayMerge:oEe}),aEe=(t,e)=>{const n=t.concat(e);return n.filter((r,i)=>n.indexOf(r)===i)},lEe=(t,e)=>BJ(t,e,{arrayMerge:aEe});function oo(t,e){const n=Rn(t),r=Rn(e);if(n!==r)return t;const i=lEe(t,e);return t.getOneOfOrigin?Object.defineProperty(i,"getOneOfOrigin",{enumerable:!1,value:t.getOneOfOrigin}):e.getOneOfOrigin&&Object.defineProperty(i,"getOneOfOrigin",{enumerable:!1,value:e.getOneOfOrigin}),i}function tO(t,...e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),t.getOneOfOrigin&&Object.defineProperty(n,"getOneOfOrigin",{enumerable:!1,value:t.getOneOfOrigin}),n}var uEe=Function.prototype.toString,zA=Object.create,cEe=Object.prototype.toString,fEe=(function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},t})();function hEe(){return new fEe}function dEe(){return new WeakMap}var pEe=typeof WeakMap<"u"?dEe:hEe;function b9(t){if(!t)return zA(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:zA(t);if(e&&~uEe.call(e).indexOf("[native code]"))try{return new e}catch{}return zA(t)}function mEe(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function gEe(t){return t.flags}var yEe=/test/g.flags==="g"?gEe:mEe;function zJ(t){var e=cEe.call(t);return e.substring(8,e.length-1)}function bEe(t){return t[Symbol.toStringTag]||zJ(t)}var vEe=typeof Symbol<"u"?bEe:zJ,OEe=Object.defineProperty,wEe=Object.getOwnPropertyDescriptor,UJ=Object.getOwnPropertyNames,v9=Object.getOwnPropertySymbols,jJ=Object.prototype,qJ=jJ.hasOwnProperty,xEe=jJ.propertyIsEnumerable,VJ=typeof v9=="function";function _Ee(t){return UJ(t).concat(v9(t))}var SEe=VJ?_Ee:UJ;function f4(t,e,n){for(var r=SEe(t),i=0,s=r.length,o=void 0,a=void 0;i<s;++i)if(o=r[i],!(o==="callee"||o==="caller")){if(a=wEe(t,o),!a){e[o]=n.copier(t[o],n);continue}!a.get&&!a.set&&(a.value=n.copier(a.value,n));try{OEe(e,o,a)}catch{e[o]=a.value}}return e}function kEe(t,e){var n=new e.Constructor;e.cache.set(t,n);for(var r=0,i=t.length;r<i;++r)n[r]=e.copier(t[r],e);return n}function CEe(t,e){var n=new e.Constructor;return e.cache.set(t,n),f4(t,n,e)}function XJ(t,e){return t.slice(0)}function AEe(t,e){return t.slice(0,t.size,t.type)}function EEe(t,e){return new e.Constructor(XJ(t.buffer))}function TEe(t,e){return new e.Constructor(t.getTime())}function ZJ(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r,i){n.set(i,e.copier(r,e))}),n}function DEe(t,e){return f4(t,ZJ(t,e),e)}function PEe(t,e){var n=b9(e.prototype);e.cache.set(t,n);for(var r in t)qJ.call(t,r)&&(n[r]=e.copier(t[r],e));return n}function REe(t,e){var n=b9(e.prototype);e.cache.set(t,n);for(var r in t)qJ.call(t,r)&&(n[r]=e.copier(t[r],e));for(var i=v9(t),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],xEe.call(t,a)&&(n[a]=e.copier(t[a],e));return n}var $Ee=VJ?REe:PEe;function IEe(t,e){var n=b9(e.prototype);return e.cache.set(t,n),f4(t,n,e)}function UA(t,e){return new e.Constructor(t.valueOf())}function FEe(t,e){var n=new e.Constructor(t.source,yEe(t));return n.lastIndex=t.lastIndex,n}function d_(t,e){return t}function WJ(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r){n.add(e.copier(r,e))}),n}function MEe(t,e){return f4(t,WJ(t,e),e)}var LEe=Array.isArray,O9=Object.assign,NEe=Object.getPrototypeOf||(function(t){return t.__proto__}),YJ={array:kEe,arrayBuffer:XJ,blob:AEe,dataView:EEe,date:TEe,error:d_,map:ZJ,object:$Ee,regExp:FEe,set:WJ},QEe=O9({},YJ,{array:CEe,map:DEe,object:IEe,set:MEe});function BEe(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:UA,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:UA,Object:t.object,Promise:d_,RegExp:t.regExp,Set:t.set,String:UA,WeakMap:d_,WeakSet:d_,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function GJ(t){var e=O9({},YJ,t),n=BEe(e),r=n.Array,i=n.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=NEe(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if(LEe(o))return r(o,a);var l=n[vEe(o)];return l?l(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:pEe(),copier:s,prototype:void 0})}}function zEe(t){return GJ(O9({},QEe,t))}zEe({});var d3=GJ({});function h4(t,e,n){if(e.if!=null){if(e.if===!1)return e.else;if(e.if&&(e.then||e.else)){const r=t.validate(n,t.resolveRef(e.if));if(r.length===0&&e.then)return t.resolveRef(e.then);if(r.length!==0&&e.else)return t.resolveRef(e.else)}}}const UEe=(t,e,n,r)=>{const i=h4(t,e,n);if(i)return t.validate(n,i,r)};function HJ(t,e,n){var r;const i={...(r=t.resolveRef(e))!==null&&r!==void 0?r:{}},s=h4(t,i,n);return s||tO(i,"if","then","else")}function KJ(t,e,n=t.rootSchema){let r=d3(n);for(let i=0;i<n.allOf.length;i+=1){const s=HJ(t,n.allOf[i],e);r=oo(r,s)}return delete r.allOf,r}function JJ(t,e){const{allOf:n}=e;if(!Array.isArray(n)||n.length===0)return;let r={};return n.forEach(i=>{r=oo(r,t.resolveRef(i))}),r}const jEe=(t,e,n,r)=>{const{allOf:i}=e;if(!Array.isArray(i)||i.length===0)return;const s=[];return e.allOf.forEach(o=>{s.push(...t.validate(n,o,r))}),s};function eee(t,e){return t==null||t.$ref==null?t:t.getRoot?t.getRoot().getRef(t):e.getRef(t)}function qEe(t){return t.filter((e,n)=>t.indexOf(e)===n)}function dd(t){return Rn(t)==="object"}function tee(t,e,n){const{dependencies:r}=e;if(!dd(r)||!dd(n))return;let i=!1,s={required:[]};if(Object.keys(r).forEach(o=>{var a,l;if(n[o]==null&&!(!((a=e.required)===null||a===void 0)&&a.includes(o)||!((l=s.required)===null||l===void 0)&&l.includes(o)))return;const u=r[o];if(Array.isArray(u)){i=!0,s.required.push(...u);return}if(dd(u)){i=!0,s=oo(s,t.resolveRef(u));return}}),i)return s.required=qEe(s.required),s}const VEe=(t,e,n,r)=>{if(Rn(e.dependencies)!=="object")return;const i=[];return Object.keys(n).forEach(s=>{if(e.dependencies[s]===void 0||e.dependencies[s]===!0)return;if(e.dependencies[s]===!1){i.push(t.errors.missingDependencyError({pointer:r,schema:e,value:n}));return}let o;const a=Rn(e.dependencies[s]);if(a==="array")o=e.dependencies[s].filter(l=>n[l]===void 0).map(l=>t.errors.missingDependencyError({missingProperty:l,pointer:r,schema:e,value:n}));else if(a==="object")o=t.validate(n,e.dependencies[s],r);else throw new Error(`Invalid dependency definition for ${r}/${s}. Must be string[] or schema`);i.push(...o)}),i.length>0?i:void 0};function nee(t,e,n){if(!Array.isArray(e.anyOf)||e.anyOf.length===0)return;let r;return e.anyOf.forEach(i=>{i=t.resolveRef(i),t.isValid(n,i)&&(r=r?oo(r,i):i)}),r}function ree(t,e,n=t.rootSchema,r="#"){const{anyOf:i}=n;if(!Array.isArray(i)||i.length===0)return n;const s=nee(t,n,e);if(s==null)return t.errors.anyOfError({pointer:r,schema:n,value:e,anyOf:JSON.stringify(i)});const o=oo(n,s);return tO(o,"anyOf")}const XEe=(t,e,n,r)=>{if(!(!Array.isArray(e.anyOf)||e.anyOf.length===0)){for(let i=0;i<e.anyOf.length;i+=1)if(t.isValid(n,e.anyOf[i]))return;return t.errors.anyOfError({pointer:r,schema:e,value:n,anyOf:e.anyOf})}},HQ=["allOf","anyOf","oneOf","dependencies","if","then","else"],ZEe=["allOf","anyOf","oneOf","dependencies","if"];function WEe(t){const e=Object.keys(t);return ZEe.findIndex(n=>e.includes(n))!==-1}function oT(t,e,n,r){let i,s;if(e=t.resolveRef(e),e.oneOf){const c=g9(t,n,e,r);js(c)?s=c:c&&(i=oo(i??{},c))}if(Array.isArray(e.allOf)){const c=e.allOf.map(f=>{if(WEe(f)){let h=oT(t,f,n,r);return h?(h=oo(f,h),tO(h,...HQ)):void 0}return f});if(c.length>0){const f=JJ(t,{allOf:c});i=oo(i??{},f)}}const o=nee(t,e,n);o&&(i=oo(i??{},o));const a=tee(t,e,n);a&&(i=oo(i??{},a));const l=h4(t,e,n);if(l&&(i=oo(i??{},l)),i==null)return s;const u=oT(t,i,n,r);return u&&(i=oo(i,u)),tO(i,...HQ)}const YEe=["allOf","anyOf","oneOf","dependencies","if","then","else"];function KQ(t,e,n,r){let i=oT(t,e,n,r);return i?(i=oo(e,i),tO(i,...YEe)):e}class iee{constructor(e,n){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=e,this.typeKeywords=d3(e.typeKeywords),this.validateKeyword=Object.assign({},e.validateKeyword),this.validateType=Object.assign({},e.validateType),this.validateFormat=Object.assign({},e.validateFormat),this.errors=Object.assign({},e.errors),this.setSchema(n)}get rootSchema(){return this.__rootSchema}set rootSchema(e){e!=null&&(this.__rootSchema=this.config.compileSchema(this,e))}addRemoteSchema(e,n){this.config.addRemoteSchema(this,e,n)}compileSchema(e){var n;return this.config.compileSchema(this,e,(n=this.rootSchema)!==null&&n!==void 0?n:e)}createSchemaOf(e){return this.config.createSchemaOf(e)}each(e,n,r,i){return this.config.each(this,e,n,r,i)}eachSchema(e,n=this.rootSchema){return this.config.eachSchema(n,e)}getChildSchemaSelection(e,n){return this.config.getChildSchemaSelection(this,e,n)}getSchema(e){return this.config.getSchema(this,e)}getTemplate(e,n,r=this.config.templateDefaultOptions){return this.config.getTemplate(this,e,n,r)}isValid(e,n,r){return this.config.isValid(this,e,n,r)}resolveAnyOf(e,n,r){return this.config.resolveAnyOf(this,e,n,r)}resolveAllOf(e,n){return this.config.resolveAllOf(this,e,n)}resolveRef(e){return this.config.resolveRef(e,this.rootSchema)}resolveOneOf(e,n,r){return this.config.resolveOneOf(this,e,n,r)}setSchema(e){this.rootSchema=e}step(e,n,r,i){return this.config.step(this,e,n,r,i)}validate(e,n,r){return this.config.validate(this,e,n,r)}}function see(t,e,n){n.id=n.id||e,t.remotes[e]=t.compileSchema(n)}var p_={exports:{}},GEe=p_.exports,JQ;function HEe(){return JQ||(JQ=1,(function(t,e){(function(n,r){t.exports=r()})(typeof self<"u"?self:GEe,(()=>(()=>{var n={d:(R,M)=>{for(var B in M)n.o(M,B)&&!n.o(R,B)&&Object.defineProperty(R,B,{enumerable:!0,get:M[B]})},o:(R,M)=>Object.prototype.hasOwnProperty.call(R,M),r:R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})}},r={};function i(R){return R==="#"||R===""||Array.isArray(R)&&R.length===0||!1}n.r(r),n.d(r,{default:()=>$,get:()=>h,isRoot:()=>i,join:()=>N,remove:()=>k,removeUndefinedItems:()=>S,set:()=>v,split:()=>f,splitLast:()=>I});const s=/~1/g,o=/~0/g,a=/\/+/g,l=/(^[#/]*|\/+$)/g;function u(R){return R.replace(s,"/").replace(o,"~")}function c(R){return u(decodeURIComponent(R))}function f(R){if(R==null||typeof R!="string"||i(R))return Array.isArray(R)?R:[];const M=R.indexOf("#")>=0?c:u,B=(R=(R=R.replace(a,"/")).replace(l,"")).split("/");for(let U=0,j=B.length;U<j;U+=1)B[U]=M(B[U]);return B}function h(R,M,B=void 0){if(M==null||R==null)return B;if(i(M))return R;const U=d(R,f(M));return U===void 0?B:U}function d(R,M){const B=M.shift();if(R!==void 0)return B!==void 0?d(R[B],M):R}const m=/^\[.*\]$/,g=/^\[(.+)\]$/;function b(R,M){return R==="__proto__"||R=="constructor"&&M.length>0&&M[0]=="prototype"}function v(R,M,B){if(M==null)return R;const U=f(M);if(U.length===0)return R;R==null&&(R=m.test(U[0])?[]:{});let j,ee,W=R;for(;U.length>1;)j=U.shift(),ee=m.test(U[0]),b(j,U)||(W=_(W,j,ee));return j=U.pop(),O(W,j,B),R}function O(R,M,B){let U;const j=M.match(g);M==="[]"&&Array.isArray(R)?R.push(B):j?(U=j.pop(),R[U]=B):R[M]=B}function _(R,M,B){if(R[M]!=null)return R[M];const U=B?[]:{};return O(R,M,U),U}function S(R){let M=0,B=0;for(;M+B<R.length;)R[M+B]===void 0&&(B+=1),R[M]=R[M+B],M+=1;return R.length=R.length-B,R}function k(R,M,B){const U=f(M),j=U.pop(),ee=h(R,U);return ee&&delete ee[j],Array.isArray(ee)&&B!==!0&&S(ee),R}const A=/\/+/g,C=/~/g,T=/\//g;function P(R,M){if(R.length===0)return M?"#":"";for(let B=0,U=R.length;B<U;B+=1)R[B]=R[B].replace(C,"~0").replace(T,"~1"),M&&(R[B]=encodeURIComponent(R[B]));return((M?"#/":"/")+R.join("/")).replace(A,"/")}function N(R,...M){const B=[];if(Array.isArray(R))return P(R,arguments[1]===!0);const U=arguments[arguments.length-1],j=typeof U=="boolean"?U:R&&R[0]==="#";for(let W=0,ue=arguments.length;W<ue;W+=1)B.push.apply(B,f(arguments[W]));const ee=[];for(let W=0,ue=B.length;W<ue;W+=1)if(B[W]===".."){if(ee.length===0)return j?"#":"";ee.pop()}else ee.push(B[W]);return P(ee,j)}function I(R){const M=f(R);if(M.length===0)return typeof R=="string"&&R[0]==="#"?["#",M[0]]:["",void 0];if(M.length===1)return R[0]==="#"?["#",M[0]]:["",M[0]];const B=M.pop();return[N(M,R[0]==="#"),B]}const $={get:h,set:v,remove:k,join:N,split:f,splitLast:I,isRoot:i,removeUndefinedItems:S};return r})()))})(p_)),p_.exports}var Np=HEe();const nO=j0(Np);var Kw={},To={},Wy={},eB;function KEe(){if(eB)return Wy;eB=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.TokenError=void 0;let t=class extends Error{constructor(n,r){if(super(n),this.message=n,this.token=r,r&&r.errors)r.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}};return Wy.TokenError=t,Wy}var tB;function JEe(){if(tB)return To;tB=1,Object.defineProperty(To,"__esModule",{value:!0}),To.Parser=To.findRuleByName=To.parseRuleName=To.escapeRegExp=To.readToken=void 0;const t=/^[A-Z0-9_]+$/,e=/(\?|\+|\*)$/,n=/^(@|&|!)/,r="WS",i=KEe();function s(g,b){let v=b.exec(g);return v&&v.index==0?v[0].length==0&&b.source.length>0?null:{type:null,text:v[0],rest:g.substr(v[0].length),start:0,end:v[0].length-1,fullText:v[0],errors:[],children:[],parent:null}:null}To.readToken=s;function o(g){return g.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}To.escapeRegExp=o;function a(g){g.rest="",g.children&&g.children.forEach(b=>a(b))}function l(g,b){g.start+=b,g.end+=b,g.children&&g.children.forEach(v=>l(v,g.start))}function u(g,b){b.errors&&b.errors.length&&b.errors.forEach(v=>g.push(v)),b.children&&b.children.forEach(v=>u(g,v))}function c(g){let b=e.exec(g),v=n.exec(g),O=b&&b[0]||"",_=v&&v[0]||"",S={raw:g,name:g.replace(e,"").replace(n,""),isOptional:O=="?"||O=="*",allowRepetition:O=="+"||O=="*",atLeastOne:O=="+",lookupPositive:_=="&",lookupNegative:_=="!",pinned:_=="@",lookup:!1,isLiteral:!1};return S.isLiteral=S.name[0]=="'"||S.name[0]=='"',S.lookup=S.lookupNegative||S.lookupPositive,S}To.parseRuleName=c;function f(g,b){let v=c(g);return b.cachedRules[v.name]||null}To.findRuleByName=f;function h(g,b){if(g.children){let v=g.children.filter(O=>O.type&&b.test(O.type));for(let O=0;O<v.length;O++){let _=g.children.indexOf(v[O]);_!=-1&&g.children.splice(_,1)}g.children.forEach(O=>h(O,b))}}const d=["EOF"];class m{constructor(b,v){this.grammarRules=b,this.options=v,this.cachedRules={},this.debug=v?v.debug===!0:!1;let O=[],_=[];if(b.forEach(S=>{let k=c(S.name);if(k.name in this.cachedRules){O.push("Duplicated rule "+k.name);return}else this.cachedRules[k.name]=S;if(!S.bnf||!S.bnf.length){let A="Missing rule content, rule: "+S.name;O.indexOf(A)==-1&&O.push(A)}else S.bnf.forEach(A=>{if(typeof A[0]=="string"&&c(A[0]).name==S.name){let T="Left recursion is not allowed, rule: "+S.name;O.indexOf(T)==-1&&O.push(T)}A.forEach(C=>{if(typeof C=="string"){let T=c(C);!T.isLiteral&&_.indexOf(T.name)==-1&&d.indexOf(T.name)==-1&&_.push(T.name)}})});r==S.name&&(S.implicitWs=!1),S.implicitWs&&_.indexOf(r)==-1&&_.push(r),S.recover&&_.indexOf(S.recover)==-1&&_.push(S.recover)}),_.forEach(S=>{S in this.cachedRules||O.push("Missing rule "+S)}),O.length)throw new Error(O.join(`
`))}getAST(b,v){v||(v=this.grammarRules.filter(_=>!_.fragment&&_.name.indexOf("%")!=0)[0].name);let O=this.parse(b,v);if(O){u(O.errors,O),l(O,0),h(O,/^%/),(!this.options||!this.options.keepUpperRules)&&h(O,t);let _=O.rest;_&&new i.TokenError(`Unexpected end of input: 
`+_,O),a(O),O.rest=_}return O}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(b,v,O=0){let _=null,S=c(v),k,A=this.debug&&!t.test(S.name);A&&console.log(new Array(O).join("â  ")+"Trying to get "+v+" from "+JSON.stringify(b.split(`
`)[0]));let C=S.name,T=f(S.name,this);if(S.name=="EOF"){if(b.length)return null;if(b.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!T&&S.isLiteral){let P=S.name.trim();if(P.startsWith('"')?P=JSON.parse(P):P.startsWith("'")&&(P=P.replace(/^'(.+)'$/,"$1").replace(/\\'/g,"'")),P==="")return{type:"%%EMPTY%%",text:"",rest:b,start:0,end:0,fullText:"",errors:[],children:[],parent:null};k=new RegExp(o(P)),C=null}}catch(P){return P instanceof ReferenceError&&console.error(P),null}if(k){let P=s(b,k);if(P)return P.type=C,P}else{let P=T.bnf;P instanceof Array&&P.forEach(N=>{if(_)return;let I=null,$={type:S.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:b};T.fragment&&($.fragment=!0);let R=b,M=0,B=N.length>0,U=!1;for(let j=0;j<N.length;j++)if(typeof N[j]=="string"){let ee=c(N[j]);B=B&&ee.isOptional;let W,ue=!1;do{if(W=null,T.implicitWs&&(W=this.parse(R,ee.name,O+1),!W)){let te;do if(te=this.parse(R,r,O+1),te)$.text=$.text+te.text,$.end=$.text.length,te.parent=$,$.children.push(te),R=R.substr(te.text.length),M+=te.text.length;else break;while(te&&te.text.length)}if(W=W||this.parse(R,ee.name,O+1),ee.lookupNegative){if(W)return;break}if(ee.lookupPositive&&!W)return;if(!W&&(ee.isOptional||ee.atLeastOne&&ue))break;if(W&&T.pinned==j+1&&(I=W,A&&console.log(new Array(O+1).join("â  ")+"ââ "+W.type+" PINNED")),W||(W=this.parseRecovery(T,R,O+1)),!W)if(I)_=$,W={type:"SyntaxError",text:R,children:[],end:R.length,errors:[],fullText:"",parent:null,start:0,rest:""},R.length?new i.TokenError(`Unexpected end of input. Expecting ${ee.name} Got: ${R}`,W):new i.TokenError(`Unexpected end of input. Missing ${ee.name}`,W),A&&console.log(new Array(O+1).join("â  ")+"ââ "+W.type+" "+JSON.stringify(W.text));else return;if(ue=!0,U=!0,W.type=="%%EMPTY%%")break;W.start+=M,W.end+=M,!ee.lookupPositive&&W.type&&(W.fragment?W.children&&W.children.forEach(te=>{te.start+=M,te.end+=M,te.parent=$,$.children.push(te)}):(W.parent=$,$.children.push(W))),ee.lookup&&(W.lookup=!0),A&&console.log(new Array(O+1).join("â  ")+"ââ "+W.type+" "+JSON.stringify(W.text)),!ee.lookup&&!W.lookup&&($.text=$.text+W.text,$.end=$.text.length,R=R.substr(W.text.length),M+=W.text.length),$.rest=R}while(W&&ee.allowRepetition&&R.length&&!W.lookup)}else{let ee=s(R,N[j]);if(!ee)return;A&&console.log(new Array(O+1).join("â  ")+"â> "+JSON.stringify(ee.text)+N[j].source),U=!0,ee.start+=M,ee.end+=M,$.text=$.text+ee.text,$.end=$.text.length,R=R.substr(ee.text.length),M+=ee.text.length,$.rest=R}U&&(_=$,A&&console.log(new Array(O).join("â  ")+"â<ââ´< PUSHING "+_.type+" "+JSON.stringify(_.text)))}),_&&T.simplifyWhenOneChildren&&_.children.length==1&&(_=_.children[0])}return _||A&&console.log(v+" NOT RESOLVED FROM "+b),_}parseRecovery(b,v,O){if(b.recover&&v.length){let _=this.debug;_&&console.log(new Array(O+1).join("â  ")+"Trying to recover until token "+b.recover+" from "+JSON.stringify(v.split(`
`)[0]+v.split(`
`)[1]));let S={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},k;do if(k=this.parse(v,b.recover,O+1),k){new i.TokenError('Unexpected input: "'+S.text+`" Expecting: ${b.name}`,S);break}else S.text=S.text+v[0],S.end=S.text.length,v=v.substr(1);while(!k&&v.length>0);if(S.text.length>0&&k)return _&&console.log(new Array(O+1).join("â  ")+"Recovered text: "+JSON.stringify(S.text)),S}return null}}return To.Parser=m,To.default=m,To}var nB;function e8e(){if(nB)return Kw;nB=1,Object.defineProperty(Kw,"__esModule",{value:!0});const t=JEe();var e;return(function(n){n.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],n.defaultParser=new t.Parser(n.RULES,{debug:!1});const r=/^(!|&)/,i=/(\?|\+|\*)$/,s=/^%/;function o(_,S){if(typeof _=="string"){if(r.test(_))return"";if(s.test(_)){let A=i.exec(_),C=A?A[0]+" ":"";return a(_,S)?u(_,S)+C:"("+u(_,S)+")"+C}return _}else return _.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function a(_,S){let k=t.findRuleByName(_,S);return k&&k.bnf.length==1&&k.bnf[0].length==1&&(k.bnf[0][0]instanceof RegExp||k.bnf[0][0][0]=='"'||k.bnf[0][0][0]=="'")}function l(_,S){return _.map(k=>o(k,S)).join(" ")}function u(_,S){let k=t.findRuleByName(_,S);return k?k.bnf.map(A=>l(A,S)).join(" | "):"RULE_NOT_FOUND {"+_+"}"}function c(_){let S=[];return _.grammarRules.forEach(k=>{if(!/^%/.test(k.name)){let A=k.recover?" /* { recoverUntil="+k.recover+" } */":"";S.push(k.name+" ::= "+u(k.name,_)+A)}}),S.join(`
`)}n.emit=c;let f=0;function h(_,S){throw console.log("reberia restar "+S+" a "+_),new Error("Difference not supported yet")}function d(_){return new RegExp(_.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function m(_,S,k){let A=null,C=[];return S.children.forEach((T,P)=>{T.type=="Minus"&&h(A,T);let N=S.children[P+1];N=N&&N.type=="PrimaryDecoration"&&N.text||"";let I="";switch(T.type){case"SubItem":let $="%"+(k+f++);g(_,T,$),C.push(I+$+N);break;case"NCName":case"StringLiteral":C.push(I+T.text+N);break;case"CharCode":case"CharClass":if(N||I){let R={name:"%"+(k+f++),bnf:[[d(T.text)]]};_.push(R),C.push(I+R.name+N)}else C.push(d(T.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+T.type+" -> "+JSON.stringify(T.text))}A=T}),C}function g(_,S,k){let A=S.children.filter(P=>P.type=="SequenceOrDifference").map(P=>m(_,P,k)),C={name:k,bnf:A},T=null;A.forEach(P=>{T=T||P.recover,delete P.recover}),k.indexOf("%")==0&&(C.fragment=!0),T&&(C.recover=T),_.push(C)}function b(_,S=n.defaultParser){let k=S.getAST(_);if(!k)throw new Error("Could not parse "+_);if(k.errors&&k.errors.length)throw k.errors[0];let A=[];return k.children.filter(C=>C.type=="Production").map(C=>{let T=C.children.filter(P=>P.type=="NCName")[0].text;g(A,C,T)}),A}n.getRules=b;function v(_,S=n.defaultParser){return b(_.join(""),S)}n.Transform=v;class O extends t.Parser{constructor(S,k){const A=k&&k.debugRulesParser===!0?new t.Parser(n.RULES,{debug:!0}):n.defaultParser;super(b(S,A),k)}emitSource(){return c(this)}}n.Parser=O})(e||(e={})),Kw.default=e,Kw}var t8e=e8e();const n8e=j0(t8e),r8e="[^?/{}*,()#]+",i8e=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${r8e}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,s8e=new n8e.Parser(i8e),o8e=t=>s8e.getAST(t),Mo=0,m1=3,p3=(t,e)=>`${t}/${e}`,oee=Object.prototype.toString,a8e=/Object|Array/,aT=t=>a8e.test(oee.call(t)),l8e=t=>oee.call(t).match(/\s([^\]]+)\]/).pop().toLowerCase();function aee(t){return new RegExp(t.text.replace(/(^{|}$)/g,""))}function u8e(t,e){Array.isArray(t)?t.forEach(e):Object.prototype.toString.call(t)==="[object Object]"&&Object.keys(t).forEach(function(n){e(t[n],n,t)})}function rB(t){return Array.isArray(t)?t.map(function(e,n){return`${n}`}):Object.prototype.toString.call(t)==="[object Object]"?Object.keys(t):[]}const pd={mem:[],get(t,e){const n=t[Mo][e];if(!pd.mem.includes(n))return aT(n)&&pd.mem.push(n),[n,e,t[Mo],p3(t[m1],e)]},reset(){pd.mem.length=0}},lT={any(t,e){const n=e[Mo];return rB(n).map(r=>[n[r],r,n,p3(e[m1],r)])},all(t,e){const n=[e];return u8e(e[Mo],(r,i)=>{const s=pd.get(e,i);s&&n.push(...lT.all(t,s))}),n},regex(t,e){const n=aee(t),r=e[Mo];return rB(r).filter(i=>n.test(i)).map(i=>[r[i],i,r,p3(e[m1],i)])}},m3={escaped:(t,e)=>m3.property(t,e),property:(t,e)=>{const n=t.text;if(e[Mo]&&e[Mo][n]!==void 0)return[e[Mo][n],n,e[Mo],p3(e[m1],n)]},typecheck:(t,e)=>{const n=t.text.replace(/^\?:/,"");if(n==="value")return aT(e[Mo])?void 0:e;if(l8e(e[Mo])===n)return e},lookahead:(t,e)=>{let n=!0,r=!1;return t.children.forEach(i=>{if(i.type==="expression"){const s=m3.expression(i,e)!==void 0;n=r===!0?n||s:n&&s}else r=i.type==="orExpr"}),n?e:void 0},expression:(t,e)=>{const n=t.children[0].text,r=t.children[1],i=t.children[2],s=e[Mo];if(aT(s)!==!1)return c8e(s[n],r,i)?e:void 0}};function c8e(t,e,n){if(e===void 0)return t!==void 0;let r;const i=`${t}`;return n.type==="regex"?r=aee(n).test(i):r=i===n.text,e.type==="isnot"&&(r=r===!1&&t!==void 0),r}function f8e(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s+=1)i.push(...t(n,e[s],n,r));return i}function h8e(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s+=1){const a=t(n,e[s],r);a&&i.push(a)}return i}function d8e(t,e,n){let r=t;return e.children.forEach(i=>{if(lT[i.type])r=f8e(lT[i.type],r,i,n);else if(m3[i.type])r=h8e(m3[i.type],r,i,n);else throw new Error(`Unknown filter ${i.type}`)}),r}function p8e(t,e,n){const r=[];let i=t;return e.children.forEach(s=>{if(s.type==="orPattern"){r.push(...i),i=t;return}i=w9(i,s,n)}),r.push(...i),r}function m8e(t){if(t==null)return 1;if(t==="*"||t==="+")return 1/0;const e=parseInt(t);return isNaN(e)?1:e}function g8e(t,e,n){const r=[],i=e.children.find(l=>l.type==="quantifier"),s=m8e(i&&i.text);let o=t;i&&i.text==="*"&&r.push(...o);let a=0;for(;o.length>0&&a<s;)o=p8e(o,e,n),r.push(...o),a+=1;return r}function y8e(t,e,n){let r=t;return e.children.forEach(i=>r=w9(r,i,n)),r}function w9(t,e,n){let r;return e.type==="query"?r=d8e(t,e,n):e.type==="pattern"?r=g8e(t,e,n):r=y8e(t,e,n),pd.reset(),pd.mem.push(t),r}function b8e(t,e){return pd.reset(),pd.mem.push(t),w9([[t,null,null,"#"]],e)}const iB={value:t=>t.map(e=>e[Mo]),pointer:t=>t.map(e=>e[m1]),all:t=>t,map:t=>{const e={};return t.forEach(n=>e[n[m1]]=n[Mo]),e}};var S0;(function(t){t.POINTER="pointer",t.VALUE="value",t.ALL="all",t.MAP="map"})(S0||(S0={}));t2.POINTER=S0.POINTER;t2.VALUE=S0.VALUE;t2.ALL=S0.ALL;t2.MAP=S0.MAP;function t2(t,e,n=S0.VALUE){if(e==null)return[];e=e.replace(/(\/$)/g,""),e===""&&(e="#");const r=o8e(e);if(r==null)throw new Error(`empty ast for '${e}'`);if(r.rest!=="")throw new Error(`Failed parsing queryString from: '${r.rest}'`);const i=b8e(t,r);return typeof n=="function"?i.map(s=>n(...s)):iB[n]?iB[n](i):i}var g3;(function(t){t.REPLACE_ITEMS="replace",t.INSERT_ITEMS="insert"})(g3||(g3={}));g3.REPLACE_ITEMS;g3.INSERT_ITEMS;const Rf={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}},v8e=Object.keys(Rf).filter(t=>Rf[t].type===!1),sB=Object.prototype.hasOwnProperty;function oB(t){if(dd(t)===!1)return;if(t.enum)return"enum";const e=t.type;if(Array.isArray(e)||Rf[e])return e;const n=v8e.filter(r=>t[r]);if(n.length===1)return n[0];if(n.length===0){for(let r=0,i=Rf.object.keywords.length;r<i;r+=1){const s=Rf.object.keywords[r];if(sB.call(t,s))return"object"}for(let r=0,i=Rf.array.keywords.length;r<i;r+=1){const s=Rf.array.keywords[r];if(sB.call(t,s))return"array"}return}throw new Error(`Mutiple typeIds [${n.join(", ")}] matched in ${JSON.stringify(t)}`)}function O8e(t){const e=[],n=oB(t);if(n==null)return e;let r;if(Array.isArray(n)){r={};for(let i=0,s=n.length;i<s;i+=1)Object.assign(r,Rf[n[i]])}else r=Rf[n];return r.definitions==null||r.definitions.forEach(i=>{t2(t,i,(s,o,a,l)=>{dd(s)&&oB(s)&&e.push({pointer:nO.join(nO.split(l),!1),def:s})})}),e}function w8e(t,e){if(this.callback(t,e)===!0)return;O8e(t).forEach(r=>this.nextTypeDefs(r.def,nO.join(e,r.pointer,!1)))}function Jw(t,e,n,r="definitions"){const i=e[r];Object.keys(i).forEach(s=>{if(i[s]===!1||dd(i[s])){t.nextTypeDefs(i[s],nO.join(n,r,s,!1));return}})}function d4(t,e,n="#"){const r={callback:e,nextTypeDefs:w8e};r.nextTypeDefs(t,n),t.definitions!=null&&(r.callback=(i,s)=>{e(i,s),i.definitions!=null&&Jw(r,i,s)},Jw(r,t,n)),t.$defs!=null&&(r.callback=(i,s)=>{e(i,s),i.definitions!=null&&Jw(r,i,s)},Jw(r,t,n,"$defs"))}const x8e=/(#|\/)+$/,ex=/#$/,_8e=/^[^:]+:\/\/[^/]+\//,S8e=/\/[^/]*$/,k8e=/#.*$/;function y3(t,e){return t==null&&e==null?"#":e==null?t.replace(ex,""):t==null?e.replace(ex,""):e[0]==="#"?`${t.replace(k8e,"")}${e.replace(x8e,"")}`:_8e.test(e)?e.replace(ex,""):`${t.replace(S8e,"")}/${e.replace(ex,"")}`}const Yy=/(#|\/)+$/g,C8e=["",null,"#"];function A8e(t){if(C8e.includes(t))return[];if(t=t.replace(Yy,""),t.indexOf("#")===-1)return[t.replace(Yy,"")];if(t.indexOf("#")===0)return[t.replace(Yy,"")];const e=t.split("#");return e[0]=e[0].replace(Yy,""),e[1]=`#${e[1].replace(Yy,"")}`,e}const E8e=/(#|\/)+$/g,T8e=t=>Rn(t)==="object";function wf(t,e,n){if(T8e(n)&&(n=n.__ref||n.$ref),n==null)return e;let r;const i=n.replace(E8e,"");if(t.remotes[i])return r=t.remotes[i],r&&r.$ref?wf(t,e,r.$ref):r;if(t.ids[n])return r=Np.get(e,t.ids[n]),r&&r.$ref?wf(t,e,r.$ref):r;const s=A8e(n);if(s.length===0)return e;if(s.length===1){if(n=s[0],t.remotes[n])return r=t.remotes[n],wf(t,e,r.$ref);if(t.ids[n])return r=Np.get(e,t.ids[n]),r&&r.$ref?wf(t,e,r.$ref):r}if(s.length===2){const o=s[0];if(n=s[1],t.remotes[o])return t.remotes[o].getRef?t.remotes[o].getRef(n):wf(t,t.remotes[o],n);if(t.ids[o])return wf(t,Np.get(e,t.ids[o]),n)}return r=Np.get(e,t.ids[n]||n),r&&r.$ref?wf(t,e,r.$ref):r}const aB="__compiled",lB="__ref",D8e="getRef",P8e="getRoot",R8e=/(#|\/)+$/g;function $8e(t,e,n=e,r=!1){if(!e||e[aB]!==void 0)return e;const i={ids:{},remotes:t.remotes},s=JSON.stringify(e),o=JSON.parse(s);if(Object.defineProperty(o,aB,{enumerable:!1,value:!0}),Object.defineProperty(o,D8e,{enumerable:!1,value:wf.bind(null,i,o)}),r===!1&&s.includes("$ref")===!1)return o;e!==n&&Object.defineProperty(o,"definitions",{enumerable:!1,value:Object.assign({},n.definitions,n.$defs,e.definitions,e.$defs)});const a={},l=()=>o;return d4(o,(u,c)=>{var f;if(u.id){if(u.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(c)){const b=c.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),v=Np.get(o,b);u.id=(f=v.id)!==null&&f!==void 0?f:u.id}i.ids[u.id.replace(R8e,"")]=c}c=`#${c}`.replace(/##+/,"#");const h=c.replace(/\/[^/]+$/,""),d=c.replace(/\/[^/]+\/[^/]+$/,""),m=a[h]||a[d],g=y3(m,u.id);a[c]=g,i.ids[g]==null&&(i.ids[g]=c),u.$ref&&!u[lB]&&(Object.defineProperty(u,lB,{enumerable:!1,value:y3(g,u.$ref)}),Object.defineProperty(u,P8e,{enumerable:!1,value:l}))}),o}function lee(t,e,n,r=t.rootSchema,i="#"){r=t.resolveRef(r),n(r,e,i);const s=Rn(e);s==="object"?Object.keys(e).forEach(o=>{const a=t.step(o,r,e,i),l=e[o];t.each(l,n,a,`${i}/${o}`)}):s==="array"&&e.forEach((o,a)=>{const l=t.step(a,r,e,i);t.each(o,n,l,`${i}/${a}`)})}const uee={additionalItemsError:ht("AdditionalItemsError"),additionalPropertiesError:ht("AdditionalPropertiesError"),anyOfError:ht("AnyOfError"),allOfError:ht("AllOfError"),constError:ht("ConstError"),containsError:ht("ContainsError"),containsArrayError:ht("ContainsArrayError"),containsAnyError:ht("ContainsAnyError"),enumError:ht("EnumError"),forbiddenPropertyError:ht("ForbiddenPropertyError"),formatURLError:ht("FormatURLError"),formatURIError:ht("FormatURIError"),formatURIReferenceError:ht("FormatURIReferenceError"),formatURITemplateError:ht("FormatURITemplateError"),formatDateError:ht("FormatDateError"),formatDateTimeError:ht("FormatDateTimeError"),formatEmailError:ht("FormatEmailError"),formatHostnameError:ht("FormatHostnameError"),formatIPV4Error:ht("FormatIPV4Error"),formatIPV4LeadingZeroError:ht("FormatIPV4LeadingZeroError"),formatIPV6Error:ht("FormatIPV6Error"),formatIPV6LeadingZeroError:ht("FormatIPV6LeadingZeroError"),formatJsonPointerError:ht("FormatJsonPointerError"),formatRegExError:ht("FormatRegExError"),formatTimeError:ht("FormatTimeError"),invalidSchemaError:ht("InvalidSchemaError"),invalidDataError:ht("InvalidDataError"),invalidTypeError:ht("InvalidTypeError"),invalidPropertyNameError:ht("InvalidPropertyNameError"),maximumError:ht("MaximumError"),maxItemsError:ht("MaxItemsError"),maxLengthError:ht("MaxLengthError"),maxPropertiesError:ht("MaxPropertiesError"),minimumError:ht("MinimumError"),minItemsError:ht("MinItemsError"),minItemsOneError:ht("MinItemsOneError"),minLengthError:ht("MinLengthError"),minLengthOneError:ht("MinLengthOneError"),minPropertiesError:ht("MinPropertiesError"),missingDependencyError:ht("MissingDependencyError"),missingOneOfPropertyError:ht("MissingOneOfPropertyError"),multipleOfError:ht("MultipleOfError"),multipleOneOfError:ht("MultipleOneOfError"),noAdditionalPropertiesError:ht("NoAdditionalPropertiesError"),notError:ht("NotError"),oneOfError:ht("OneOfError"),oneOfPropertyError:ht("OneOfPropertyError"),patternError:ht("PatternError"),patternPropertiesError:ht("PatternPropertiesError"),requiredPropertyError:ht("RequiredPropertyError"),schemaWarning:ht("SchemaWarning"),typeError:ht("TypeError"),undefinedValueError:ht("UndefinedValueError"),uniqueItemsError:ht("UniqueItemsError"),unknownPropertyError:ht("UnknownPropertyError"),valueNotEmptyError:ht("ValueNotEmptyError")};var jA={exports:{}},uB;function I8e(){return uB||(uB=1,(function(t){(function(e){e.exports.is_uri=r,e.exports.is_http_uri=i,e.exports.is_https_uri=s,e.exports.is_web_uri=o,e.exports.isUri=r,e.exports.isHttpUri=i,e.exports.isHttpsUri=s,e.exports.isWebUri=o;var n=function(a){var l=a.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return l};function r(a){if(a&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(a)&&!/%[^0-9a-f]/i.test(a)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a)){var l=[],u="",c="",f="",h="",d="",m="";if(l=n(a),u=l[1],c=l[2],f=l[3],h=l[4],d=l[5],!!(u&&u.length&&f.length>=0)){if(c&&c.length){if(!(f.length===0||/^\//.test(f)))return}else if(/^\/\//.test(f))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(u.toLowerCase()))return m+=u+":",c&&c.length&&(m+="//"+c),m+=f,h&&h.length&&(m+="?"+h),d&&d.length&&(m+="#"+d),m}}}function i(a,l){if(r(a)){var u=[],c="",f="",h="",d="",m="",g="",b="";if(u=n(a),c=u[1],f=u[2],h=u[3],m=u[4],g=u[5],!!c){if(l){if(c.toLowerCase()!="https")return}else if(c.toLowerCase()!="http")return;if(f)return/:(\d+)$/.test(f)&&(d=f.match(/:(\d+)$/)[0],f=f.replace(/:\d+$/,"")),b+=c+":",b+="//"+f,d&&(b+=d),b+=h,m&&m.length&&(b+="?"+m),g&&g.length&&(b+="#"+g),b}}}function s(a){return i(a,!0)}function o(a){return i(a)||s(a)}})(t)})(jA)),jA.exports}var F8e=I8e();const cB=j0(F8e);var Ks={},m_={exports:{}},M8e=m_.exports,fB;function L8e(){return fB||(fB=1,(function(t){(function(e,n){t.exports?t.exports=n():e.nearley=n()})(M8e,function(){function e(u,c,f){return this.id=++e.highestId,this.name=u,this.symbols=c,this.postprocess=f,this}e.highestId=0,e.prototype.toString=function(u){var c=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+" â "+this.symbols.slice(u).map(l).join(" ");return this.name+" â "+c};function n(u,c,f,h){this.rule=u,this.dot=c,this.reference=f,this.data=[],this.wantedBy=h,this.isComplete=this.dot===u.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(u){var c=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=u,c.isComplete&&(c.data=c.build(),c.right=void 0),c},n.prototype.build=function(){var u=[],c=this;do u.push(c.right.data),c=c.left;while(c.left);return u.reverse(),u},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))};function r(u,c){this.grammar=u,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(u){for(var c=this.states,f=this.wants,h=this.completed,d=0;d<c.length;d++){var m=c[d];if(m.isComplete){if(m.finish(),m.data!==o.fail){for(var g=m.wantedBy,b=g.length;b--;){var v=g[b];this.complete(v,m)}if(m.reference===this.index){var O=m.rule.name;(this.completed[O]=this.completed[O]||[]).push(m)}}}else{var O=m.rule.symbols[m.dot];if(typeof O!="string"){this.scannable.push(m);continue}if(f[O]){if(f[O].push(m),h.hasOwnProperty(O))for(var _=h[O],b=0;b<_.length;b++){var S=_[b];this.complete(m,S)}}else f[O]=[m],this.predict(O)}}},r.prototype.predict=function(u){for(var c=this.grammar.byName[u]||[],f=0;f<c.length;f++){var h=c[f],d=this.wants[u],m=new n(h,0,this.index,d);this.states.push(m)}},r.prototype.complete=function(u,c){var f=u.nextState(c);this.states.push(f)};function i(u,c){this.rules=u,this.start=c||this.rules[0].name;var f=this.byName={};this.rules.forEach(function(h){f.hasOwnProperty(h.name)||(f[h.name]=[]),f[h.name].push(h)})}i.fromCompiled=function(h,c){var f=h.Lexer;h.ParserStart&&(c=h.ParserStart,h=h.ParserRules);var h=h.map(function(m){return new e(m.name,m.symbols,m.postprocess)}),d=new i(h,c);return d.lexer=f,d};function s(){this.reset("")}s.prototype.reset=function(u,c){this.buffer=u,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(u,c){var f=this.buffer;if(typeof f=="string"){var h=f.split(`
`).slice(Math.max(0,this.line-5),this.line),d=f.indexOf(`
`,this.index);d===-1&&(d=f.length);var m=this.index-this.lastLineBreak,g=String(this.line).length;return c+=" at line "+this.line+" col "+m+`:

`,c+=h.map(function(v,O){return b(this.line-h.length+O+1,g)+" "+v},this).join(`
`),c+=`
`+b("",g+m)+`^
`,c}else return c+" at index "+(this.index-1);function b(v,O){var _=String(v);return Array(O-_.length+1).join(" ")+_}};function o(u,c,f){if(u instanceof i)var h=u,f=c;else var h=i.fromCompiled(u,c);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new s};for(var d in f||{})this.options[d]=f[d];this.lexer=this.options.lexer,this.lexerState=void 0;var m=new r(h,0);this.table=[m],m.wants[h.start]=[],m.predict(h.start),m.process(),this.current=0}o.fail={},o.prototype.feed=function(u){var c=this.lexer;c.reset(u,this.lexerState);for(var f;;){try{if(f=c.next(),!f)break}catch(C){var g=new r(this.grammar,this.current+1);this.table.push(g);var h=new Error(this.reportLexerError(C));throw h.offset=this.current,h.token=C.token,h}var d=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var m=this.current+1,g=new r(this.grammar,m);this.table.push(g);for(var b=f.text!==void 0?f.text:f.value,v=c.constructor===s?f.value:f,O=d.scannable,_=O.length;_--;){var S=O[_],k=S.rule.symbols[S.dot];if(k.test?k.test(v):k.type?k.type===f.type:k.literal===b){var A=S.nextState({data:v,token:f,isToken:!0,reference:m-1});g.states.push(A)}}if(g.process(),g.states.length===0){var h=new Error(this.reportError(f));throw h.offset=this.current,h.token=f,h}this.options.keepHistory&&(d.lexerState=c.save()),this.current++}return d&&(this.lexerState=c.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(u){var c,f,h=u.token;return h?(c="input "+JSON.stringify(h.text[0])+" (lexer error)",f=this.lexer.formatError(h,"Syntax error")):(c="input (lexer error)",f=u.message),this.reportErrorCommon(f,c)},o.prototype.reportError=function(u){var c=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),f=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(f,c)},o.prototype.reportErrorCommon=function(u,c){var f=[];f.push(u);var h=this.table.length-2,d=this.table[h],m=d.states.filter(function(b){var v=b.rule.symbols[b.dot];return v&&typeof v!="string"});if(m.length===0)f.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(d.states,f);else{f.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var g=m.map(function(b){return this.buildFirstStateStack(b,[])||[b]},this);g.forEach(function(b){var v=b[0],O=v.rule.symbols[v.dot],_=this.getSymbolDisplay(O);f.push("A "+_+" based on:"),this.displayStateStack(b,f)},this)}return f.push(""),f.join(`
`)},o.prototype.displayStateStack=function(u,c){for(var f,h=0,d=0;d<u.length;d++){var m=u[d],g=m.rule.toString(m.dot);g===f?h++:(h>0&&c.push("    ^ "+h+" more lines identical to this"),h=0,c.push("    "+g)),f=g}},o.prototype.getSymbolDisplay=function(u){return a(u)},o.prototype.buildFirstStateStack=function(u,c){if(c.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var f=u.wantedBy[0],h=[u].concat(c),d=this.buildFirstStateStack(f,h);return d===null?null:[u].concat(d)},o.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},o.prototype.restore=function(u){var c=u.index;this.current=c,this.table[c]=u,this.table.splice(c+1),this.lexerState=u.lexerState,this.results=this.finish()},o.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},o.prototype.finish=function(){var u=[],c=this.grammar.start,f=this.table[this.table.length-1];return f.states.forEach(function(h){h.rule.name===c&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==o.fail&&u.push(h)}),u.map(function(h){return h.data})};function a(u){var c=typeof u;if(c==="string")return u;if(c==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var c=typeof u;if(c==="string")return u;if(c==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:o,Grammar:i,Rule:e}})})(m_)),m_.exports}var tx={},hB;function N8e(){if(hB)return tx;hB=1,Object.defineProperty(tx,"__esModule",{value:!0});function t(i){return i[0]}const e=i=>[].concat(...i.map(s=>Array.isArray(s)?e(s):s));function n(i){return i?Array.isArray(i)?e(i).join(""):i:""}const r={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:i=>i.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(i){return i.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(i){return i.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:t},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:t},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:i=>i[0].concat([i[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:t},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:i=>i[0].concat([i[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:t},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(i){return{DomainName:n(i[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(i){return{AddressLiteral:n(i[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(i){return{localPart:n(i[0]),domainPart:n(i[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(i){return{DotString:n(i[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(i){return{QuotedString:n(i[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:i=>i[0].concat([i[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:i=>i[0].concat([i[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:t},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(i){return i.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:i=>i[0].concat([i[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:t},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:t},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:i=>i.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:t},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:t},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:i=>i.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:t},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:t},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:t},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:t},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:t},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:t},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:t},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:t}],ParserStart:"Reverse_path"};return tx.default=r,tx}var dB;function Q8e(){if(dB)return Ks;dB=1;var t=Ks&&Ks.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.canonicalize=Ks.canonicalize_quoted_string=Ks.normalize=Ks.normalize_dot_string=Ks.parse=void 0;const e=L8e(),n=t(N8e());n.default.ParserStart="Mailbox";const r=e.Grammar.fromCompiled(n.default);function i(u){const c=new e.Parser(r);if(c.feed(u),c.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");return c.results[0]}Ks.parse=i;function s(u){return(function(){const h=u.indexOf("+");return h===-1?u:u.substr(0,h)})().replace(/\./g,"").toLowerCase()}Ks.normalize_dot_string=s;function o(u){var c,f;const h=i(u),d=(c=h.domainPart.AddressLiteral)!==null&&c!==void 0?c:h.domainPart.DomainName.toLowerCase();return`${(f=h.localPart.QuotedString)!==null&&f!==void 0?f:s(h.localPart.DotString)}@${d}`}Ks.normalize=o;function a(u){return`"${u.substr(1).substr(0,u.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}Ks.canonicalize_quoted_string=a;function l(u){var c;const f=i(u),h=(c=f.domainPart.AddressLiteral)!==null&&c!==void 0?c:f.domainPart.DomainName.toLowerCase();return`${f.localPart.QuotedString?a(f.localPart.QuotedString):f.localPart.DotString}@${h}`}return Ks.canonicalize=l,Ks}var B8e=Q8e();const z8e=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),U8e=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,j8e=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,q8e=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,V8e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,X8e=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Z8e=[0,31,28,31,30,31,30,31,31,30,31,30,31],W8e=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Y8e=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,G8e=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,H8e=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,cee={date:(t,e,n,r)=>{if(typeof n!="string"||n==="")return;const i=n.match(V8e);if(!i)return t.errors.formatDateTimeError({value:n,pointer:r,schema:e});const s=+i[1],o=+i[2],a=+i[3],l=s%4===0&&(s%100!==0||s%400===0);if(!(o>=1&&o<=12&&a>=1&&a<=(o==2&&l?29:Z8e[o])))return t.errors.formatDateError({value:n,pointer:r,schema:e})},"date-time":(t,e,n,r)=>{if(!(typeof n!="string"||n===""))return n===""||z8e.test(n)?new Date(n).toString()==="Invalid Date"?t.errors.formatDateTimeError({value:n,pointer:r,schema:e}):void 0:t.errors.formatDateTimeError({value:n,pointer:r,schema:e})},email:(t,e,n,r)=>{if(typeof n!="string"||n==="")return;if(n[0]==='"')return t.errors.formatEmailError({value:n,pointer:r,schema:e});const[i,s,...o]=n.split("@");if(!i||!s||o.length!==0||i.length>64||s.length>253)return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(i[0]==="."||i.endsWith(".")||i.includes(".."))return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(!/^[a-z0-9.-]+$/i.test(s)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(i))return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(!s.split(".").every(a=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(a)))return t.errors.formatEmailError({value:n,pointer:r,schema:e})},"idn-email":(t,e,n,r)=>{if(!(typeof n!="string"||n===""))try{B8e.parse(n);return}catch{return t.errors.formatEmailError({value:n,pointer:r,schema:e})}},hostname:(t,e,n,r)=>{if(typeof n=="string"&&!(n===""||q8e.test(n)))return t.errors.formatHostnameError({value:n,pointer:r,schema:e})},ipv4:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")){if(n&&n[0]==="0")return t.errors.formatIPV4LeadingZeroError({value:n,pointer:r,schema:e});if(!(n.length<=15&&U8e.test(n)))return t.errors.formatIPV4Error({value:n,pointer:r,schema:e})}},ipv6:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")){if(n&&n[0]==="0")return t.errors.formatIPV6LeadingZeroError({value:n,pointer:r,schema:e});if(!(n.length<=45&&j8e.test(n)))return t.errors.formatIPV6Error({value:n,pointer:r,schema:e})}},"json-pointer":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!W8e.test(n))return t.errors.formatJsonPointerError({value:n,pointer:r,schema:e})},"relative-json-pointer":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!Y8e.test(n))return t.errors.formatJsonPointerError({value:n,pointer:r,schema:e})},regex:(t,e,n,r)=>{if(typeof n=="string"&&/\\Z$/.test(n)===!1){try{new RegExp(n);return}catch{}return t.errors.formatRegExError({value:n,pointer:r,schema:e})}if(!(typeof n=="object"||typeof n=="number"||Array.isArray(n)))return t.errors.formatRegExError({value:n,pointer:r,schema:e})},time:(t,e,n,r)=>typeof n!="string"||n===""||n.match(X8e)?void 0:t.errors.formatDateTimeError({value:n,pointer:r,schema:e}),uri:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!cB.isUri(n))return t.errors.formatURIError({value:n,pointer:r,schema:e})},"uri-reference":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!G8e.test(n))return t.errors.formatURIReferenceError({value:n,pointer:r,schema:e})},"uri-template":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!H8e.test(n))return t.errors.formatURITemplateError({value:n,pointer:r,schema:e})},url:(t,e,n,r)=>{if(!(n===""||cB.isWebUri(n)))return t.errors.formatURLError({value:n,pointer:r,schema:e})}},fee={};function hee(t,e=fee){const{pointer:n="#",data:r,schema:i=t.rootSchema,withSchemaWarning:s=!1}=e,o=nO.split(n),a=dee(t,t.resolveRef(i),o,"#",r);if(!(!s&&a?.code==="schema-warning"))return a}function dee(t,e,n,r,i=fee){if(n.length===0)return t.resolveRef(e);const s=n.shift();return e=t.step(s,e,i,r),js(e)?e:(i=i[s],dee(t,e,n,`${r}/${s}`,i))}function K8e(t){switch(Rn(t)){case"string":case"array":return t?.length===0;case"null":case"undefined":return!0;case"object":return Object.keys(t).length===0;default:return!1}}const pB=K1.templateDefaultOptions;let $f;function qA(t,e){const{$ref:n}=t;return n==null?!0:($f[e]==null||$f[e][n]==null?0:$f[e][n])<K1.GET_TEMPLATE_RECURSION_LIMIT}function mB(t,e,n){const{$ref:r}=e;return r==null?e:($f[n]=$f[n]||{},$f[n][r]=$f[n][r]||0,$f[n][r]+=1,t.resolveRef(e))}function J8e(t,e){if(t==="string")return JSON.stringify(e);if(typeof e!="string")return null;try{if(e=JSON.parse(e),typeof e===t)return e}catch{}return null}function pee(t,e,n,r,i){if(Rn(e)!=="object")return Object.assign({pointer:r},e);if(qA(e,r)===!1&&n==null)return!1;let s=d3(mB(t,e,r));if(Array.isArray(e.anyOf)&&e.anyOf.length>0){if(qA(e.anyOf[0],`${r}/anyOf/0`)){const o=mB(t,e.anyOf[0],`${r}/anyOf/0`);s=y9(s,o),s.pointer=e.anyOf[0].$ref||s.pointer}delete s.anyOf}if(Array.isArray(e.allOf)&&e.allOf.map((a,l)=>qA(a,`${r}/allOf/${l}`)).reduceRight((a,l)=>a&&l,!0)){const a=[];let l=d3(n);for(let c=0;c<e.allOf.length;c+=1)a.push(HJ(t,e.allOf[c],l)),l=Xl(t,l,{type:e.type,...a[c]},`${r}/allOf/${c}`,i);const u=JJ(t,{allOf:a});u&&(s=oo(s,u))}return s.pointer=s.pointer||e.$ref||r,s}const gB=t=>t&&typeof t=="object";function Xl(t,e,n,r,i){var s;if(n==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(e)}`);if(r==null)throw new Error("Missing pointer");let o=pee(t,n,e,r,i);if(!gB(o))return;if(r=o.pointer,o?.const)return o.const;if(Array.isArray(o.oneOf))if(K8e(e)){const c=o.oneOf[0].type||o.type||o.const&&typeof o.const||Rn(e);o={...o.oneOf[0],type:c}}else{const c=g9(t,e,o);if(js(c)){if(e!=null&&i.removeInvalidData!==!0)return e;o=o.oneOf[0],e=void 0}else c.type=(s=c.type)!==null&&s!==void 0?s:o.type,o=c}if(!gB(o)||o.type==null)return;if(e instanceof File)return e;const a=Array.isArray(o.type)?eTe(o.type,e,o.default):o.type,l=Rn(e);return e!=null&&l!==a&&!(l==="number"&&a==="integer")&&(e=J8e(a,e)),yB[a]==null?i.removeInvalidData?void 0:e:yB[a](t,o,e,r,i)}function eTe(t,e,n){if(e==null){if(n!=null){const i=Rn(n);if(t.includes(i))return i}return t[0]}const r=Rn(e);return t.includes(r)?r:t[0]}const yB={null:(t,e,n)=>Gy(e,n,null),string:(t,e,n)=>Gy(e,n,""),number:(t,e,n)=>Gy(e,n,0),integer:(t,e,n)=>Gy(e,n,0),boolean:(t,e,n)=>Gy(e,n,!1),object:(t,e,n,r,i)=>{var s;const o=e.default===void 0?{}:e.default,a={},l=i.extendDefaults===!1&&e.default!==void 0?[]:(s=e.required)!==null&&s!==void 0?s:[];e.properties&&Object.keys(e.properties).forEach(f=>{const h=n==null||n[f]==null?o[f]:n[f],d=l.includes(f);(h!=null||d||i.addOptionalProps)&&(a[f]=Xl(t,h,e.properties[f],`${r}/properties/${f}`,i))});let u=tee(t,e,a);if(u){u=oo(e,u),delete u.dependencies;const f=Xl(t,n,u,`${r}/dependencies`,i);Object.assign(a,f)}n&&(i.removeInvalidData===!0&&(e.additionalProperties===!1||Rn(e.additionalProperties)==="object")?Rn(e.additionalProperties)==="object"&&Object.keys(n).forEach(f=>{a[f]==null&&t.isValid(n[f],e.additionalProperties)&&(a[f]=n[f])}):Object.keys(n).forEach(f=>a[f]==null&&(a[f]=n[f])));const c=h4(t,e,a);if(c){const f=Xl(t,a,{type:"object",...c},r,i);Object.assign(a,f)}return a},array:(t,e,n,r,i)=>{var s,o;if(e.items==null)return n||[];const a=e.default===void 0?[]:e.default,l=n||a,u=i.extendDefaults===!1&&e.default!==void 0?0:e.minItems||0;if(Array.isArray(e.items)){for(let f=0,h=Math.max(u??0,(o=(s=e.items)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0);f<h;f+=1)l[f]=Xl(t,l[f]==null?a[f]:l[f],e.items[f],`${r}/items/${f}`,i);return l}if(Rn(e.items)!=="object")return l;const c=pee(t,e.items,n,r,i);if(c===!1)return l;if(r=c.pointer||r,c.oneOf&&l.length===0){const f=c.oneOf[0];for(let h=0;h<u;h+=1)l[h]=Xl(t,l[h]==null?a[h]:l[h],f,`${r}/oneOf/0`,i);return l}if(c.oneOf&&l.length>0){const f=Math.max(u,l.length);for(let h=0;h<f;h+=1){let d=l[h]==null?a[h]:l[h],m=g9(t,d,c);m==null||js(m)?d!=null&&i.removeInvalidData!==!0?l[h]=d:(d=void 0,m=c.oneOf[0],l[h]=Xl(t,d,m,`${r}/oneOf/${h}`,i)):l[h]=Xl(t,d,m,`${r}/oneOf/${h}`,i)}return l}if(c.type){for(let f=0,h=Math.max(u,l.length);f<h;f+=1)l[f]=Xl(t,l[f]==null?a[f]:l[f],c,`${r}/items`,i);return l}return l}};function Gy(t,e,n){return e??(t.const?t.const:t.default===void 0&&Array.isArray(t.enum)?t.enum[0]:t.default===void 0?n:t.default)}const mee=(t,e,n=t.rootSchema,r)=>($f={},r?Xl(t,e,n,"#",{...pB,...r}):Xl(t,e,n,"#",pB));function gee(t,e,n=t.rootSchema,r="#"){return t.validate(e,n,r).length===0}function bB(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function vB(t){const e=`${t}`,n=e.indexOf(".");return n===-1?0:e.length-(n+1)}var VA,OB;function tTe(){return OB||(OB=1,VA=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),VA}var nTe=tTe();const yee=j0(nTe),rTe=Object.prototype.hasOwnProperty,wB=(t,e)=>!(t[e]===void 0||!rTe.call(t,e)),bee={additionalProperties:(t,e,n,r)=>{if(e.additionalProperties===!0||e.additionalProperties==null||Rn(e.patternProperties)==="object"&&e.additionalProperties===!1)return;const i=[];let s=Object.keys(n).filter(a=>K1.propertyBlacklist.includes(a)===!1);const o=Object.keys(e.properties||{});if(Rn(e.patternProperties)==="object"){const a=Object.keys(e.patternProperties).map(l=>new RegExp(l));s=s.filter(l=>{for(let u=0;u<a.length;u+=1)if(a[u].test(l))return!1;return!0})}for(let a=0,l=s.length;a<l;a+=1){const u=s[a];if(o.indexOf(u)===-1){const c=dd(e.additionalProperties);if(c&&Array.isArray(e.additionalProperties.oneOf)){const f=t.resolveOneOf(n[u],e.additionalProperties,`${r}/${u}`);js(f)?i.push(t.errors.additionalPropertiesError({pointer:r,schema:e.additionalProperties,value:n,property:s[a],properties:o,errors:f.data.errors})):i.push(...t.validate(n[u],f,r))}else c?i.push(...t.validate(n[u],e.additionalProperties,`${r}/${u}`)):i.push(t.errors.noAdditionalPropertiesError({pointer:r,schema:e,value:n,property:s[a],properties:o}))}}return i},allOf:jEe,anyOf:XEe,dependencies:VEe,enum:(t,e,n,r)=>{const i=Rn(n);if(i==="object"||i==="array"){const s=JSON.stringify(n);for(let o=0;o<e.enum.length;o+=1)if(JSON.stringify(e.enum[o])===s)return}else if(e.enum.includes(n))return;return t.errors.enumError({pointer:r,schema:e,value:n,values:e.enum})},format:(t,e,n,r)=>{if(t.validateFormat[e.format])return t.validateFormat[e.format](t,e,n,r)},items:(t,e,n,r)=>{if(e.items===!1)return Array.isArray(n)&&n.length===0?void 0:t.errors.invalidDataError({pointer:r,value:n,schema:e});const i=[];for(let s=0;s<n.length;s+=1){const o=n[s],a=t.step(s,e,n,r);if(js(a))return[a];const l=t.validate(o,a,`${r}/${s}`);i.push(...l)}return i},maximum:(t,e,n,r)=>{if(!isNaN(e.maximum)){if(e.maximum&&e.maximum<n)return t.errors.maximumError({maximum:e.maximum,length:n,value:n,pointer:r,schema:e});if(e.maximum&&e.exclusiveMaximum===!0&&e.maximum===n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r,schema:e,value:n})}},maxItems:(t,e,n,r)=>{if(!isNaN(e.maxItems)&&e.maxItems<n.length)return t.errors.maxItemsError({maximum:e.maxItems,length:n.length,schema:e,value:n,pointer:r})},maxLength:(t,e,n,r)=>{if(isNaN(e.maxLength))return;const i=bB(n).length;if(e.maxLength<i)return t.errors.maxLengthError({maxLength:e.maxLength,length:i,pointer:r,schema:e,value:n})},maxProperties:(t,e,n,r)=>{const i=Object.keys(n).length;if(isNaN(e.maxProperties)===!1&&e.maxProperties<i)return t.errors.maxPropertiesError({maxProperties:e.maxProperties,length:i,pointer:r,schema:e,value:n})},minLength:(t,e,n,r)=>{if(isNaN(e.minLength))return;const i=bB(n).length;if(e.minLength>i)return e.minLength===1?t.errors.minLengthOneError({minLength:e.minLength,length:i,pointer:r,schema:e,value:n}):t.errors.minLengthError({minLength:e.minLength,length:i,pointer:r,schema:e,value:n})},minimum:(t,e,n,r)=>{if(!isNaN(e.minimum)){if(e.minimum>n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n});if(e.exclusiveMinimum===!0&&e.minimum===n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n})}},minItems:(t,e,n,r)=>{if(!isNaN(e.minItems)&&e.minItems>n.length)return e.minItems===1?t.errors.minItemsOneError({minItems:e.minItems,length:n.length,pointer:r,schema:e,value:n}):t.errors.minItemsError({minItems:e.minItems,length:n.length,pointer:r,schema:e,value:n})},minProperties:(t,e,n,r)=>{if(isNaN(e.minProperties))return;const i=Object.keys(n).length;if(e.minProperties>i)return t.errors.minPropertiesError({minProperties:e.minProperties,length:i,pointer:r,schema:e,value:n})},multipleOf:(t,e,n,r)=>{if(isNaN(e.multipleOf)||typeof n!="number")return;const i=vB(n),s=vB(e.multipleOf);if(i>s)return t.errors.multipleOfError({multipleOf:e.multipleOf,value:n,pointer:r,schema:e});const o=Math.pow(10,s),a=Math.round(n*o),l=Math.round(e.multipleOf*o);if(a%l/o!==0)return t.errors.multipleOfError({multipleOf:e.multipleOf,value:n,pointer:r,schema:e})},not:(t,e,n,r)=>{const i=[];return t.validate(n,e.not,r).length===0&&i.push(t.errors.notError({value:n,not:e.not,pointer:r,schema:e})),i},oneOf:rEe,pattern:(t,e,n,r)=>{if(new RegExp(e.pattern,"u").test(n)===!1)return t.errors.patternError({pattern:e.pattern,description:e.patternExample||e.pattern,received:n,schema:e,value:n,pointer:r})},patternProperties:(t,e,n,r)=>{const i=e.properties||{},s=e.patternProperties;if(Rn(s)!=="object")return;const o=[],a=Object.keys(n),l=Object.keys(s).map(u=>({regex:new RegExp(u),patternSchema:s[u]}));return a.forEach(u=>{let c=!1;for(let f=0,h=l.length;f<h;f+=1)if(l[f].regex.test(u)){c=!0;const d=t.validate(n[u],l[f].patternSchema,`${r}/${u}`);d&&d.length>0&&o.push(...d)}i[u]||c===!1&&e.additionalProperties===!1&&o.push(t.errors.patternPropertiesError({key:u,pointer:r,schema:e,value:n,patterns:Object.keys(s).join(",")}))}),o},properties:(t,e,n,r)=>{const i=[],s=Object.keys(e.properties||{});for(let o=0;o<s.length;o+=1){const a=s[o];if(wB(n,a)){const l=t.step(a,e,n,r),u=t.validate(n[a],l,`${r}/${a}`);i.push(...u)}}return i},propertiesRequired:(t,e,n,r)=>{const i=[],s=Object.keys(e.properties||{});for(let o=0;o<s.length;o+=1){const a=s[o];if(n[a]===void 0)i.push(t.errors.requiredPropertyError({key:a,pointer:r,schema:e,value:n}));else{const l=t.step(a,e,n,r),u=t.validate(n[a],l,`${r}/${a}`);i.push(...u)}}return i},required:(t,e,n,r)=>{if(Array.isArray(e.required)!==!1)return e.required.map(i=>{if(!wB(n,i))return t.errors.requiredPropertyError({key:i,pointer:r,schema:e,value:n})})},requiredNotEmpty:(t,e,n,r)=>{if(Array.isArray(e.required)!==!1)return e.required.map(i=>{if(n[i]==null||n[i]==="")return t.errors.valueNotEmptyError({property:i,pointer:`${r}/${i}`,schema:e,value:n})})},uniqueItems:(t,e,n,r)=>{if((Array.isArray(n)&&e.uniqueItems)===!1)return;const i=[],s=[];return n.forEach((o,a)=>{for(let l=a+1;l<n.length;l+=1)yee(o,n[l])&&!i.includes(l)&&(s.push(t.errors.uniqueItemsError({pointer:`${r}/${l}`,duplicatePointer:`${r}/${a}`,arrayPointer:r,value:JSON.stringify(o),schema:e})),i.push(l))}),s}};function tc(t){if(t===void 0)return;const e={type:Rn(t)};return e.type==="object"&&dd(t)&&(e.properties={},Object.keys(t).forEach(n=>e.properties[n]=tc(t[n]))),e.type==="array"&&Array.isArray(t)&&(t.length===1?e.items=tc(t[0]):e.items=t.map(tc)),e}const iTe={array:(t,e,n,r,i)=>{const s=r?.[e],o=Rn(n.items);if(o==="object")return KQ(t,n.items,s,`${i}/${e}`)||t.resolveRef(n.items);if(o==="array"){if(n.items[e]===!0)return tc(s);if(n.items[e]===!1)return t.errors.invalidDataError({key:e,value:s,pointer:i,schema:n});if(n.items[e])return t.resolveRef(n.items[e]);if(n.additionalItems===!1)return t.errors.additionalItemsError({key:e,value:s,pointer:i,schema:n});if(n.additionalItems===!0||n.additionalItems===void 0)return tc(s);if(Rn(n.additionalItems)==="object")return n.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(n,null,2)} for ${JSON.stringify(r,null,2)}`)}return n.additionalItems!==!1&&s?tc(s):new Error(`Invalid array schema for ${e} at ${i}`)},object:(t,e,n,r,i)=>{var s;n=KQ(t,n,r,i);const o=(s=n?.properties)===null||s===void 0?void 0:s[e];if(o!==void 0){if(o===!1)return t.errors.forbiddenPropertyError({property:e,value:r,pointer:i,schema:n});if(o===!0)return tc(r?.[e]);const u=t.resolveRef(o);if(js(u))return u;if(u&&Array.isArray(u.oneOf)){const c=t.resolveOneOf(r[e],u,`${i}/${e}`);for(const f in u)f!=="oneOf"&&c[f]===void 0&&(c[f]=u[f]);return c}if(u)return u}const{patternProperties:a}=n;if(Rn(a)==="object"){let u;const c=Object.keys(a);for(let f=0,h=c.length;f<h;f+=1)if(u=new RegExp(c[f]),u.test(e))return a[c[f]]}const{additionalProperties:l}=n;return Rn(l)==="object"?n.additionalProperties:r&&(l===void 0||l===!0)?tc(r[e]):t.errors.unknownPropertyError({property:e,value:r,pointer:`${i}`,schema:n})}};function vee(t,e,n,r,i="#"){var s;const o=Rn(r);let a=(s=n.type)!==null&&s!==void 0?s:o;if(Array.isArray(a)){if(!a.includes(o))return t.errors.typeError({value:r,pointer:i,expected:n.type,received:o,schema:n});a=o}const l=iTe[a];if(l){const u=l(t,`${e}`,n,r,i);return u===void 0?t.errors.schemaWarning({pointer:i,value:r,schema:n,key:e}):u}return new Error(`Unsupported schema type ${n.type} for key ${e}`)}function Oee(t,e,n=t.rootSchema){var r;if(n.oneOf)return n.oneOf.map(s=>t.resolveRef(s));if(!((r=n.items)===null||r===void 0)&&r.oneOf)return n.items.oneOf.map(s=>t.resolveRef(s));const i=t.step(e,n,{},"#");return js(i)?i:[i]}const sTe={array:(t,e,n,r)=>t.typeKeywords.array.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),object:(t,e,n,r)=>t.typeKeywords.object.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),string:(t,e,n,r)=>t.typeKeywords.string.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),integer:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),number:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),boolean:(t,e,n,r)=>t.typeKeywords.boolean.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),null:(t,e,n,r)=>t.typeKeywords.null.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r))};function oTe(t,e){const n=Rn(t);return n==="number"&&(e==="integer"||Array.isArray(e)&&e.includes("integer"))?Number.isInteger(t)||isNaN(t)?"integer":"number":n}function wee(t,e,n=t.rootSchema,r="#"){if(n=t.resolveRef(n),Rn(n)==="boolean")return n?[]:[t.errors.invalidDataError({pointer:r,schema:n,value:e})];if(js(n))return[n];if(n.const!==void 0)return yee(n.const,e)?[]:[t.errors.constError({pointer:r,schema:n,value:e,expected:n.const})];const i=oTe(e,n.type),s=n.type||i;return i!==s&&(!Array.isArray(s)||!s.includes(i))?[t.errors.typeError({pointer:r,schema:n,value:e,received:i,expected:s})]:t.validateType[i]==null?[t.errors.invalidTypeError({pointer:r,schema:n,value:e,receivedType:i})]:eO(t.validateType[i](t,n,e,r)).filter(h3)}const aTe={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:bee,validateType:sTe,validateFormat:cee,errors:uee,addRemoteSchema:see,compileSchema:$8e,createSchemaOf:tc,each:lee,eachSchema:d4,getChildSchemaSelection:Oee,getSchema:hee,getTemplate:mee,isValid:gee,resolveAllOf:KJ,resolveAnyOf:ree,resolveOneOf:QJ,resolveRef:eee,step:vee,validate:wee,templateDefaultOptions:K1.templateDefaultOptions};class xee extends iee{constructor(e,n={}){super(y9(aTe,n),e)}}const xB="__compiled",_B="__ref",lTe="getRef",uTe="getRoot",cTe=/(#|\/)+$/g;function fTe(t,e,n=e,r=!1){if(e===!0||e===!1||e===void 0||e[xB]!==void 0)return e;const i={ids:{},remotes:t.remotes},s=JSON.stringify(e),o=JSON.parse(s);if(Object.defineProperty(o,xB,{enumerable:!1,value:!0}),Object.defineProperty(o,lTe,{enumerable:!1,value:wf.bind(null,i,o)}),r===!1&&s.includes("$ref")===!1)return o;o!==n&&Object.defineProperty(o,"$defs",{enumerable:!0,value:Object.assign({},n.definitions,n.$defs,o.definitions,o.$defs)});const a={},l=()=>o;return d4(o,(u,c)=>{var f;if(u.$id){if(u.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(c)){const b=c.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),v=Np.get(o,b);u.$id=(f=v.$id)!==null&&f!==void 0?f:u.$id}i.ids[u.$id.replace(cTe,"")]=c}c=`#${c}`.replace(/##+/,"#");const h=c.replace(/\/[^/]+$/,""),d=c.replace(/\/[^/]+\/[^/]+$/,""),m=a[h]||a[d],g=y3(m,u.$id);a[c]=g,i.ids[g]==null&&(i.ids[g]=c),u.$ref&&!u[_B]&&(Object.defineProperty(u,_B,{enumerable:!1,value:y3(g,u.$ref)}),Object.defineProperty(u,uTe,{enumerable:!1,value:l}))}),o}const hTe={...bee,contains:(t,e,n,r)=>{if(e.contains===!1)return t.errors.containsArrayError({pointer:r,value:n,schema:e});if(e.contains===!0)return Array.isArray(n)&&n.length===0?t.errors.containsAnyError({pointer:r,value:n,schema:e}):void 0;if(Rn(e.contains)==="object"){for(let i=0;i<n.length;i+=1)if(t.isValid(n[i],e.contains))return;return t.errors.containsError({pointer:r,schema:e,value:n})}},exclusiveMaximum:(t,e,n,r)=>{if(!isNaN(e.exclusiveMaximum)&&e.exclusiveMaximum<=n)return t.errors.maximumError({maximum:e.exclusiveMaximum,length:n,pointer:r,schema:e,value:n})},exclusiveMinimum:(t,e,n,r)=>{if(!isNaN(e.exclusiveMinimum)&&e.exclusiveMinimum>=n)return t.errors.minimumError({minimum:e.exclusiveMinimum,length:n,pointer:r,schema:e,value:n})},if:UEe,maximum:(t,e,n,r)=>{if(!isNaN(e.maximum)&&e.maximum&&e.maximum<n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r,schema:e,value:n})},minimum:(t,e,n,r)=>{if(!isNaN(e.minimum)&&e.minimum>n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n})},patternProperties:(t,e,n,r)=>{const i=e.properties||{},s=e.patternProperties;if(Rn(s)!=="object")return;const o=[],a=Object.keys(n),l=Object.keys(s).map(u=>({regex:new RegExp(u),patternSchema:s[u]}));return a.forEach(u=>{let c=!1;for(let f=0,h=l.length;f<h;f+=1)if(l[f].regex.test(u)){if(c=!0,l[f].patternSchema===!1){o.push(t.errors.patternPropertiesError({key:u,pointer:r,patterns:Object.keys(s).join(","),schema:e,value:n}));return}const d=t.validate(n[u],l[f].patternSchema,`${r}/${u}`);d&&d.length>0&&o.push(...d)}i[u]||c===!1&&e.additionalProperties===!1&&o.push(t.errors.patternPropertiesError({key:u,pointer:r,patterns:Object.keys(s).join(","),schema:e,value:n}))}),o},propertyNames:(t,e,n,r)=>{if(e.propertyNames===!1)return Object.keys(n).length===0?void 0:t.errors.invalidPropertyNameError({property:Object.keys(n),pointer:r,value:n,schema:e});if(e.propertyNames===!0||Rn(e.propertyNames)!=="object")return;const i=[],s=Object.keys(n),o={...e.propertyNames,type:"string"};return s.forEach(a=>{const l=t.validate(a,o,`${r}/${a}`);l.length>0&&i.push(t.errors.invalidPropertyNameError({property:a,pointer:r,validationError:l[0],value:n[a],schema:e}))}),i}},dTe={array:(t,e,n,r)=>t.typeKeywords.array.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),object:(t,e,n,r)=>t.typeKeywords.object.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),string:(t,e,n,r)=>t.typeKeywords.string.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),integer:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),number:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),boolean:(t,e,n,r)=>t.typeKeywords.boolean.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),null:(t,e,n,r)=>t.typeKeywords.null.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r))},_ee={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:hTe,validateType:dTe,validateFormat:cee,errors:uee,addRemoteSchema:see,compileSchema:fTe,createSchemaOf:tc,each:lee,eachSchema:d4,getChildSchemaSelection:Oee,getSchema:hee,getTemplate:mee,isValid:gee,resolveAllOf:KJ,resolveAnyOf:ree,resolveOneOf:QJ,resolveRef:eee,step:vee,validate:wee,templateDefaultOptions:K1.templateDefaultOptions};class See extends iee{constructor(e,n={}){super(y9(_ee,n),e)}}({..._ee});function Zu(t,e,n=[]){const r=document.createElement(t);return Object.entries(e).forEach(([i,s])=>{if(i==="text"){r.innerText=s;return}if(i==="inner"){r.innerHTML=s;return}r.setAttribute(i,s)}),n.forEach(i=>r.appendChild(i)),r}const pTe="modulepreload",mTe=function(t,e){return new URL(t,e).href},SB={},XA=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(c=>{if(c=mTe(c,r),c in SB)return;SB[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(r)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===c&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":pTe,f||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),f)return new Promise((m,g)=>{d.addEventListener("load",m),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},kB={};function gTe(t){let e=kB[t];if(e)return e;e=kB[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function g1(t,e){typeof e!="string"&&(e=g1.defaultChars);const n=gTe(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let s=0,o=r.length;s<o;s+=3){const a=parseInt(r.slice(s+1,s+3),16);if(a<128){i+=n[a];continue}if((a&224)===192&&s+3<o){const l=parseInt(r.slice(s+4,s+6),16);if((l&192)===128){const u=a<<6&1984|l&63;u<128?i+="ï¿½ï¿½":i+=String.fromCharCode(u),s+=3;continue}}if((a&240)===224&&s+6<o){const l=parseInt(r.slice(s+4,s+6),16),u=parseInt(r.slice(s+7,s+9),16);if((l&192)===128&&(u&192)===128){const c=a<<12&61440|l<<6&4032|u&63;c<2048||c>=55296&&c<=57343?i+="ï¿½ï¿½ï¿½":i+=String.fromCharCode(c),s+=6;continue}}if((a&248)===240&&s+9<o){const l=parseInt(r.slice(s+4,s+6),16),u=parseInt(r.slice(s+7,s+9),16),c=parseInt(r.slice(s+10,s+12),16);if((l&192)===128&&(u&192)===128&&(c&192)===128){let f=a<<18&1835008|l<<12&258048|u<<6&4032|c&63;f<65536||f>1114111?i+="ï¿½ï¿½ï¿½ï¿½":(f-=65536,i+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),s+=9;continue}}i+="ï¿½"}return i})}g1.defaultChars=";/?:@&=+$,#";g1.componentChars="";const CB={};function yTe(t){let e=CB[t];if(e)return e;e=CB[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function n2(t,e,n){typeof e!="string"&&(n=e,e=n2.defaultChars),typeof n>"u"&&(n=!0);const r=yTe(e);let i="";for(let s=0,o=t.length;s<o;s++){const a=t.charCodeAt(s);if(n&&a===37&&s+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){i+=t.slice(s,s+3),s+=2;continue}if(a<128){i+=r[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&s+1<o){const l=t.charCodeAt(s+1);if(l>=56320&&l<=57343){i+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[s])}return i}n2.defaultChars=";/?:@&=+$,-_.!~*'()#";n2.componentChars="-_.!~*'()";function x9(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function b3(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const bTe=/^([a-z0-9.+-]+:)/i,vTe=/:[0-9]*$/,OTe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,wTe=["<",">",'"',"`"," ","\r",`
`,"	"],xTe=["{","}","|","\\","^","`"].concat(wTe),_Te=["'"].concat(xTe),AB=["%","/","?",";","#"].concat(_Te),EB=["/","?","#"],STe=255,TB=/^[+a-z0-9A-Z_-]{0,63}$/,kTe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,DB={javascript:!0,"javascript:":!0},PB={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function _9(t,e){if(t&&t instanceof b3)return t;const n=new b3;return n.parse(t,e),n}b3.prototype.parse=function(t,e){let n,r,i,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const u=OTe.exec(s);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let o=bTe.exec(s);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(e||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=s.substr(0,2)==="//",i&&!(o&&DB[o])&&(s=s.substr(2),this.slashes=!0)),!DB[o]&&(i||o&&!PB[o])){let u=-1;for(let m=0;m<EB.length;m++)r=s.indexOf(EB[m]),r!==-1&&(u===-1||r<u)&&(u=r);let c,f;u===-1?f=s.lastIndexOf("@"):f=s.lastIndexOf("@",u),f!==-1&&(c=s.slice(0,f),s=s.slice(f+1),this.auth=c),u=-1;for(let m=0;m<AB.length;m++)r=s.indexOf(AB[m]),r!==-1&&(u===-1||r<u)&&(u=r);u===-1&&(u=s.length),s[u-1]===":"&&u--;const h=s.slice(0,u);s=s.slice(u),this.parseHost(h),this.hostname=this.hostname||"";const d=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!d){const m=this.hostname.split(/\./);for(let g=0,b=m.length;g<b;g++){const v=m[g];if(v&&!v.match(TB)){let O="";for(let _=0,S=v.length;_<S;_++)v.charCodeAt(_)>127?O+="x":O+=v[_];if(!O.match(TB)){const _=m.slice(0,g),S=m.slice(g+1),k=v.match(kTe);k&&(_.push(k[1]),S.unshift(k[2])),S.length&&(s=S.join(".")+s),this.hostname=_.join(".");break}}}}this.hostname.length>STe&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=s.indexOf("#");a!==-1&&(this.hash=s.substr(a),s=s.slice(0,a));const l=s.indexOf("?");return l!==-1&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),PB[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};b3.prototype.parseHost=function(t){let e=vTe.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const CTe=Object.freeze(Object.defineProperty({__proto__:null,decode:g1,encode:n2,format:x9,parse:_9},Symbol.toStringTag,{value:"Module"})),kee=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cee=/[\0-\x1F\x7F-\x9F]/,ATe=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,S9=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Aee=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Eee=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ETe=Object.freeze(Object.defineProperty({__proto__:null,Any:kee,Cc:Cee,Cf:ATe,P:S9,S:Aee,Z:Eee},Symbol.toStringTag,{value:"Module"})),TTe=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(t=>t.charCodeAt(0))),DTe=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(t=>t.charCodeAt(0)));var ZA;const PTe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),RTe=(ZA=String.fromCodePoint)!==null&&ZA!==void 0?ZA:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function $Te(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=PTe.get(t))!==null&&e!==void 0?e:t}var as;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(as||(as={}));const ITe=32;var Jh;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Jh||(Jh={}));function uT(t){return t>=as.ZERO&&t<=as.NINE}function FTe(t){return t>=as.UPPER_A&&t<=as.UPPER_F||t>=as.LOWER_A&&t<=as.LOWER_F}function MTe(t){return t>=as.UPPER_A&&t<=as.UPPER_Z||t>=as.LOWER_A&&t<=as.LOWER_Z||uT(t)}function LTe(t){return t===as.EQUALS||MTe(t)}var ts;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ts||(ts={}));var Zh;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Zh||(Zh={}));class NTe{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=ts.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Zh.Strict}startEntity(e){this.decodeMode=e,this.state=ts.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ts.EntityStart:return e.charCodeAt(n)===as.NUM?(this.state=ts.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ts.NamedEntity,this.stateNamedEntity(e,n));case ts.NumericStart:return this.stateNumericStart(e,n);case ts.NumericDecimal:return this.stateNumericDecimal(e,n);case ts.NumericHex:return this.stateNumericHex(e,n);case ts.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|ITe)===as.LOWER_X?(this.state=ts.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ts.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(uT(i)||FTe(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(uT(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===as.SEMI)this.consumed+=1;else if(this.decodeMode===Zh.Strict)return 0;return this.emitCodePoint($Te(this.result),this.consumed),this.errors&&(e!==as.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Jh.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=QTe(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Zh.Attribute&&(s===0||LTe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Jh.VALUE_LENGTH)>>14,s!==0){if(o===as.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Zh.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Jh.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Jh.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case ts.NamedEntity:return this.result!==0&&(this.decodeMode!==Zh.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ts.NumericDecimal:return this.emitNumericEntity(0,2);case ts.NumericHex:return this.emitNumericEntity(0,3);case ts.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ts.EntityStart:return 0}}}function Tee(t){let e="";const n=new NTe(t,r=>e+=RTe(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){e+=i.slice(o,a),n.startEntity(s);const u=n.write(i,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=e+i.slice(o);return e="",l}}function QTe(t,e,n,r){const i=(e&Jh.BRANCH_LENGTH)>>7,s=e&Jh.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:t[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=t[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return t[l+i]}return-1}const BTe=Tee(TTe);Tee(DTe);function Dee(t,e=Zh.Legacy){return BTe(t,e)}function zTe(t){return Object.prototype.toString.call(t)}function k9(t){return zTe(t)==="[object String]"}const UTe=Object.prototype.hasOwnProperty;function jTe(t,e){return UTe.call(t,e)}function p4(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}function Pee(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function C9(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function v3(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const Ree=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,qTe=/&([a-z#][a-z0-9]{1,31});/gi,VTe=new RegExp(Ree.source+"|"+qTe.source,"gi"),XTe=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function ZTe(t,e){if(e.charCodeAt(0)===35&&XTe.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return C9(r)?v3(r):t}const n=Dee(t);return n!==t?n:t}function WTe(t){return t.indexOf("\\")<0?t:t.replace(Ree,"$1")}function y1(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(VTe,function(e,n,r){return n||ZTe(e,r)})}const YTe=/[&<>"]/,GTe=/[&<>"]/g,HTe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function KTe(t){return HTe[t]}function zd(t){return YTe.test(t)?t.replace(GTe,KTe):t}const JTe=/[.?*+^$[\]\\(){}|-]/g;function eDe(t){return t.replace(JTe,"\\$&")}function Er(t){switch(t){case 9:case 32:return!0}return!1}function rO(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function iO(t){return S9.test(t)||Aee.test(t)}function sO(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function m4(t){return t=t.trim().replace(/\s+/g," "),"áº".toLowerCase()==="á¹¾"&&(t=t.replace(/áº/g,"Ã")),t.toLowerCase().toUpperCase()}const tDe={mdurl:CTe,ucmicro:ETe},nDe=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Pee,assign:p4,escapeHtml:zd,escapeRE:eDe,fromCodePoint:v3,has:jTe,isMdAsciiPunct:sO,isPunctChar:iO,isSpace:Er,isString:k9,isValidEntityCode:C9,isWhiteSpace:rO,lib:tDe,normalizeReference:m4,unescapeAll:y1,unescapeMd:WTe},Symbol.toStringTag,{value:"Module"}));function rDe(t,e,n){let r,i,s,o;const a=t.posMax,l=t.pos;for(t.pos=e+1,r=1;t.pos<a;){if(s=t.src.charCodeAt(t.pos),s===93&&(r--,r===0)){i=!0;break}if(o=t.pos,t.md.inline.skipToken(t),s===91){if(o===t.pos-1)r++;else if(n)return t.pos=l,-1}}let u=-1;return i&&(u=t.pos),t.pos=l,u}function iDe(t,e,n){let r,i=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<n;){if(r=t.charCodeAt(i),r===10||r===60)return s;if(r===62)return s.pos=i+1,s.str=y1(t.slice(e+1,i)),s.ok=!0,s;if(r===92&&i+1<n){i+=2;continue}i++}return s}let o=0;for(;i<n&&(r=t.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(o++,o>32))return s;if(r===41){if(o===0)break;o--}i++}return e===i||o!==0||(s.str=y1(t.slice(e,i)),s.pos=i,s.ok=!0),s}function sDe(t,e,n,r){let i,s=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)o.str=r.str,o.marker=r.marker;else{if(s>=n)return o;let a=t.charCodeAt(s);if(a!==34&&a!==39&&a!==40)return o;e++,s++,a===40&&(a=41),o.marker=a}for(;s<n;){if(i=t.charCodeAt(s),i===o.marker)return o.pos=s+1,o.str+=y1(t.slice(e,s)),o.ok=!0,o;if(i===40&&o.marker===41)return o;i===92&&s+1<n&&s++,s++}return o.can_continue=!0,o.str+=y1(t.slice(e,s)),o}const oDe=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:iDe,parseLinkLabel:rDe,parseLinkTitle:sDe},Symbol.toStringTag,{value:"Module"})),qc={};qc.code_inline=function(t,e,n,r,i){const s=t[e];return"<code"+i.renderAttrs(s)+">"+zd(s.content)+"</code>"};qc.code_block=function(t,e,n,r,i){const s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+zd(t[e].content)+`</code></pre>
`};qc.fence=function(t,e,n,r,i){const s=t[e],o=s.info?y1(s.info).trim():"";let a="",l="";if(o){const c=o.split(/(\s+)/g);a=c[0],l=c.slice(2).join("")}let u;if(n.highlight?u=n.highlight(s.content,a,l)||zd(s.content):u=zd(s.content),u.indexOf("<pre")===0)return u+`
`;if(o){const c=s.attrIndex("class"),f=s.attrs?s.attrs.slice():[];c<0?f.push(["class",n.langPrefix+a]):(f[c]=f[c].slice(),f[c][1]+=" "+n.langPrefix+a);const h={attrs:f};return`<pre><code${i.renderAttrs(h)}>${u}</code></pre>
`}return`<pre><code${i.renderAttrs(s)}>${u}</code></pre>
`};qc.image=function(t,e,n,r,i){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=i.renderInlineAsText(s.children,n,r),i.renderToken(t,e,n)};qc.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};qc.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};qc.text=function(t,e){return zd(t[e].content)};qc.html_block=function(t,e){return t[e].content};qc.html_inline=function(t,e){return t[e].content};function J1(){this.rules=p4({},qc)}J1.prototype.renderAttrs=function(e){let n,r,i;if(!e.attrs)return"";for(i="",n=0,r=e.attrs.length;n<r;n++)i+=" "+zd(e.attrs[n][0])+'="'+zd(e.attrs[n][1])+'"';return i};J1.prototype.renderToken=function(e,n,r){const i=e[n];let s="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(s+=" /");let o=!1;if(i.block&&(o=!0,i.nesting===1&&n+1<e.length)){const a=e[n+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===i.tag)&&(o=!1)}return s+=o?`>
`:">",s};J1.prototype.renderInline=function(t,e,n){let r="";const i=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;typeof i[a]<"u"?r+=i[a](t,s,e,n,this):r+=this.renderToken(t,s,e)}return r};J1.prototype.renderInlineAsText=function(t,e,n){let r="";for(let i=0,s=t.length;i<s;i++)switch(t[i].type){case"text":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,e,n);break;case"html_inline":case"html_block":r+=t[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};J1.prototype.render=function(t,e,n){let r="";const i=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;a==="inline"?r+=this.renderInline(t[s].children,e,n):typeof i[a]<"u"?r+=i[a](t,s,e,n,this):r+=this.renderToken(t,s,e,n)}return r};function ra(){this.__rules__=[],this.__cache__=null}ra.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};ra.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};ra.prototype.at=function(t,e,n){const r=this.__find__(t),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};ra.prototype.before=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};ra.prototype.after=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};ra.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};ra.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};ra.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};ra.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};ra.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Su(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Su.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===e)return r;return-1};Su.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Su.prototype.attrSet=function(e,n){const r=this.attrIndex(e),i=[e,n];r<0?this.attrPush(i):this.attrs[r]=i};Su.prototype.attrGet=function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r};Su.prototype.attrJoin=function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function $ee(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}$ee.prototype.Token=Su;const aDe=/\r\n?|\n/g,lDe=/\0/g;function uDe(t){let e;e=t.src.replace(aDe,`
`),e=e.replace(lDe,"ï¿½"),t.src=e}function cDe(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function fDe(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const i=e[n];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}function hDe(t){return/^<a[>\s]/i.test(t)}function dDe(t){return/^<\/a\s*>/i.test(t)}function pDe(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,s=0;for(let o=i.length-1;o>=0;o--){const a=i[o];if(a.type==="link_close"){for(o--;i[o].level!==a.level&&i[o].type!=="link_open";)o--;continue}if(a.type==="html_inline"&&(hDe(a.content)&&s>0&&s--,dDe(a.content)&&s++),!(s>0)&&a.type==="text"&&t.md.linkify.test(a.content)){const l=a.content;let u=t.md.linkify.match(l);const c=[];let f=a.level,h=0;u.length>0&&u[0].index===0&&o>0&&i[o-1].type==="text_special"&&(u=u.slice(1));for(let d=0;d<u.length;d++){const m=u[d].url,g=t.md.normalizeLink(m);if(!t.md.validateLink(g))continue;let b=u[d].text;u[d].schema?u[d].schema==="mailto:"&&!/^mailto:/i.test(b)?b=t.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=t.md.normalizeLinkText(b):b=t.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");const v=u[d].index;if(v>h){const k=new t.Token("text","",0);k.content=l.slice(h,v),k.level=f,c.push(k)}const O=new t.Token("link_open","a",1);O.attrs=[["href",g]],O.level=f++,O.markup="linkify",O.info="auto",c.push(O);const _=new t.Token("text","",0);_.content=b,_.level=f,c.push(_);const S=new t.Token("link_close","a",-1);S.level=--f,S.markup="linkify",S.info="auto",c.push(S),h=u[d].lastIndex}if(h<l.length){const d=new t.Token("text","",0);d.content=l.slice(h),d.level=f,c.push(d)}e[n].children=i=Pee(i,o,c)}}}}const Iee=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,mDe=/\((c|tm|r)\)/i,gDe=/\((c|tm|r)\)/ig,yDe={c:"Â©",r:"Â®",tm:"â¢"};function bDe(t,e){return yDe[e.toLowerCase()]}function vDe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(gDe,bDe)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function ODe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&Iee.test(r.content)&&(r.content=r.content.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1â").replace(/(^|\s)--(?=\s|$)/mg,"$1â").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1â")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function wDe(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(mDe.test(t.tokens[e].content)&&vDe(t.tokens[e].children),Iee.test(t.tokens[e].content)&&ODe(t.tokens[e].children))}const xDe=/['"]/,RB=/['"]/g,$B="â";function nx(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function _De(t,e){let n;const r=[];for(let i=0;i<t.length;i++){const s=t[i],o=t[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=o);n--);if(r.length=n+1,s.type!=="text")continue;let a=s.content,l=0,u=a.length;e:for(;l<u;){RB.lastIndex=l;const c=RB.exec(a);if(!c)break;let f=!0,h=!0;l=c.index+1;const d=c[0]==="'";let m=32;if(c.index-1>=0)m=a.charCodeAt(c.index-1);else for(n=i-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let g=32;if(l<u)g=a.charCodeAt(l);else for(n=i+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){g=t[n].content.charCodeAt(0);break}const b=sO(m)||iO(String.fromCharCode(m)),v=sO(g)||iO(String.fromCharCode(g)),O=rO(m),_=rO(g);if(_?f=!1:v&&(O||b||(f=!1)),O?h=!1:b&&(_||v||(h=!1)),g===34&&c[0]==='"'&&m>=48&&m<=57&&(h=f=!1),f&&h&&(f=b,h=v),!f&&!h){d&&(s.content=nx(s.content,c.index,$B));continue}if(h)for(n=r.length-1;n>=0;n--){let S=r[n];if(r[n].level<o)break;if(S.single===d&&r[n].level===o){S=r[n];let k,A;d?(k=e.md.options.quotes[2],A=e.md.options.quotes[3]):(k=e.md.options.quotes[0],A=e.md.options.quotes[1]),s.content=nx(s.content,c.index,A),t[S.token].content=nx(t[S.token].content,S.pos,k),l+=A.length-1,S.token===i&&(l+=k.length-1),a=s.content,u=a.length,r.length=n;continue e}}f?r.push({token:i,pos:c.index,single:d,level:o}):h&&d&&(s.content=nx(s.content,c.index,$B))}}}function SDe(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!xDe.test(t.tokens[e].content)||_De(t.tokens[e].children,t)}function kDe(t){let e,n;const r=t.tokens,i=r.length;for(let s=0;s<i;s++){if(r[s].type!=="inline")continue;const o=r[s].children,a=o.length;for(e=0;e<a;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=n=0;e<a;e++)o[e].type==="text"&&e+1<a&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}}const WA=[["normalize",uDe],["block",cDe],["inline",fDe],["linkify",pDe],["replacements",wDe],["smartquotes",SDe],["text_join",kDe]];function A9(){this.ruler=new ra;for(let t=0;t<WA.length;t++)this.ruler.push(WA[t][0],WA[t][1])}A9.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};A9.prototype.State=$ee;function Vc(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let s=0,o=0,a=0,l=0,u=i.length,c=!1;o<u;o++){const f=i.charCodeAt(o);if(!c)if(Er(f)){a++,f===9?l+=4-l%4:l++;continue}else c=!0;(f===10||o===u-1)&&(f!==10&&o++,this.bMarks.push(s),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),c=!1,a=0,l=0,s=o+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Vc.prototype.push=function(t,e,n){const r=new Su(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Vc.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Vc.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Vc.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!Er(r))break}return e};Vc.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Er(this.src.charCodeAt(--e)))return e+1;return e};Vc.prototype.skipChars=function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};Vc.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};Vc.prototype.getLines=function(e,n,r,i){if(e>=n)return"";const s=new Array(n-e);for(let o=0,a=e;a<n;a++,o++){let l=0;const u=this.bMarks[a];let c=u,f;for(a+1<n||i?f=this.eMarks[a]+1:f=this.eMarks[a];c<f&&l<r;){const h=this.src.charCodeAt(c);if(Er(h))h===9?l+=4-(l+this.bsCount[a])%4:l++;else if(c-u<this.tShift[a])l++;else break;c++}l>r?s[o]=new Array(l-r+1).join(" ")+this.src.slice(c,f):s[o]=this.src.slice(c,f)}return s.join("")};Vc.prototype.Token=Su;const CDe=65536;function YA(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function IB(t){const e=[],n=t.length;let r=0,i=t.charCodeAt(r),s=!1,o=0,a="";for(;r<n;)i===124&&(s?(a+=t.substring(o,r-1),o=r):(e.push(a+t.substring(o,r)),a="",o=r+1)),s=i===92,r++,i=t.charCodeAt(r);return e.push(a+t.substring(o)),e}function ADe(t,e,n,r){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let s=t.bMarks[i]+t.tShift[i];if(s>=t.eMarks[i])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58||s>=t.eMarks[i])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58&&!Er(a)||o===45&&Er(a))return!1;for(;s<t.eMarks[i];){const S=t.src.charCodeAt(s);if(S!==124&&S!==45&&S!==58&&!Er(S))return!1;s++}let l=YA(t,e+1),u=l.split("|");const c=[];for(let S=0;S<u.length;S++){const k=u[S].trim();if(!k){if(S===0||S===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(k))return!1;k.charCodeAt(k.length-1)===58?c.push(k.charCodeAt(0)===58?"center":"right"):k.charCodeAt(0)===58?c.push("left"):c.push("")}if(l=YA(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;u=IB(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const f=u.length;if(f===0||f!==c.length)return!1;if(r)return!0;const h=t.parentType;t.parentType="table";const d=t.md.block.ruler.getRules("blockquote"),m=t.push("table_open","table",1),g=[e,0];m.map=g;const b=t.push("thead_open","thead",1);b.map=[e,e+1];const v=t.push("tr_open","tr",1);v.map=[e,e+1];for(let S=0;S<u.length;S++){const k=t.push("th_open","th",1);c[S]&&(k.attrs=[["style","text-align:"+c[S]]]);const A=t.push("inline","",0);A.content=u[S].trim(),A.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let O,_=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let S=!1;for(let A=0,C=d.length;A<C;A++)if(d[A](t,i,n,!0)){S=!0;break}if(S||(l=YA(t,i).trim(),!l)||t.sCount[i]-t.blkIndent>=4||(u=IB(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),_+=f-u.length,_>CDe))break;if(i===e+2){const A=t.push("tbody_open","tbody",1);A.map=O=[e+2,0]}const k=t.push("tr_open","tr",1);k.map=[i,i+1];for(let A=0;A<f;A++){const C=t.push("td_open","td",1);c[A]&&(C.attrs=[["style","text-align:"+c[A]]]);const T=t.push("inline","",0);T.content=u[A]?u[A].trim():"",T.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return O&&(t.push("tbody_close","tbody",-1),O[1]=i),t.push("table_close","table",-1),g[1]=i,t.parentType=h,t.line=i,!0}function EDe(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,i=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,i=r;continue}break}t.line=i;const s=t.push("code_block","code",0);return s.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function TDe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>s)return!1;const o=t.src.charCodeAt(i);if(o!==126&&o!==96)return!1;let a=i;i=t.skipChars(i,o);let l=i-a;if(l<3)return!1;const u=t.src.slice(a,i),c=t.src.slice(i,s);if(o===96&&c.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;let f=e,h=!1;for(;f++,!(f>=n||(i=a=t.bMarks[f]+t.tShift[f],s=t.eMarks[f],i<s&&t.sCount[f]<t.blkIndent));)if(t.src.charCodeAt(i)===o&&!(t.sCount[f]-t.blkIndent>=4)&&(i=t.skipChars(i,o),!(i-a<l)&&(i=t.skipSpaces(i),!(i<s)))){h=!0;break}l=t.sCount[e],t.line=f+(h?1:0);const d=t.push("fence","code",0);return d.info=c,d.content=t.getLines(e+1,f,l,!0),d.markup=u,d.map=[e,t.line],!0}function DDe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(r)return!0;const a=[],l=[],u=[],c=[],f=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let d=!1,m;for(m=e;m<n;m++){const _=t.sCount[m]<t.blkIndent;if(i=t.bMarks[m]+t.tShift[m],s=t.eMarks[m],i>=s)break;if(t.src.charCodeAt(i++)===62&&!_){let k=t.sCount[m]+1,A,C;t.src.charCodeAt(i)===32?(i++,k++,C=!1,A=!0):t.src.charCodeAt(i)===9?(A=!0,(t.bsCount[m]+k)%4===3?(i++,k++,C=!1):C=!0):A=!1;let T=k;for(a.push(t.bMarks[m]),t.bMarks[m]=i;i<s;){const P=t.src.charCodeAt(i);if(Er(P))P===9?T+=4-(T+t.bsCount[m]+(C?1:0))%4:T++;else break;i++}d=i>=s,l.push(t.bsCount[m]),t.bsCount[m]=t.sCount[m]+1+(A?1:0),u.push(t.sCount[m]),t.sCount[m]=T-k,c.push(t.tShift[m]),t.tShift[m]=i-t.bMarks[m];continue}if(d)break;let S=!1;for(let k=0,A=f.length;k<A;k++)if(f[k](t,m,n,!0)){S=!0;break}if(S){t.lineMax=m,t.blkIndent!==0&&(a.push(t.bMarks[m]),l.push(t.bsCount[m]),c.push(t.tShift[m]),u.push(t.sCount[m]),t.sCount[m]-=t.blkIndent);break}a.push(t.bMarks[m]),l.push(t.bsCount[m]),c.push(t.tShift[m]),u.push(t.sCount[m]),t.sCount[m]=-1}const g=t.blkIndent;t.blkIndent=0;const b=t.push("blockquote_open","blockquote",1);b.markup=">";const v=[e,0];b.map=v,t.md.block.tokenize(t,e,m);const O=t.push("blockquote_close","blockquote",-1);O.markup=">",t.lineMax=o,t.parentType=h,v[1]=t.line;for(let _=0;_<c.length;_++)t.bMarks[_+e]=a[_],t.tShift[_+e]=c[_],t.sCount[_+e]=u[_],t.bsCount[_+e]=l[_];return t.blkIndent=g,!0}function PDe(t,e,n,r){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(s++);if(o!==42&&o!==45&&o!==95)return!1;let a=1;for(;s<i;){const u=t.src.charCodeAt(s++);if(u!==o&&!Er(u))return!1;u===o&&a++}if(a<3)return!1;if(r)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(o)),!0}function FB(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const s=t.src.charCodeAt(r);if(!Er(s))return-1}return r}function MB(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let i=n;if(i+1>=r)return-1;let s=t.src.charCodeAt(i++);if(s<48||s>57)return-1;for(;;){if(i>=r)return-1;if(s=t.src.charCodeAt(i++),s>=48&&s<=57){if(i-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return i<r&&(s=t.src.charCodeAt(i),!Er(s))?-1:i}function RDe(t,e){const n=t.level+2;for(let r=e+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}function $De(t,e,n,r){let i,s,o,a,l=e,u=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let c=!1;r&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(c=!0);let f,h,d;if((d=MB(t,l))>=0){if(f=!0,o=t.bMarks[l]+t.tShift[l],h=Number(t.src.slice(o,d-1)),c&&h!==1)return!1}else if((d=FB(t,l))>=0)f=!1;else return!1;if(c&&t.skipSpaces(d)>=t.eMarks[l])return!1;if(r)return!0;const m=t.src.charCodeAt(d-1),g=t.tokens.length;f?(a=t.push("ordered_list_open","ol",1),h!==1&&(a.attrs=[["start",h]])):a=t.push("bullet_list_open","ul",1);const b=[l,0];a.map=b,a.markup=String.fromCharCode(m);let v=!1;const O=t.md.block.ruler.getRules("list"),_=t.parentType;for(t.parentType="list";l<n;){s=d,i=t.eMarks[l];const S=t.sCount[l]+d-(t.bMarks[l]+t.tShift[l]);let k=S;for(;s<i;){const B=t.src.charCodeAt(s);if(B===9)k+=4-(k+t.bsCount[l])%4;else if(B===32)k++;else break;s++}const A=s;let C;A>=i?C=1:C=k-S,C>4&&(C=1);const T=S+C;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const P=[l,0];a.map=P,f&&(a.info=t.src.slice(o,d-1));const N=t.tight,I=t.tShift[l],$=t.sCount[l],R=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=T,t.tight=!0,t.tShift[l]=A-t.bMarks[l],t.sCount[l]=k,A>=i&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),(!t.tight||v)&&(u=!1),v=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=R,t.tShift[l]=I,t.sCount[l]=$,t.tight=N,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),l=t.line,P[1]=l,l>=n||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let M=!1;for(let B=0,U=O.length;B<U;B++)if(O[B](t,l,n,!0)){M=!0;break}if(M)break;if(f){if(d=MB(t,l),d<0)break;o=t.bMarks[l]+t.tShift[l]}else if(d=FB(t,l),d<0)break;if(m!==t.src.charCodeAt(d-1))break}return f?a=t.push("ordered_list_close","ol",-1):a=t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),b[1]=l,t.line=l,t.parentType=_,u&&RDe(t,g),!0}function IDe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==91)return!1;function a(O){const _=t.lineMax;if(O>=_||t.isEmpty(O))return null;let S=!1;if(t.sCount[O]-t.blkIndent>3&&(S=!0),t.sCount[O]<0&&(S=!0),!S){const C=t.md.block.ruler.getRules("reference"),T=t.parentType;t.parentType="reference";let P=!1;for(let N=0,I=C.length;N<I;N++)if(C[N](t,O,_,!0)){P=!0;break}if(t.parentType=T,P)return null}const k=t.bMarks[O]+t.tShift[O],A=t.eMarks[O];return t.src.slice(k,A+1)}let l=t.src.slice(i,s+1);s=l.length;let u=-1;for(i=1;i<s;i++){const O=l.charCodeAt(i);if(O===91)return!1;if(O===93){u=i;break}else if(O===10){const _=a(o);_!==null&&(l+=_,s=l.length,o++)}else if(O===92&&(i++,i<s&&l.charCodeAt(i)===10)){const _=a(o);_!==null&&(l+=_,s=l.length,o++)}}if(u<0||l.charCodeAt(u+1)!==58)return!1;for(i=u+2;i<s;i++){const O=l.charCodeAt(i);if(O===10){const _=a(o);_!==null&&(l+=_,s=l.length,o++)}else if(!Er(O))break}const c=t.md.helpers.parseLinkDestination(l,i,s);if(!c.ok)return!1;const f=t.md.normalizeLink(c.str);if(!t.md.validateLink(f))return!1;i=c.pos;const h=i,d=o,m=i;for(;i<s;i++){const O=l.charCodeAt(i);if(O===10){const _=a(o);_!==null&&(l+=_,s=l.length,o++)}else if(!Er(O))break}let g=t.md.helpers.parseLinkTitle(l,i,s);for(;g.can_continue;){const O=a(o);if(O===null)break;l+=O,i=s,s=l.length,o++,g=t.md.helpers.parseLinkTitle(l,i,s,g)}let b;for(i<s&&m!==i&&g.ok?(b=g.str,i=g.pos):(b="",i=h,o=d);i<s;){const O=l.charCodeAt(i);if(!Er(O))break;i++}if(i<s&&l.charCodeAt(i)!==10&&b)for(b="",i=h,o=d;i<s;){const O=l.charCodeAt(i);if(!Er(O))break;i++}if(i<s&&l.charCodeAt(i)!==10)return!1;const v=m4(l.slice(1,u));return v?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[v]>"u"&&(t.env.references[v]={title:b,href:f}),t.line=o),!0):!1}const FDe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MDe="[a-zA-Z_:][a-zA-Z0-9:._-]*",LDe="[^\"'=<>`\\x00-\\x20]+",NDe="'[^']*'",QDe='"[^"]*"',BDe="(?:"+LDe+"|"+NDe+"|"+QDe+")",zDe="(?:\\s+"+MDe+"(?:\\s*=\\s*"+BDe+")?)",Fee="<[A-Za-z][A-Za-z0-9\\-]*"+zDe+"*\\s*\\/?>",Mee="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",UDe="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",jDe="<[?][\\s\\S]*?[?]>",qDe="<![A-Za-z][^>]*>",VDe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",XDe=new RegExp("^(?:"+Fee+"|"+Mee+"|"+UDe+"|"+jDe+"|"+qDe+"|"+VDe+")"),ZDe=new RegExp("^(?:"+Fee+"|"+Mee+")"),_m=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+FDe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(ZDe.source+"\\s*$"),/^$/,!1]];function WDe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let o=t.src.slice(i,s),a=0;for(;a<_m.length&&!_m[a][0].test(o);a++);if(a===_m.length)return!1;if(r)return _m[a][2];let l=e+1;if(!_m[a][1].test(o)){for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(i=t.bMarks[l]+t.tShift[l],s=t.eMarks[l],o=t.src.slice(i,s),_m[a][1].test(o)){o.length!==0&&l++;break}}t.line=l;const u=t.push("html_block","",0);return u.map=[e,l],u.content=t.getLines(e,l,t.blkIndent,!0),!0}function YDe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(i);if(o!==35||i>=s)return!1;let a=1;for(o=t.src.charCodeAt(++i);o===35&&i<s&&a<=6;)a++,o=t.src.charCodeAt(++i);if(a>6||i<s&&!Er(o))return!1;if(r)return!0;s=t.skipSpacesBack(s,i);const l=t.skipCharsBack(s,35,i);l>i&&Er(t.src.charCodeAt(l-1))&&(s=l),t.line=e+1;const u=t.push("heading_open","h"+String(a),1);u.markup="########".slice(0,a),u.map=[e,t.line];const c=t.push("inline","",0);c.content=t.src.slice(i,s).trim(),c.map=[e,t.line],c.children=[];const f=t.push("heading_close","h"+String(a),-1);return f.markup="########".slice(0,a),!0}function GDe(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let s=0,o,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let d=t.bMarks[a]+t.tShift[a];const m=t.eMarks[a];if(d<m&&(o=t.src.charCodeAt(d),(o===45||o===61)&&(d=t.skipChars(d,o),d=t.skipSpaces(d),d>=m))){s=o===61?1:2;break}}if(t.sCount[a]<0)continue;let h=!1;for(let d=0,m=r.length;d<m;d++)if(r[d](t,a,n,!0)){h=!0;break}if(h)break}if(!s)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const u=t.push("heading_open","h"+String(s),1);u.markup=String.fromCharCode(o),u.map=[e,t.line];const c=t.push("inline","",0);c.content=l,c.map=[e,t.line-1],c.children=[];const f=t.push("heading_close","h"+String(s),-1);return f.markup=String.fromCharCode(o),t.parentType=i,!0}function HDe(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let u=!1;for(let c=0,f=r.length;c<f;c++)if(r[c](t,s,n,!0)){u=!0;break}if(u)break}const o=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const a=t.push("paragraph_open","p",1);a.map=[e,t.line];const l=t.push("inline","",0);return l.content=o,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}const rx=[["table",ADe,["paragraph","reference"]],["code",EDe],["fence",TDe,["paragraph","reference","blockquote","list"]],["blockquote",DDe,["paragraph","reference","blockquote","list"]],["hr",PDe,["paragraph","reference","blockquote","list"]],["list",$De,["paragraph","reference","blockquote"]],["reference",IDe],["html_block",WDe,["paragraph","reference","blockquote"]],["heading",YDe,["paragraph","reference","blockquote"]],["lheading",GDe],["paragraph",HDe]];function g4(){this.ruler=new ra;for(let t=0;t<rx.length;t++)this.ruler.push(rx[t][0],rx[t][1],{alt:(rx[t][2]||[]).slice()})}g4.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),i=r.length,s=t.md.options.maxNesting;let o=e,a=!1;for(;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n||t.sCount[o]<t.blkIndent));){if(t.level>=s){t.line=n;break}const l=t.line;let u=!1;for(let c=0;c<i;c++)if(u=r[c](t,o,n,!1),u){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),o=t.line,o<n&&t.isEmpty(o)&&(a=!0,o++,t.line=o)}};g4.prototype.parse=function(t,e,n,r){if(!t)return;const i=new this.State(t,e,n,r);this.tokenize(i,i.line,i.lineMax)};g4.prototype.State=Vc;function r2(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}r2.prototype.pushPending=function(){const t=new Su("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};r2.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new Su(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};r2.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===r;)s++;const o=s-t,a=s<n?this.src.charCodeAt(s):32,l=sO(i)||iO(String.fromCharCode(i)),u=sO(a)||iO(String.fromCharCode(a)),c=rO(i),f=rO(a),h=!f&&(!u||c||l),d=!c&&(!l||f||u);return{can_open:h&&(e||!d||l),can_close:d&&(e||!h||u),length:o}};r2.prototype.Token=Su;function KDe(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function JDe(t,e){let n=t.pos;for(;n<t.posMax&&!KDe(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const ePe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function tPe(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const i=t.pending.match(ePe);if(!i)return!1;const s=i[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!o)return!1;let a=o.url;if(a.length<=s.length)return!1;a=a.replace(/\*+$/,"");const l=t.md.normalizeLink(a);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const u=t.push("link_open","a",1);u.attrs=[["href",l]],u.markup="linkify",u.info="auto";const c=t.push("text","",0);c.content=t.md.normalizeLinkText(a);const f=t.push("link_close","a",-1);f.markup="linkify",f.info="auto"}return t.pos+=a.length-s.length,!0}function nPe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,i=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let s=r-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&Er(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const E9=[];for(let t=0;t<256;t++)E9.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){E9[t.charCodeAt(0)]=1});function rPe(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=t.src.charCodeAt(n);if(i===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(i=t.src.charCodeAt(n),!!Er(i));)n++;return t.pos=n,!0}let s=t.src[n];if(i>=55296&&i<=56319&&n+1<r){const a=t.src.charCodeAt(n+1);a>=56320&&a<=57343&&(s+=t.src[n+1],n++)}const o="\\"+s;if(!e){const a=t.push("text_special","",0);i<256&&E9[i]!==0?a.content=s:a.content=o,a.markup=o,a.info="escape"}return t.pos=n+1,!0}function iPe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const i=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const o=t.src.slice(i,n),a=o.length;if(t.backticksScanned&&(t.backticks[a]||0)<=i)return e||(t.pending+=o),t.pos+=a,!0;let l=n,u;for(;(u=t.src.indexOf("`",l))!==-1;){for(l=u+1;l<s&&t.src.charCodeAt(l)===96;)l++;const c=l-u;if(c===a){if(!e){const f=t.push("code_inline","code",0);f.markup=o,f.content=t.src.slice(n,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[c]=u}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=a,!0}function sPe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const i=t.scanDelims(t.pos,!0);let s=i.length;const o=String.fromCharCode(r);if(s<2)return!1;let a;s%2&&(a=t.push("text","",0),a.content=o,s--);for(let l=0;l<s;l+=2)a=t.push("text","",0),a.content=o+o,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}function LB(t,e){let n;const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(o.marker!==126||o.end===-1)continue;const a=e[o.end];n=t.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[a.token-1].type==="text"&&t.tokens[a.token-1].content==="~"&&r.push(a.token-1)}for(;r.length;){const s=r.pop();let o=s+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,s!==o&&(n=t.tokens[o],t.tokens[o]=t.tokens[s],t.tokens[s]=n)}}function oPe(t){const e=t.tokens_meta,n=t.tokens_meta.length;LB(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&LB(t,e[r].delimiters)}const Lee={tokenize:sPe,postProcess:oPe};function aPe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const i=t.scanDelims(t.pos,r===42);for(let s=0;s<i.length;s++){const o=t.push("text","",0);o.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}function NB(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const s=e[i.end],o=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===s.token+1,a=String.fromCharCode(i.marker),l=t.tokens[i.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?a+a:a,l.content="";const u=t.tokens[s.token];u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?a+a:a,u.content="",o&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}function lPe(t){const e=t.tokens_meta,n=t.tokens_meta.length;NB(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&NB(t,e[r].delimiters)}const Nee={tokenize:aPe,postProcess:lPe};function uPe(t,e){let n,r,i,s,o="",a="",l=t.pos,u=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const c=t.pos,f=t.posMax,h=t.pos+1,d=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(d<0)return!1;let m=d+1;if(m<f&&t.src.charCodeAt(m)===40){for(u=!1,m++;m<f&&(n=t.src.charCodeAt(m),!(!Er(n)&&n!==10));m++);if(m>=f)return!1;if(l=m,i=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),i.ok){for(o=t.md.normalizeLink(i.str),t.md.validateLink(o)?m=i.pos:o="",l=m;m<f&&(n=t.src.charCodeAt(m),!(!Er(n)&&n!==10));m++);if(i=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<f&&l!==m&&i.ok)for(a=i.str,m=i.pos;m<f&&(n=t.src.charCodeAt(m),!(!Er(n)&&n!==10));m++);}(m>=f||t.src.charCodeAt(m)!==41)&&(u=!0),m++}if(u){if(typeof t.env.references>"u")return!1;if(m<f&&t.src.charCodeAt(m)===91?(l=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?r=t.src.slice(l,m++):m=d+1):m=d+1,r||(r=t.src.slice(h,d)),s=t.env.references[m4(r)],!s)return t.pos=c,!1;o=s.href,a=s.title}if(!e){t.pos=h,t.posMax=d;const g=t.push("link_open","a",1),b=[["href",o]];g.attrs=b,a&&b.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=f,!0}function cPe(t,e){let n,r,i,s,o,a,l,u,c="";const f=t.pos,h=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const d=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(s=m+1,s<h&&t.src.charCodeAt(s)===40){for(s++;s<h&&(n=t.src.charCodeAt(s),!(!Er(n)&&n!==10));s++);if(s>=h)return!1;for(u=s,a=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),a.ok&&(c=t.md.normalizeLink(a.str),t.md.validateLink(c)?s=a.pos:c=""),u=s;s<h&&(n=t.src.charCodeAt(s),!(!Er(n)&&n!==10));s++);if(a=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<h&&u!==s&&a.ok)for(l=a.str,s=a.pos;s<h&&(n=t.src.charCodeAt(s),!(!Er(n)&&n!==10));s++);else l="";if(s>=h||t.src.charCodeAt(s)!==41)return t.pos=f,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<h&&t.src.charCodeAt(s)===91?(u=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?i=t.src.slice(u,s++):s=m+1):s=m+1,i||(i=t.src.slice(d,m)),o=t.env.references[m4(i)],!o)return t.pos=f,!1;c=o.href,l=o.title}if(!e){r=t.src.slice(d,m);const g=[];t.md.inline.parse(r,t.md,t.env,g);const b=t.push("image","img",0),v=[["src",c],["alt",""]];b.attrs=v,b.children=g,b.content=r,l&&v.push(["title",l])}return t.pos=s,t.posMax=h,!0}const fPe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,hPe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function dPe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const o=t.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const s=t.src.slice(r+1,n);if(hPe.test(s)){const o=t.md.normalizeLink(s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}if(fPe.test(s)){const o=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}return!1}function pPe(t){return/^<a[>\s]/i.test(t)}function mPe(t){return/^<\/a\s*>/i.test(t)}function gPe(t){const e=t|32;return e>=97&&e<=122}function yPe(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=t.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!gPe(i))return!1;const s=t.src.slice(r).match(XDe);if(!s)return!1;if(!e){const o=t.push("html_inline","",0);o.content=s[0],pPe(o.content)&&t.linkLevel++,mPe(o.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const bPe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,vPe=/^&([a-z][a-z0-9]{1,31});/i;function OPe(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(bPe);if(s){if(!e){const o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),a=t.push("text_special","",0);a.content=C9(o)?v3(o):v3(65533),a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(vPe);if(s){const o=Dee(s[0]);if(o!==s[0]){if(!e){const a=t.push("text_special","",0);a.content=o,a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function QB(t){const e={},n=t.length;if(!n)return;let r=0,i=-2;const s=[];for(let o=0;o<n;o++){const a=t[o];if(s.push(0),(t[r].marker!==a.marker||i!==a.token-1)&&(r=o),i=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[a.marker][(a.open?3:0)+a.length%3];let u=r-s[r]-1,c=u;for(;u>l;u-=s[u]+1){const f=t[u];if(f.marker===a.marker&&f.open&&f.end<0){let h=!1;if((f.close||a.open)&&(f.length+a.length)%3===0&&(f.length%3!==0||a.length%3!==0)&&(h=!0),!h){const d=u>0&&!t[u-1].open?s[u-1]+1:0;s[o]=o-u+d,s[u]=d,a.open=!1,f.end=o,f.close=!1,c=-1,i=-2;break}}}c!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function wPe(t){const e=t.tokens_meta,n=t.tokens_meta.length;QB(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&QB(e[r].delimiters)}function xPe(t){let e,n,r=0;const i=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<s&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}const GA=[["text",JDe],["linkify",tPe],["newline",nPe],["escape",rPe],["backticks",iPe],["strikethrough",Lee.tokenize],["emphasis",Nee.tokenize],["link",uPe],["image",cPe],["autolink",dPe],["html_inline",yPe],["entity",OPe]],HA=[["balance_pairs",wPe],["strikethrough",Lee.postProcess],["emphasis",Nee.postProcess],["fragments_join",xPe]];function i2(){this.ruler=new ra;for(let t=0;t<GA.length;t++)this.ruler.push(GA[t][0],GA[t][1]);this.ruler2=new ra;for(let t=0;t<HA.length;t++)this.ruler2.push(HA[t][0],HA[t][1])}i2.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,i=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let o=!1;if(t.level<i){for(let a=0;a<r;a++)if(t.level++,o=n[a](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,s[e]=t.pos};i2.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const s=t.pos;let o=!1;if(t.level<i){for(let a=0;a<n;a++)if(o=e[a](t,!1),o){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};i2.prototype.parse=function(t,e,n,r){const i=new this.State(t,e,n,r);this.tokenize(i);const s=this.ruler2.getRules(""),o=s.length;for(let a=0;a<o;a++)s[a](i)};i2.prototype.State=r2;function _Pe(t){const e={};t=t||{},e.src_Any=kee.source,e.src_Cc=Cee.source,e.src_Z=Eee.source,e.src_P=S9.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><ï½]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function cT(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function y4(t){return Object.prototype.toString.call(t)}function SPe(t){return y4(t)==="[object String]"}function kPe(t){return y4(t)==="[object Object]"}function CPe(t){return y4(t)==="[object RegExp]"}function BB(t){return y4(t)==="[object Function]"}function APe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Qee={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function EPe(t){return Object.keys(t||{}).reduce(function(e,n){return e||Qee.hasOwnProperty(n)},!1)}const TPe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},DPe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",PPe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|ÑÑ".split("|");function RPe(t){t.__index__=-1,t.__text_cache__=""}function $Pe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function zB(){return function(t,e){e.normalize(t)}}function O3(t){const e=t.re=_Pe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(DPe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const u={validate:null,link:null};if(t.__compiled__[a]=u,kPe(l)){CPe(l.validate)?u.validate=$Pe(l.validate):BB(l.validate)?u.validate=l.validate:s(a,l),BB(l.normalize)?u.normalize=l.normalize:l.normalize?s(a,l):u.normalize=zB();return}if(SPe(l)){i.push(a);return}s(a,l)}),i.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:zB()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(APe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><ï½]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><ï½]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),RPe(t)}function IPe(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function fT(t,e){const n=new IPe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function qa(t,e){if(!(this instanceof qa))return new qa(t,e);e||EPe(t)&&(e=t,t={}),this.__opts__=cT({},Qee,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=cT({},TPe,t),this.__compiled__={},this.__tlds__=PPe,this.__tlds_replaced__=!1,this.re={},O3(this)}qa.prototype.add=function(e,n){return this.__schemas__[e]=n,O3(this),this};qa.prototype.set=function(e){return this.__opts__=cT(this.__opts__,e),this};qa.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,o,a,l,u,c;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};qa.prototype.pretest=function(e){return this.re.pretest.test(e)};qa.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};qa.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(fT(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(fT(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};qa.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,fT(this,0)):null};qa.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),O3(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,O3(this),this)};qa.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};qa.prototype.onCompile=function(){};const Sg=2147483647,cc=36,T9=1,oO=26,FPe=38,MPe=700,Bee=72,zee=128,Uee="-",LPe=/^xn--/,NPe=/[^\0-\x7F]/,QPe=/[\x2E\u3002\uFF0E\uFF61]/g,BPe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},KA=cc-T9,fc=Math.floor,JA=String.fromCharCode;function qh(t){throw new RangeError(BPe[t])}function zPe(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function jee(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(QPe,".");const i=t.split("."),s=zPe(i,e).join(".");return r+s}function qee(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}const UPe=t=>String.fromCodePoint(...t),jPe=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:cc},UB=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Vee=function(t,e,n){let r=0;for(t=n?fc(t/MPe):t>>1,t+=fc(t/e);t>KA*oO>>1;r+=cc)t=fc(t/KA);return fc(r+(KA+1)*t/(t+FPe))},Xee=function(t){const e=[],n=t.length;let r=0,i=zee,s=Bee,o=t.lastIndexOf(Uee);o<0&&(o=0);for(let a=0;a<o;++a)t.charCodeAt(a)>=128&&qh("not-basic"),e.push(t.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const l=r;for(let c=1,f=cc;;f+=cc){a>=n&&qh("invalid-input");const h=jPe(t.charCodeAt(a++));h>=cc&&qh("invalid-input"),h>fc((Sg-r)/c)&&qh("overflow"),r+=h*c;const d=f<=s?T9:f>=s+oO?oO:f-s;if(h<d)break;const m=cc-d;c>fc(Sg/m)&&qh("overflow"),c*=m}const u=e.length+1;s=Vee(r-l,u,l==0),fc(r/u)>Sg-i&&qh("overflow"),i+=fc(r/u),r%=u,e.splice(r++,0,i)}return String.fromCodePoint(...e)},Zee=function(t){const e=[];t=qee(t);const n=t.length;let r=zee,i=0,s=Bee;for(const l of t)l<128&&e.push(JA(l));const o=e.length;let a=o;for(o&&e.push(Uee);a<n;){let l=Sg;for(const c of t)c>=r&&c<l&&(l=c);const u=a+1;l-r>fc((Sg-i)/u)&&qh("overflow"),i+=(l-r)*u,r=l;for(const c of t)if(c<r&&++i>Sg&&qh("overflow"),c===r){let f=i;for(let h=cc;;h+=cc){const d=h<=s?T9:h>=s+oO?oO:h-s;if(f<d)break;const m=f-d,g=cc-d;e.push(JA(UB(d+m%g,0))),f=fc(m/g)}e.push(JA(UB(f,0))),s=Vee(i,u,a===o),i=0,++a}++i,++r}return e.join("")},qPe=function(t){return jee(t,function(e){return LPe.test(e)?Xee(e.slice(4).toLowerCase()):e})},VPe=function(t){return jee(t,function(e){return NPe.test(e)?"xn--"+Zee(e):e})},Wee={version:"2.3.1",ucs2:{decode:qee,encode:UPe},decode:Xee,encode:Zee,toASCII:VPe,toUnicode:qPe},XPe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},ZPe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},WPe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},YPe={default:XPe,zero:ZPe,commonmark:WPe},GPe=/^(vbscript|javascript|file|data):/,HPe=/^data:image\/(gif|png|jpeg|webp);/;function KPe(t){const e=t.trim().toLowerCase();return GPe.test(e)?HPe.test(e):!0}const Yee=["http:","https:","mailto:"];function JPe(t){const e=_9(t,!0);if(e.hostname&&(!e.protocol||Yee.indexOf(e.protocol)>=0))try{e.hostname=Wee.toASCII(e.hostname)}catch{}return n2(x9(e))}function e7e(t){const e=_9(t,!0);if(e.hostname&&(!e.protocol||Yee.indexOf(e.protocol)>=0))try{e.hostname=Wee.toUnicode(e.hostname)}catch{}return g1(x9(e),g1.defaultChars+"%")}function Pl(t,e){if(!(this instanceof Pl))return new Pl(t,e);e||k9(t)||(e=t||{},t="default"),this.inline=new i2,this.block=new g4,this.core=new A9,this.renderer=new J1,this.linkify=new qa,this.validateLink=KPe,this.normalizeLink=JPe,this.normalizeLinkText=e7e,this.utils=nDe,this.helpers=p4({},oDe),this.options={},this.configure(t),e&&this.set(e)}Pl.prototype.set=function(t){return p4(this.options,t),this};Pl.prototype.configure=function(t){const e=this;if(k9(t)){const n=t;if(t=YPe[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Pl.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Pl.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Pl.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Pl.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};Pl.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Pl.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};Pl.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function t7e(t,e,n){const{parseMetaString:r,trimEndingNewline:i=!0,defaultLanguage:s="text",fallbackLanguage:o}=n,a=e.getLoadedLanguages();t.options.highlight=(l,u="text",c)=>{u===""&&(u=s),o&&!a.includes(u)&&(u=o);const f=r?.(c,l,u)||{},h={...n,lang:u,meta:{...n.meta,...f,__raw:c}},d=[];return d.push({name:"@shikijs/markdown-it:block-class",code(m){m.properties.class=`language-${u}`}}),i&&l.endsWith(`
`)&&(l=l.slice(0,-1)),e.codeToHtml(l,{...h,transformers:[...d,...h.transformers||[]]})}}function n7e(t,e){return function(n){t7e(n,t,e)}}let n0=class extends Error{constructor(e){super(e),this.name="ShikiError"}},D9=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function r7e(){return 2147483648}function i7e(){return typeof performance<"u"?performance.now():Date.now()}const s7e=(t,e)=>t+(e-t%e)%e;async function o7e(t){let e,n;const r={};function i(d){n=d,r.HEAPU8=new Uint8Array(d),r.HEAPU32=new Uint32Array(d)}function s(d,m,g){r.HEAPU8.copyWithin(d,m,m+g)}function o(d){try{return e.grow(d-n.byteLength+65535>>>16),i(e.buffer),1}catch{}}function a(d){const m=r.HEAPU8.length;d=d>>>0;const g=r7e();if(d>g)return!1;for(let b=1;b<=4;b*=2){let v=m*(1+.2/b);v=Math.min(v,d+100663296);const O=Math.min(g,s7e(Math.max(d,v),65536));if(o(O))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function u(d,m,g=1024){const b=m+g;let v=m;for(;d[v]&&!(v>=b);)++v;if(v-m>16&&d.buffer&&l)return l.decode(d.subarray(m,v));let O="";for(;m<v;){let _=d[m++];if(!(_&128)){O+=String.fromCharCode(_);continue}const S=d[m++]&63;if((_&224)===192){O+=String.fromCharCode((_&31)<<6|S);continue}const k=d[m++]&63;if((_&240)===224?_=(_&15)<<12|S<<6|k:_=(_&7)<<18|S<<12|k<<6|d[m++]&63,_<65536)O+=String.fromCharCode(_);else{const A=_-65536;O+=String.fromCharCode(55296|A>>10,56320|A&1023)}}return O}function c(d,m){return d?u(r.HEAPU8,d,m):""}const f={emscripten_get_now:i7e,emscripten_memcpy_big:s,emscripten_resize_heap:a,fd_write:()=>0};async function h(){const m=await t({env:f,wasi_snapshot_preview1:f});e=m.memory,i(e.buffer),Object.assign(r,m),r.UTF8ToString=c}return await h(),r}var a7e=Object.defineProperty,l7e=(t,e,n)=>e in t?a7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xi=(t,e,n)=>(l7e(t,typeof e!="symbol"?e+"":e,n),n);let rs=null;function u7e(t){throw new D9(t.UTF8ToString(t.getLastOnigError()))}class b4{constructor(e){Xi(this,"utf16Length"),Xi(this,"utf8Length"),Xi(this,"utf16Value"),Xi(this,"utf8Value"),Xi(this,"utf16OffsetToUtf8"),Xi(this,"utf8OffsetToUtf16");const n=e.length,r=b4._utf8ByteLength(e),i=r!==n,s=i?new Uint32Array(n+1):null;i&&(s[n]=r);const o=i?new Uint32Array(r+1):null;i&&(o[r]=n);const a=new Uint8Array(r);let l=0;for(let u=0;u<n;u++){const c=e.charCodeAt(u);let f=c,h=!1;if(c>=55296&&c<=56319&&u+1<n){const d=e.charCodeAt(u+1);d>=56320&&d<=57343&&(f=(c-55296<<10)+65536|d-56320,h=!0)}i&&(s[u]=l,h&&(s[u+1]=l),f<=127?o[l+0]=u:f<=2047?(o[l+0]=u,o[l+1]=u):f<=65535?(o[l+0]=u,o[l+1]=u,o[l+2]=u):(o[l+0]=u,o[l+1]=u,o[l+2]=u,o[l+3]=u)),f<=127?a[l++]=f:f<=2047?(a[l++]=192|(f&1984)>>>6,a[l++]=128|(f&63)>>>0):f<=65535?(a[l++]=224|(f&61440)>>>12,a[l++]=128|(f&4032)>>>6,a[l++]=128|(f&63)>>>0):(a[l++]=240|(f&1835008)>>>18,a[l++]=128|(f&258048)>>>12,a[l++]=128|(f&4032)>>>6,a[l++]=128|(f&63)>>>0),h&&u++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=o}static _utf8ByteLength(e){let n=0;for(let r=0,i=e.length;r<i;r++){const s=e.charCodeAt(r);let o=s,a=!1;if(s>=55296&&s<=56319&&r+1<i){const l=e.charCodeAt(r+1);l>=56320&&l<=57343&&(o=(s-55296<<10)+65536|l-56320,a=!0)}o<=127?n+=1:o<=2047?n+=2:o<=65535?n+=3:n+=4,a&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const Nu=class{constructor(t){if(Xi(this,"id",++Nu.LAST_ID),Xi(this,"_onigBinding"),Xi(this,"content"),Xi(this,"utf16Length"),Xi(this,"utf8Length"),Xi(this,"utf16OffsetToUtf8"),Xi(this,"utf8OffsetToUtf16"),Xi(this,"ptr"),!rs)throw new D9("Must invoke loadWasm first.");this._onigBinding=rs,this.content=t;const e=new b4(t);this.utf16Length=e.utf16Length,this.utf8Length=e.utf8Length,this.utf16OffsetToUtf8=e.utf16OffsetToUtf8,this.utf8OffsetToUtf16=e.utf8OffsetToUtf16,this.utf8Length<1e4&&!Nu._sharedPtrInUse?(Nu._sharedPtr||(Nu._sharedPtr=rs.omalloc(1e4)),Nu._sharedPtrInUse=!0,rs.HEAPU8.set(e.utf8Value,Nu._sharedPtr),this.ptr=Nu._sharedPtr):this.ptr=e.createString(rs)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===Nu._sharedPtr?Nu._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let s2=Nu;Xi(s2,"LAST_ID",0);Xi(s2,"_sharedPtr",0);Xi(s2,"_sharedPtrInUse",!1);class c7e{constructor(e){if(Xi(this,"_onigBinding"),Xi(this,"_ptr"),!rs)throw new D9("Must invoke loadWasm first.");const n=[],r=[];for(let a=0,l=e.length;a<l;a++){const u=new b4(e[a]);n[a]=u.createString(rs),r[a]=u.utf8Length}const i=rs.omalloc(4*e.length);rs.HEAPU32.set(n,i/4);const s=rs.omalloc(4*e.length);rs.HEAPU32.set(r,s/4);const o=rs.createOnigScanner(i,s,e.length);for(let a=0,l=e.length;a<l;a++)rs.ofree(n[a]);rs.ofree(s),rs.ofree(i),o===0&&u7e(rs),this._onigBinding=rs,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let i=0;if(typeof r=="number"&&(i=r),typeof e=="string"){e=new s2(e);const s=this._findNextMatchSync(e,n,!1,i);return e.dispose(),s}return this._findNextMatchSync(e,n,!1,i)}_findNextMatchSync(e,n,r,i){const s=this._onigBinding,o=s.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),i);if(o===0)return null;const a=s.HEAPU32;let l=o/4;const u=a[l++],c=a[l++],f=[];for(let h=0;h<c;h++){const d=e.convertUtf8OffsetToUtf16(a[l++]),m=e.convertUtf8OffsetToUtf16(a[l++]);f[h]={start:d,end:m,length:m-d}}return{index:u,captureIndices:f}}}function f7e(t){return typeof t.instantiator=="function"}function h7e(t){return typeof t.default=="function"}function d7e(t){return typeof t.data<"u"}function p7e(t){return typeof Response<"u"&&t instanceof Response}function m7e(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let ix;function g7e(t){if(ix)return ix;async function e(){rs=await o7e(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),f7e(r)?r=await r.instantiator(n):h7e(r)?r=await r.default(n):(d7e(r)&&(r=r.data),p7e(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await y7e(r)(n):r=await b7e(r)(n):m7e(r)?r=await e6(r)(n):r instanceof WebAssembly.Module?r=await e6(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await e6(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return ix=e(),ix}function e6(t){return e=>WebAssembly.instantiate(t,e)}function y7e(t){return e=>WebAssembly.instantiateStreaming(t,e)}function b7e(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}let v7e;function O7e(){return v7e}async function w7e(t){return t&&await g7e(t),{createScanner(e){return new c7e(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new s2(e)}}}function x7e(t){return P9(t)}function P9(t){return Array.isArray(t)?_7e(t):t instanceof RegExp?t:typeof t=="object"?S7e(t):t}function _7e(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=P9(t[n]);return e}function S7e(t){let e={};for(let n in t)e[n]=P9(t[n]);return e}function Gee(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function Hee(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?Hee(t.substring(0,t.length-1)):t.substr(~e+1)}var t6=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,sx=class{static hasCaptures(t){return t===null?!1:(t6.lastIndex=0,t6.test(t))}static replaceCaptures(t,e,n){return t.replace(t6,(r,i,s,o)=>{let a=n[parseInt(i||s,10)];if(a){let l=e.substring(a.start,a.end);for(;l[0]===".";)l=l.substring(1);switch(o){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return r})}};function Kee(t,e){return t<e?-1:t>e?1:0}function Jee(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let i=0;i<n;i++){let s=Kee(t[i],e[i]);if(s!==0)return s}return 0}return n-r}function jB(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function ete(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var tte=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},w3=class{constructor(t,e,n){this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(A7e(t),e)}static createFromParsedTheme(t,e){return T7e(t,e)}_cachedMatchRoot=new tte(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,r=this._cachedMatchRoot.get(e).find(i=>k7e(t.parent,i.parentScopes));return r?new nte(r.fontStyle,r.foreground,r.background):null}},n6=class g_{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new g_(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new g_(n,e[r]);return n}push(e){return new g_(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function k7e(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],i=!0}for(;t&&!C7e(t.scopeName,r);){if(i)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function C7e(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var nte=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function A7e(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];if(!o.settings)continue;let a;if(typeof o.scope=="string"){let f=o.scope;f=f.replace(/^[,]+/,""),f=f.replace(/[,]+$/,""),a=f.split(",")}else Array.isArray(o.scope)?a=o.scope:a=[""];let l=-1;if(typeof o.settings.fontStyle=="string"){l=0;let f=o.settings.fontStyle.split(" ");for(let h=0,d=f.length;h<d;h++)switch(f[h]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let u=null;typeof o.settings.foreground=="string"&&jB(o.settings.foreground)&&(u=o.settings.foreground);let c=null;typeof o.settings.background=="string"&&jB(o.settings.background)&&(c=o.settings.background);for(let f=0,h=a.length;f<h;f++){let m=a[f].trim().split(" "),g=m[m.length-1],b=null;m.length>1&&(b=m.slice(0,m.length-1),b.reverse()),n[r++]=new E7e(g,b,i,l,u,c)}}return n}var E7e=class{constructor(t,e,n,r,i,s){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=i,this.background=s}},Mf=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Mf||{});function T7e(t,e){t.sort((l,u)=>{let c=Kee(l.scope,u.scope);return c!==0||(c=Jee(l.parentScopes,u.parentScopes),c!==0)?c:l.index-u.index});let n=0,r="#000000",i="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(n=l.fontStyle),l.foreground!==null&&(r=l.foreground),l.background!==null&&(i=l.background)}let s=new D7e(e),o=new nte(n,s.getId(r),s.getId(i)),a=new R7e(new hT(0,null,-1,0,0),[]);for(let l=0,u=t.length;l<u;l++){let c=t[l];a.insert(0,c.scope,c.parentScopes,c.fontStyle,s.getId(c.foreground),s.getId(c.background))}return new w3(s,o,a)}var D7e=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},P7e=Object.freeze([]),hT=class rte{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,n,r,i,s){this.scopeDepth=e,this.parentScopes=n||P7e,this.fontStyle=r,this.foreground=i,this.background=s}clone(){return new rte(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)}},R7e=class dT{constructor(e,n=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}_rulesWithParentScopes;static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,i=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[i]===">"&&i++,!(r>=e.parentScopes.length||i>=n.parentScopes.length);){const s=n.parentScopes[i].length-e.parentScopes[r].length;if(s!==0)return s;r++,i++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),i,s;if(r===-1?(i=e,s=""):(i=e.substring(0,r),s=e.substring(r+1)),this._children.hasOwnProperty(i))return this._children[i].match(s)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(dT._cmpBySpecificity),n}insert(e,n,r,i,s,o){if(n===""){this._doInsertHere(e,r,i,s,o);return}let a=n.indexOf("."),l,u;a===-1?(l=n,u=""):(l=n.substring(0,a),u=n.substring(a+1));let c;this._children.hasOwnProperty(l)?c=this._children[l]:(c=new dT(this._mainRule.clone(),hT.cloneArr(this._rulesWithParentScopes)),this._children[l]=c),c.insert(e+1,u,r,i,s,o)}_doInsertHere(e,n,r,i,s){if(n===null){this._mainRule.acceptOverwrite(e,r,i,s);return}for(let o=0,a=this._rulesWithParentScopes.length;o<a;o++){let l=this._rulesWithParentScopes[o];if(Jee(l.parentScopes,n)===0){l.acceptOverwrite(e,r,i,s);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new hT(e,n,r,i,s))}},b1=class rl{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=rl.getLanguageId(e),r=rl.getTokenType(e),i=rl.getFontStyle(e),s=rl.getForeground(e),o=rl.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,i,s,o,a){let l=rl.getLanguageId(e),u=rl.getTokenType(e),c=rl.containsBalancedBrackets(e)?1:0,f=rl.getFontStyle(e),h=rl.getForeground(e),d=rl.getBackground(e);return n!==0&&(l=n),r!==8&&(u=r),i!==null&&(c=i?1:0),s!==-1&&(f=s),o!==0&&(h=o),a!==0&&(d=a),(l<<0|u<<8|c<<10|f<<11|h<<15|d<<24)>>>0}};function x3(t,e){const n=[],r=$7e(t);let i=r.next();for(;i!==null;){let l=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let u=o();if(n.push({matcher:u,priority:l}),i!==",")break;i=r.next()}return n;function s(){if(i==="-"){i=r.next();const l=s();return u=>!!l&&!l(u)}if(i==="("){i=r.next();const l=a();return i===")"&&(i=r.next()),l}if(qB(i)){const l=[];do l.push(i),i=r.next();while(qB(i));return u=>e(l,u)}return null}function o(){const l=[];let u=s();for(;u;)l.push(u),u=s();return c=>l.every(f=>f(c))}function a(){const l=[];let u=o();for(;u&&(l.push(u),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");u=o()}return c=>l.some(f=>f(c))}}function qB(t){return!!t&&!!t.match(/[\w\.:]+/)}function $7e(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function ite(t){typeof t.dispose=="function"&&t.dispose()}var aO=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},I7e=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},F7e=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},M7e=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new aO(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new F7e;for(const n of t)L7e(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof aO){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function L7e(t,e,n,r){const i=n.lookup(t.scopeName);if(!i){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const s=n.lookup(e);t instanceof aO?y_({baseGrammar:s,selfGrammar:i},r):pT(t.ruleName,{baseGrammar:s,selfGrammar:i,repository:i.repository},r);const o=n.injections(t.scopeName);if(o)for(const a of o)r.add(new aO(a))}function pT(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];_3([r],e,n)}}function y_(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&_3(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&_3(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function _3(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const i=r.repository?Gee({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&_3(r.patterns,{...e,repository:i},n);const s=r.include;if(!s)continue;const o=ste(s);switch(o.kind){case 0:y_({...e,selfGrammar:e.baseGrammar},n);break;case 1:y_(e,n);break;case 2:pT(o.ruleName,{...e,repository:i},n);break;case 3:case 4:const a=o.scopeName===e.selfGrammar.scopeName?e.selfGrammar:o.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(a){const l={baseGrammar:e.baseGrammar,selfGrammar:a,repository:i};o.kind===4?pT(o.ruleName,l,n):y_(l,n)}else o.kind===4?n.add(new I7e(o.scopeName,o.ruleName)):n.add(new aO(o.scopeName));break}}}var N7e=class{kind=0},Q7e=class{kind=1},B7e=class{constructor(t){this.ruleName=t}kind=2},z7e=class{constructor(t){this.scopeName=t}kind=3},U7e=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function ste(t){if(t==="$base")return new N7e;if(t==="$self")return new Q7e;const e=t.indexOf("#");if(e===-1)return new z7e(t);if(e===0)return new B7e(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new U7e(n,r)}}var j7e=/\\(\d+)/,VB=/\\(\d+)/g,q7e=-1,ote=-2;var o2=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,n,r){this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=sx.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=sx.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${Hee(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:sx.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:sx.replaceCaptures(this._contentName,t,e)}},V7e=class extends o2{retokenizeCapturedWithRuleId;constructor(t,e,n,r,i){super(t,e,n,r),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,n,r){throw new Error("Not supported!")}},X7e=class extends o2{_match;captures;_cachedCompiledPatterns;constructor(t,e,n,r,i){super(t,e,n,null),this._match=new lO(r,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new uO,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},XB=class extends o2{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,i){super(t,e,n,r),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const n of this.patterns)t.getRule(n).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new uO,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},mT=class extends o2{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,i,s,o,a,l,u){super(t,e,n,r),this._begin=new lO(i,this.id),this.beginCaptures=s,this._end=new lO(o||"ï¿¿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=l||!1,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t,e).compileAG(t,n,r)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new uO;for(const n of this.patterns)t.getRule(n).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},S3=class extends o2{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,n,r,i,s,o,a,l){super(t,e,n,r),this._begin=new lO(i,this.id),this.beginCaptures=s,this.whileCaptures=a,this._while=new lO(o,ote),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new uO;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,n,r){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,n,r)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new uO,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||"ï¿¿"),this._cachedCompiledWhilePatterns}},ate=class Ss{static createCaptureRule(e,n,r,i,s){return e.registerRule(o=>new V7e(n,o,r,i,s))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(i=>{if(e.id=i,e.match)return new X7e(e.$vscodeTextmateLocation,e.id,e.name,e.match,Ss._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=Gee({},r,e.repository));let s=e.patterns;return typeof s>"u"&&e.include&&(s=[{include:e.include}]),new XB(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,Ss._compilePatterns(s,n,r))}return e.while?new S3(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Ss._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,Ss._compileCaptures(e.whileCaptures||e.captures,n,r),Ss._compilePatterns(e.patterns,n,r)):new mT(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Ss._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,Ss._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,Ss._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let i=[];if(e){let s=0;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const a=parseInt(o,10);a>s&&(s=a)}for(let o=0;o<=s;o++)i[o]=null;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const a=parseInt(o,10);let l=0;e[o].patterns&&(l=Ss.getCompiledRuleId(e[o],n,r)),i[a]=Ss.createCaptureRule(n,e[o].$vscodeTextmateLocation,e[o].name,e[o].contentName,l)}}return i}static _compilePatterns(e,n,r){let i=[];if(e)for(let s=0,o=e.length;s<o;s++){const a=e[s];let l=-1;if(a.include){const u=ste(a.include);switch(u.kind){case 0:case 1:l=Ss.getCompiledRuleId(r[a.include],n,r);break;case 2:let c=r[u.ruleName];c&&(l=Ss.getCompiledRuleId(c,n,r));break;case 3:case 4:const f=u.scopeName,h=u.kind===4?u.ruleName:null,d=n.getExternalGrammar(f,r);if(d)if(h){let m=d.repository[h];m&&(l=Ss.getCompiledRuleId(m,n,d.repository))}else l=Ss.getCompiledRuleId(d.repository.$self,n,d.repository);break}}else l=Ss.getCompiledRuleId(a,n,r);if(l!==-1){const u=n.getRule(l);let c=!1;if((u instanceof XB||u instanceof mT||u instanceof S3)&&u.hasMissingPatterns&&u.patterns.length===0&&(c=!0),c)continue;i.push(l)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}}},lO=class lte{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,n){if(e&&typeof e=="string"){const r=e.length;let i=0,s=[],o=!1;for(let a=0;a<r;a++)if(e.charAt(a)==="\\"&&a+1<r){const u=e.charAt(a+1);u==="z"?(s.push(e.substring(i,a)),s.push("$(?!\\n)(?<!\\n)"),i=a+2):(u==="A"||u==="G")&&(o=!0),a++}this.hasAnchor=o,i===0?this.source=e:(s.push(e.substring(i,r)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=j7e.test(this.source):this.hasBackReferences=!1}clone(){return new lte(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(i=>e.substring(i.start,i.end));return VB.lastIndex=0,this.source.replace(VB,(i,s)=>ete(r[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],i=[],s,o,a,l;for(s=0,o=this.source.length;s<o;s++)a=this.source.charAt(s),e[s]=a,n[s]=a,r[s]=a,i[s]=a,a==="\\"&&s+1<o&&(l=this.source.charAt(s+1),l==="A"?(e[s+1]="ï¿¿",n[s+1]="ï¿¿",r[s+1]="A",i[s+1]="A"):l==="G"?(e[s+1]="ï¿¿",n[s+1]="G",r[s+1]="ï¿¿",i[s+1]="G"):(e[s+1]=l,n[s+1]=l,r[s+1]=l,i[s+1]=l),s++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},uO=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new ZB(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(i=>i.resolveAnchors(e,n));return new ZB(t,r,this._items.map(i=>i.ruleId))}},ZB=class{constructor(t,e,n){this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},r6=class{constructor(t,e){this.languageId=t,this.tokenType=e}},Z7e=class gT{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,n){this._defaultAttributes=new r6(e,8),this._embeddedLanguagesMatcher=new W7e(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?gT._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new r6(0,0);_getBasicScopeAttributes=new tte(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new r6(n,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(gT.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},W7e=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>ete(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},WB=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function ute(t,e,n,r,i,s,o,a){const l=e.content.length;let u=!1,c=-1;if(o){const d=Y7e(t,e,n,r,i,s);i=d.stack,r=d.linePos,n=d.isFirstLine,c=d.anchorPosition}const f=Date.now();for(;!u;){if(a!==0&&Date.now()-f>a)return new WB(i,!0);h()}return new WB(i,!1);function h(){const d=G7e(t,e,n,r,i,c);if(!d){s.produce(i,l),u=!0;return}const m=d.captureIndices,g=d.matchedRuleId,b=m&&m.length>0?m[0].end>r:!1;if(g===q7e){const v=i.getRule(t);s.produce(i,m[0].start),i=i.withContentNameScopesList(i.nameScopesList),$b(t,e,n,i,s,v.endCaptures,m),s.produce(i,m[0].end);const O=i;if(i=i.parent,c=O.getAnchorPos(),!b&&O.getEnterPos()===r){i=O,s.produce(i,l),u=!0;return}}else{const v=t.getRule(g);s.produce(i,m[0].start);const O=i,_=v.getName(e.content,m),S=i.contentNameScopesList.pushAttributed(_,t);if(i=i.push(g,r,c,m[0].end===l,null,S,S),v instanceof mT){const k=v;$b(t,e,n,i,s,k.beginCaptures,m),s.produce(i,m[0].end),c=m[0].end;const A=k.getContentName(e.content,m),C=S.pushAttributed(A,t);if(i=i.withContentNameScopesList(C),k.endHasBackReferences&&(i=i.withEndRule(k.getEndWithResolvedBackReferences(e.content,m))),!b&&O.hasSameRuleAs(i)){i=i.pop(),s.produce(i,l),u=!0;return}}else if(v instanceof S3){const k=v;$b(t,e,n,i,s,k.beginCaptures,m),s.produce(i,m[0].end),c=m[0].end;const A=k.getContentName(e.content,m),C=S.pushAttributed(A,t);if(i=i.withContentNameScopesList(C),k.whileHasBackReferences&&(i=i.withEndRule(k.getWhileWithResolvedBackReferences(e.content,m))),!b&&O.hasSameRuleAs(i)){i=i.pop(),s.produce(i,l),u=!0;return}}else if($b(t,e,n,i,s,v.captures,m),s.produce(i,m[0].end),i=i.pop(),!b){i=i.safePop(),s.produce(i,l),u=!0;return}}m[0].end>r&&(r=m[0].end,n=!1)}}function Y7e(t,e,n,r,i,s){let o=i.beginRuleCapturedEOL?0:-1;const a=[];for(let l=i;l;l=l.pop()){const u=l.getRule(t);u instanceof S3&&a.push({rule:u,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:u,findOptions:c}=J7e(l.rule,t,l.stack.endRule,n,r===o),f=u.findNextMatchSync(e,r,c);if(f){if(f.ruleId!==ote){i=l.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(s.produce(l.stack,f.captureIndices[0].start),$b(t,e,n,l.stack,s,l.rule.whileCaptures,f.captureIndices),s.produce(l.stack,f.captureIndices[0].end),o=f.captureIndices[0].end,f.captureIndices[0].end>r&&(r=f.captureIndices[0].end,n=!1))}else{i=l.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:o,isFirstLine:n}}function G7e(t,e,n,r,i,s){const o=H7e(t,e,n,r,i,s),a=t.getInjections();if(a.length===0)return o;const l=K7e(a,t,e,n,r,i,s);if(!l)return o;if(!o)return l;const u=o.captureIndices[0].start,c=l.captureIndices[0].start;return c<u||l.priorityMatch&&c===u?l:o}function H7e(t,e,n,r,i,s){const o=i.getRule(t),{ruleScanner:a,findOptions:l}=cte(o,t,i.endRule,n,r===s),u=a.findNextMatchSync(e,r,l);return u?{captureIndices:u.captureIndices,matchedRuleId:u.ruleId}:null}function K7e(t,e,n,r,i,s,o){let a=Number.MAX_VALUE,l=null,u,c=0;const f=s.contentNameScopesList.getScopeNames();for(let h=0,d=t.length;h<d;h++){const m=t[h];if(!m.matcher(f))continue;const g=e.getRule(m.ruleId),{ruleScanner:b,findOptions:v}=cte(g,e,null,r,i===o),O=b.findNextMatchSync(n,i,v);if(!O)continue;const _=O.captureIndices[0].start;if(!(_>=a)&&(a=_,l=O.captureIndices,u=O.ruleId,c=m.priority,a===i))break}return l?{priorityMatch:c===-1,captureIndices:l,matchedRuleId:u}:null}function cte(t,e,n,r,i){return{ruleScanner:t.compileAG(e,n,r,i),findOptions:0}}function J7e(t,e,n,r,i){return{ruleScanner:t.compileWhileAG(e,n,r,i),findOptions:0}}function $b(t,e,n,r,i,s,o){if(s.length===0)return;const a=e.content,l=Math.min(s.length,o.length),u=[],c=o[0].end;for(let f=0;f<l;f++){const h=s[f];if(h===null)continue;const d=o[f];if(d.length===0)continue;if(d.start>c)break;for(;u.length>0&&u[u.length-1].endPos<=d.start;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?i.produceFromScopes(u[u.length-1].scopes,d.start):i.produce(r,d.start),h.retokenizeCapturedWithRuleId){const g=h.getName(a,o),b=r.contentNameScopesList.pushAttributed(g,t),v=h.getContentName(a,o),O=b.pushAttributed(v,t),_=r.push(h.retokenizeCapturedWithRuleId,d.start,-1,!1,null,b,O),S=t.createOnigString(a.substring(0,d.end));ute(t,S,n&&d.start===0,d.start,_,i,!1,0),ite(S);continue}const m=h.getName(a,o);if(m!==null){const b=(u.length>0?u[u.length-1].scopes:r.contentNameScopesList).pushAttributed(m,t);u.push(new e9e(b,d.end))}}for(;u.length>0;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}var e9e=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function t9e(t,e,n,r,i,s,o,a){return new r9e(t,e,n,r,i,s,o,a)}function YB(t,e,n,r,i){const s=x3(e,k3),o=ate.getCompiledRuleId(n,r,i.repository);for(const a of s)t.push({debugSelector:e,matcher:a.matcher,ruleId:o,grammar:i,priority:a.priority})}function k3(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let i=n;i<e.length;i++)if(n9e(e[i],r))return n=i+1,!0;return!1})}function n9e(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var r9e=class{constructor(t,e,n,r,i,s,o,a){if(this._rootScopeName=t,this.balancedBracketSelectors=s,this._onigLib=a,this._basicScopeAttributesProvider=new Z7e(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=GB(e,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const l of Object.keys(i)){const u=x3(l,k3);for(const c of u)this._tokenTypeMatchers.push({matcher:c.matcher,type:i[l]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),injections:i=>this._grammarRepository.injections(i)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const i=r.injections;if(i)for(let o in i)YB(e,o,i[o],this,r);const s=this._grammarRepository.injections(n);s&&s.forEach(o=>{const a=this.getExternalGrammar(o);if(a){const l=a.injectionSelector;l&&YB(e,l,a,this,a)}})}return e.sort((i,s)=>i.priority-s.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=GB(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=ate.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!e||e===yT.NULL){i=!0;const u=this._basicScopeAttributesProvider.getDefaultAttributes(),c=this.themeProvider.getDefaults(),f=b1.set(0,u.languageId,u.tokenType,null,c.fontStyle,c.foregroundId,c.backgroundId),h=this.getRule(this._rootId).getName(null,null);let d;h?d=iv.createRootAndLookUpScopeName(h,f,this):d=iv.createRoot("unknown",f),e=new yT(null,this._rootId,-1,-1,!1,null,d,d)}else i=!1,e.reset();t=t+`
`;const s=this.createOnigString(t),o=s.content.length,a=new s9e(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),l=ute(this,s,i,0,e,a,!0,r);return ite(s),{lineLength:o,lineTokens:a,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function GB(t,e){return t=x7e(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var iv=class Qu{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,i=e?.scopePath??null;for(const s of n)i=n6.push(i,s.scopeNames),r=new Qu(r,i,s.encodedTokenAttributes);return r}static createRoot(e,n){return new Qu(null,new n6(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const i=r.getMetadataForScope(e),s=new n6(null,e),o=r.themeProvider.themeMatch(s),a=Qu.mergeAttributes(n,i,o);return new Qu(null,s,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Qu.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let i=-1,s=0,o=0;return r!==null&&(i=r.fontStyle,s=r.foregroundId,o=r.backgroundId),b1.set(e,n.languageId,n.tokenType,null,i,s,o)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return Qu._pushAttributed(this,e,n);const r=e.split(/ /g);let i=this;for(const s of r)i=Qu._pushAttributed(i,s,n);return i}static _pushAttributed(e,n,r){const i=r.getMetadataForScope(n),s=e.scopePath.push(n),o=r.themeProvider.themeMatch(s),a=Qu.mergeAttributes(e.tokenAttributes,i,o);return new Qu(e,s,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?n.reverse():void 0}},yT=class Op{constructor(e,n,r,i,s,o,a,l){this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=s,this.endRule=o,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=i}_stackElementBrand=void 0;static NULL=new Op(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:Op._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?iv.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Op._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,i,s,o,a){return new Op(this,e,n,r,i,s,o,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Op(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,n){const r=iv.fromExtension(e?.nameScopesList??null,n.nameScopesList);return new Op(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,iv.fromExtension(r,n.contentNameScopesList))}},i9e=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):x3(n,k3).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>x3(n,k3).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},s9e=class{constructor(t,e,n,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=t?.tokenAttributes??0,i=!1;if(this.balancedBracketSelectors?.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const s=t?.getScopeNames()??[];for(const o of this._tokenTypeOverrides)o.matcher(s)&&(r=b1.set(r,0,o.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(s))}if(i&&(r=b1.set(r,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const n=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,i=this._binaryTokens.length;r<i;r++)n[r]=this._binaryTokens[r];return n}},o9e=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,i){if(!this._grammars.has(t)){let s=this._rawGrammars.get(t);if(!s)return null;this._grammars.set(t,t9e(t,s,e,n,r,i,this,this._onigLib))}return this._grammars.get(t)}},a9e=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new o9e(w3.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(w3.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new i9e(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,i,s){const o=new M7e(this._syncRegistry,e);for(;o.Q.length>0;)o.Q.map(a=>this._loadSingleGrammar(a.scopeName)),o.processQueue();return this._grammarForScopeName(e,n,r,i,s)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,i=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,i)}_grammarForScopeName(e,n=0,r=null,i=null,s=null){return this._syncRegistry.grammarForScopeName(e,n,r,i,s)}},bT=yT.NULL;const l9e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];let a2=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};a2.prototype.normal={};a2.prototype.property={};a2.prototype.space=void 0;function fte(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new a2(n,r,e)}function vT(t){return t.toLowerCase()}class ua{constructor(e,n){this.attribute=n,this.property=e}}ua.prototype.attribute="";ua.prototype.booleanish=!1;ua.prototype.boolean=!1;ua.prototype.commaOrSpaceSeparated=!1;ua.prototype.commaSeparated=!1;ua.prototype.defined=!1;ua.prototype.mustUseProperty=!1;ua.prototype.number=!1;ua.prototype.overloadedBoolean=!1;ua.prototype.property="";ua.prototype.spaceSeparated=!1;ua.prototype.space=void 0;let u9e=0;const Zt=q0(),Di=q0(),OT=q0(),$e=q0(),Sr=q0(),kg=q0(),xa=q0();function q0(){return 2**++u9e}const wT=Object.freeze(Object.defineProperty({__proto__:null,boolean:Zt,booleanish:Di,commaOrSpaceSeparated:xa,commaSeparated:kg,number:$e,overloadedBoolean:OT,spaceSeparated:Sr},Symbol.toStringTag,{value:"Module"})),i6=Object.keys(wT);class R9 extends ua{constructor(e,n,r,i){let s=-1;if(super(e,n),HB(this,"space",i),typeof r=="number")for(;++s<i6.length;){const o=i6[s];HB(this,i6[s],(r&wT[o])===wT[o])}}}R9.prototype.defined=!0;function HB(t,e,n){n&&(t[e]=n)}function ey(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new R9(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[vT(r)]=r,n[vT(s.attribute)]=r}return new a2(e,n,t.space)}const hte=ey({properties:{ariaActiveDescendant:null,ariaAtomic:Di,ariaAutoComplete:null,ariaBusy:Di,ariaChecked:Di,ariaColCount:$e,ariaColIndex:$e,ariaColSpan:$e,ariaControls:Sr,ariaCurrent:null,ariaDescribedBy:Sr,ariaDetails:null,ariaDisabled:Di,ariaDropEffect:Sr,ariaErrorMessage:null,ariaExpanded:Di,ariaFlowTo:Sr,ariaGrabbed:Di,ariaHasPopup:null,ariaHidden:Di,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Sr,ariaLevel:$e,ariaLive:null,ariaModal:Di,ariaMultiLine:Di,ariaMultiSelectable:Di,ariaOrientation:null,ariaOwns:Sr,ariaPlaceholder:null,ariaPosInSet:$e,ariaPressed:Di,ariaReadOnly:Di,ariaRelevant:null,ariaRequired:Di,ariaRoleDescription:Sr,ariaRowCount:$e,ariaRowIndex:$e,ariaRowSpan:$e,ariaSelected:Di,ariaSetSize:$e,ariaSort:null,ariaValueMax:$e,ariaValueMin:$e,ariaValueNow:$e,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function dte(t,e){return e in t?t[e]:e}function pte(t,e){return dte(t,e.toLowerCase())}const c9e=ey({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:kg,acceptCharset:Sr,accessKey:Sr,action:null,allow:null,allowFullScreen:Zt,allowPaymentRequest:Zt,allowUserMedia:Zt,alt:null,as:null,async:Zt,autoCapitalize:null,autoComplete:Sr,autoFocus:Zt,autoPlay:Zt,blocking:Sr,capture:null,charSet:null,checked:Zt,cite:null,className:Sr,cols:$e,colSpan:null,content:null,contentEditable:Di,controls:Zt,controlsList:Sr,coords:$e|kg,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Zt,defer:Zt,dir:null,dirName:null,disabled:Zt,download:OT,draggable:Di,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Zt,formTarget:null,headers:Sr,height:$e,hidden:OT,high:$e,href:null,hrefLang:null,htmlFor:Sr,httpEquiv:Sr,id:null,imageSizes:null,imageSrcSet:null,inert:Zt,inputMode:null,integrity:null,is:null,isMap:Zt,itemId:null,itemProp:Sr,itemRef:Sr,itemScope:Zt,itemType:Sr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Zt,low:$e,manifest:null,max:null,maxLength:$e,media:null,method:null,min:null,minLength:$e,multiple:Zt,muted:Zt,name:null,nonce:null,noModule:Zt,noValidate:Zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Zt,optimum:$e,pattern:null,ping:Sr,placeholder:null,playsInline:Zt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Zt,referrerPolicy:null,rel:Sr,required:Zt,reversed:Zt,rows:$e,rowSpan:$e,sandbox:Sr,scope:null,scoped:Zt,seamless:Zt,selected:Zt,shadowRootClonable:Zt,shadowRootDelegatesFocus:Zt,shadowRootMode:null,shape:null,size:$e,sizes:null,slot:null,span:$e,spellCheck:Di,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$e,step:null,style:null,tabIndex:$e,target:null,title:null,translate:null,type:null,typeMustMatch:Zt,useMap:null,value:Di,width:$e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Sr,axis:null,background:null,bgColor:null,border:$e,borderColor:null,bottomMargin:$e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Zt,declare:Zt,event:null,face:null,frame:null,frameBorder:null,hSpace:$e,leftMargin:$e,link:null,longDesc:null,lowSrc:null,marginHeight:$e,marginWidth:$e,noResize:Zt,noHref:Zt,noShade:Zt,noWrap:Zt,object:null,profile:null,prompt:null,rev:null,rightMargin:$e,rules:null,scheme:null,scrolling:Di,standby:null,summary:null,text:null,topMargin:$e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Zt,disableRemotePlayback:Zt,prefix:null,property:null,results:$e,security:null,unselectable:null},space:"html",transform:pte}),f9e=ey({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xa,accentHeight:$e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$e,amplitude:$e,arabicForm:null,ascent:$e,attributeName:null,attributeType:null,azimuth:$e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$e,by:null,calcMode:null,capHeight:$e,className:Sr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$e,diffuseConstant:$e,direction:null,display:null,dur:null,divisor:$e,dominantBaseline:null,download:Zt,dx:null,dy:null,edgeMode:null,editable:null,elevation:$e,enableBackground:null,end:null,event:null,exponent:$e,externalResourcesRequired:null,fill:null,fillOpacity:$e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:kg,g2:kg,glyphName:kg,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$e,horizOriginX:$e,horizOriginY:$e,id:null,ideographic:$e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$e,k:$e,k1:$e,k2:$e,k3:$e,k4:$e,kernelMatrix:xa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$e,overlineThickness:$e,paintOrder:null,panose1:null,path:null,pathLength:$e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Sr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$e,pointsAtY:$e,pointsAtZ:$e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xa,rev:xa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xa,requiredFeatures:xa,requiredFonts:xa,requiredFormats:xa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$e,specularExponent:$e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$e,strikethroughThickness:$e,string:null,stroke:null,strokeDashArray:xa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$e,strokeOpacity:$e,strokeWidth:null,style:null,surfaceScale:$e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xa,tabIndex:$e,tableValues:null,target:null,targetX:$e,targetY:$e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$e,underlineThickness:$e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$e,values:null,vAlphabetic:$e,vMathematical:$e,vectorEffect:null,vHanging:$e,vIdeographic:$e,version:null,vertAdvY:$e,vertOriginX:$e,vertOriginY:$e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:dte}),mte=ey({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),gte=ey({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:pte}),yte=ey({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),h9e=/[A-Z]/g,KB=/-[a-z]/g,d9e=/^data[-\w.:]+$/i;function p9e(t,e){const n=vT(e);let r=e,i=ua;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&d9e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(KB,g9e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!KB.test(s)){let o=s.replace(h9e,m9e);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=R9}return new i(r,e)}function m9e(t){return"-"+t.toLowerCase()}function g9e(t){return t.charAt(1).toUpperCase()}const y9e=fte([hte,c9e,mte,gte,yte],"html"),bte=fte([hte,f9e,mte,gte,yte],"svg"),JB={}.hasOwnProperty;function b9e(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&JB.call(i,t)){const l=String(i[t]);o=JB.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const v9e=/["&'<>`]/g,O9e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w9e=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,x9e=/[|\\{}()[\]^$+*?.]/g,ez=new WeakMap;function _9e(t,e){if(t=t.replace(e.subset?S9e(e.subset):v9e,r),e.subset||e.escapeOnly)return t;return t.replace(O9e,n).replace(w9e,r);function n(i,s,o){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),e)}function r(i,s,o){return e.format(i.charCodeAt(0),o.charCodeAt(s+1),e)}}function S9e(t){let e=ez.get(t);return e||(e=k9e(t),ez.set(t,e)),e}function k9e(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(x9e,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const C9e=/[\dA-Fa-f]/;function A9e(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!C9e.test(String.fromCharCode(e))?r:r+";"}const E9e=/\d/;function T9e(t,e,n){const r="&#"+String(t);return n&&e&&!E9e.test(String.fromCharCode(e))?r:r+";"}const D9e=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],s6={nbsp:"Â ",iexcl:"Â¡",cent:"Â¢",pound:"Â£",curren:"Â¤",yen:"Â¥",brvbar:"Â¦",sect:"Â§",uml:"Â¨",copy:"Â©",ordf:"Âª",laquo:"Â«",not:"Â¬",shy:"Â­",reg:"Â®",macr:"Â¯",deg:"Â°",plusmn:"Â±",sup2:"Â²",sup3:"Â³",acute:"Â´",micro:"Âµ",para:"Â¶",middot:"Â·",cedil:"Â¸",sup1:"Â¹",ordm:"Âº",raquo:"Â»",frac14:"Â¼",frac12:"Â½",frac34:"Â¾",iquest:"Â¿",Agrave:"Ã",Aacute:"Ã",Acirc:"Ã",Atilde:"Ã",Auml:"Ã",Aring:"Ã",AElig:"Ã",Ccedil:"Ã",Egrave:"Ã",Eacute:"Ã",Ecirc:"Ã",Euml:"Ã",Igrave:"Ã",Iacute:"Ã",Icirc:"Ã",Iuml:"Ã",ETH:"Ã",Ntilde:"Ã",Ograve:"Ã",Oacute:"Ã",Ocirc:"Ã",Otilde:"Ã",Ouml:"Ã",times:"Ã",Oslash:"Ã",Ugrave:"Ã",Uacute:"Ã",Ucirc:"Ã",Uuml:"Ã",Yacute:"Ã",THORN:"Ã",szlig:"Ã",agrave:"Ã ",aacute:"Ã¡",acirc:"Ã¢",atilde:"Ã£",auml:"Ã¤",aring:"Ã¥",aelig:"Ã¦",ccedil:"Ã§",egrave:"Ã¨",eacute:"Ã©",ecirc:"Ãª",euml:"Ã«",igrave:"Ã¬",iacute:"Ã­",icirc:"Ã®",iuml:"Ã¯",eth:"Ã°",ntilde:"Ã±",ograve:"Ã²",oacute:"Ã³",ocirc:"Ã´",otilde:"Ãµ",ouml:"Ã¶",divide:"Ã·",oslash:"Ã¸",ugrave:"Ã¹",uacute:"Ãº",ucirc:"Ã»",uuml:"Ã¼",yacute:"Ã½",thorn:"Ã¾",yuml:"Ã¿",fnof:"Æ",Alpha:"Î",Beta:"Î",Gamma:"Î",Delta:"Î",Epsilon:"Î",Zeta:"Î",Eta:"Î",Theta:"Î",Iota:"Î",Kappa:"Î",Lambda:"Î",Mu:"Î",Nu:"Î",Xi:"Î",Omicron:"Î",Pi:"Î ",Rho:"Î¡",Sigma:"Î£",Tau:"Î¤",Upsilon:"Î¥",Phi:"Î¦",Chi:"Î§",Psi:"Î¨",Omega:"Î©",alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",epsilon:"Îµ",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",lambda:"Î»",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",pi:"Ï",rho:"Ï",sigmaf:"Ï",sigma:"Ï",tau:"Ï",upsilon:"Ï",phi:"Ï",chi:"Ï",psi:"Ï",omega:"Ï",thetasym:"Ï",upsih:"Ï",piv:"Ï",bull:"â¢",hellip:"â¦",prime:"â²",Prime:"â³",oline:"â¾",frasl:"â",weierp:"â",image:"â",real:"â",trade:"â¢",alefsym:"âµ",larr:"â",uarr:"â",rarr:"â",darr:"â",harr:"â",crarr:"âµ",lArr:"â",uArr:"â",rArr:"â",dArr:"â",hArr:"â",forall:"â",part:"â",exist:"â",empty:"â",nabla:"â",isin:"â",notin:"â",ni:"â",prod:"â",sum:"â",minus:"â",lowast:"â",radic:"â",prop:"â",infin:"â",ang:"â ",and:"â§",or:"â¨",cap:"â©",cup:"âª",int:"â«",there4:"â´",sim:"â¼",cong:"â",asymp:"â",ne:"â ",equiv:"â¡",le:"â¤",ge:"â¥",sub:"â",sup:"â",nsub:"â",sube:"â",supe:"â",oplus:"â",otimes:"â",perp:"â¥",sdot:"â",lceil:"â",rceil:"â",lfloor:"â",rfloor:"â",lang:"â©",rang:"âª",loz:"â",spades:"â ",clubs:"â£",hearts:"â¥",diams:"â¦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Å",oelig:"Å",Scaron:"Å ",scaron:"Å¡",Yuml:"Å¸",circ:"Ë",tilde:"Ë",ensp:"â",emsp:"â",thinsp:"â",zwnj:"â",zwj:"â",lrm:"â",rlm:"â",ndash:"â",mdash:"â",lsquo:"â",rsquo:"â",sbquo:"â",ldquo:"â",rdquo:"â",bdquo:"â",dagger:"â ",Dagger:"â¡",permil:"â°",lsaquo:"â¹",rsaquo:"âº",euro:"â¬"},P9e=["cent","copy","divide","gt","lt","not","para","times"],vte={}.hasOwnProperty,xT={};let ox;for(ox in s6)vte.call(s6,ox)&&(xT[s6[ox]]=ox);const R9e=/[^\dA-Za-z]/;function $9e(t,e,n,r){const i=String.fromCharCode(t);if(vte.call(xT,i)){const s=xT[i],o="&"+s;return n&&D9e.includes(s)&&!P9e.includes(s)&&(!r||e&&e!==61&&R9e.test(String.fromCharCode(e)))?o:o+";"}return""}function I9e(t,e,n){let r=A9e(t,e,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=$9e(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=T9e(t,e,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function Cg(t,e){return _9e(t,Object.assign({format:I9e},e))}const F9e=/^>|^->|<!--|-->|--!>|<!-$/g,M9e=[">"],L9e=["<",">"];function N9e(t,e,n,r){return r.settings.bogusComments?"<?"+Cg(t.value,Object.assign({},r.settings.characterReferences,{subset:M9e}))+">":"<!--"+t.value.replace(F9e,i)+"-->";function i(s){return Cg(s,Object.assign({},r.settings.characterReferences,{subset:L9e}))}}function Q9e(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function tz(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function B9e(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function z9e(t){return t.join(" ").trim()}const U9e=/[ \t\n\f\r]/g;function $9(t){return typeof t=="object"?t.type==="text"?nz(t.value):!1:nz(t)}function nz(t){return t.replace(U9e,"")===""}const Ki=wte(1),Ote=wte(-1),j9e=[];function wte(t){return e;function e(n,r,i){const s=n?n.children:j9e;let o=(r||0)+t,a=s[o];if(!i)for(;a&&$9(a);)o+=t,a=s[o];return a}}const q9e={}.hasOwnProperty;function xte(t){return e;function e(n,r,i){return q9e.call(t,n.tagName)&&t[n.tagName](n,r,i)}}const I9=xte({body:X9e,caption:o6,colgroup:o6,dd:G9e,dt:Y9e,head:o6,html:V9e,li:W9e,optgroup:H9e,option:K9e,p:Z9e,rp:rz,rt:rz,tbody:eRe,td:iz,tfoot:tRe,th:iz,thead:J9e,tr:nRe});function o6(t,e,n){const r=Ki(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&$9(r.value.charAt(0)))}function V9e(t,e,n){const r=Ki(n,e);return!r||r.type!=="comment"}function X9e(t,e,n){const r=Ki(n,e);return!r||r.type!=="comment"}function Z9e(t,e,n){const r=Ki(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function W9e(t,e,n){const r=Ki(n,e);return!r||r.type==="element"&&r.tagName==="li"}function Y9e(t,e,n){const r=Ki(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function G9e(t,e,n){const r=Ki(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function rz(t,e,n){const r=Ki(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function H9e(t,e,n){const r=Ki(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function K9e(t,e,n){const r=Ki(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function J9e(t,e,n){const r=Ki(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function eRe(t,e,n){const r=Ki(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function tRe(t,e,n){return!Ki(n,e)}function nRe(t,e,n){const r=Ki(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function iz(t,e,n){const r=Ki(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const rRe=xte({body:oRe,colgroup:aRe,head:sRe,html:iRe,tbody:lRe});function iRe(t){const e=Ki(t,-1);return!e||e.type!=="comment"}function sRe(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function oRe(t){const e=Ki(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&$9(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function aRe(t,e,n){const r=Ote(n,e),i=Ki(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&I9(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function lRe(t,e,n){const r=Ote(n,e),i=Ki(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&I9(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const ax={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function uRe(t,e,n,r){const i=r.schema,s=i.space==="svg"?!1:r.settings.omitOptionalTags;let o=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const a=[];let l;i.space==="html"&&t.tagName==="svg"&&(r.schema=bte);const u=cRe(r,t.properties),c=r.all(i.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=i,c&&(o=!1),(u||!s||!rRe(t,e,n))&&(a.push("<",t.tagName,u?" "+u:""),o&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(c),!o&&(!s||!I9(t,e,n))&&a.push("</"+t.tagName+">"),a.join("")}function cRe(t,e){const n=[];let r=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const s=fRe(t,i,e[i]);s&&n.push(s)}}for(;++r<n.length;){const s=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&s!=='"'&&s!=="'"&&(n[r]+=" ")}return n.join("")}function fRe(t,e,n){const r=p9e(t.schema,e),i=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,s=t.settings.allowDangerousCharacters?0:1;let o=t.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=Cg(r.attribute,Object.assign({},t.settings.characterReferences,{subset:ax.name[i][s]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?B9e:z9e)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?l:(t.settings.preferUnquoted&&(a=Cg(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:ax.unquoted[i][s]}))),a!==n&&(t.settings.quoteSmart&&tz(n,o)>tz(n,t.alternative)&&(o=t.alternative),a=o+Cg(n,Object.assign({},t.settings.characterReferences,{subset:(o==="'"?ax.single:ax.double)[i][s],attribute:!0}))+o),l+(a&&"="+a))}const hRe=["<","&"];function _te(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:Cg(t.value,Object.assign({},r.settings.characterReferences,{subset:hRe}))}function dRe(t,e,n,r){return r.settings.allowDangerousHtml?t.value:_te(t,e,n,r)}function pRe(t,e,n,r){return r.all(t)}const mRe=b9e("type",{invalid:gRe,unknown:yRe,handlers:{comment:N9e,doctype:Q9e,element:uRe,raw:dRe,root:pRe,text:_te}});function gRe(t){throw new Error("Expected node, not `"+t+"`")}function yRe(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const bRe={},vRe={},ORe=[];function wRe(t,e){const n=bRe,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:xRe,all:_Re,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||l9e,characterReferences:n.characterReferences||vRe,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?bte:y9e,quote:r,alternative:i}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function xRe(t,e,n){return mRe(t,e,n,this)}function _Re(t){const e=[],n=t&&t.children||ORe;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function SRe(t){return Array.isArray(t)?t:[t]}function v4(t,e=!1){const n=t.split(/(\r?\n)/g);let r=0;const i=[];for(let s=0;s<n.length;s+=2){const o=e?n[s]+(n[s+1]||""):n[s];i.push([o,r]),r+=n[s].length,r+=n[s+1]?.length||0}return i}function F9(t){return!t||["plaintext","txt","text","plain"].includes(t)}function kRe(t){return t==="ansi"||F9(t)}function M9(t){return t==="none"}function CRe(t){return M9(t)}function Ste(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const r of n)r&&!t.properties.class.includes(r)&&t.properties.class.push(r);return t}function ARe(t,e){let n=0;const r=[];for(const i of e)i>n&&r.push({...t,content:t.content.slice(n,i),offset:t.offset+n}),n=i;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function ERe(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,i)=>r-i);return n.length?t.map(r=>r.flatMap(i=>{const s=n.filter(o=>i.offset<o&&o<i.offset+i.content.length).map(o=>o-i.offset).sort((o,a)=>o-a);return s.length?ARe(i,s):i})):t}async function kte(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function C3(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[i,s]of Object.entries(e?.colorReplacements||{}))typeof s=="string"?n[i]=s:i===r&&Object.assign(n,s);return n}function Qp(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function Cte(t){const e={};return t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle&&(t.fontStyle&Mf.Italic&&(e["font-style"]="italic"),t.fontStyle&Mf.Bold&&(e["font-weight"]="bold"),t.fontStyle&Mf.Underline&&(e["text-decoration"]="underline")),e}function TRe(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}function DRe(t){const e=v4(t,!0).map(([i])=>i);function n(i){if(i===t.length)return{line:e.length-1,character:e[e.length-1].length};let s=i,o=0;for(const a of e){if(s<a.length)break;s-=a.length,o++}return{line:o,character:s}}function r(i,s){let o=0;for(let a=0;a<i;a++)o+=e[a].length;return o+=s,o}return{lines:e,indexToPos:n,posToIndex:r}}class ao extends Error{constructor(e){super(e),this.name="ShikiError"}}const Ate=new WeakMap;function O4(t,e){Ate.set(t,e)}function cO(t){return Ate.get(t)}class ty{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new ty(Object.fromEntries(SRe(n).map(r=>[r,bT])),e)}constructor(...e){if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,i]=e;this.lang=r,this._stacks={[i]:n}}}getInternalStack(e=this.theme){return this._stacks[e]}get scopes(){return sz(this._stacks[this.theme])}getScopes(e=this.theme){return sz(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.scopes}}}function sz(t){const e=[],n=new Set;function r(i){if(n.has(i))return;n.add(i);const s=i?.nameScopesList?.scopeName;s&&e.push(s),i.parent&&r(i.parent)}return r(t),e}function PRe(t,e){if(!(t instanceof ty))throw new ao("Invalid grammar state");return t.getInternalStack(e)}function RRe(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(o){if(typeof o=="number"){if(o<0||o>n.source.length)throw new ao(`Invalid decoration offset: ${o}. Code length: ${n.source.length}`);return{...i.indexToPos(o),offset:o}}else{const a=i.lines[o.line];if(a===void 0)throw new ao(`Invalid decoration position ${JSON.stringify(o)}. Lines length: ${i.lines.length}`);if(o.character<0||o.character>a.length)throw new ao(`Invalid decoration position ${JSON.stringify(o)}. Line ${o.line} length: ${a.length}`);return{...o,offset:i.posToIndex(o.line,o.character)}}};const i=DRe(n.source),s=(n.options.decorations||[]).map(o=>({...o,start:r(o.start),end:r(o.end)}));$Re(s),t.set(n.meta,{decorations:s,converter:i,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){if(!this.options.decorations?.length)return;const i=e(this).decorations.flatMap(o=>[o.start.offset,o.end.offset]);return ERe(n,i)},code(n){if(!this.options.decorations?.length)return;const r=e(this),i=Array.from(n.children).filter(c=>c.type==="element"&&c.tagName==="span");if(i.length!==r.converter.lines.length)throw new ao(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function s(c,f,h,d){const m=i[c];let g="",b=-1,v=-1;if(f===0&&(b=0),h===0&&(v=0),h===Number.POSITIVE_INFINITY&&(v=m.children.length),b===-1||v===-1)for(let _=0;_<m.children.length;_++)g+=Ete(m.children[_]),b===-1&&g.length===f&&(b=_+1),v===-1&&g.length===h&&(v=_+1);if(b===-1)throw new ao(`Failed to find start index for decoration ${JSON.stringify(d.start)}`);if(v===-1)throw new ao(`Failed to find end index for decoration ${JSON.stringify(d.end)}`);const O=m.children.slice(b,v);if(!d.alwaysWrap&&O.length===m.children.length)a(m,d,"line");else if(!d.alwaysWrap&&O.length===1&&O[0].type==="element")a(O[0],d,"token");else{const _={type:"element",tagName:"span",properties:{},children:O};a(_,d,"wrapper"),m.children.splice(b,O.length,_)}}function o(c,f){i[c]=a(i[c],f,"line")}function a(c,f,h){const d=f.properties||{},m=f.transform||(g=>g);return c.tagName=f.tagName||"span",c.properties={...c.properties,...d,class:c.properties.class},f.properties?.class&&Ste(c,f.properties.class),c=m(c,h)||c,c}const l=[],u=r.decorations.sort((c,f)=>f.start.offset-c.start.offset);for(const c of u){const{start:f,end:h}=c;if(f.line===h.line)s(f.line,f.character,h.character,c);else if(f.line<h.line){s(f.line,f.character,Number.POSITIVE_INFINITY,c);for(let d=f.line+1;d<h.line;d++)l.unshift(()=>o(d,c));s(h.line,0,h.character,c)}}l.forEach(c=>c())}}}function $Re(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new ao(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const i=t[r],s=n.start.offset<i.start.offset&&i.start.offset<n.end.offset,o=n.start.offset<i.end.offset&&i.end.offset<n.end.offset,a=i.start.offset<n.start.offset&&n.start.offset<i.end.offset,l=i.start.offset<n.end.offset&&n.end.offset<i.end.offset;if(s||o||a||l){if(o&&o||a&&l)continue;throw new ao(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}function Ete(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(Ete).join(""):""}const IRe=[RRe()];function A3(t){return[...t.transformers||[],...IRe]}var Bp=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],a6={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function FRe(t,e){const n=t.indexOf("\x1B[",e);if(n!==-1){const r=t.indexOf("m",n);return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function oz(t,e){let n=1;const r=t[e+n++];let i;if(r==="2"){const s=[t[e+n++],t[e+n++],t[e+n]].map(o=>Number.parseInt(o));s.length===3&&!s.some(o=>Number.isNaN(o))&&(i={type:"rgb",rgb:s})}else if(r==="5"){const s=Number.parseInt(t[e+n]);Number.isNaN(s)||(i={type:"table",index:Number(s)})}return[n,i]}function MRe(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=Number.parseInt(r);if(!Number.isNaN(i))if(i===0)e.push({type:"resetAll"});else if(i<=9)a6[i]&&e.push({type:"setDecoration",value:a6[i]});else if(i<=29){const s=a6[i-20];s&&e.push({type:"resetDecoration",value:s})}else if(i<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Bp[i-30]}});else if(i===38){const[s,o]=oz(t,n);o&&e.push({type:"setForegroundColor",value:o}),n+=s}else if(i===39)e.push({type:"resetForegroundColor"});else if(i<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Bp[i-40]}});else if(i===48){const[s,o]=oz(t,n);o&&e.push({type:"setBackgroundColor",value:o}),n+=s}else i===49?e.push({type:"resetBackgroundColor"}):i>=90&&i<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Bp[i-90+8]}}):i>=100&&i<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Bp[i-100+8]}})}return e}function LRe(){let t=null,e=null,n=new Set;return{parse(r){const i=[];let s=0;do{const o=FRe(r,s),a=o.sequence?r.substring(s,o.startPosition):r.substring(s);if(a.length>0&&i.push({value:a,foreground:t,background:e,decorations:new Set(n)}),o.sequence){const l=MRe(o.sequence);for(const u of l)u.type==="resetAll"?(t=null,e=null,n.clear()):u.type==="resetForegroundColor"?t=null:u.type==="resetBackgroundColor"?e=null:u.type==="resetDecoration"&&n.delete(u.value);for(const u of l)u.type==="setForegroundColor"?t=u.value:u.type==="setBackgroundColor"?e=u.value:u.type==="setDecoration"&&n.add(u.value)}s=o.position}while(s<r.length);return i}}}var NRe={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function QRe(t=NRe){function e(a){return t[a]}function n(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let r;function i(){if(r)return r;r=[];for(let u=0;u<Bp.length;u++)r.push(e(Bp[u]));let a=[0,95,135,175,215,255];for(let u=0;u<6;u++)for(let c=0;c<6;c++)for(let f=0;f<6;f++)r.push(n([a[u],a[c],a[f]]));let l=8;for(let u=0;u<24;u++,l+=10)r.push(n([l,l,l]));return r}function s(a){return i()[a]}function o(a){switch(a.type){case"named":return e(a.name);case"rgb":return n(a.rgb);case"table":return s(a.index)}}return{value:o}}function BRe(t,e,n){const r=C3(t,n),i=v4(e),s=QRe(Object.fromEntries(Bp.map(a=>[a,t.colors?.[`terminal.ansi${a[0].toUpperCase()}${a.substring(1)}`]]))),o=LRe();return i.map(a=>o.parse(a[0]).map(l=>{let u,c;l.decorations.has("reverse")?(u=l.background?s.value(l.background):t.bg,c=l.foreground?s.value(l.foreground):t.fg):(u=l.foreground?s.value(l.foreground):t.fg,c=l.background?s.value(l.background):void 0),u=Qp(u,r),c=Qp(c,r),l.decorations.has("dim")&&(u=zRe(u));let f=Mf.None;return l.decorations.has("bold")&&(f|=Mf.Bold),l.decorations.has("italic")&&(f|=Mf.Italic),l.decorations.has("underline")&&(f|=Mf.Underline),{content:l.value,offset:a[1],color:u,bgColor:c,fontStyle:f}}))}function zRe(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function L9(t,e,n={}){const{lang:r="text",theme:i=t.getLoadedThemes()[0]}=n;if(F9(r)||M9(i))return v4(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:s,colorMap:o}=t.setTheme(i);if(r==="ansi")return BRe(s,e,n);const a=t.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==a.name)throw new n0(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${a.name}"`);if(!n.grammarState.themes.includes(s.name))throw new n0(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return jRe(e,a,s,o,n)}function URe(...t){if(t.length===2)return cO(t[1]);const[e,n,r={}]=t,{lang:i="text",theme:s=e.getLoadedThemes()[0]}=r;if(F9(i)||M9(s))throw new n0("Plain language does not have grammar state");if(i==="ansi")throw new n0("ANSI language does not have grammar state");const{theme:o,colorMap:a}=e.setTheme(s),l=e.getLanguage(i);return new ty(E3(n,l,o,a,r).stateStack,l.name,o.name)}function jRe(t,e,n,r,i){const s=E3(t,e,n,r,i),o=new ty(E3(t,e,n,r,i).stateStack,e.name,n.name);return O4(s.tokens,o),s.tokens}function E3(t,e,n,r,i){const s=C3(n,i),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:a=500}=i,l=v4(t);let u=i.grammarState?PRe(i.grammarState,n.name)??bT:i.grammarContextCode!=null?E3(i.grammarContextCode,e,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:bT,c=[];const f=[];for(let h=0,d=l.length;h<d;h++){const[m,g]=l[h];if(m===""){c=[],f.push([]);continue}if(o>0&&m.length>=o){c=[],f.push([{content:m,offset:g,color:"",fontStyle:0}]);continue}let b,v,O;i.includeExplanation&&(b=e.tokenizeLine(m,u),v=b.tokens,O=0);const _=e.tokenizeLine2(m,u,a),S=_.tokens.length/2;for(let k=0;k<S;k++){const A=_.tokens[2*k],C=k+1<S?_.tokens[2*k+2]:m.length;if(A===C)continue;const T=_.tokens[2*k+1],P=Qp(r[b1.getForeground(T)],s),N=b1.getFontStyle(T),I={content:m.substring(A,C),offset:g+A,color:P,fontStyle:N};if(i.includeExplanation){const $=[];if(i.includeExplanation!=="scopeName")for(const M of n.settings){let B;switch(typeof M.scope){case"string":B=M.scope.split(/,/).map(U=>U.trim());break;case"object":B=M.scope;break;default:continue}$.push({settings:M,selectors:B.map(U=>U.split(/ /))})}I.explanation=[];let R=0;for(;A+R<C;){const M=v[O],B=m.substring(M.startIndex,M.endIndex);R+=B.length,I.explanation.push({content:B,scopes:i.includeExplanation==="scopeName"?qRe(M.scopes):VRe($,M.scopes)}),O+=1}}c.push(I)}f.push(c),c=[],u=_.ruleStack}return{tokens:f,stateStack:u}}function qRe(t){return t.map(e=>({scopeName:e}))}function VRe(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n[r]={scopeName:s,themeMatches:ZRe(t,s,e.slice(0,r))}}return n}function az(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function XRe(t,e,n){if(!az(t[t.length-1],e))return!1;let r=t.length-2,i=n.length-1;for(;r>=0&&i>=0;)az(t[r],n[i])&&(r-=1),i-=1;return r===-1}function ZRe(t,e,n){const r=[];for(const{selectors:i,settings:s}of t)for(const o of i)if(XRe(o,e,n)){r.push(s);break}return r}function Tte(t,e,n){const r=Object.entries(n.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),i=r.map(l=>{const u=L9(t,e,{...n,theme:l.theme}),c=cO(u),f=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:u,state:c,theme:f}}),s=WRe(...i.map(l=>l.tokens)),o=s[0].map((l,u)=>l.map((c,f)=>{const h={content:c.content,variants:{},offset:c.offset};return"includeExplanation"in n&&n.includeExplanation&&(h.explanation=c.explanation),s.forEach((d,m)=>{const{content:g,explanation:b,offset:v,...O}=d[u][f];h.variants[r[m].color]=O}),h})),a=i[0].state?new ty(Object.fromEntries(i.map(l=>[l.theme,l.state?.getInternalStack(l.theme)])),i[0].state.lang):void 0;return a&&O4(o,a),o}function WRe(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const i=t.map(l=>l[r]),s=e.map(()=>[]);e.forEach((l,u)=>l.push(s[u]));const o=i.map(()=>0),a=i.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(u=>u.content.length));for(let u=0;u<n;u++){const c=a[u];c.content.length===l?(s[u].push(c),o[u]+=1,a[u]=i[u][o[u]]):(s[u].push({...c,content:c.content.slice(0,l)}),a[u]={...c,content:c.content.slice(l),offset:c.offset+l})}}}return e}function T3(t,e,n){let r,i,s,o,a,l;if("themes"in n){const{defaultColor:u="light",cssVariablePrefix:c="--shiki-"}=n,f=Object.entries(n.themes).filter(b=>b[1]).map(b=>({color:b[0],theme:b[1]})).sort((b,v)=>b.color===u?-1:v.color===u?1:0);if(f.length===0)throw new n0("`themes` option must not be empty");const h=Tte(t,e,n);if(l=cO(h),u&&!f.find(b=>b.color===u))throw new n0(`\`themes\` option must contain the defaultColor key \`${u}\``);const d=f.map(b=>t.getTheme(b.theme)),m=f.map(b=>b.color);s=h.map(b=>b.map(v=>YRe(v,m,c,u))),l&&O4(s,l);const g=f.map(b=>C3(b.theme,n));i=f.map((b,v)=>(v===0&&u?"":`${c+b.color}:`)+(Qp(d[v].fg,g[v])||"inherit")).join(";"),r=f.map((b,v)=>(v===0&&u?"":`${c+b.color}-bg:`)+(Qp(d[v].bg,g[v])||"inherit")).join(";"),o=`shiki-themes ${d.map(b=>b.name).join(" ")}`,a=u?void 0:[i,r].join(";")}else if("theme"in n){const u=C3(n.theme,n);s=L9(t,e,n);const c=t.getTheme(n.theme);r=Qp(c.bg,u),i=Qp(c.fg,u),o=c.name,l=cO(s)}else throw new n0("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:i,bg:r,themeName:o,rootStyle:a,grammarState:l}}function YRe(t,e,n,r){const i={content:t.content,explanation:t.explanation,offset:t.offset},s=e.map(l=>Cte(t.variants[l])),o=new Set(s.flatMap(l=>Object.keys(l))),a={};return s.forEach((l,u)=>{for(const c of o){const f=l[c]||"inherit";if(u===0&&r)a[c]=f;else{const h=c==="color"?"":c==="background-color"?"-bg":`-${c}`,d=n+e[u]+(c==="color"?"":h);a[d]=f}}}),i.htmlStyle=a,i}function D3(t,e,n,r={meta:{},options:n,codeToHast:(i,s)=>D3(t,i,s),codeToTokens:(i,s)=>T3(t,i,s)}){let i=e;for(const d of A3(n))i=d.preprocess?.call(r,i,n)||i;let{tokens:s,fg:o,bg:a,themeName:l,rootStyle:u,grammarState:c}=T3(t,i,n);const{mergeWhitespaces:f=!0}=n;f===!0?s=HRe(s):f==="never"&&(s=KRe(s));const h={...r,get source(){return i}};for(const d of A3(n))s=d.tokens?.call(h,s)||s;return GRe(s,{...n,fg:o,bg:a,themeName:l,rootStyle:u},h,c)}function GRe(t,e,n,r=cO(t)){const i=A3(e),s=[],o={type:"root",children:[]},{structure:a="classic",tabindex:l="0"}=e;let u={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([m])=>!m.startsWith("_")))},children:[]},c={type:"element",tagName:"code",properties:{},children:s};const f=[],h={...n,structure:a,addClassToHast:Ste,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return o},get pre(){return u},get code(){return c},get lines(){return f}};if(t.forEach((m,g)=>{g&&(a==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):a==="classic"&&s.push({type:"text",value:`
`}));let b={type:"element",tagName:"span",properties:{class:"line"},children:[]},v=0;for(const O of m){let _={type:"element",tagName:"span",properties:{...O.htmlAttrs},children:[{type:"text",value:O.content}]};O.htmlStyle;const S=TRe(O.htmlStyle||Cte(O));S&&(_.properties.style=S);for(const k of i)_=k?.span?.call(h,_,g+1,v,b,O)||_;a==="inline"?o.children.push(_):a==="classic"&&b.children.push(_),v+=O.content.length}if(a==="classic"){for(const O of i)b=O?.line?.call(h,b,g+1)||b;f.push(b),s.push(b)}}),a==="classic"){for(const m of i)c=m?.code?.call(h,c)||c;u.children.push(c);for(const m of i)u=m?.pre?.call(h,u)||u;o.children.push(u)}let d=o;for(const m of i)d=m?.root?.call(h,d)||d;return r&&O4(d,r),d}function HRe(t){return t.map(e=>{const n=[];let r="",i=0;return e.forEach((s,o)=>{const l=!(s.fontStyle&&s.fontStyle&Mf.Underline);l&&s.content.match(/^\s+$/)&&e[o+1]?(i||(i=s.offset),r+=s.content):r?(l?n.push({...s,offset:i,content:r+s.content}):n.push({content:r,offset:i},s),i=0,r=""):n.push(s)}),n})}function KRe(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,i,s,o]=r;if(!i&&!o)return n;const a=[{...n,offset:n.offset+i.length,content:s}];return i&&a.unshift({content:i,offset:n.offset}),o&&a.push({content:o,offset:n.offset+i.length+s.length}),a}))}function JRe(t,e,n){const r={meta:{},options:n,codeToHast:(s,o)=>D3(t,s,o),codeToTokens:(s,o)=>T3(t,s,o)};let i=wRe(D3(t,e,n,r));for(const s of A3(n))i=s.postprocess?.call(r,i,n)||i;return i}const lz={light:"#333333",dark:"#bbbbbb"},uz={light:"#fffffe",dark:"#1e1e1e"},cz="__shiki_resolved";function N9(t){if(t?.[cz])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:n,fg:r}=e;if(!n||!r){const a=e.settings?e.settings.find(l=>!l.name&&!l.scope):void 0;a?.settings?.foreground&&(r=a.settings.foreground),a?.settings?.background&&(n=a.settings.background),!r&&e?.colors?.["editor.foreground"]&&(r=e.colors["editor.foreground"]),!n&&e?.colors?.["editor.background"]&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?lz.light:lz.dark),n||(n=e.type==="light"?uz.light:uz.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let i=0;const s=new Map;function o(a){if(s.has(a))return s.get(a);i+=1;const l=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${l}`]?o(a):(s.set(a,l),l)}e.settings=e.settings.map(a=>{const l=a.settings?.foreground&&!a.settings.foreground.startsWith("#"),u=a.settings?.background&&!a.settings.background.startsWith("#");if(!l&&!u)return a;const c={...a,settings:{...a.settings}};if(l){const f=o(a.settings.foreground);e.colorReplacements[f]=a.settings.foreground,c.settings.foreground=f}if(u){const f=o(a.settings.background);e.colorReplacements[f]=a.settings.background,c.settings.background=f}return c});for(const a of Object.keys(e.colors||{}))if((a==="editor.foreground"||a==="editor.background"||a.startsWith("terminal.ansi"))&&!e.colors[a]?.startsWith("#")){const l=o(e.colors[a]);e.colorReplacements[l]=e.colors[a],e.colors[a]=l}return Object.defineProperty(e,cz,{enumerable:!1,writable:!1,value:!0}),e}async function Dte(t){return Array.from(new Set((await Promise.all(t.filter(e=>!kRe(e)).map(async e=>await kte(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function Pte(t){return(await Promise.all(t.map(async n=>CRe(n)?null:N9(await kte(n))))).filter(n=>!!n)}class e$e extends a9e{constructor(e,n,r,i={}){super(e),this._resolver=e,this._themes=n,this._langs=r,this._alias=i,this._themes.map(s=>this.loadTheme(s)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const n=N9(e);return n.name&&(this._resolvedThemes.set(n.name,n),this._loadedThemesCache=null),n}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let n=this._textmateThemeCache.get(e);n||(n=w3.createFromRawTheme(e),this._textmateThemeCache.set(e,n)),this._syncRegistry.setTheme(n)}getGrammar(e){if(this._alias[e]){const n=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],n.has(e))throw new ao(`Circular alias \`${Array.from(n).join(" -> ")} -> ${e}\``);n.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const n=new Set([...this._langMap.values()].filter(s=>s.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const i=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(i.name=e.name,this._resolvedGrammars.set(e.name,i),e.aliases&&e.aliases.forEach(s=>{this._alias[s]=e.name}),this._loadedLanguagesCache=null,n.size)for(const s of n)this._resolvedGrammars.delete(s.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(s.scopeName),this._syncRegistry?._grammars?.delete(s.scopeName),this.loadLanguage(this._langMap.get(s.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const i of e)this.resolveEmbeddedLanguages(i);const n=Array.from(this._langGraph.entries()),r=n.filter(([i,s])=>!s);if(r.length){const i=n.filter(([s,o])=>o&&o.embeddedLangs?.some(a=>r.map(([l])=>l).includes(a))).filter(s=>!r.includes(s));throw new ao(`Missing languages ${r.map(([s])=>`\`${s}\``).join(", ")}, required by ${i.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[i,s]of n)this._resolver.addLanguage(s);for(const[i,s]of n)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(const n of e.embeddedLangs)this._langGraph.set(n,this._langMap.get(n))}}class t$e{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,n){this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let i=1;i<=n.length;i++){const s=n.slice(0,i).join(".");r=[...r,...this._injections.get(s)||[]]}return r}}let Hy=0;function n$e(t){Hy+=1,t.warnings!==!1&&Hy>=10&&Hy%10===0&&console.warn(`[Shiki] ${Hy} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new ao("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(N9),i=new t$e(t.engine,n),s=new e$e(i,r,n,t.langAlias);let o;function a(O){b();const _=s.getGrammar(typeof O=="string"?O:O.name);if(!_)throw new ao(`Language \`${O}\` not found, you may need to load it first`);return _}function l(O){if(O==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};b();const _=s.getTheme(O);if(!_)throw new ao(`Theme \`${O}\` not found, you may need to load it first`);return _}function u(O){b();const _=l(O);o!==O&&(s.setTheme(_),o=O);const S=s.getColorMap();return{theme:_,colorMap:S}}function c(){return b(),s.getLoadedThemes()}function f(){return b(),s.getLoadedLanguages()}function h(...O){b(),s.loadLanguages(O.flat(1))}async function d(...O){return h(await Dte(O))}function m(...O){b();for(const _ of O.flat(1))s.loadTheme(_)}async function g(...O){return b(),m(await Pte(O))}function b(){if(e)throw new ao("Shiki instance has been disposed")}function v(){e||(e=!0,s.dispose(),Hy-=1)}return{setTheme:u,getTheme:l,getLanguage:a,getLoadedThemes:c,getLoadedLanguages:f,loadLanguage:d,loadLanguageSync:h,loadTheme:g,loadThemeSync:m,dispose:v,[Symbol.dispose]:v}}async function r$e(t={}){t.loadWasm;const[e,n,r]=await Promise.all([Pte(t.themes||[]),Dte(t.langs||[]),t.engine||w7e(t.loadWasm||O7e())]);return n$e({...t,themes:e,langs:n,engine:r})}async function i$e(t={}){const e=await r$e(t);return{getLastGrammarState:(...n)=>URe(e,...n),codeToTokensBase:(n,r)=>L9(e,n,r),codeToTokensWithThemes:(n,r)=>Tte(e,n,r),codeToTokens:(n,r)=>T3(e,n,r),codeToHast:(n,r)=>D3(e,n,r),codeToHtml:(n,r)=>JRe(e,n,r),...e,getInternalContext:()=>e}}const _T=Pl({linkify:!0,typographer:!0});(async()=>{const t=await i$e({themes:[XA(()=>import("./vitesse-light-CVO1_9PV.js"),[],import.meta.url),XA(()=>import("./vitesse-dark-D0r3Knsf.js"),[],import.meta.url)],langs:[XA(()=>import("./javascript-ySlJ1b_l.js"),[],import.meta.url)]});_T.use(n7e(t,{themes:{light:"vitesse-light",dark:"vitesse-dark"}}))})();function Ag(t,e=!0){return e?_T.renderInline(t):_T.render(t)}const s$e=gh({String:Q.string,Number:Q.number,"True False":Q.bool,PropertyName:Q.propertyName,Null:Q.null,", :":Q.separator,"[ ]":Q.squareBracket,"{ }":Q.brace}),o$e=ih.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"â  JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[s$e],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),a$e=()=>t=>{try{JSON.parse(t.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const n=l$e(e,t.state.doc);return[{from:n,message:e.message,severity:"error",to:n}]}return[]};function l$e(t,e){let n;return(n=t.message.match(/at position (\d+)/))?Math.min(+n[1],e.length):(n=t.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+n[1]).from+ +n[2]-1,e.length):0}const Rte=rh.define({name:"json",parser:o$e.configure({props:[Wd.add({Object:Xf({except:/^\s*\}/}),Array:Xf({except:/^\s*\]/})}),Yd.add({"Object Array":i4})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function u$e(){return new Bd(Rte)}var l6={},fz;function c$e(){return fz||(fz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.enableErrorLogging=t.disableErrorLogging=t.setErrorLogger=void 0;let e=console.error;function n(C){e=C}t.setErrorLogger=n;function r(){e=()=>{}}t.disableErrorLogging=r;function i(){e=console.error}t.enableErrorLogging=i;function s(C){if(C!==void 0){if(C===null)return null;if(C==="")return"";C=C.replace(/\\+$/,T=>T.length%2===0?T:T.slice(0,-1));try{return JSON.parse(C)}catch(T){const[P,N]=C.trimLeft()[0]===":"?o(C,T):o(C,T,v);if(s.lastParseReminding=N,s.onExtraToken&&N.length>0){const I=N.trimRight();s.lastParseReminding=I,I.length>0&&s.onExtraToken(C,P,I)}return P}}}t.parse=s,(function(C){C.onExtraToken=(T,P,N)=>{e("parsed json with extra tokens:",{text:T,data:P,reminding:N})}})(s=t.parse||(t.parse={}));function o(C,T,P){const N=l[C[0]]||P;if(!N)throw e(`no parser registered for ${JSON.stringify(C[0])}:`,{s:C}),T;return N(C,T)}function a(C,T,P){return C[0]==='"'?m(C):C[0]==="'"?b(C):v(C,T,P)}const l={};function u(C){return C.trimLeft()}l[" "]=c,l["\r"]=c,l[`
`]=c,l["	"]=c;function c(C,T){return C=u(C),o(C,T)}l["["]=f;function f(C,T){C=C.substr(1);const P=[];for(C=u(C);C.length>0;){if(C[0]==="]"){C=C.substr(1);break}const N=o(C,T,(I,$)=>v(I,$,[",","]"]));P.push(N[0]),C=N[1],C=u(C),C[0]===","&&(C=C.substring(1),C=u(C))}return[P,C]}for(const C of"0123456789.-".slice())l[C]=h;function h(C){for(let T=0;T<C.length;T++){const P=C[T];if(l[P]===h)continue;const N=C.substring(0,T);return C=C.substring(T),[d(N),C]}return[d(C),""]}function d(C){if(C==="-")return-0;const T=+C;return Number.isNaN(T)?C:T}l['"']=m;function m(C){for(let T=1;T<C.length;T++){const P=C[T];if(P==="\\"){T++;continue}if(P==='"'){const N=g(C.substring(0,T+1));return C=C.substring(T+1),[JSON.parse(N),C]}}return[JSON.parse(g(C)+'"'),""]}function g(C){return C.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}l["'"]=b;function b(C){for(let T=1;T<C.length;T++){const P=C[T];if(P==="\\"){T++;continue}if(P==="'"){const N=g(C.substring(0,T+1));return C=C.substring(T+1),[JSON.parse('"'+N.slice(1,-1)+'"'),C]}}return[JSON.parse('"'+g(C.slice(1))+'"'),""]}function v(C,T,P=[" "]){const N=Math.min(...P.map(R=>{const M=C.indexOf(R);return M===-1?C.length:M})),I=C.substring(0,N).trim(),$=C.substring(N);return[I,$]}l["{"]=O;function O(C,T){C=C.substr(1);const P={};for(C=u(C);C.length>0;){if(C[0]==="}"){C=C.substr(1);break}const N=a(C,T,[":","}"]),I=N[0];if(C=N[1],C=u(C),C[0]!==":"){P[I]=void 0;break}if(C=C.substr(1),C=u(C),C.length===0){P[I]=void 0;break}const $=o(C,T);P[I]=$[0],C=$[1],C=u(C),C[0]===","&&(C=C.substr(1),C=u(C))}return[P,C]}l.t=_;function _(C,T){return A(C,"true",!0,T)}l.f=S;function S(C,T){return A(C,"false",!1,T)}l.n=k;function k(C,T){return A(C,"null",null,T)}function A(C,T,P,N){for(let I=T.length;I>=1;I--)if(C.startsWith(T.slice(0,I)))return[P,C.slice(I)];{const I=JSON.stringify(C.slice(0,T.length));throw e(`unknown token starting with ${I}:`,{s:C}),N}}})(l6)),l6}var $te=c$e();function f$e(t){let e=null;try{e=JSON.parse(t.doc.toString())}catch{try{e=$te.parse(t.doc.toString())}catch{}}const n=p9(t,mr.JSON);return{data:e,pointers:n}}const h$e=ih.deserialize({version:14,states:"%WO`QPOOOwQQO'#CbO!SQPO'#ChOOQO'#Cj'#CjOOQO'#Ct'#CtQOQPOOOOQO'#Cd'#CdO!ZQPO'#CcOOQO,58|,58|O!`QPO,58|OOQO,59S,59SO!hQPO,59SO`QPO,58}O!pQQO1G.hO!{QPO1G.hOOQO1G.h1G.hO#TQPO1G.nO#[QPO1G.nOOQO1G.n1G.nOOQO1G.i1G.iOOQO,59Y,59YOOQO7+$S7+$SO#dQQO7+$SOOQO-E6l-E6lOOQO,59Z,59ZOOQO7+$Y7+$YO#oQPO7+$YOOQO-E6m-E6mOOQO<<Gn<<GnPzQQO'#CnOOQO<<Gt<<GtP`QPO'#Co",stateData:"#x~OPOSQOSfOSgOS~OTPOZQO]SO_SO`SOaSOiRO~OSWOiUOjUO~OYYO~P`OX[O~OS_Ok]O~OYbOk`O~OSeOiUOjUO~OSeOkfO~OYiO~P`OYiOkjO~OSlOiUOjUO~OYnO~P`Oj~",goto:"!liPPPPPPjrzPPPjPjPPP!Q!WPPPP!^]SOQ[`joQXPVd]fmXVP]fmQ^XRg^QaZRkaQTOQZQQc[Vh`jo",nodeNames:"â  LineComment BlockComment File } { Object Property PropertyName PropertyColon ] [ Array Number String Null True False",maxTerm:27,nodeProps:[["openedBy",4,"{",10,"["],["closedBy",5,"}",11,"]"]],skippedNodes:[0,1,2],repeatNodeCount:2,tokenData:">X~R!TXY$bYZ%YZ[$b[]$b]^%Ypq$brs%_tu&owx'W{|(c|},O}!O(c!O!P(r!P!Q,T!Q!R)l!R![*l![!]-d!c!k&o!k!l-i!l!p&o!p!q2g!q!}&o!}#O3p#P#Q3u#R#S&o#T#Y&o#Y#Z3z#Z#b&o#b#c6z#c#h&o#h#i9`#i#o&o#o#p;t#q#r;y$f$g$b$g#BY&o#BY#BZ<O#BZ$IS&o$IS$I_<O$I_$I|&o$I|$I}=n$I}$JO=n$JO$JT&o$JT$JU<O$JU$KV&o$KV$KW<O$KW&FU&o&FU&FV<O&FV?HT&o?HT?HU<O?HU~&o~$gZf~XY$bZ[$b[]$bpq$b$f$g$b#BY#BZ$b$IS$I_$b$JT$JU$b$KV$KW$b&FU&FV$b?HT?HU$b~%_Og~~%bTOr%_rs%qs#O%_#O#P%v#P~%_~%vOi~~%y[YZ%_]^%_rs%_#O#P%_#U#V%_#Y#Z%_#b#c%_#f#g%_#h#i%_#j#k%_$I|$I}%_$I}$JO%_Q&tUjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&o~'ZTOw'Wwx%qx#O'W#O#P'j#P~'W~'m[YZ'W]^'Wwx'W#O#P'W#U#V'W#Y#Z'W#b#c'W#f#g'W#h#i'W#j#k'W$I|$I}'W$I}$JO'WP(fS!O!P(r!Q!R)l!R![*l!k!l*}P(wR]P!Q![(r!g!h)Q#X#Y)QP)TR{|)^}!O)^!Q![)dP)aP!Q![)dP)iP]P!Q![)dP)qT]P!O!P(r!g!h)Q!z!{*Q#X#Y)Q#l#m*QP*TR!Q![*^!c!i*^#T#Z*^P*cR]P!Q![*^!c!i*^#T#Z*^P*qS]P!O!P(r!Q![*l!g!h)Q#X#Y)QP+QP#b#c+TP+WP#Y#Z+ZP+^P#]#^+aP+dP#b#c+gP+jP#]#^+mP+pP#h#i+sP+vP#m#n+yP,OO]P~,TOk~~,WQz{,^!P!Q-R~,aROz,^z{,j{~,^~,mTOz,^z{,j{!P,^!P!Q,|!Q~,^~-ROQ~~-WSP~OY-RZ]-R^$I|-R$JO~-R~-iOX~R-nWjQtu&o!Q![&o!c!}&o#R#S&o#T#b&o#b#c.W#c#o&o$g~&oR.]WjQtu&o!Q![&o!c!}&o#R#S&o#T#Y&o#Y#Z.u#Z#o&o$g~&oR.zWjQtu&o!Q![&o!c!}&o#R#S&o#T#]&o#]#^/d#^#o&o$g~&oR/iWjQtu&o!Q![&o!c!}&o#R#S&o#T#b&o#b#c0R#c#o&o$g~&oR0WWjQtu&o!Q![&o!c!}&o#R#S&o#T#]&o#]#^0p#^#o&o$g~&oR0uWjQtu&o!Q![&o!c!}&o#R#S&o#T#h&o#h#i1_#i#o&o$g~&oR1dWjQtu&o!Q![&o!c!}&o#R#S&o#T#m&o#m#n1|#n#o&o$g~&oR2TU]PjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&oR2lVjQtu&o!Q![&o!c!}&o#R#S&o#T#U3R#U#o&o$g~&oR3WWjQtu&o!Q![&o!c!p&o!p!q1|!q!}&o#R#S&o#T#o&o$g~&o~3uOZ~~3zOY~R4PVjQtu&o!Q![&o!c!}&o#R#S&o#T#U4f#U#o&o$g~&oR4kWjQtu&o!Q![&o!c!}&o#R#S&o#T#`&o#`#a5T#a#o&o$g~&oR5YWjQtu&o!Q![&o!c!}&o#R#S&o#T#g&o#g#h5r#h#o&o$g~&oR5wWjQtu&o!Q![&o!c!}&o#R#S&o#T#X&o#X#Y6a#Y#o&o$g~&oR6hUaPjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&oR7PWjQtu&o!Q![&o!c!}&o#R#S&o#T#i&o#i#j7i#j#o&o$g~&oR7nWjQtu&o!Q![&o!c!}&o#R#S&o#T#`&o#`#a8W#a#o&o$g~&oR8]WjQtu&o!Q![&o!c!}&o#R#S&o#T#`&o#`#a8u#a#o&o$g~&oR8|U_PjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&oR9eWjQtu&o!Q![&o!c!}&o#R#S&o#T#f&o#f#g9}#g#o&o$g~&oR:SWjQtu&o!Q![&o!c!}&o#R#S&o#T#i&o#i#j:l#j#o&o$g~&oR:qWjQtu&o!Q![&o!c!}&o#R#S&o#T#X&o#X#Y;Z#Y#o&o$g~&oR;bU`PjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&o~;yOT~~<OOS~~<Vgf~jQXY$bZ[$b[]$bpq$btu&o!Q![&o!c!}&o#R#S&o#T#o&o$f$g$b$g#BY&o#BY#BZ<O#BZ$IS&o$IS$I_<O$I_$JT&o$JT$JU<O$JU$KV&o$KV$KW<O$KW&FU&o&FU&FV<O&FV?HT&o?HT?HU<O?HU~&o~=uUg~jQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&o",tokenizers:[0,1],topRules:{File:[0,3]},tokenPrec:130});function d$e(t){let e=t[0],n=t[t.length-1];return(e==="'"&&n==="'"||e==='"'&&n==='"')&&(t=t.slice(1,-1)),t}function p$e(t,e){if(e.name!=="Property")return null;let n=e.getChild("PropertyName");return n?d$e(t.sliceDoc(n.from,n.to)):null}function m$e(t){var e;let n=(e=t.parent)===null||e===void 0?void 0:e.cursor();if(!n)return null;for(;n.node.name!=="Property"&&n.node.name!=="Array";)if(!n.parent())return null;return n.node}function g$e(t,e){let n=[];for(;;){let r=m$e(e);if(!r)break;if(r.name==="Array"){let i=e.from,s=r.firstChild,o=0;for(;s&&s.to<i;)s=y$e(s.nextSibling),o+=1;n.unshift(o)}else{let i=p$e(t,r);i&&n.unshift(i)}e=r}return n}function y$e(t){for(;t&&/Comment/.test(t.name);)t=t.nextSibling;return t}function b$e(t,e){let r=Hn(t).resolveInner(e,-1);for(;r;){let i=r.childBefore(e);if(!i)break;r=i}return r}const Ite=rh.define({parser:h$e.configure({props:[Wd.add({Object:Xf({except:/^\s*\}/}),Array:Xf({except:/^\s*\]/})}),Yd.add({"Object Array":i4}),gh({String:Q.string,"PropertyName!":Q.propertyName,Number:Q.number,"True False":Q.bool,Null:Q.null,LineComment:Q.lineComment,BlockComment:Q.blockComment,", PropertyColon":Q.separator,"[ ]":Q.squareBracket,"{ }":Q.brace})]}),languageData:{closeBrackets:{brackets:["[","{",'"',"'"]},indentOnInput:/^\s*[}\]]$/,commentTokens:{line:"//",block:{open:"/*",clone:"*/"}}}});function v$e(){return new Bd(Ite,[Fte.extension,w$e.extension])}function hz(t,e){let n=0;return"lineNumber"in e&&"columnNumber"in e&&(n=Math.min(t.line(e.lineNumber).from+e.columnNumber-1,t.length)),[{from:n,to:n,message:e.message,severity:"error"}]}function O$e(t){return e=>{var n,r;let i=e.state.doc,s=e.state.field(Fte,!1);if(s){if(s.err)return hz(i,s.err);if(s.obj!==void 0)return(n=void 0)!==null&&n!==void 0?n:[]}try{let o=r1.parse(i.toString());return(r=t?.(e,o))!==null&&r!==void 0?r:[]}catch(o){return hz(i,o)}}}const Fte=Mi.define({create(){return null},update(t,e){if(!e.docChanged)return t;try{return{err:null,obj:r1.parse(e.newDoc.toString())}}catch(n){return{err:n,obj:t?.obj}}}}),w$e=Mi.define({create(){return{path:null,node:null}},update(t,e){let n=e.state.selection.main.to,r=b$e(e.state,n),i=r?g$e(e.state,r):null;return{path:i??null,node:r}}});function Mte(t){const e=t.doc.toString();let n=null;try{n=r1.parse(e)}catch{try{n=$te.parse(e)}catch{}}const r=p9(t,mr.JSON5);return{data:n,pointers:r}}const Q9=Symbol.for("yaml.alias"),ST=Symbol.for("yaml.document"),md=Symbol.for("yaml.map"),Lte=Symbol.for("yaml.pair"),Dc=Symbol.for("yaml.scalar"),ny=Symbol.for("yaml.seq"),Rl=Symbol.for("yaml.node.type"),Hd=t=>!!t&&typeof t=="object"&&t[Rl]===Q9,V0=t=>!!t&&typeof t=="object"&&t[Rl]===ST,ry=t=>!!t&&typeof t=="object"&&t[Rl]===md,Zr=t=>!!t&&typeof t=="object"&&t[Rl]===Lte,vr=t=>!!t&&typeof t=="object"&&t[Rl]===Dc,iy=t=>!!t&&typeof t=="object"&&t[Rl]===ny;function ni(t){if(t&&typeof t=="object")switch(t[Rl]){case md:case ny:return!0}return!1}function ii(t){if(t&&typeof t=="object")switch(t[Rl]){case Q9:case md:case Dc:case ny:return!0}return!1}const Nte=t=>(vr(t)||ni(t))&&!!t.anchor,jo=Symbol("break visit"),Qte=Symbol("skip children"),vc=Symbol("remove node");function X0(t,e){const n=Bte(e);V0(t)?Jm(null,t.contents,n,Object.freeze([t]))===vc&&(t.contents=null):Jm(null,t,n,Object.freeze([]))}X0.BREAK=jo;X0.SKIP=Qte;X0.REMOVE=vc;function Jm(t,e,n,r){const i=zte(t,e,n,r);if(ii(i)||Zr(i))return Ute(t,r,i),Jm(t,i,n,r);if(typeof i!="symbol"){if(ni(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const o=Jm(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===jo)return jo;o===vc&&(e.items.splice(s,1),s-=1)}}}else if(Zr(e)){r=Object.freeze(r.concat(e));const s=Jm("key",e.key,n,r);if(s===jo)return jo;s===vc&&(e.key=null);const o=Jm("value",e.value,n,r);if(o===jo)return jo;o===vc&&(e.value=null)}}return i}async function w4(t,e){const n=Bte(e);V0(t)?await eg(null,t.contents,n,Object.freeze([t]))===vc&&(t.contents=null):await eg(null,t,n,Object.freeze([]))}w4.BREAK=jo;w4.SKIP=Qte;w4.REMOVE=vc;async function eg(t,e,n,r){const i=await zte(t,e,n,r);if(ii(i)||Zr(i))return Ute(t,r,i),eg(t,i,n,r);if(typeof i!="symbol"){if(ni(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const o=await eg(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===jo)return jo;o===vc&&(e.items.splice(s,1),s-=1)}}}else if(Zr(e)){r=Object.freeze(r.concat(e));const s=await eg("key",e.key,n,r);if(s===jo)return jo;s===vc&&(e.key=null);const o=await eg("value",e.value,n,r);if(o===jo)return jo;o===vc&&(e.value=null)}}return i}function Bte(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function zte(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(ry(e))return n.Map?.(t,e,r);if(iy(e))return n.Seq?.(t,e,r);if(Zr(e))return n.Pair?.(t,e,r);if(vr(e))return n.Scalar?.(t,e,r);if(Hd(e))return n.Alias?.(t,e,r)}function Ute(t,e,n){const r=e[e.length-1];if(ni(r))r.items[t]=n;else if(Zr(r))t==="key"?r.key=n:r.value=n;else if(V0(r))r.contents=n;else{const i=Hd(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const x$e={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},_$e=t=>t.replace(/[!,[\]{}]/g,e=>x$e[e]);class no{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},no.defaultYaml,e),this.tags=Object.assign({},no.defaultTags,n)}clone(){const e=new no(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new no(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:no.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},no.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:no.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},no.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);const s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+_$e(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(e&&r.length>0&&ii(e.contents)){const s={};X0(e.contents,(o,a)=>{ii(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}}no.defaultYaml={explicit:!1,version:"1.2"};no.defaultTags={"!!":"tag:yaml.org,2002:"};function jte(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function qte(t){const e=new Set;return X0(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function Vte(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function S$e(t,e){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i??(i=qte(t));const o=Vte(e,i);return i.add(o),o},setAnchors:()=>{for(const s of n){const o=r.get(s);if(typeof o=="object"&&o.anchor&&(vr(o.node)||ni(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:r}}function tg(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],a=tg(t,r,String(i),o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=tg(t,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=tg(t,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=tg(t,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return t.call(e,n,r)}function _l(t,e,n){if(Array.isArray(t))return t.map((r,i)=>_l(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!Nte(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!n?.keep?Number(t):t}class B9{constructor(e){Object.defineProperty(this,Rl,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!V0(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=_l(this,"",o);if(typeof i=="function")for(const{count:l,res:u}of o.anchors.values())i(u,l);return typeof s=="function"?tg(s,{"":a},"",a):a}}class x4 extends B9{constructor(e){super(Q9),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],X0(e,{Node:(s,o)=>{(Hd(o)||Nte(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let i;for(const s of r){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(_l(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=b_(i,o,r)),a.count*a.aliasCount>s)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,r){const i=`*${this.source}`;if(e){if(jte(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}}function b_(t,e,n){if(Hd(e)){const r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(ni(e)){let r=0;for(const i of e.items){const s=b_(t,i,n);s>r&&(r=s)}return r}else if(Zr(e)){const r=b_(t,e.key,n),i=b_(t,e.value,n);return Math.max(r,i)}return 1}const Xte=t=>!t||typeof t!="function"&&typeof t!="object";class Qt extends B9{constructor(e){super(Dc),this.value=e}toJSON(e,n){return n?.keep?this.value:_l(this.value,e,n)}toString(){return String(this.value)}}Qt.BLOCK_FOLDED="BLOCK_FOLDED";Qt.BLOCK_LITERAL="BLOCK_LITERAL";Qt.PLAIN="PLAIN";Qt.QUOTE_DOUBLE="QUOTE_DOUBLE";Qt.QUOTE_SINGLE="QUOTE_SINGLE";const k$e="tag:yaml.org,2002:";function C$e(t,e,n){if(e){const r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>r.identify?.(t)&&!r.format)}function fO(t,e,n){if(V0(t)&&(t=t.contents),ii(t))return t;if(Zr(t)){const f=n.schema[md].createNode?.(n.schema,null,n);return f.items.push(t),f}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=n;let l;if(r&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=i(t)),new x4(l.anchor);l={anchor:null,node:null},a.set(t,l)}e?.startsWith("!!")&&(e=k$e+e.slice(2));let u=C$e(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const f=new Qt(t);return l&&(l.node=f),f}u=t instanceof Map?o[md]:Symbol.iterator in Object(t)?o[ny]:o[md]}s&&(s(u),delete n.onTagObj);const c=u?.createNode?u.createNode(n.schema,t,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,t,n):new Qt(t);return e?c.tag=e:u.default||(c.tag=u.tag),l&&(l.node=c),c}function P3(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){const s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return fO(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Ib=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Zte extends B9{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>ii(r)||Zr(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Ib(e))this.add(n);else{const[r,...i]=e,s=this.get(r,!0);if(ni(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,P3(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(ni(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...i]=e,s=this.get(r,!0);return i.length===0?!n&&vr(s)?s.value:s:ni(s)?s.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Zr(n))return!1;const r=n.value;return r==null||e&&vr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const i=this.get(n,!0);return ni(i)?i.hasIn(r):!1}setIn(e,n){const[r,...i]=e;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(ni(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,P3(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const A$e=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Lf(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const zp=(t,e,n)=>t.endsWith(`
`)?Lf(n,e):n.includes(`
`)?`
`+Lf(n,e):(t.endsWith(" ")?"":" ")+n,Wte="flow",kT="block",v_="quoted";function _4(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;i<s&&(s=0);const l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;const u=[],c={};let f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let h,d,m=!1,g=-1,b=-1,v=-1;n===kT&&(g=dz(t,g,e.length),g!==-1&&(f=g+l));for(let _;_=t[g+=1];){if(n===v_&&_==="\\"){switch(b=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}v=g}if(_===`
`)n===kT&&(g=dz(t,g,e.length)),f=g+e.length+l,h=void 0;else{if(_===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){const S=t[g+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(h=g)}if(g>=f)if(h)u.push(h),f=h+l,h=void 0;else if(n===v_){for(;d===" "||d==="	";)d=_,_=t[g+=1],m=!0;const S=g>v+1?g-2:b-1;if(c[S])return t;u.push(S),c[S]=!0,f=S+l,h=void 0}else m=!0}d=_}if(m&&a&&a(),u.length===0)return t;o&&o();let O=t.slice(0,u[0]);for(let _=0;_<u.length;++_){const S=u[_],k=u[_+1]||t.length;S===0?O=`
${e}${t.slice(0,k)}`:(n===v_&&c[S]&&(O+=`${t[S]}\\`),O+=`
${e}${t.slice(S+1,k)}`)}return O}function dz(t,e,n){let r=e,i=e+1,s=t[i];for(;s===" "||s==="	";)if(e<i+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);r=e,i=e+1,s=t[i]}return r}const S4=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),k4=t=>/^(%|---|\.\.\.)/m.test(t);function E$e(t,e,n){if(!e||e<0)return!1;const r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function sv(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(k4(t)?"  ":"");let o="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const c=n.substr(l+2,4);switch(c){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:c.substr(0,2)==="00"?o+="\\x"+c.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=s,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:_4(o,s,v_,S4(e,!1))}function CT(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return sv(t,e);const n=e.indent||(k4(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:_4(r,n,Wte,S4(e,!1))}function ng(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=sv;else{const i=t.includes('"'),s=t.includes("'");i&&!s?r=CT:s&&!i?r=sv:r=n?CT:sv}return r(t,e)}let AT;try{AT=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{AT=/\n+(?!\n|$)/g}function O_({comment:t,type:e,value:n},r,i,s){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return ng(n,r);const u=r.indent||(r.forceBlockIndent||k4(n)?"  ":""),c=o==="literal"?!0:o==="folded"||e===Qt.BLOCK_FOLDED?!1:e===Qt.BLOCK_LITERAL?!0:!E$e(n,l,u.length);if(!n)return c?`|
`:`>
`;let f,h;for(h=n.length;h>0;--h){const k=n[h-1];if(k!==`
`&&k!=="	"&&k!==" ")break}let d=n.substring(h);const m=d.indexOf(`
`);m===-1?f="-":n===d||m!==d.length-1?(f="+",s&&s()):f="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(AT,`$&${u}`));let g=!1,b,v=-1;for(b=0;b<n.length;++b){const k=n[b];if(k===" ")g=!0;else if(k===`
`)v=b;else break}let O=n.substring(0,v<b?v+1:b);O&&(n=n.substring(O.length),O=O.replace(/\n+/g,`$&${u}`));let S=(g?u?"2":"1":"")+f;if(t&&(S+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),!c){const k=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let A=!1;const C=S4(r,!0);o!=="folded"&&e!==Qt.BLOCK_FOLDED&&(C.onOverflow=()=>{A=!0});const T=_4(`${O}${k}${d}`,u,kT,C);if(!A)return`>${S}
${u}${T}`}return n=n.replace(/\n+/g,`$&${u}`),`|${S}
${u}${O}${n}${d}`}function T$e(t,e,n,r){const{type:i,value:s}=t,{actualString:o,implicitKey:a,indent:l,indentStep:u,inFlow:c}=e;if(a&&s.includes(`
`)||c&&/[[\]{},]/.test(s))return ng(s,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||c||!s.includes(`
`)?ng(s,e):O_(t,e,n,r);if(!a&&!c&&i!==Qt.PLAIN&&s.includes(`
`))return O_(t,e,n,r);if(k4(s)){if(l==="")return e.forceBlockIndent=!0,O_(t,e,n,r);if(a&&l===u)return ng(s,e)}const f=s.replace(/\n+/g,`$&
${l}`);if(o){const h=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(f),{compat:d,tags:m}=e.doc.schema;if(m.some(h)||d?.some(h))return ng(s,e)}return a?f:_4(f,l,Wte,S4(e,!1))}function l2(t,e,n,r){const{implicitKey:i,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==Qt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Qt.QUOTE_DOUBLE);const l=c=>{switch(c){case Qt.BLOCK_FOLDED:case Qt.BLOCK_LITERAL:return i||s?ng(o.value,e):O_(o,e,n,r);case Qt.QUOTE_DOUBLE:return sv(o.value,e);case Qt.QUOTE_SINGLE:return CT(o.value,e);case Qt.PLAIN:return T$e(o,e,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:c,defaultStringType:f}=e.options,h=i&&c||f;if(u=l(h),u===null)throw new Error(`Unsupported default string type ${h}`)}return u}function Yte(t,e){const n=Object.assign({blockQuote:!0,commentString:A$e,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function D$e(t,e){if(e.tag){const i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)??i[0]}let n,r;if(vr(e)){r=e.value;let i=t.filter(s=>s.identify?.(r));if(i.length>1){const s=i.filter(o=>o.test);s.length>0&&(i=s)}n=i.find(s=>s.format===e.format)??i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function P$e(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(vr(t)||ni(t))&&t.anchor;s&&jte(s)&&(n.add(s),i.push(`&${s}`));const o=t.tag??(e.default?null:e.tag);return o&&i.push(r.directives.tagString(o)),i.join(" ")}function v1(t,e,n,r){if(Zr(t))return t.toString(e,n,r);if(Hd(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const s=ii(t)?t:e.doc.createNode(t,{onTagObj:l=>i=l});i??(i=D$e(e.doc.schema.tags,s));const o=P$e(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(s,e,n,r):vr(s)?l2(s,e,n,r):s.toString(e,n,r);return o?vr(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function R$e({key:t,value:e},n,r,i){const{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:f}}=n;let h=ii(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(ni(t)||!ii(t)&&typeof t=="object"){const C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let d=!f&&(!t||h&&e==null&&!n.inFlow||ni(t)||(vr(t)?t.type===Qt.BLOCK_FOLDED||t.type===Qt.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!s),indent:a+l});let m=!1,g=!1,b=v1(t,n,()=>m=!0,()=>g=!0);if(!d&&!n.inFlow&&b.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(s||e==null)return m&&r&&r(),b===""?"?":d?`? ${b}`:b}else if(s&&!f||e==null&&d)return b=`? ${b}`,h&&!m?b+=zp(b,n.indent,u(h)):g&&i&&i(),b;m&&(h=null),d?(h&&(b+=zp(b,n.indent,u(h))),b=`? ${b}
${a}:`):(b=`${b}:`,h&&(b+=zp(b,n.indent,u(h))));let v,O,_;ii(e)?(v=!!e.spaceBefore,O=e.commentBefore,_=e.comment):(v=!1,O=null,_=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!h&&vr(e)&&(n.indentAtStart=b.length+1),g=!1,!c&&l.length>=2&&!n.inFlow&&!d&&iy(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let S=!1;const k=v1(e,n,()=>S=!0,()=>g=!0);let A=" ";if(h||v||O){if(A=v?`
`:"",O){const C=u(O);A+=`
${Lf(C,n.indent)}`}k===""&&!n.inFlow?A===`
`&&(A=`

`):A+=`
${n.indent}`}else if(!d&&ni(e)){const C=k[0],T=k.indexOf(`
`),P=T!==-1,N=n.inFlow??e.flow??e.items.length===0;if(P||!N){let I=!1;if(P&&(C==="&"||C==="!")){let $=k.indexOf(" ");C==="&"&&$!==-1&&$<T&&k[$+1]==="!"&&($=k.indexOf(" ",$+1)),($===-1||T<$)&&(I=!0)}I||(A=`
${n.indent}`)}}else(k===""||k[0]===`
`)&&(A="");return b+=A+k,n.inFlow?S&&r&&r():_&&!S?b+=zp(b,n.indent,u(_)):g&&i&&i(),b}function Gte(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const lx="<<",Zf={identify:t=>t===lx||typeof t=="symbol"&&t.description===lx,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Qt(Symbol(lx)),{addToJSMap:Hte}),stringify:()=>lx},$$e=(t,e)=>(Zf.identify(e)||vr(e)&&(!e.type||e.type===Qt.PLAIN)&&Zf.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===Zf.tag&&n.default);function Hte(t,e,n){if(n=t&&Hd(n)?n.resolve(t.doc):n,iy(n))for(const r of n.items)u6(t,e,r);else if(Array.isArray(n))for(const r of n)u6(t,e,r);else u6(t,e,n)}function u6(t,e,n){const r=t&&Hd(n)?n.resolve(t.doc):n;if(!ry(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,t,Map);for(const[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Kte(t,e,{key:n,value:r}){if(ii(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if($$e(t,n))Hte(t,e,r);else{const i=_l(n,"",t);if(e instanceof Map)e.set(i,_l(r,i,t));else if(e instanceof Set)e.add(i);else{const s=I$e(n,i,t),o=_l(r,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}function I$e(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(ii(t)&&n?.doc){const r=Yte(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),Gte(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function z9(t,e,n){const r=fO(t,void 0,n),i=fO(e,void 0,n);return new Ms(r,i)}class Ms{constructor(e,n=null){Object.defineProperty(this,Rl,{value:Lte}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return ii(n)&&(n=n.clone(e)),ii(r)&&(r=r.clone(e)),new Ms(n,r)}toJSON(e,n){const r=n?.mapAsMap?new Map:{};return Kte(n,r,this)}toString(e,n,r){return e?.doc?R$e(this,e,n,r):JSON.stringify(this)}}function Jte(t,e,n){return(e.inFlow??t.flow?M$e:F$e)(t,e,n)}function F$e({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:u}}=n,c=Object.assign({},n,{indent:s,type:null});let f=!1;const h=[];for(let m=0;m<e.length;++m){const g=e[m];let b=null;if(ii(g))!f&&g.spaceBefore&&h.push(""),R3(n,h,g.commentBefore,f),g.comment&&(b=g.comment);else if(Zr(g)){const O=ii(g.key)?g.key:null;O&&(!f&&O.spaceBefore&&h.push(""),R3(n,h,O.commentBefore,f))}f=!1;let v=v1(g,c,()=>b=null,()=>f=!0);b&&(v+=zp(v,s,u(b))),f&&b&&(f=!1),h.push(r+v)}let d;if(h.length===0)d=i.start+i.end;else{d=h[0];for(let m=1;m<h.length;++m){const g=h[m];d+=g?`
${l}${g}`:`
`}}return t?(d+=`
`+Lf(u(t),l),a&&a()):f&&o&&o(),d}function M$e({items:t},e,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=e;r+=s;const l=Object.assign({},e,{indent:r,inFlow:!0,type:null});let u=!1,c=0;const f=[];for(let m=0;m<t.length;++m){const g=t[m];let b=null;if(ii(g))g.spaceBefore&&f.push(""),R3(e,f,g.commentBefore,!1),g.comment&&(b=g.comment);else if(Zr(g)){const O=ii(g.key)?g.key:null;O&&(O.spaceBefore&&f.push(""),R3(e,f,O.commentBefore,!1),O.comment&&(u=!0));const _=ii(g.value)?g.value:null;_?(_.comment&&(b=_.comment),_.commentBefore&&(u=!0)):g.value==null&&O?.comment&&(b=O.comment)}b&&(u=!0);let v=v1(g,l,()=>b=null);m<t.length-1&&(v+=","),b&&(v+=zp(v,r,a(b))),!u&&(f.length>c||v.includes(`
`))&&(u=!0),f.push(v),c=f.length}const{start:h,end:d}=n;if(f.length===0)return h+d;if(!u){const m=f.reduce((g,b)=>g+b.length+2,2);u=e.options.lineWidth>0&&m>e.options.lineWidth}if(u){let m=h;for(const g of f)m+=g?`
${s}${i}${g}`:`
`;return`${m}
${i}${d}`}else return`${h}${o}${f.join(" ")}${o}${d}`}function R3({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=Lf(e(r),t);n.push(s.trimStart())}}function Up(t,e){const n=vr(e)?e.value:e;for(const r of t)if(Zr(r)&&(r.key===e||r.key===n||vr(r.key)&&r.key.value===n))return r}class $a extends Zte{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(md,e),this.items=[]}static from(e,n,r){const{keepUndefined:i,replacer:s}=r,o=new this(e),a=(l,u)=>{if(typeof s=="function")u=s.call(n,l,u);else if(Array.isArray(s)&&!s.includes(l))return;(u!==void 0||i)&&o.items.push(z9(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let r;Zr(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Ms(e,e?.value):r=new Ms(e.key,e.value);const i=Up(this.items,r.key),s=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);vr(i.value)&&Xte(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const o=this.items.findIndex(a=>s(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){const n=Up(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const i=Up(this.items,e)?.value;return(!n&&vr(i)?i.value:i)??void 0}has(e){return!!Up(this.items,e)}set(e,n){this.add(new Ms(e,n),!0)}toJSON(e,n,r){const i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(const s of this.items)Kte(n,i,s);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Zr(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Jte(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const sy={collection:"map",default:!0,nodeClass:$a,tag:"tag:yaml.org,2002:map",resolve(t,e){return ry(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>$a.from(t,e,n)};class Ud extends Zte{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ny,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=ux(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=ux(e);if(typeof r!="number")return;const i=this.items[r];return!n&&vr(i)?i.value:i}has(e){const n=ux(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=ux(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[r];vr(i)&&Xte(n)?i.value=n:this.items[r]=n}toJSON(e,n){const r=[];n?.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(_l(s,String(i++),n));return r}toString(e,n,r){return e?Jte(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(o++);a=i.call(n,l,a)}s.items.push(fO(a,void 0,r))}}return s}}function ux(t){let e=vr(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const oy={collection:"seq",default:!0,nodeClass:Ud,tag:"tag:yaml.org,2002:seq",resolve(t,e){return iy(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Ud.from(t,e,n)},C4={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),l2(t,e,n,r)}},A4={identify:t=>t==null,createNode:()=>new Qt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Qt(null),stringify:({source:t},e)=>typeof t=="string"&&A4.test.test(t)?t:e.options.nullStr},U9={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Qt(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&U9.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function ku({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}const ene={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ku},tne={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():ku(t)}},nne={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Qt(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:ku},E4=t=>typeof t=="bigint"||Number.isInteger(t),j9=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function rne(t,e,n){const{value:r}=t;return E4(r)&&r>=0?n+r.toString(e):ku(t)}const ine={identify:t=>E4(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>j9(t,2,8,n),stringify:t=>rne(t,8,"0o")},sne={identify:E4,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>j9(t,0,10,n),stringify:ku},one={identify:t=>E4(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>j9(t,2,16,n),stringify:t=>rne(t,16,"0x")},L$e=[sy,oy,C4,A4,U9,ine,sne,one,ene,tne,nne];function pz(t){return typeof t=="bigint"||Number.isInteger(t)}const cx=({value:t})=>JSON.stringify(t),N$e=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:cx},{identify:t=>t==null,createNode:()=>new Qt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:cx},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:cx},{identify:pz,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>pz(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:cx}],Q$e={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},B$e=[sy,oy].concat(N$e,Q$e),q9={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,s){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Qt.BLOCK_LITERAL),e!==Qt.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let f=0,h=0;f<u;++f,h+=l)c[f]=a.substr(h,l);a=c.join(e===Qt.BLOCK_LITERAL?`
`:" ")}return l2({comment:t,type:e,value:a},r,i,s)}};function ane(t,e){if(iy(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Zr(r)){if(ry(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const i=r.items[0]||new Ms(new Qt(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}t.items[n]=Zr(r)?r:new Ms(r)}}else e("Expected a sequence for this tag");return t}function lne(t,e,n){const{replacer:r}=n,i=new Ud(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)a=u[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(z9(a,l,n))}return i}const V9={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ane,createNode:lne};class Eg extends Ud{constructor(){super(),this.add=$a.prototype.add.bind(this),this.delete=$a.prototype.delete.bind(this),this.get=$a.prototype.get.bind(this),this.has=$a.prototype.has.bind(this),this.set=$a.prototype.set.bind(this),this.tag=Eg.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(Zr(i)?(s=_l(i.key,"",n),o=_l(i.value,s,n)):s=_l(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(e,n,r){const i=lne(e,n,r),s=new this;return s.items=i.items,s}}Eg.tag="tag:yaml.org,2002:omap";const X9={collection:"seq",identify:t=>t instanceof Map,nodeClass:Eg,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=ane(t,e),r=[];for(const{key:i}of n.items)vr(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Eg,n)},createNode:(t,e,n)=>Eg.from(t,e,n)};function une({value:t,source:e},n){return e&&(t?cne:fne).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const cne={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Qt(!0),stringify:une},fne={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Qt(!1),stringify:une},z$e={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:ku},U$e={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():ku(t)}},j$e={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Qt(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:ku},u2=t=>typeof t=="bigint"||Number.isInteger(t);function T4(t,e,n,{intAsBigInt:r}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return i==="-"?BigInt(-1)*o:o}const s=parseInt(t,n);return i==="-"?-1*s:s}function Z9(t,e,n){const{value:r}=t;if(u2(r)){const i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return ku(t)}const q$e={identify:u2,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>T4(t,2,2,n),stringify:t=>Z9(t,2,"0b")},V$e={identify:u2,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>T4(t,1,8,n),stringify:t=>Z9(t,8,"0")},X$e={identify:u2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>T4(t,0,10,n),stringify:ku},Z$e={identify:u2,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>T4(t,2,16,n),stringify:t=>Z9(t,16,"0x")};class Tg extends $a{constructor(e){super(e),this.tag=Tg.tag}add(e){let n;Zr(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Ms(e.key,null):n=new Ms(e,null),Up(this.items,n.key)||this.items.push(n)}get(e,n){const r=Up(this.items,e);return!n&&Zr(r)?vr(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Up(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ms(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(z9(o,null,r));return s}}Tg.tag="tag:yaml.org,2002:set";const W9={collection:"map",identify:t=>t instanceof Set,nodeClass:Tg,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Tg.from(t,e,n),resolve(t,e){if(ry(t)){if(t.hasAllNullValues(!0))return Object.assign(new Tg,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function Y9(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*s:s}function hne(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return ku(t);let r="";e<0&&(r="-",e*=n(-1));const i=n(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const dne={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Y9(t,n),stringify:hne},pne={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Y9(t,!1),stringify:hne},D4={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(D4.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,s||0,o||0,a||0,l);const c=e[8];if(c&&c!=="Z"){let f=Y9(c,!1);Math.abs(f)<30&&(f*=60),u-=6e4*f}return new Date(u)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},mz=[sy,oy,C4,A4,cne,fne,q$e,V$e,X$e,Z$e,z$e,U$e,j$e,q9,Zf,X9,V9,W9,dne,pne,D4],gz=new Map([["core",L$e],["failsafe",[sy,oy,C4]],["json",B$e],["yaml11",mz],["yaml-1.1",mz]]),yz={binary:q9,bool:U9,float:nne,floatExp:tne,floatNaN:ene,floatTime:pne,int:sne,intHex:one,intOct:ine,intTime:dne,map:sy,merge:Zf,null:A4,omap:X9,pairs:V9,seq:oy,set:W9,timestamp:D4},W$e={"tag:yaml.org,2002:binary":q9,"tag:yaml.org,2002:merge":Zf,"tag:yaml.org,2002:omap":X9,"tag:yaml.org,2002:pairs":V9,"tag:yaml.org,2002:set":W9,"tag:yaml.org,2002:timestamp":D4};function c6(t,e,n){const r=gz.get(e);if(r&&!t)return n&&!r.includes(Zf)?r.concat(Zf):r.slice();let i=r;if(!i)if(Array.isArray(t))i=[];else{const s=Array.from(gz.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)i=i.concat(s);else typeof t=="function"&&(i=t(i.slice()));return n&&(i=i.concat(Zf)),i.reduce((s,o)=>{const a=typeof o=="string"?yz[o]:o;if(!a){const l=JSON.stringify(o),u=Object.keys(yz).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}const Y$e=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class P4{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?c6(e,"compat"):e?c6(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?W$e:{},this.tags=c6(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,md,{value:sy}),Object.defineProperty(this,Dc,{value:C4}),Object.defineProperty(this,ny,{value:oy}),this.sortMapEntries=typeof o=="function"?o:o===!0?Y$e:null}clone(){const e=Object.create(P4.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function G$e(t,e){const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const l=t.directives.toString(t);l?(n.push(l),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const i=Yte(t,e),{commentString:s}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const l=s(t.commentBefore);n.unshift(Lf(l,""))}let o=!1,a=null;if(t.contents){if(ii(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const c=s(t.contents.commentBefore);n.push(Lf(c,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}const l=a?void 0:()=>o=!0;let u=v1(t.contents,i,()=>a=null,l);a&&(u+=zp(u,"",s(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(v1(t.contents,i));if(t.directives?.docEnd)if(t.comment){const l=s(t.comment);l.includes(`
`)?(n.push("..."),n.push(Lf(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=t.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Lf(s(l),"")))}return n.join(`
`)+`
`}class ay{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Rl,{value:ST});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new no({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,i,r)}clone(){const e=Object.create(ay.prototype,{[Rl]:{value:ST}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=ii(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Sm(this.contents)&&this.contents.add(e)}addIn(e,n){Sm(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=qte(this);e.anchor=!n||r.has(n)?Vte(n||"a",r):n}return new x4(e.anchor)}createNode(e,n,r){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const b=O=>typeof O=="number"||O instanceof String||O instanceof Number,v=n.filter(b).map(String);v.length>0&&(n=n.concat(v)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:u,tag:c}=r??{},{onAnchor:f,setAnchors:h,sourceObjects:d}=S$e(this,o||"a"),m={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:d},g=fO(e,c,m);return a&&ni(g)&&(g.flow=!0),h(),g}createPair(e,n,r={}){const i=this.createNode(e,null,r),s=this.createNode(n,null,r);return new Ms(i,s)}delete(e){return Sm(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Ib(e)?this.contents==null?!1:(this.contents=null,!0):Sm(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return ni(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Ib(e)?!n&&vr(this.contents)?this.contents.value:this.contents:ni(this.contents)?this.contents.getIn(e,n):void 0}has(e){return ni(this.contents)?this.contents.has(e):!1}hasIn(e){return Ib(e)?this.contents!==void 0:ni(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=P3(this.schema,[e],n):Sm(this.contents)&&this.contents.set(e,n)}setIn(e,n){Ib(e)?this.contents=n:this.contents==null?this.contents=P3(this.schema,Array.from(e),n):Sm(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new no({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new no({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new P4(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=_l(this.contents,n??"",a);if(typeof s=="function")for(const{count:u,res:c}of a.anchors.values())s(c,u);return typeof o=="function"?tg(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return G$e(this,e)}}function Sm(t){if(ni(t))return!0;throw new Error("Expected a YAML collection as document contents")}class G9 extends Error{constructor(e,n,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=n}}class jp extends G9{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class mne extends G9{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const $3=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const a=Math.min(s-39,o.length-79);o="â¦"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"â¦"),r>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`â¦
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));const u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};function O1(t,{flow:e,indicator:n,next:r,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let l=!1,u=a,c=a,f="",h="",d=!1,m=!1,g=null,b=null,v=null,O=null,_=null,S=null,k=null;for(const T of t)switch(m&&(T.type!=="space"&&T.type!=="newline"&&T.type!=="comma"&&s(T.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),g&&(u&&T.type!=="comment"&&T.type!=="newline"&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),T.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&T.source.includes("	")&&(g=T),c=!0;break;case"comment":{c||s(T,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const P=T.source.substring(1)||" ";f?f+=h+P:f=P,h="",u=!1;break}case"newline":u?f?f+=T.source:(!S||n!=="seq-item-ind")&&(l=!0):h+=T.source,u=!0,d=!0,(b||v)&&(O=T),c=!0;break;case"anchor":b&&s(T,"MULTIPLE_ANCHORS","A node can have at most one anchor"),T.source.endsWith(":")&&s(T.offset+T.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),b=T,k??(k=T.offset),u=!1,c=!1,m=!0;break;case"tag":{v&&s(T,"MULTIPLE_TAGS","A node can have at most one tag"),v=T,k??(k=T.offset),u=!1,c=!1,m=!0;break}case n:(b||v)&&s(T,"BAD_PROP_ORDER",`Anchors and tags must be after the ${T.source} indicator`),S&&s(T,"UNEXPECTED_TOKEN",`Unexpected ${T.source} in ${e??"collection"}`),S=T,u=n==="seq-item-ind"||n==="explicit-key-ind",c=!1;break;case"comma":if(e){_&&s(T,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),_=T,u=!1,c=!1;break}default:s(T,"UNEXPECTED_TOKEN",`Unexpected ${T.type} token`),u=!1,c=!1}const A=t[t.length-1],C=A?A.offset+A.source.length:i;return m&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(u&&g.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:_,found:S,spaceBefore:l,comment:f,hasNewline:d,anchor:b,tag:v,newlineAfterProp:O,end:C,start:k??C}}function hO(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(hO(e.key)||hO(e.value))return!0}return!1;default:return!0}}function ET(t,e,n){if(e?.type==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&hO(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function gne(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,o)=>s===o||vr(s)&&vr(o)&&s.value===o.value;return e.some(s=>i(s.key,n))}const bz="All mapping items must start at the same column";function H$e({composeNode:t,composeEmptyNode:e},n,r,i,s){const o=s?.nodeClass??$a,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const c of r.items){const{start:f,key:h,sep:d,value:m}=c,g=O1(f,{indicator:"explicit-key-ind",next:h??d?.[0],offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),b=!g.found;if(b){if(h&&(h.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&i(l,"BAD_INDENT",bz)),!g.anchor&&!g.tag&&!d){u=g.end,g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||hO(h))&&i(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else g.found?.indent!==r.indent&&i(l,"BAD_INDENT",bz);n.atKey=!0;const v=g.end,O=h?t(n,h,g,i):e(n,v,f,null,g,i);n.schema.compat&&ET(r.indent,h,i),n.atKey=!1,gne(n,a.items,O)&&i(v,"DUPLICATE_KEY","Map keys must be unique");const _=O1(d??[],{indicator:"map-value-ind",next:m,offset:O.range[2],onError:i,parentIndent:r.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=_.end,_.found){b&&(m?.type==="block-map"&&!_.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&g.start<_.found.offset-1024&&i(O.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const S=m?t(n,m,_,i):e(n,l,d,null,_,i);n.schema.compat&&ET(r.indent,m,i),l=S.range[2];const k=new Ms(O,S);n.options.keepSourceTokens&&(k.srcToken=c),a.items.push(k)}else{b&&i(O.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),_.comment&&(O.comment?O.comment+=`
`+_.comment:O.comment=_.comment);const S=new Ms(O);n.options.keepSourceTokens&&(S.srcToken=c),a.items.push(S)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function K$e({composeNode:t,composeEmptyNode:e},n,r,i,s){const o=s?.nodeClass??Ud,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:c,value:f}of r.items){const h=O1(c,{indicator:"seq-item-ind",next:f,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?i(h.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=h.end,h.comment&&(a.comment=h.comment);continue}const d=f?t(n,f,h,i):e(n,h.end,c,null,h,i);n.schema.compat&&ET(r.indent,f,i),l=d.range[2],a.items.push(d)}return a.range=[r.offset,l,u??l],a}function c2(t,e,n,r){let i="";if(t){let s=!1,o="";for(const a of t){const{source:l,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const c=l.substring(1)||" ";i?i+=o+c:i=c,o="";break}case"newline":i&&(o+=l),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=l.length}}return{comment:i,offset:e}}const f6="Block collections are not allowed within flow collections",h6=t=>t&&(t.type==="block-map"||t.type==="block-seq");function J$e({composeNode:t,composeEmptyNode:e},n,r,i,s){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=s?.nodeClass??(o?$a:Ud),u=new l(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let f=r.offset+r.start.source.length;for(let b=0;b<r.items.length;++b){const v=r.items[b],{start:O,key:_,sep:S,value:k}=v,A=O1(O,{flow:a,indicator:"explicit-key-ind",next:_??S?.[0],offset:f,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!A.found){if(!A.anchor&&!A.tag&&!S&&!k){b===0&&A.comma?i(A.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):b<r.items.length-1&&i(A.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),A.comment&&(u.comment?u.comment+=`
`+A.comment:u.comment=A.comment),f=A.end;continue}!o&&n.options.strict&&hO(_)&&i(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)A.comma&&i(A.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(A.comma||i(A.start,"MISSING_CHAR",`Missing , between ${a} items`),A.comment){let C="";e:for(const T of O)switch(T.type){case"comma":case"space":break;case"comment":C=T.source.substring(1);break e;default:break e}if(C){let T=u.items[u.items.length-1];Zr(T)&&(T=T.value??T.key),T.comment?T.comment+=`
`+C:T.comment=C,A.comment=A.comment.substring(C.length+1)}}if(!o&&!S&&!A.found){const C=k?t(n,k,A,i):e(n,A.end,S,null,A,i);u.items.push(C),f=C.range[2],h6(k)&&i(C.range,"BLOCK_IN_FLOW",f6)}else{n.atKey=!0;const C=A.end,T=_?t(n,_,A,i):e(n,C,O,null,A,i);h6(_)&&i(T.range,"BLOCK_IN_FLOW",f6),n.atKey=!1;const P=O1(S??[],{flow:a,indicator:"map-value-ind",next:k,offset:T.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(P.found){if(!o&&!A.found&&n.options.strict){if(S)for(const $ of S){if($===P.found)break;if($.type==="newline"){i($,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}A.start<P.found.offset-1024&&i(P.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else k&&("source"in k&&k.source&&k.source[0]===":"?i(k,"MISSING_CHAR",`Missing space after : in ${a}`):i(P.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const N=k?t(n,k,P,i):P.found?e(n,P.end,S,null,P,i):null;N?h6(k)&&i(N.range,"BLOCK_IN_FLOW",f6):P.comment&&(T.comment?T.comment+=`
`+P.comment:T.comment=P.comment);const I=new Ms(T,N);if(n.options.keepSourceTokens&&(I.srcToken=v),o){const $=u;gne(n,$.items,T)&&i(C,"DUPLICATE_KEY","Map keys must be unique"),$.items.push(I)}else{const $=new $a(n.schema);$.flow=!0,$.items.push(I);const R=(N??T).range;$.range=[T.range[0],R[1],R[2]],u.items.push($)}f=N?N.range[2]:P.end}}const h=o?"}":"]",[d,...m]=r.end;let g=f;if(d&&d.source===h)g=d.offset+d.source.length;else{const b=a[0].toUpperCase()+a.substring(1),v=c?`${b} must end with a ${h}`:`${b} in block collection must be sufficiently indented and end with a ${h}`;i(f,c?"MISSING_CHAR":"BAD_INDENT",v),d&&d.source.length!==1&&m.unshift(d)}if(m.length>0){const b=c2(m,g,n.options.strict,i);b.comment&&(u.comment?u.comment+=`
`+b.comment:u.comment=b.comment),u.range=[r.offset,g,b.offset]}else u.range=[r.offset,g,g];return u}function d6(t,e,n,r,i,s){const o=n.type==="block-map"?H$e(t,e,n,r,s):n.type==="block-seq"?K$e(t,e,n,r,s):J$e(t,e,n,r,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function eIe(t,e,n,r,i){const s=r.tag,o=s?e.directives.tagName(s.source,h=>i(s,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:d}=r,m=h&&s?h.offset>s.offset?h:s:h??s;m&&(!d||d.offset<m.offset)&&i(m,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===$a.tagName&&a==="map"||o===Ud.tagName&&a==="seq")return d6(t,e,n,i,o);let l=e.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=e.schema.knownTags[o];if(h&&h.collection===a)e.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?i(s,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection??"scalar"}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),d6(t,e,n,i,o)}const u=d6(t,e,n,i,o,l),c=l.resolve?.(u,h=>i(s,"TAG_RESOLVE_FAILED",h),e.options)??u,f=ii(c)?c:new Qt(c);return f.range=u.range,f.tag=o,l?.format&&(f.format=l.format),f}function yne(t,e,n){const r=e.offset,i=tIe(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?Qt.BLOCK_FOLDED:Qt.BLOCK_LITERAL,o=e.source?nIe(e.source):[];let a=o.length;for(let g=o.length-1;g>=0;--g){const b=o[g][1];if(b===""||b==="\r")a=g;else break}if(a===0){const g=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let b=r+i.length;return e.source&&(b+=e.source.length),{value:g,type:s,comment:i.comment,range:[r,b,b]}}let l=e.indent+i.indent,u=e.offset+i.length,c=0;for(let g=0;g<a;++g){const[b,v]=o[g];if(v===""||v==="\r")i.indent===0&&b.length>l&&(l=b.length);else{b.length<l&&n(u+b.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=b.length),c=g,l===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=b.length+v.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>l&&(a=g+1);let f="",h="",d=!1;for(let g=0;g<c;++g)f+=o[g][0].slice(l)+`
`;for(let g=c;g<a;++g){let[b,v]=o[g];u+=b.length+v.length+1;const O=v[v.length-1]==="\r";if(O&&(v=v.slice(0,-1)),v&&b.length<l){const S=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-v.length-(O?2:1),"BAD_INDENT",S),b=""}s===Qt.BLOCK_LITERAL?(f+=h+b.slice(l)+v,h=`
`):b.length>l||v[0]==="	"?(h===" "?h=`
`:!d&&h===`
`&&(h=`

`),f+=h+b.slice(l)+v,h=`
`,d=!0):v===""?h===`
`?f+=`
`:h=`
`:(f+=h+v,h=" ",d=!1)}switch(i.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)f+=`
`+o[g][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const m=r+i.length+e.source.length;return{value:f,type:s,comment:i.comment,range:[r,m,m]}}function tIe({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],s=i[0];let o=0,a="",l=-1;for(let h=1;h<i.length;++h){const d=i[h];if(!a&&(d==="-"||d==="+"))a=d;else{const m=Number(d);!o&&m?o=m:l===-1&&(l=t+h)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",f=i.length;for(let h=1;h<e.length;++h){const d=e[h];switch(d.type){case"space":u=!0;case"newline":f+=d.source.length;break;case"comment":n&&!u&&r(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=d.source.length,c=d.source.substring(1);break;case"error":r(d,"UNEXPECTED_TOKEN",d.message),f+=d.source.length;break;default:{const m=`Unexpected token in block scalar header: ${d.type}`;r(d,"UNEXPECTED_TOKEN",m);const g=d.source;g&&typeof g=="string"&&(f+=g.length)}}}return{mode:s,indent:o,chomp:a,comment:c,length:f}}function nIe(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}function bne(t,e,n){const{offset:r,type:i,source:s,end:o}=t;let a,l;const u=(h,d,m)=>n(r+h,d,m);switch(i){case"scalar":a=Qt.PLAIN,l=rIe(s,u);break;case"single-quoted-scalar":a=Qt.QUOTE_SINGLE,l=iIe(s,u);break;case"double-quoted-scalar":a=Qt.QUOTE_DOUBLE,l=sIe(s,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const c=r+s.length,f=c2(o,c,e,n);return{value:l,type:a,comment:f.comment,range:[r,c,f.offset]}}function rIe(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),vne(t)}function iIe(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),vne(t.slice(1,-1)).replace(/''/g,"'")}function vne(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(t),i+s+(r?.[1]??"")}function sIe(t,e){let n="";for(let r=1;r<t.length-1;++r){const i=t[r];if(!(i==="\r"&&t[r+1]===`
`))if(i===`
`){const{fold:s,offset:o}=oIe(t,r);n+=s,r=o}else if(i==="\\"){let s=t[++r];const o=aIe[s];if(o)n+=o;else if(s===`
`)for(s=t[r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="\r"&&t[r+1]===`
`)for(s=t[++r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="x"||s==="u"||s==="U"){const a={x:2,u:4,U:8}[s];n+=lIe(t,r+1,a,e),r+=a}else{const a=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const s=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>s?t.slice(s,r+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function oIe(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const aIe={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"Â",_:"Â ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function lIe(t,e,n,r){const i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function One(t,e,n,r){const{value:i,type:s,comment:o,range:a}=e.type==="block-scalar"?yne(t,e,r):bne(e,t.options.strict,r),l=n?t.directives.tagName(n.source,f=>r(n,"TAG_RESOLVE_FAILED",f)):null;let u;t.options.stringKeys&&t.atKey?u=t.schema[Dc]:l?u=uIe(t.schema,i,l,n,r):e.type==="scalar"?u=cIe(t,i,e,r):u=t.schema[Dc];let c;try{const f=u.resolve(i,h=>r(n??e,"TAG_RESOLVE_FAILED",h),t.options);c=vr(f)?f:new Qt(f)}catch(f){const h=f instanceof Error?f.message:String(f);r(n??e,"TAG_RESOLVE_FAILED",h),c=new Qt(i)}return c.range=a,c.source=i,s&&(c.type=s),l&&(c.tag=l),u.format&&(c.format=u.format),o&&(c.comment=o),c}function uIe(t,e,n,r,i){if(n==="!")return t[Dc];const s=[];for(const a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(const a of s)if(a.test?.test(e))return a;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Dc])}function cIe({atKey:t,directives:e,schema:n},r,i,s){const o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(r))||n[Dc];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[Dc];if(o.tag!==a.tag){const l=e.tagString(o.tag),u=e.tagString(a.tag),c=`Value may be parsed as either ${l} or ${u}`;s(i,"TAG_RESOLVE_FAILED",c,!0)}}return o}function fIe(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++r];i?.type==="space";)t+=i.source.length,i=e[++r];break}}return t}const hIe={composeNode:wne,composeEmptyNode:H9};function wne(t,e,n,r){const i=t.atKey,{spaceBefore:s,comment:o,anchor:a,tag:l}=n;let u,c=!0;switch(e.type){case"alias":u=dIe(t,e,r),(a||l)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=One(t,e,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=eIe(hIe,t,e,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",f),u=H9(t,e.offset,void 0,null,n,r),c=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&t.options.stringKeys&&(!vr(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?u.comment=o:u.commentBefore=o),t.options.keepSourceTokens&&c&&(u.srcToken=e),u}function H9(t,e,n,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},u){const c={type:"scalar",offset:fIe(e,n,r),indent:-1,source:""},f=One(t,c,a,u);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(f.spaceBefore=!0),s&&(f.comment=s,f.range[2]=l),f}function dIe({options:t},{offset:e,source:n,end:r},i){const s=new x4(n.substring(1));s.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=c2(r,o,t.strict,i);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}function pIe(t,e,{offset:n,start:r,value:i,end:s},o){const a=Object.assign({_directives:e},t),l=new ay(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=O1(r,{indicator:"doc-start",next:i??s?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&o(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?wne(u,i,c,o):H9(u,c.end,r,null,c,o);const f=l.contents.range[2],h=c2(s,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,f,h.offset],l}function Ky(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function vz(t){let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){const s=t[i];switch(s[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":t[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class K9{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const o=Ky(n);s?this.warnings.push(new mne(o,r,i)):this.errors.push(new jp(o,r,i))},this.directives=new no({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:i}=vz(this.prelude);if(r){const s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!s)e.commentBefore=r;else if(ni(s)&&!s.flow&&s.items.length>0){let o=s.items[0];Zr(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:vz(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const i of e)yield*this.next(i);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,i)=>{const s=Ky(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=pIe(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new jp(Ky(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new jp(Ky(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=c2(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new jp(Ky(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),i=new ay(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function mIe(t,e=!0,n){if(t){const r=(i,s,o)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,s,o);else throw new jp([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return bne(t,e,r);case"block-scalar":return yne({options:{strict:e}},t,r)}}return null}function gIe(t,e){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=e,a=l2({type:o,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{const u=a.indexOf(`
`),c=a.substring(0,u),f=a.substring(u+1)+`
`,h=[{type:"block-scalar-header",offset:s,indent:r,source:c}];return xne(h,l)||h.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:s,indent:r,props:h,source:f}}case'"':return{type:"double-quoted-scalar",offset:s,indent:r,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:r,source:a,end:l};default:return{type:"scalar",offset:s,indent:r,source:a,end:l}}}function yIe(t,e,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=n,a="indent"in t?t.indent:null;if(r&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=l2({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":bIe(t,l);break;case'"':p6(t,l,"double-quoted-scalar");break;case"'":p6(t,l,"single-quoted-scalar");break;default:p6(t,l,"scalar")}}function bIe(t,e){const n=e.indexOf(`
`),r=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=r,t.source=i}else{const{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:r}];xne(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(const l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function xne(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function p6(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const r=t.props.slice(1);let i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(const s of r)s.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{const r="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(const s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:n,indent:r,source:e,end:i})}}}const vIe=t=>"type"in t?I3(t):w_(t);function I3(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=I3(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=w_(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=w_(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=w_(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function w_({start:t,key:e,sep:n,value:r}){let i="";for(const s of t)i+=s.source;if(e&&(i+=I3(e)),n)for(const s of n)i+=s.source;return r&&(i+=I3(r)),i}const TT=Symbol("break visit"),OIe=Symbol("skip children"),_ne=Symbol("remove item");function k0(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Sne(Object.freeze([]),t,e)}k0.BREAK=TT;k0.SKIP=OIe;k0.REMOVE=_ne;k0.itemAtPath=(t,e)=>{let n=t;for(const[r,i]of e){const s=n?.[r];if(s&&"items"in s)n=s.items[i];else return}return n};k0.parentCollection=(t,e)=>{const n=k0.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],i=n?.[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Sne(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const i of["key","value"]){const s=e[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){const a=Sne(Object.freeze(t.concat([[i,o]])),s.items[o],n);if(typeof a=="number")o=a-1;else{if(a===TT)return TT;a===_ne&&(s.items.splice(o,1),o-=1)}}typeof r=="function"&&i==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}const R4="\uFEFF",$4="",I4="",dO="",wIe=t=>!!t&&"items"in t,xIe=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function _Ie(t){switch(t){case R4:return"<BOM>";case $4:return"<DOC>";case I4:return"<FLOW_END>";case dO:return"<SCALAR>";default:return JSON.stringify(t)}}function kne(t){switch(t){case R4:return"byte-order-mark";case $4:return"doc-mode";case I4:return"flow-error-end";case dO:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const SIe=Object.freeze(Object.defineProperty({__proto__:null,BOM:R4,DOCUMENT:$4,FLOW_END:I4,SCALAR:dO,createScalarToken:gIe,isCollection:wIe,isScalar:xIe,prettyToken:_Ie,resolveAsScalar:mIe,setScalarValue:yIe,stringify:vIe,tokenType:kne,visit:k0},Symbol.toStringTag,{value:"Module"}));function jl(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Oz=new Set("0123456789ABCDEFabcdef"),kIe=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),fx=new Set(",[]{}"),CIe=new Set(` ,[]{}
\r	`),m6=t=>!t||CIe.has(t);class Cne{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&jl(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===R4&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const s=e[r-1];if(s===" "||s==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const s=e[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield $4,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&jl(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!jl(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&jl(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(m6),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&jl(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield I4,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(m6),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||jl(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>jl(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{const o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);const a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)e=s;else break}while(!0);return yield dO,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if(jl(s)||e&&fx.has(s))break;n=r}else if(jl(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||e&&fx.has(s))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&fx.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield dO,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(m6))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(jl(n)||e&&fx.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!jl(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(kIe.has(n))n=this.buffer[++e];else if(n==="%"&&Oz.has(this.buffer[e+1])&&Oz.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Ane{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<e?n=s+1:r=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function Vh(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function wz(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Ene(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function hx(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function km(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function xz(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Vh(e.start,"explicit-key-ind")&&!Vh(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Ene(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class J9{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Cne,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=kne(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&xz(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&wz(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{wz(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=hx(this.peek(2)),r=km(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let s=[];if(i&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Vh(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Ene(n.key)&&!Vh(n.sep,"newline")){const o=km(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(Vh(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=km(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:s,key:null,sep:[this.sourceToken]}):Vh(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);i||n.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Vh(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:s});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Vh(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=hx(r),s=km(i);xz(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=hx(e),r=km(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=hx(e),r=km(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function Tne(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Ane||null,prettyErrors:e}}function AIe(t,e={}){const{lineCounter:n,prettyErrors:r}=Tne(e),i=new J9(n?.addNewLine),s=new K9(e),o=Array.from(s.compose(i.parse(t)));if(r&&n)for(const a of o)a.errors.forEach($3(t,n)),a.warnings.forEach($3(t,n));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function Dne(t,e={}){const{lineCounter:n,prettyErrors:r}=Tne(e),i=new J9(n?.addNewLine),s=new K9(e);let o=null;for(const a of s.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new jp(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach($3(t,n)),o.warnings.forEach($3(t,n))),o}function EIe(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=Dne(t,n);if(!i)return null;if(i.warnings.forEach(s=>Gte(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function TIe(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){const{keepUndefined:i}=n??e??{};if(!i)return}return V0(t)&&!r?t.toString(n):new ay(t,r,n).toString(n)}const DIe=Object.freeze(Object.defineProperty({__proto__:null,Alias:x4,CST:SIe,Composer:K9,Document:ay,Lexer:Cne,LineCounter:Ane,Pair:Ms,Parser:J9,Scalar:Qt,Schema:P4,YAMLError:G9,YAMLMap:$a,YAMLParseError:jp,YAMLSeq:Ud,YAMLWarning:mne,isAlias:Hd,isCollection:ni,isDocument:V0,isMap:ry,isNode:ii,isPair:Zr,isScalar:vr,isSeq:iy,parse:EIe,parseAllDocuments:AIe,parseDocument:Dne,stringify:TIe,visit:X0,visitAsync:w4},Symbol.toStringTag,{value:"Module"}));function PIe(t){let e=null;try{e=DIe.parse(t.doc.toString())}catch{}const n=p9(t,mr.YAML);return{data:e,pointers:n}}const Pne=t=>{switch(t){case mr.JSON:return f$e;case mr.JSON5:return Mte;case mr.YAML:return PIe}};function RIe(t){return Object.entries(t)}function Fb(t,e){if(typeof t=="string"||typeof t!="object"||t===null)return t;if(Array.isArray(t))return t.map(i=>Fb(i,e));if(t instanceof Map){const i=new Map;for(const[s,o]of t){const a=s,l=Fb(o,e);i.set(a,l)}return i}if(t instanceof Set){const i=new Set;for(const s of t){const o=Fb(s,e);i.add(o)}return i}const n={};function r(i,s,o,a){o===i&&a===s?n[o]=Fb(s,e):n[o]=a}for(const[i,s]of RIe(t)){const o=e(i,s);if(o.length===2&&typeof o[0]=="string")r(i,s,o[0],o[1]);else for(const[a,l]of o)r(i,s,a,l)}return n}var $Ie=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class IIe{constructor(){this.completions=new Map,this.reservedKeys=new Set}reserve(e){this.reservedKeys.add(e)}add(e){this.reservedKeys.has(e.label)||this.completions.set(e.label,e)}}function ov(t){return!(!t||js(t)||t.name==="UnknownPropertyError"||t.type==="undefined")}class Rne{constructor(e){var n,r,i;this.opts=e,this.originalSchema=null,this.schema=null,this.laxSchema=null,this.mode=mr.JSON,this.mode=(n=e.mode)!==null&&n!==void 0?n:mr.JSON,this.parser=(i=(r=this.opts)===null||r===void 0?void 0:r.jsonParser)!==null&&i!==void 0?i:Pne(this.mode)}doComplete(e){var n;const r=m9(e.state);if(this.originalSchema!==r&&(this.schema=(n=wp(r,r))!==null&&n!==void 0?n:r,this.laxSchema=MIe(this.schema)),!this.schema||!this.laxSchema)return[];Gr.log("xxx","trying with original schema");const i=this.doCompleteForSchema(e,this.schema);return i.options.length!==0?i:(Gr.log("xxx","no completions with original schema, trying with lax schema"),this.doCompleteForSchema(e,this.laxSchema))}doCompleteForSchema(e,n){var r,i;const s={from:e.pos,to:e.pos,options:[],filter:!1},o=e.state.doc.sliceString(0);let a=QA(e.state,e.pos),l=e.state.sliceDoc(a.from,e.pos).replace(/^(["'])/,"");if(Gr.log("xxx","node",a,"prefix",l,"ctx",e),!(h_(a,this.mode)||Hw(a,this.mode))&&!e.explicit)return Gr.log("xxx","no completions for non-word/primitive",a),s;const u=qm(e.state.doc,a),c=qm(e.state.doc,a,!1);if(a&&(h_(a,this.mode)||Hw(a,this.mode)))s.from=a.from,s.to=a.to;else{const m=e.matchBefore(/[A-Za-z0-9._]*/),g=e.pos-u.length;Gr.log("xxx","overwriteStart after",g,"ctx.pos",e.pos,"word",m,"currentWord",u,"=>",o[g-1],"..",o[g],"..",o),s.from=a.name===jt.INVALID?(r=m?.from)!==null&&r!==void 0?r:e.pos:g,s.to=e.pos}const f=new IIe;let h=!0;const d=YQ(a,jt.PROPERTY_NAME,this.mode);if(d&&(Gr.log("xxx","closestPropertyNameNode",d,"node",a),a=d),Hw(a,this.mode)){Gr.log("xxx","isPropertyNameNode",a);const m=a.parent;if(m){const g=WQ(m,this.mode);h=!g||g.name===jt.INVALID&&g.from-g.to===0||(g.parent?e2(g.parent).length<=1:!1),Gr.log("xxx","addValue",h,WQ(m,this.mode),a),a=(i=YQ(m,jt.OBJECT,this.mode))!==null&&i!==void 0?i:null}}if(Gr.log("xxx",a,u,e,"node at pos",QA(e.state,e.pos)),a&&[jt.OBJECT,jt.JSON_TEXT].includes(_i(a.name,this.mode))&&(Hw(QA(e.state,e.pos),this.mode)||d)){if(a.from===e.pos)return Gr.log("xxx","no completions for just before opening brace"),s;this.getPropertyCompletions(n,e,a,f,h,c)}else{const m={},g=this.getValueCompletions(n,e,m,f);Gr.log("xxx","getValueCompletions res",g)}return s.options=Array.from(f.completions.values()).filter(m=>f_(m.label).startsWith(l)),Gr.log("xxx","result",s,"prefix",l,"collector.completions",f.completions,"reservedKeys",f.reservedKeys),s}applySnippetCompletion(e){return eo(typeof e.apply!="string"?e.label:e.apply,e)}getPropertyCompletions(e,n,r,i,s,o){const a=q6e(r,jt.PROPERTY,this.mode);Gr.log("xxx","getPropertyCompletions",r,n,a),a.forEach(u=>{const c=qm(n.state.doc,sT(u,jt.PROPERTY_NAME,this.mode));i.reserve(f_(c))});const l=this.getSchemas(e,n);Gr.log("xxx","propertyCompletion schemas",l),l.forEach(u=>{if(typeof u!="object")return;const c=u.properties;c&&Object.entries(c).forEach(([h,d])=>{var m,g;if(typeof d=="object"){const b=(m=d.description)!==null&&m!==void 0?m:"",v=(g=d.type)!==null&&g!==void 0?g:"",O=Array.isArray(v)?v.toString():v,_={label:h,apply:this.getInsertTextForProperty(h,s,o,e,d),type:"property",detail:O,info:()=>Zu("div",{inner:Ag(b)})};i.add(this.applySnippetCompletion(_))}});const f=u.propertyNames;if(typeof f=="object"&&(f.enum&&f.enum.forEach(h=>{const d=h?.toString();if(d){const m={label:d,apply:this.getInsertTextForProperty(d,s,o,e),type:"property"};i.add(this.applySnippetCompletion(m))}}),f.const)){const h=f.const.toString(),d={label:h,apply:this.getInsertTextForProperty(h,s,o,e),type:"property"};i.add(this.applySnippetCompletion(d))}})}getInsertTextForProperty(e,n,r,i,s){s=s&&wp(s,i);let o=this.getInsertTextForPropertyName(e,r);if(!n)return o;o+=": ";let a,l=0;if(typeof s=="object"){if(typeof s.default<"u")a||(a=this.getInsertTextForGuessedValue(s.default,"")),l++;else if(s.enum&&(!a&&s.enum.length===1&&(a=this.getInsertTextForGuessedValue(s.enum[0],"")),l+=s.enum.length),typeof s.const<"u"&&(a||(a=this.getInsertTextForGuessedValue(s.const,"")),l++),Array.isArray(s.examples)&&s.examples.length&&(a||(a=this.getInsertTextForGuessedValue(s.examples[0],"")),l+=s.examples.length),a===void 0&&l===0){let u=Array.isArray(s.type)?s.type[0]:s.type;switch(u||(s.properties?u="object":s.items&&(u="array")),u){case"boolean":a="#{}";break;case"string":a=this.getInsertTextForString("");break;case"object":switch(this.mode){case mr.JSON5:a="{#{}}";break;case mr.YAML:a="#{}";break;default:a="{#{}}";break}break;case"array":a="[#{}]";break;case"number":case"integer":a="#{0}";break;case"null":a="#{null}";break;default:a="#{}";break}}}return(!a||l>1)&&(Gr.log("xxx","value",a,"nValueProposals",l,s),a="#{}"),o+a}getInsertTextForPropertyName(e,n){switch(this.mode){case mr.JSON5:case mr.YAML:return n.startsWith('"')?`"${e}"`:n.startsWith("'")?`'${e}'`:e;default:return`"${e}"`}}getInsertTextForString(e,n="#"){switch(this.mode){case mr.JSON5:return`'${n}{${e}}'`;case mr.YAML:return`${n}{${e}}`;default:return`"${n}{${e}}"`}}getInsertTextForGuessedValue(e,n=""){switch(typeof e){case"object":return e===null?"${null}"+n:this.getInsertTextForValue(e,n);case"string":{let r=JSON.stringify(e);return r=r.substr(1,r.length-2),r=this.getInsertTextForPlainText(r),this.getInsertTextForString(r,"$")+n}case"number":case"boolean":return"${"+JSON.stringify(e)+"}"+n}return this.getInsertTextForValue(e,n)}getInsertTextForPlainText(e){return e.replace(/[\\$}]/g,"\\$&")}getInsertTextForValue(e,n){const r=JSON.stringify(e,null,"	");return r==="{}"?"{#{}}"+n:r==="[]"?"[#{}]"+n:this.getInsertTextForPlainText(r+n)}getValueCompletions(e,n,r,i){let s=Hn(n.state).resolveInner(n.pos,-1),o=null,a;if(Gr.log("xxx","getValueCompletions",s,n),s&&h_(s,this.mode)&&(o=s,s=s.parent),!s){this.addSchemaValueCompletions(e,r,i);return}if(_i(s.name,this.mode)===jt.PROPERTY){const u=sT(s,jt.PROPERTY_NAME,this.mode);u&&(a=qm(n.state.doc,u),s=s.parent)}if(Gr.log("xxx","node",s,"parentKey",a),s&&(a!==void 0||_i(s.name,this.mode)===jt.ARRAY)){const u=this.getSchemas(e,n);for(const c of u){if(typeof c!="object")return;if(_i(s.name,this.mode)===jt.ARRAY&&c.items){let f=i;if(c.uniqueItems&&(f=Object.assign(Object.assign({},f),{add(h){f.completions.has(h.label)||i.add(h)},reserve(h){i.reserve(h)}})),Array.isArray(c.items)){let h=0;if(o){const m=LJ(s,o,this.mode);m>=0&&(h=m)}const d=c.items[h];d&&this.addSchemaValueCompletions(d,r,f)}else this.addSchemaValueCompletions(c.items,r,f)}if((c.type==null||c.type!=="object")&&this.addSchemaValueCompletions(c,r,i),a!==void 0){let f=!1;if(c.properties){const h=c.properties[a];h&&(f=!0,this.addSchemaValueCompletions(h,r,i))}if(c.patternProperties&&!f)for(const h of Object.keys(c.patternProperties)){const d=this.extendedRegExp(h);if(d?.test(a)){f=!0;const m=c.patternProperties[h];m&&this.addSchemaValueCompletions(m,r,i)}}if(c.additionalProperties&&!f){const h=c.additionalProperties;this.addSchemaValueCompletions(h,r,i)}}r.boolean&&(this.addBooleanValueCompletion(!0,i),this.addBooleanValueCompletion(!1,i)),r.null&&this.addNullValueCompletion(i)}}return{valuePrefix:o?qm(n.state.doc,o,!0,!1):""}}addSchemaValueCompletions(e,n,r){typeof e=="object"&&(this.addEnumValueCompletions(e,r),this.addDefaultValueCompletions(e,r),this.collectTypes(e,n),Array.isArray(e.allOf)&&e.allOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)),Array.isArray(e.anyOf)&&e.anyOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)),Array.isArray(e.oneOf)&&e.oneOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)))}addDefaultValueCompletions(e,n,r=0){let i=!1;if(typeof e.default<"u"){let s=e.type,o=e.default;for(let l=r;l>0;l--)o=[o],s="array";const a=Object.assign(Object.assign({type:s?.toString()},this.getAppliedValue(o)),{detail:"Default value"});n.add(a),i=!0}Array.isArray(e.examples)&&e.examples.forEach(s=>{let o=e.type,a=s;for(let l=r;l>0;l--)a=[a],o="array";n.add(Object.assign({type:o?.toString()},this.getAppliedValue(a))),i=!0}),!i&&typeof e.items=="object"&&!Array.isArray(e.items)&&r<5&&this.addDefaultValueCompletions(e.items,n,r+1)}addEnumValueCompletions(e,n){var r,i;if(typeof e.const<"u"&&n.add(Object.assign(Object.assign({type:(r=e.type)===null||r===void 0?void 0:r.toString()},this.getAppliedValue(e.const)),{info:e.description})),Array.isArray(e.enum))for(let s=0,o=e.enum.length;s<o;s++){const a=e.enum[s];n.add(Object.assign(Object.assign({type:(i=e.type)===null||i===void 0?void 0:i.toString()},this.getAppliedValue(a)),{info:e.description}))}}addBooleanValueCompletion(e,n){n.add({type:"boolean",label:e?"true":"false"})}addNullValueCompletion(e){e.add({type:"null",label:"null"})}collectTypes(e,n){if(Array.isArray(e.enum)||typeof e.const<"u")return;const r=e.type;Array.isArray(r)?r.forEach(i=>n[i]=!0):r&&(n[r]=!0)}getSchemas(e,n){var r,i,s;const{data:o}=this.parser(n.state),a=new See(e);let l=FJ(n.state,n.pos,-1,this.mode);if(l===""&&(l=void 0),l!=null&&l.endsWith("/")){l=l.substring(0,l.length-1);const m=_z(e,o,l);if(m!=null)return[m]}let u=l?.replace(/\/[^/]*$/,"");u===""&&(u=void 0);const c=_z(e,o,u),f=l?.split("/").pop(),h=f==null||f in((r=c?.properties)!==null&&r!==void 0?r:{});let d=a.getSchema({pointer:l,data:o??void 0});return!h&&d?.type==="null"&&this.mode==="yaml"&&(d=void 0),Gr.log("xxxx","draft.getSchema",d,"data",o,"pointer",l,"pointerPointsToKnownProperty",h),js(d)&&(d=(i=d.data)===null||i===void 0?void 0:i.schema),!ov(d)&&c?[c]:(ov(d)||(d=a.getSchema({pointer:u}),l=u),Gr.log("xxx","pointer..",JSON.stringify(l)),!ov(d)&&(!l||l==="/")&&(d=(s=wp(e,e))!==null&&s!==void 0?s:e),Gr.log("xxx","subSchema..",d),d?Array.isArray(d.allOf)?[d,...d.allOf.map(m=>wp(m,e))]:Array.isArray(d.oneOf)?[d,...d.oneOf.map(m=>wp(m,e))]:Array.isArray(d.anyOf)?[d,...d.anyOf.map(m=>wp(m,e))]:[d]:[])}getAppliedValue(e){const n=f_(JSON.stringify(e));switch(this.mode){case mr.JSON5:return{label:n,apply:U6e(JSON.stringify(e))};case mr.YAML:return{label:n,apply:n};default:return{label:n,apply:JSON.stringify(e)}}}getValueFromLabel(e){return JSON.parse(e)}extendedRegExp(e){let n="";e.startsWith("(?i)")&&(e=e.substring(4),n="i");try{return new RegExp(e,n+"u")}catch{try{return new RegExp(e,n)}catch{return}}}}function FIe(t={}){const e=new Rne(t);return function(r){return e.doComplete(r)}}function MIe(t){return Fb(t,(e,n)=>e==="additionalProperties"&&n===!1?[]:e==="required"&&Array.isArray(n)?[]:e==="unevaluatedProperties"&&n===!1?[]:e==="unevaluatedItems"&&n===!1?[]:[e,n])}function _z(t,e,n){const r=new See(t),i=r.getSchema({pointer:n,data:e??void 0});if(!ov(i))return;const s=$ne(r,i),o={};for(let h of s){let d=NIe(n,h);const m=r.getSchema({pointer:d,data:e??void 0});ov(m)&&Object.assign(o,{[h]:m})}if(s.length===0||Object.keys(o).length===0)return;const a=i,{allOf:l,anyOf:u,oneOf:c}=a,f=$Ie(a,["allOf","anyOf","oneOf"]);return Object.assign(Object.assign({},f),{properties:o})}function $ne(t,e){if(e=wp(e,t.rootSchema),typeof e!="object"||e==null)return[];const n=[];function r(i){const s=$ne(t,i);n.push(...s)}if(typeof e.properties=="object"&&e.properties!=null&&n.push(...Object.keys(e.properties)),typeof e.then=="object"&&e.then!=null&&r(e.then),Array.isArray(e.allOf))for(const i of e.allOf)r(i);if(Array.isArray(e.anyOf))for(const i of e.anyOf)r(i);if(Array.isArray(e.oneOf))for(const i of e.oneOf)r(i);return n}function wp(t,e){if(typeof t=="object"&&t.$ref){const n=LIe(e,t.$ref);if(typeof n=="object"){const r=Object.assign(Object.assign({},t),n);return Reflect.deleteProperty(r,"$ref"),r}}return t}function LIe(t,e){const n=e.split("/");let r=t;return n.forEach(i=>{if(i){if(i==="#"){r=t;return}typeof r=="object"&&(r=r[i])}}),r}function NIe(t,e){return t===void 0?`/${e}`:`${t}/${e}`}const pO=(t,e)=>{const n=t.length>2;let r=t.map((i,s)=>{const o="`"+(e?e(i):i)+"`";return s===t.length-1?"or "+o:o});return n?r.join(", "):r.join(" ")},QIe=t=>{var e,n,r;return!((e=t?.data)===null||e===void 0)&&e.pointer&&((n=t?.data)===null||n===void 0?void 0:n.pointer)!=="#"?t.data.pointer.slice(1):!((r=t?.data)===null||r===void 0)&&r.property?`/${t.data.property}`:""},Ine=t=>t.startState.field(f3)!==t.state.field(f3);function BIe(t){const e=new Fne(t);return n=>e.doValidation(n)}const zIe=["NoAdditionalPropertiesError","RequiredPropertyError","InvalidPropertyNameError","ForbiddenPropertyError","UndefinedValueError"];class Fne{constructor(e){var n,r,i,s;this.options=e,this.schema=null,this.mode=mr.JSON,this.rewriteError=o=>{var a,l,u,c,f;const h=o?.data,d=h?.errors;return o.code==="one-of-error"&&d?.length?`Expected one of ${pO(d,g=>g.data.expected)}`:o.code==="type-error"?`Expected \`${!((a=o?.data)===null||a===void 0)&&a.expected&&Array.isArray((l=o?.data)===null||l===void 0?void 0:l.expected)?pO((u=o?.data)===null||u===void 0?void 0:u.expected):(c=o?.data)===null||c===void 0?void 0:c.expected}\` but received \`${(f=o?.data)===null||f===void 0?void 0:f.received}\``:o.message.replaceAll("in `#` ","").replaceAll("at `#`","").replaceAll("/",".").replaceAll("#.","")},this.mode=(r=(n=this.options)===null||n===void 0?void 0:n.mode)!==null&&r!==void 0?r:mr.JSON,this.parser=(s=(i=this.options)===null||i===void 0?void 0:i.jsonParser)!==null&&s!==void 0?s:Pne(this.mode)}get schemaTitle(){var e,n,r;return(r=(n=(e=this.schema)===null||e===void 0?void 0:e.getSchema())===null||n===void 0?void 0:n.title)!==null&&r!==void 0?r:"json-schema"}doValidation(e){const n=m9(e.state);if(!n)return[];if(this.schema=new xee(n),!this.schema)return[];const r=e.state.doc.toString();if(!r?.length)return[];const i=this.parser(e.state);if(i.data==null)return[];let s=[];try{s=this.schema.validate(i.data)}catch{}return Gr.log("xxx","validation errors",s,i.data),s.length?s.reduce((o,a)=>{const l=()=>{const f=this.rewriteError(a);o.push({from:0,to:0,message:f,severity:"error",source:this.schemaTitle,renderMessage:()=>{const h=Zu("div",{});return h.innerHTML=Ag(f),h}})},u=QIe(a),c=i.pointers.get(u);if(a.name==="MaxPropertiesError"||a.name==="MinPropertiesError"||u==="")l();else if(c){const f=zIe.includes(a.name),h=this.rewriteError(a),d=f?c.keyFrom:c.valueFrom,m=f?c.keyTo:c.valueTo;m!==void 0&&d!==void 0&&o.push({from:d,to:m,message:h,renderMessage:()=>{const g=Zu("div",{});return g.innerHTML=Ag(h),g},severity:"error",source:this.schemaTitle})}else l();return o},[]):[]}}function UIe(t){const e=new Mne(t);return async function(r,i,s){return e.doHover(r,i,s)}}function Sz(t){if(t.type)return t.$ref?`${t.$ref} (${t.type})`:t.type;if(t.$ref)return`${t.$ref}`}function g6(t,e,n){return`${e}: ${pO(t[e].map(r=>{try{const{data:i}=n.resolveRef({data:r,pointer:r.$ref});return Sz(i||r)}catch{return r.type}}))}`}class Mne{constructor(e){var n,r;this.opts=e,this.schema=null,this.mode=mr.JSON,this.opts=Object.assign({parser:JSON.parse},this.opts),this.mode=(r=(n=this.opts)===null||n===void 0?void 0:n.mode)!==null&&r!==void 0?r:mr.JSON}getDataForCursor(e,n,r){const i=m9(e.state);if(!i)return null;this.schema=new xee(i);const s=FJ(e.state,n,r,this.mode);let o;try{o=this.opts.parser(e.state.doc.toString())}catch{}if(!s)return null;let a=this.schema.getSchema({pointer:s,data:o,withSchemaWarning:!0});return js(a)&&(a?.data.schema.$ref?a=this.schema.resolveRef(a):a=a?.data.schema),{schema:a,pointer:s}}formatMessage(e){const{message:n,typeInfo:r}=e;return n?Zu("div",{class:"cm6-json-schema-hover"},[Zu("div",{class:"cm6-json-schema-hover--description",inner:Ag(n,!1)}),Zu("div",{class:"cm6-json-schema-hover--code-wrapper"},[Zu("div",{class:"cm6-json-schema-hover--code",inner:Ag(r,!1)})])]):Zu("div",{class:"cm6-json-schema-hover"},[Zu("div",{class:"cm6-json-schema-hover--code-wrapper"},[Zu("code",{class:"cm6-json-schema-hover--code",inner:Ag(r,!1)})])])}getHoverTexts(e,n){let r="",i=null;const{schema:s}=e;return s.oneOf&&(r=g6(s,"oneOf",n)),s.anyOf&&(r=g6(s,"anyOf",n)),s.allOf&&(r=g6(s,"allOf",n)),s.type&&(r=Array.isArray(s.type)?pO(s.type):s.type),s.$ref&&(r=` Reference: ${s.$ref}`),s.enum&&(r=`\`enum\`: ${pO(s.enum)}`),s.format&&(r+=`\`format\`: ${s.format}`),s.pattern&&(r+=`\`pattern\`: ${s.pattern}`),s.description&&(i=s.description),{message:i,typeInfo:r}}async doHover(e,n,r){var i,s,o,a;const l=n,u=n;try{const c=this.getDataForCursor(e,n,r);if(Gr.log("cursorData",c),!c?.schema)return null;const h=((s=(i=this.opts)===null||i===void 0?void 0:i.getHoverTexts)!==null&&s!==void 0?s:this.getHoverTexts)(c,this.schema),m=((a=(o=this.opts)===null||o===void 0?void 0:o.formatHover)!==null&&a!==void 0?a:this.formatMessage)(h);return{pos:l,end:u,arrow:!0,above:!0,create:g=>({dom:m})}}catch(c){return Gr.log(c),null}}}function jIe(t){return[u$e(),GS(a$e()),GS(BIe(),{needsRefresh:Ine}),Rte.data.of({autocomplete:FIe()}),A7(UIe()),NJ(t)]}function qIe(t){const e=new Fne(Object.assign({jsonParser:Mte,mode:mr.JSON5},t));return n=>e.doValidation(n)}function VIe(t){const e=new Mne(Object.assign(Object.assign({},t),{parser:r1.parse,mode:mr.JSON5}));return async function(r,i,s){return e.doHover(r,i,s)}}function XIe(t={}){const e=new Rne(Object.assign(Object.assign({},t),{mode:mr.JSON5}));return function(r){return e.doComplete(r)}}function ZIe(t){return[v$e(),GS(O$e()),GS(qIe(),{needsRefresh:Ine}),Ite.data.of({autocomplete:XIe()}),A7(VIe()),NJ(t)]}const WIe="#e5c07b",kz="#e06c75",YIe="#56b6c2",GIe="#ffffff",x_="#abb2bf",DT="#7d8799",HIe="#61afef",KIe="#98c379",Cz="#d19a66",JIe="#c678dd",eFe="#21252b",Az="#2c313a",Ez="#282c34",y6="#353a42",tFe="#3E4451",Tz="#528bff",nFe=Xe.theme({"&":{color:x_,backgroundColor:Ez},".cm-content":{caretColor:Tz},".cm-cursor, .cm-dropCursor":{borderLeftColor:Tz},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:tFe},".cm-panels":{backgroundColor:eFe,color:x_},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Ez,color:DT,border:"none"},".cm-activeLineGutter":{backgroundColor:Az},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:y6},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:y6,borderBottomColor:y6},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Az,color:x_}}},{dark:!0}),rFe=GO.define([{tag:Q.keyword,color:JIe},{tag:[Q.name,Q.deleted,Q.character,Q.propertyName,Q.macroName],color:kz},{tag:[Q.function(Q.variableName),Q.labelName],color:HIe},{tag:[Q.color,Q.constant(Q.name),Q.standard(Q.name)],color:Cz},{tag:[Q.definition(Q.name),Q.separator],color:x_},{tag:[Q.typeName,Q.className,Q.number,Q.changed,Q.annotation,Q.modifier,Q.self,Q.namespace],color:WIe},{tag:[Q.operator,Q.operatorKeyword,Q.url,Q.escape,Q.regexp,Q.link,Q.special(Q.string)],color:YIe},{tag:[Q.meta,Q.comment],color:DT},{tag:Q.strong,fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.link,color:DT,textDecoration:"underline"},{tag:Q.heading,fontWeight:"bold",color:kz},{tag:[Q.atom,Q.bool,Q.special(Q.variableName)],color:Cz},{tag:[Q.processingInstruction,Q.string,Q.inserted],color:KIe},{tag:Q.invalid,color:GIe}]),iFe=[nFe,sH(rFe)];function sFe(){return[z_e(),q_e(),l_e(),V3e(),Hxe(),n_e(),Tn.allowMultipleSelections.of(!0),SSe(),sH(ESe,{fallback:!0}),FSe(),_3e(),I3e(),O_e(),__e(),p_e(),m4e(),Xe.domEventHandlers({keydown(t){t.stopPropagation()}}),XO.of([...A3e,...Wke,...I4e,...eke,...OH,...n4e,{key:"Tab",preventDefault:!0,run:Vke},{key:"Shift-Tab",preventDefault:!0,run:JH}])]}function oFe(t,e){const n=Xe.theme({"&.cm-editor":{height:"100%"},".cm-scroller":{overflow:"auto"},"&.cm-focused":{outline:"none"},".cm-content":{fontFamily:"var(--font-mono)"},".cm-tooltip":{boxShadow:e.colorScheme=="light"?"0 2px 5px rgba(0,0,0,0.2)":"0 2px 5px rgba(0,0,0,1)"},".cm6-json-schema-hover":{padding:"6px"}}),r=Xe.updateListener.of(o=>{if(o.docChanged&&e.onChange){const a=o.state.doc.toString();e.onChange(a)}}),i=[];if(e.language=="json"&&i.push(jIe(e.json?.schema??{})),e.language=="json5"&&i.push(ZIe(e.json?.schema??{})),e.language=="sql"){let o=e.sql?.table,a=e.sql?.columns;i.push(F6e({dialect:M6e,upperCaseKeywords:!0,schema:o!=null?{[o]:a?.map(l=>({label:l.name,detail:l.type,type:"property"}))??[]}:void 0,defaultTable:o}))}e.language=="markdown"&&i.push(VAe());const s=new Xe({doc:e.initialText,parent:t,extensions:[...sFe(),S_e({parent:t.parentElement}),...i,...e.colorScheme=="dark"?[iFe]:[],n,r]});return{set:o=>{s.dispatch({changes:{from:0,to:s.state.doc.length,insert:o}})},destroy:()=>{s.destroy()}}}var aFe=fe('<div><div class="rounded-md overflow-hidden border border-slate-200 dark:border-slate-600 w-full h-full"></div></div>');function F4(t,e){He(e,!0);let n=hr(e,["$$slots","$$events","$$legacy"]),r;Bs(()=>{let o=Os(()=>e.value)??"",a=oFe(r,{language:e.language??"plain",colorScheme:e.colorScheme??"light",initialText:Os(()=>e.value)??"",json:e.json,sql:e.sql,onChange:l=>{o=l,e.onChange?.(l)}});return Vr(()=>{e.value!=null&&e.value!=o&&(o=n.value,a.set(o))}),()=>{a.destroy()}});var i=aFe(),s=K(i);Gi(s,o=>r=o,()=>r),Z(i),Me(()=>sr(i,1,RO(e.class??""))),X(t,i),Ke()}const __={$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/BuiltinChartSpec",definitions:{BuiltinChartSpec:{anyOf:[{$ref:"#/definitions/ChartSpec"},{$ref:"#/definitions/ContentViewerSpec"},{$ref:"#/definitions/CountPlotSpec"},{$ref:"#/definitions/EmbeddingSpec"},{$ref:"#/definitions/MarkdownSpec"},{$ref:"#/definitions/PredicatesSpec"},{$ref:"#/definitions/TableSpec"}]},ChartSpec:{type:"object",properties:{title:{type:"string",description:"The title of the chart"},plotSize:{type:"object",properties:{width:{type:"number",description:"Width of the plot area"},height:{type:"number",description:"Height of the plot area"},aspectRatio:{type:"number",description:"Aspect ratio of the plot area"}},additionalProperties:!1,description:"Size configuration"},layers:{type:"array",items:{$ref:"#/definitions/Layer"},description:"Layers"},scale:{type:"object",properties:{x:{$ref:"#/definitions/Scale"},y:{$ref:"#/definitions/Scale"},color:{$ref:"#/definitions/Scale"},size:{$ref:"#/definitions/Scale"}},additionalProperties:!1,description:"Scale configurations"},axis:{type:"object",properties:{x:{$ref:"#/definitions/Axis"},y:{$ref:"#/definitions/Axis"}},additionalProperties:!1,description:"Axis configurations"},selection:{type:"object",additionalProperties:{$ref:"#/definitions/Selection"},description:"Selections"},widgets:{type:"array",items:{$ref:"#/definitions/Widget"},description:"Widgets"}},additionalProperties:!1,description:"Chart specification"},Layer:{type:"object",properties:{from:{$ref:"#/definitions/SQLTable",description:"Data source, default to the main data table"},filter:{type:"string",const:"$filter",description:"Filter the data. Use $filter to refer to the shared filter (a cross-filter)"},mark:{$ref:"#/definitions/MarkType",description:"Mark type"},style:{$ref:"#/definitions/MarkStyle",description:"Mark style"},zIndex:{type:"number",description:"z-index indicating the layer order. Default value is 0. If the value is negative, the mark will be drawn below grid lines."},orientation:{type:"string",enum:["vertical","horizontal"],description:"Orientation of bar marks"},interpolate:{$ref:"#/definitions/Interpolate",description:"Interpolate method for line and area marks"},width:{$ref:"#/definitions/Dimension",description:"Width of bar / rect marks"},height:{$ref:"#/definitions/Dimension",description:"Height of bar / rect marks"},size:{type:"number",description:"Size (area) of point marks, default 100."},encoding:{type:"object",properties:{x:{$ref:"#/definitions/Encoding"},y:{$ref:"#/definitions/Encoding"},x1:{$ref:"#/definitions/Encoding"},x2:{$ref:"#/definitions/Encoding"},y1:{$ref:"#/definitions/Encoding"},y2:{$ref:"#/definitions/Encoding"},color:{$ref:"#/definitions/Encoding"},size:{$ref:"#/definitions/Encoding"},group:{$ref:"#/definitions/Encoding"}},additionalProperties:!1,description:"Encoding"}},required:["mark"],additionalProperties:!1},SQLTable:{anyOf:[{type:"string"},{type:"object",properties:{sql:{type:"string"}},required:["sql"],additionalProperties:!1}],description:"Table name or SQL expression that produces a table"},MarkType:{type:"string",enum:["bar","rect","line","area","point","rule"],description:"Mark type"},MarkStyle:{type:"object",properties:{fillColor:{type:["string","null"],description:"Fill color. If `null`, disable fill. Default is based on mark type."},fillOpacity:{type:"number",description:"Fill opacity"},strokeColor:{type:["string","null"],description:"Stroke color. If `null`, disable stroke. Default is based on mark type."},strokeWidth:{type:"number",description:"Stroke width"},strokeOpacity:{type:"number",description:"Stroke opacity"},strokeCap:{type:"string",enum:["butt","round","square"],description:"Stroke cap"},strokeJoin:{type:"string",enum:["round","miter","bevel"],description:"Stroke join"},paintOrder:{type:"string",enum:["fill stroke","stroke fill"],description:"Paint order, default is `fill stroke`, fill first, then stroke."},opacity:{type:"number",description:"Opacity"}},additionalProperties:!1,description:"Mark style"},Interpolate:{type:"string",enum:["linear","cardinal","catmull-rom","natural","monotone","basis","step","step-before","step-after"],description:"Interpolate method for line or area"},Dimension:{anyOf:[{type:"object",properties:{gap:{type:"number"},clampToRatio:{type:"number"}},required:["gap"],additionalProperties:!1},{type:"object",properties:{ratio:{type:"number"}},required:["ratio"],additionalProperties:!1},{type:"number"}],description:"Mark dimension for width and height"},Encoding:{anyOf:[{type:"object",properties:{field:{$ref:"#/definitions/SQLField",description:"The data field to encode"},bin:{type:"object",properties:{desiredCount:{type:"number",description:"Desired bin count"}},additionalProperties:!1}},required:["field"],additionalProperties:!1},{type:"object",properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateFn"},{type:"object",properties:{sql:{type:"string"}},required:["sql"],additionalProperties:!1}],description:"Aggregate type"},field:{$ref:"#/definitions/SQLField",description:"The data field for the aggregate"},quantile:{type:"number",description:'For "quantile" aggregate, the quantile value (0-1)'},normalize:{type:"string",enum:["x","y"],description:"Normalize the value by x or y"}},required:["aggregate"],additionalProperties:!1},{type:"object",properties:{value:{$ref:"#/definitions/DataValue",description:"The data value to encode"}},required:["value"],additionalProperties:!1}],description:"Encoding"},SQLField:{anyOf:[{type:"string"},{type:"object",properties:{sql:{type:"string"}},required:["sql"],additionalProperties:!1}],description:"Field from the data table, can be a column name or a SQL expression"},AggregateFn:{type:"string",enum:["count","distinct","min","max","mean","average","median","stdev","stdevp","variance","variancep","sum","product","quantile","ecdf-value","ecdf-rank"]},DataValue:{anyOf:[{type:"string"},{type:"number"},{type:"array",items:{type:"number"},minItems:2,maxItems:2}],description:"Data value (a value in the data domain, which can be mapped to the visual domain through a scale)"},Scale:{type:"object",properties:{type:{$ref:"#/definitions/ScaleType",description:"Scale type for quantitative scales"},domain:{type:"array",items:{$ref:"#/definitions/DataValue"},description:"Scale domain"},specialValues:{type:"array",items:{type:"string"},description:"Special values. All represented as strings."},constant:{type:"number",description:"symlog constant."},range:{anyOf:[{type:"array",items:{type:["string","number"]}},{type:"string"}],description:"Scale range. Currently do not apply for x and y scales. For size scales, this should be [min, max] size. For nominal color scales, this should be a list of colors. For quantitative color scales, this should be a predefined interpolate scheme, or a list of colors to interpolate."}},additionalProperties:!1,description:"Scale"},ScaleType:{type:"string",enum:["linear","log","symlog","band"],description:"Scale type"},Axis:{type:"object",properties:{title:{type:"string",description:"Axis title"},values:{type:"array",items:{},description:"Values for ticks, grid lines, and labels"},desiredTickCount:{type:"number",description:"Desired number of ticks. Default 5."},extendScaleToTicks:{type:"boolean",description:"Extend scale to ticks. Default true."},labelPadding:{type:"number",description:"Padding to label"},labelFontFamily:{type:"string",description:"Label font family"},labelFontSize:{type:"number",description:"Label font size"},labelMaxWidth:{type:"number",description:"Label max width"}},additionalProperties:!1},Selection:{type:"object",properties:{encoding:{type:"string",enum:["x","y","xy"]}},required:["encoding"],additionalProperties:!1,description:"Chart selection"},Widget:{anyOf:[{type:"object",properties:{type:{type:"string",const:"scale.type"},channel:{$ref:"#/definitions/Channel"}},required:["type","channel"],additionalProperties:!1},{type:"object",properties:{type:{type:"string",const:"encoding.normalize"},layer:{anyOf:[{type:"number"},{type:"array",items:{type:"number"}}]},attribute:{$ref:"#/definitions/Attribute"},options:{type:"array",items:{type:"string",enum:["x","y"]}}},required:["type","layer","attribute","options"],additionalProperties:!1}],description:"Widget for editing a chart"},Channel:{type:"string",enum:["x","y","color","size"],description:"Encoding channel"},Attribute:{type:"string",enum:["x","y","x1","x2","y1","y2","color","size","group"],description:"Mark attribute"},ContentViewerSpec:{type:"object",properties:{type:{type:"string",const:"content-viewer"},title:{type:"string"},field:{type:"string"}},required:["type","field"],additionalProperties:!1},CountPlotSpec:{type:"object",properties:{type:{type:"string",const:"count-plot"},title:{type:"string"},data:{type:"object",properties:{field:{$ref:"#/definitions/SQLField",description:"The data field"},isList:{type:"boolean",description:"Indicate if the field contains list[str] data, default false"}},required:["field"],additionalProperties:!1},limit:{type:"number",description:"The max number of categories to show, default 10"},labels:{type:"string",enum:["%","#","#/#"],description:"Labeling method, '%': percentage, '#': count, '#/#': selected count over total count"},order:{anyOf:[{type:"string",const:"total-descending"},{type:"string",const:"total-ascending"},{type:"string",const:"selected-descending"},{type:"string",const:"selected-ascending"},{type:"string",const:"alphabetical"},{type:"array",items:{type:"string"}}],description:"Order the categories by total count, selected count, alphabetical, or custom order, default 'total-descending'"}},required:["type","data"],additionalProperties:!1},EmbeddingSpec:{type:"object",properties:{type:{type:"string",const:"embedding"},title:{type:"string"},data:{type:"object",properties:{x:{type:"string"},y:{type:"string"},text:{type:["string","null"]},category:{type:["string","null"]}},required:["x","y"],additionalProperties:!1},mode:{type:"string",enum:["points","density"]},minimumDensity:{type:"number"},pointSize:{type:"number"},downsampleMaxPoints:{type:["number","null"],description:"Maximum number of points to render (for downsampling). Default: 4000000. Set to null to disable."},config:{$ref:"#/definitions/EmbeddingViewConfig"}},required:["type","data"],additionalProperties:!1},EmbeddingViewConfig:{type:"object",properties:{colorScheme:{type:["string","null"],enum:["light","dark",null],description:"Color scheme."},mode:{type:["string","null"],enum:["points","density",null],description:"View mode."},minimumDensity:{type:["number","null"],description:"Minimum average density for density contours to show up. The density is measured as number of points per square points (aka., px in CSS units)."},pointSize:{type:["number","null"],description:"Override the automatically calculated point size. If not specified, point size is calculated based on density."},autoLabelEnabled:{type:["boolean","null"],description:"Generate labels automatically. By default labels are generated automatically if the `labels` prop is not specified, and a `text` column is specified in the Mosaic view, or a `queryClusterLabels` callback is specified in the non-Mosaic view. Set this to `false` to disable automatic labels."},autoLabelDensityThreshold:{type:["number","null"],description:"The density threshold to filter the clusters before generating automatic labels. The value is relative to the max density."},autoLabelStopWords:{anyOf:[{type:"array",items:{type:"string"}},{type:"null"}],description:"The stop words for automatic label generation. By default use NLTK stop words."},downsampleMaxPoints:{type:["number","null"],description:"Approximate maximum number of points to render when downsampling is active. Points are sampled with bias toward sparse regions (fewer points kept in dense areas). The sampling probability is given by this formula: P(i) = (downsampleMaxPoints / numPointsInViewport) * (2 / (1 + density(p_i) / maxDensity * downsampleDensityWeight)) Default: 4,000,000. Set to null or Infinity to disable downsampling."},downsampleDensityWeight:{type:["number","null"],description:"Density weight for downsampling (0-10). Higher values mean more aggressive culling in dense areas. Default: 5"}},additionalProperties:!1},MarkdownSpec:{type:"object",properties:{type:{type:"string",const:"markdown"},title:{type:"string"},content:{type:"string"}},required:["type","content"],additionalProperties:!1},PredicatesSpec:{type:"object",properties:{type:{type:"string",const:"predicates"},title:{type:"string"},items:{type:"array",items:{type:"object",properties:{name:{type:"string"},predicate:{type:"string"}},required:["name","predicate"],additionalProperties:!1}}},required:["type"],additionalProperties:!1},TableSpec:{type:"object",properties:{type:{type:"string",const:"table"},title:{type:"string"},columns:{type:"array",items:{type:"string"}}},required:["type","title","columns"],additionalProperties:!1}}},lFe={$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/BuiltinChartState",definitions:{BuiltinChartState:{anyOf:[{$ref:"#/definitions/ChartState"},{$ref:"#/definitions/EmbeddingState"},{$ref:"#/definitions/CountPlotState"},{$ref:"#/definitions/PredicatesState"}]},ChartState:{type:"object",additionalProperties:{type:"object",properties:{x:{$ref:"#/definitions/XYSelectionValue",description:"The x value for the selection."},y:{$ref:"#/definitions/XYSelectionValue",description:"The y value for the selection."}},additionalProperties:!1},description:"Chart state. A dictionary mapping selection keys to selection states."},XYSelectionValue:{anyOf:[{type:"string"},{type:"array",items:{type:"number"},minItems:2,maxItems:2}]},EmbeddingState:{type:"object",properties:{viewport:{$ref:"#/definitions/ViewportState",description:"The viewport state"},legend:{type:"object",properties:{selection:{type:"array",items:{type:"string"},description:"Selected categories"}},additionalProperties:!1,description:"State of the legend"},brush:{anyOf:[{$ref:"#/definitions/Rectangle"},{type:"array",items:{$ref:"#/definitions/Point"}}],description:"State of the brush selection. Can be a rectangle or a list of points for a lasso selection. Coordinates should be in data units."}},additionalProperties:!1},ViewportState:{type:"object",properties:{x:{type:"number",description:"The x coordinate of the center of the viewport in data units."},y:{type:"number",description:"The y coordinate of the center of the viewport in data units."},scale:{type:"number",description:"The scale of the viewport. This scales data units to [-1, 1]."}},required:["x","y","scale"],additionalProperties:!1,description:"A state describing the viewport's pan and zoom state. The screen coordinate of a point is calculated as follows: px = ((x - viewport.x) * viewport.scale + 1) / 2 * width py = ((y - viewport.y) * viewport.scale + 1) / 2 * height"},Rectangle:{type:"object",properties:{xMin:{type:"number"},yMin:{type:"number"},xMax:{type:"number"},yMax:{type:"number"}},required:["xMin","yMin","xMax","yMax"],additionalProperties:!1,description:"A rectangle with min, max coordinate for each dimension. It is required that xMin <= xMax and yMin <= yMax."},Point:{type:"object",properties:{x:{type:"number"},y:{type:"number"}},required:["x","y"],additionalProperties:!1,description:"A point with x and y coordinates."},CountPlotState:{type:"object",properties:{selection:{type:"array",items:{type:"string"},description:"List of selected categories"}},additionalProperties:!1},PredicatesState:{type:"object",properties:{selection:{type:"array",items:{type:"string"},description:"List of selected predicates. Values in this list should be the exact predicates."}},additionalProperties:!1}}},uFe={$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/DashboardLayoutState",definitions:{DashboardLayoutState:{type:"object",properties:{numColumns:{type:"number",description:"The number of columns in the dashboard grid, default is 24"},numRows:{type:"number",description:"The number of rows in the dashboard grid, default is 16"},grids:{type:"object",additionalProperties:{type:"object",properties:{placements:{type:"object",additionalProperties:{$ref:"#/definitions/Placement"},description:"Placements of charts, keyed by chart ids, value is a Placement struct."},order:{type:"array",items:{type:"string"},description:"Order of the charts, affects overlapping charts."}},additionalProperties:!1},description:'The grid, keyed by `${numColumns}x${numRows}`, e.g., "24x16". Charts can be placed in additional rows, but the user would need to scroll down to view them.'}},additionalProperties:!1},Placement:{type:"object",properties:{x:{type:"number",description:"Start x location (in grid index) of the chart"},y:{type:"number",description:"Start y location (in grid index) of the chart"},width:{type:"number",description:"Width (in grid cell count) of the chart"},height:{type:"number",description:"Height (in grid cell count) of the chart"}},required:["x","y","width","height"],additionalProperties:!1}}},cFe={$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/ListLayoutState",definitions:{ListLayoutState:{type:"object",properties:{showTable:{type:"boolean"},showEmbedding:{type:"boolean"},showCharts:{type:"boolean"},chartsOrder:{type:"array",items:{type:"string"}},chartVisibility:{type:"object",additionalProperties:{type:"boolean"}}},additionalProperties:!1}}};function eR(t,e){He(e,!0);let n=r1.stringify(e.initialValue,{space:2,quote:'"'});function r(i){try{return JSON.parse(JSON.stringify(r1.parse(i)))}catch{return}}{let i=Y(()=>({schema:__}));F4(t,{get class(){return e.class},get colorScheme(){return e.colorScheme},language:"json5",get json(){return x(i)},get value(){return n},onChange:s=>{let o=r(s);o?e.onChange?.(o):e.onChange?.(void 0)}})}Ke()}var fFe=fe('<span class="mx-1"> </span>'),hFe=fe("<button><!> <!></button>");function ed(t,e){He(e,!0);let n=dt(e,"label",3,null),r=dt(e,"icon",3,null),i=dt(e,"title",3,""),s=dt(e,"order",3,null);var o=hFe();o.__click=()=>{e.onClick?.()};let a;var l=K(o);{var u=h=>{const d=Y(r);var m=Bt(),g=Ye(m);th(g,()=>x(d),(b,v)=>{v(b,{class:"w-4 h-4"})}),X(h,m)};ke(l,h=>{r()!=null&&h(u)})}var c=se(l,2);{var f=h=>{var d=fFe(),m=K(d,!0);Z(d),Me(()=>Mt(m,n())),X(h,d)};ke(c,h=>{n()!=null&&n()!=""&&h(f)})}Z(o),Me(()=>{sr(o,1,`rounded-md flex select-none items-center px-1 py-1 text-slate-500 bg-slate-100 dark:text-slate-400 dark:bg-slate-800 focus-visible:outline-2 outline-blue-600 -outline-offset-1 ${e.class??""??""}`),pe(o,"title",i()),a=gt(o,"",a,{order:s()})}),X(t,o),Ke()}Tr(["click"]);var dFe=Yt('<svg><path fill="currentColor" d="M8 1.75a.75.75 0 0 1 .75.75v4.75h4.75a.75.75 0 0 1 0 1.5H8.75v4.75a.75.75 0 0 1-1.5 0V8.75H2.5a.75.75 0 0 1 0-1.5h4.75V2.5A.75.75 0 0 1 8 1.75"></path></svg>');function Lne(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=dFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var pFe=Yt('<svg><path fill="currentColor" d="M7.22 4.22a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1 0 1.06l-3.5 3.5a.75.75 0 0 1-1.06-1.06L9.44 9H1.75a.75.75 0 0 1 0-1.5h7.69L7.22 5.28a.75.75 0 0 1 0-1.06m7.28-.47a.75.75 0 0 0-1.5 0v8.5a.75.75 0 0 0 1.5 0z"></path></svg>');function mFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=pFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var gFe=Yt('<svg><path fill="currentColor" d="M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032"></path></svg>');function Nne(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=gFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var yFe=Yt('<svg><path fill="currentColor" d="M3.2 5.74a.75.75 0 0 1 1.06-.04L8 9.227L11.74 5.7a.75.75 0 1 1 1.02 1.1l-4.25 4a.75.75 0 0 1-1.02 0l-4.25-4a.75.75 0 0 1-.04-1.06"></path></svg>');function Dz(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=yFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var bFe=Yt('<svg><path fill="currentColor" d="M10.26 3.2a.75.75 0 0 1 .04 1.06L6.773 8l3.527 3.74a.75.75 0 1 1-1.1 1.02l-4-4.25a.75.75 0 0 1 0-1.02l4-4.25a.75.75 0 0 1 1.06-.04"></path></svg>');function vFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=bFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var OFe=Yt('<svg><path fill="currentColor" d="M5.74 3.2a.75.75 0 0 0-.04 1.06L9.227 8L5.7 11.74a.75.75 0 1 0 1.1 1.02l4-4.25a.75.75 0 0 0 0-1.02l-4-4.25a.75.75 0 0 0-1.06-.04"></path></svg>');function wFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=OFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var xFe=Yt('<svg><path fill="currentColor" d="M3.2 10.26a.75.75 0 0 0 1.06.04L8 6.773l3.74 3.527a.75.75 0 1 0 1.02-1.1l-4.25-4a.75.75 0 0 0-1.02 0l-4.25 4a.75.75 0 0 0-.04 1.06"></path></svg>');function Pz(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=xFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var _Fe=Yt('<svg><path fill="currentColor" d="M2.75 2a.75.75 0 0 1 .75.75v12.5c0 .69.56 1.25 1.25 1.25h12.5a.75.75 0 0 1 0 1.5H4.75A2.75 2.75 0 0 1 2 15.25V2.75A.75.75 0 0 1 2.75 2M10 7.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0m4.5.5a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5m.5 4.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0"></path></svg>');function SFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=_Fe();Ci(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),X(t,r)}var kFe=Yt('<svg><path fill="currentColor" d="m2.397 2.554l.073-.084a.75.75 0 0 1 .976-.073l.084.073L8 6.939l4.47-4.47a.75.75 0 1 1 1.06 1.061L9.061 8l4.47 4.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L8 9.061l-4.47 4.47a.75.75 0 0 1-1.06-1.061L6.939 8l-4.47-4.47a.75.75 0 0 1-.072-.976l.073-.084z"></path></svg>');function ly(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=kFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var CFe=Yt('<svg><path fill="currentColor" d="M9 1H6a2 2 0 0 0-2 2v2.205a5.5 5.5 0 0 1 4.666 9.791H12a2 2 0 0 0 2-2V6.001h-3.5A1.5 1.5 0 0 1 9 4.5zm4.997 4h-3.498a.5.5 0 0 1-.5-.5V1h.01zM10 10.5a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0m-4.854 2.353l.003.003a.5.5 0 0 0 .348.144h.006a.5.5 0 0 0 .35-.146l2-2a.5.5 0 0 0-.707-.708L6 11.293V8.5a.5.5 0 0 0-1 0v2.793l-1.146-1.147a.5.5 0 0 0-.708.708z"></path></svg>');function b6(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=CFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var AFe=Yt('<svg><path fill="currentColor" d="M10.529 1.764a2.621 2.621 0 1 1 3.707 3.707l-.779.779L9.75 2.543zM9.043 3.25L2.657 9.636a2.96 2.96 0 0 0-.772 1.354l-.87 3.386a.5.5 0 0 0 .61.608l3.385-.869a2.95 2.95 0 0 0 1.354-.772l6.386-6.386z"></path></svg>');function tR(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=AFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var EFe=Yt('<svg><path fill="currentColor" d="M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2m0 1a5 5 0 1 0 0 10A5 5 0 0 0 8 3m0 7a.75.75 0 1 1 0 1.5a.75.75 0 0 1 0-1.5m0-5.5a.5.5 0 0 1 .492.41L8.5 5v3.5a.5.5 0 0 1-.992.09L7.5 8.5V5a.5.5 0 0 1 .5-.5"></path></svg>');function Qne(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=EFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var TFe=Yt('<svg><path fill="currentColor" d="M7 17H6a3 3 0 0 1-3-3v-1h4zm10-3a3 3 0 0 1-3 3H8v-4h9zM7 12H3V6a3 3 0 0 1 3-3h1zm7-9a3 3 0 0 1 3 3v6H8V3z"></path></svg>');function DFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=TFe();Ci(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),X(t,r)}var PFe=Yt('<svg><path fill="currentColor" d="M3 14a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3zm14-1v-2.5H3V13zm0-6v2.5H3V7zm0-1a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3z"></path></svg>');function RFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=PFe();Ci(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),X(t,r)}var $Fe=Yt('<svg><path fill="currentColor" d="M2 6a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v7a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3zm3-2a2 2 0 0 0-2 2v5h14V6a2 2 0 0 0-2-2z"></path></svg>');function IFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=$Fe();Ci(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),X(t,r)}var FFe=Yt('<svg><path fill="currentColor" d="M15 3a3 3 0 0 1 3 3v7a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3zM5 4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h6.5V4z"></path></svg>');function MFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=FFe();Ci(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),X(t,r)}var LFe=Yt('<svg><path fill="currentColor" d="M10.823 11.883a5.5 5.5 0 1 1 1.06-1.06l2.897 2.897a.75.75 0 1 1-1.06 1.06zM11.5 7.5a4 4 0 1 0-8 0a4 4 0 0 0 8 0"></path></svg>');function NFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=LFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var QFe=Yt('<svg><path fill="currentColor" d="M2.267 6.153A6 6 0 0 1 3.53 3.98a.36.36 0 0 1 .382-.095l1.36.484a.71.71 0 0 0 .935-.538l.26-1.416a.35.35 0 0 1 .274-.282a6.1 6.1 0 0 1 2.52 0c.14.03.248.141.274.282l.26 1.416a.708.708 0 0 0 .935.538l1.36-.484a.36.36 0 0 1 .382.095a6 6 0 0 1 1.262 2.173a.35.35 0 0 1-.108.378l-1.102.931a.703.703 0 0 0 0 1.076l1.102.931c.11.093.152.242.108.378a6 6 0 0 1-1.262 2.173a.36.36 0 0 1-.382.095l-1.36-.484a.71.71 0 0 0-.935.538l-.26 1.416a.35.35 0 0 1-.275.282a6.1 6.1 0 0 1-2.519 0a.35.35 0 0 1-.275-.282l-.259-1.416a.708.708 0 0 0-.935-.538l-1.36.484a.36.36 0 0 1-.382-.095a6 6 0 0 1-1.262-2.173a.35.35 0 0 1 .108-.378l1.102-.931a.704.704 0 0 0 0-1.076l-1.102-.931a.35.35 0 0 1-.108-.378M6.25 8a1.75 1.75 0 1 0 3.5 0a1.75 1.75 0 0 0-3.5 0"></path></svg>');function Bne(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=QFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var BFe=Yt('<svg><path fill="currentColor" d="M7.456 2a6 6 0 1 1-5.406 8.605a.5.5 0 0 1 .36-.71c1.276-.231 3.278-.937 4.078-3.07c.563-1.5.512-3.015.283-4.23a.5.5 0 0 1 .475-.591Q7.35 2 7.456 2"></path></svg>');function zFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=BFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var UFe=Yt('<svg><path fill="currentColor" d="M8 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 8 1m0 10a3 3 0 1 0 0-6a3 3 0 0 0 0 6m6.5-2.5a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1zM8 13a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 8 13M2.5 8.5a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1zm.646-5.354a.5.5 0 0 1 .708 0l1 1a.5.5 0 1 1-.708.708l-1-1a.5.5 0 0 1 0-.708m.708 9.708a.5.5 0 1 1-.708-.707l1-1a.5.5 0 0 1 .708.707zm9-9.708a.5.5 0 0 0-.708 0l-1 1a.5.5 0 0 0 .708.708l1-1a.5.5 0 0 0 0-.708m-.708 9.708a.5.5 0 0 0 .708-.707l-1-1a.5.5 0 0 0-.708.707z"></path></svg>');function jFe(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=UFe();Ci(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),X(t,r)}var qFe=Yt('<svg><path fill="currentColor" d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path fill="currentColor" d="M10.72,19.9a8,8,0,0,1-6.5-9.79A7.77,7.77,0,0,1,10.4,4.16a8,8,0,0,1,9.49,6.52A1.54,1.54,0,0,0,21.38,12h.13a1.37,1.37,0,0,0,1.38-1.54,11,11,0,1,0-12.7,12.39A1.54,1.54,0,0,0,12,21.34h0A1.47,1.47,0,0,0,10.72,19.9Z"><animateTransform attributeName="transform" dur="0.75s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></svg>');function nR(t,e){const n=hr(e,["$$slots","$$events","$$legacy"]);var r=qFe();Ci(r,()=>({viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),X(t,r)}function VFe(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function XFe(t){const e=atob(t);return new Uint8Array([...e].map(n=>n.charCodeAt(0)))}function Cm(t,e){if(t.length<e.length)return!1;for(let n=0;n<e.length;n++)if(t[n]!=e[n])return!1;return!0}function Rz(t){return Cm(t,[137,80,78,71,13,10,26,10])?"image/png":Cm(t,[255,216,255])?"image/jpeg":Cm(t,[73,73,42,0])?"image/tiff":Cm(t,[66,77])?"image/bmp":Cm(t,[71,73,70,56,55,97])||Cm(t,[71,73,70,56,55,97])?"image/gif":"application/octet-stream"}function zne(t){if(t==null)return null;if(typeof t=="string")return t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://")?t:`data:${Rz(XFe(t))};base64,`+t;{let e=null;if(t.bytes&&t.bytes instanceof Uint8Array&&(e=t.bytes),t instanceof Uint8Array&&(e=t),e!=null)return`data:${Rz(e)};base64,`+VFe(e)}return null}class ZFe{element;constructor(e,n){this.element=e,this.update(n)}update(e){if(e.value==null){this.element.innerText="(null)";return}let n=zne(e.value);if(n!=null){let r=e.size??100,i=document.createElement("img");i.referrerPolicy="no-referrer",i.src=n,i.style.maxHeight=r+"px",i.style.maxWidth=r+"px",this.element.replaceChildren(i)}else this.element.innerText="(unknown)"}}function rR(t,e){try{return JSON.stringify(t,(n,r)=>r instanceof Object&&ArrayBuffer.isView(r)?Array.from(r):r,e)}catch{return"(invalid)"}}class WFe{element;constructor(e,n){this.element=e,this.update(n)}update(e){let n=document.createElement("pre");n.className="text-sm",n.style.whiteSpace="pre-wrap",n.style.wordBreak="break-all",n.innerText=rR(e.value,2),this.element.replaceChildren(n)}}const{entries:Une,setPrototypeOf:$z,isFrozen:YFe,getPrototypeOf:GFe,getOwnPropertyDescriptor:HFe}=Object;let{freeze:Oo,seal:$l,create:PT}=Object,{apply:RT,construct:$T}=typeof Reflect<"u"&&Reflect;Oo||(Oo=function(e){return e});$l||($l=function(e){return e});RT||(RT=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});$T||($T=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const dx=wo(Array.prototype.forEach),KFe=wo(Array.prototype.lastIndexOf),Iz=wo(Array.prototype.pop),Jy=wo(Array.prototype.push),JFe=wo(Array.prototype.splice),S_=wo(String.prototype.toLowerCase),v6=wo(String.prototype.toString),O6=wo(String.prototype.match),eb=wo(String.prototype.replace),eMe=wo(String.prototype.indexOf),tMe=wo(String.prototype.trim),ql=wo(Object.prototype.hasOwnProperty),Js=wo(RegExp.prototype.test),tb=nMe(TypeError);function wo(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return RT(t,e,r)}}function nMe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return $T(t,n)}}function cn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S_;$z&&$z(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(YFe(e)||(e[r]=s),i=s)}t[i]=!0}return t}function rMe(t){for(let e=0;e<t.length;e++)ql(t,e)||(t[e]=null);return t}function pf(t){const e=PT(null);for(const[n,r]of Une(t))ql(t,n)&&(Array.isArray(r)?e[n]=rMe(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=pf(r):e[n]=r);return e}function nb(t,e){for(;t!==null;){const r=HFe(t,e);if(r){if(r.get)return wo(r.get);if(typeof r.value=="function")return wo(r.value)}t=GFe(t)}function n(){return null}return n}const Fz=Oo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),w6=Oo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),x6=Oo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),iMe=Oo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_6=Oo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),sMe=Oo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mz=Oo(["#text"]),Lz=Oo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),S6=Oo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Nz=Oo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),px=Oo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),oMe=$l(/\{\{[\w\W]*|[\w\W]*\}\}/gm),aMe=$l(/<%[\w\W]*|[\w\W]*%>/gm),lMe=$l(/\$\{[\w\W]*/gm),uMe=$l(/^data-[\-\w.\u00B7-\uFFFF]+$/),cMe=$l(/^aria-[\-\w]+$/),jne=$l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fMe=$l(/^(?:\w+script|data):/i),hMe=$l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qne=$l(/^html$/i),dMe=$l(/^[a-z][.\w]*(-[.\w]+)+$/i);var Qz=Object.freeze({__proto__:null,ARIA_ATTR:cMe,ATTR_WHITESPACE:hMe,CUSTOM_ELEMENT:dMe,DATA_ATTR:uMe,DOCTYPE_NAME:qne,ERB_EXPR:aMe,IS_ALLOWED_URI:jne,IS_SCRIPT_OR_DATA:fMe,MUSTACHE_EXPR:oMe,TMPLIT_EXPR:lMe});const rb={element:1,text:3,progressingInstruction:7,comment:8,document:9},pMe=function(){return typeof window>"u"?null:window},mMe=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Bz=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Vne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pMe();const e=Ie=>Vne(Ie);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==rb.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:d}=t,m=l.prototype,g=nb(m,"cloneNode"),b=nb(m,"remove"),v=nb(m,"nextSibling"),O=nb(m,"childNodes"),_=nb(m,"parentNode");if(typeof o=="function"){const Ie=n.createElement("template");Ie.content&&Ie.content.ownerDocument&&(n=Ie.content.ownerDocument)}let S,k="";const{implementation:A,createNodeIterator:C,createDocumentFragment:T,getElementsByTagName:P}=n,{importNode:N}=r;let I=Bz();e.isSupported=typeof Une=="function"&&typeof _=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:$,ERB_EXPR:R,TMPLIT_EXPR:M,DATA_ATTR:B,ARIA_ATTR:U,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:ee,CUSTOM_ELEMENT:W}=Qz;let{IS_ALLOWED_URI:ue}=Qz,te=null;const ae=cn({},[...Fz,...w6,...x6,..._6,...Mz]);let ie=null;const _e=cn({},[...Lz,...S6,...Nz,...px]);let le=Object.seal(PT(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ce=null,Qe=null;const We=Object.seal(PT(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ve=!0,Te=!0,ze=!1,Ue=!0,Re=!1,lt=!0,it=!1,Lt=!1,ft=!1,Ee=!1,nt=!1,on=!1,an=!0,xn=!1;const or="user-content-";let Li=!0,dn=!1,yi={},Cn=null;const Nr=cn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Au=null;const Eu=cn({},["audio","video","img","source","image","track"]);let Xa=null;const Za=cn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_o="http://www.w3.org/1998/Math/MathML",ca="http://www.w3.org/2000/svg",Ni="http://www.w3.org/1999/xhtml";let Zs=Ni,Nl=!1,ar=null;const ai=cn({},[_o,ca,Ni],v6);let Qr=cn({},["mi","mo","mn","ms","mtext"]),wr=cn({},["annotation-xml"]);const Qi=cn({},["title","style","font","a","script"]);let li=null;const Bi=["application/xhtml+xml","text/html"],Wr="text/html";let ln=null,Nn=null;const Tu=n.createElement("form"),Ti=function(H){return H instanceof RegExp||H instanceof Function},Br=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Nn&&Nn===H)){if((!H||typeof H!="object")&&(H={}),H=pf(H),li=Bi.indexOf(H.PARSER_MEDIA_TYPE)===-1?Wr:H.PARSER_MEDIA_TYPE,ln=li==="application/xhtml+xml"?v6:S_,te=ql(H,"ALLOWED_TAGS")?cn({},H.ALLOWED_TAGS,ln):ae,ie=ql(H,"ALLOWED_ATTR")?cn({},H.ALLOWED_ATTR,ln):_e,ar=ql(H,"ALLOWED_NAMESPACES")?cn({},H.ALLOWED_NAMESPACES,v6):ai,Xa=ql(H,"ADD_URI_SAFE_ATTR")?cn(pf(Za),H.ADD_URI_SAFE_ATTR,ln):Za,Au=ql(H,"ADD_DATA_URI_TAGS")?cn(pf(Eu),H.ADD_DATA_URI_TAGS,ln):Eu,Cn=ql(H,"FORBID_CONTENTS")?cn({},H.FORBID_CONTENTS,ln):Nr,ce=ql(H,"FORBID_TAGS")?cn({},H.FORBID_TAGS,ln):pf({}),Qe=ql(H,"FORBID_ATTR")?cn({},H.FORBID_ATTR,ln):pf({}),yi=ql(H,"USE_PROFILES")?H.USE_PROFILES:!1,ve=H.ALLOW_ARIA_ATTR!==!1,Te=H.ALLOW_DATA_ATTR!==!1,ze=H.ALLOW_UNKNOWN_PROTOCOLS||!1,Ue=H.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Re=H.SAFE_FOR_TEMPLATES||!1,lt=H.SAFE_FOR_XML!==!1,it=H.WHOLE_DOCUMENT||!1,Ee=H.RETURN_DOM||!1,nt=H.RETURN_DOM_FRAGMENT||!1,on=H.RETURN_TRUSTED_TYPE||!1,ft=H.FORCE_BODY||!1,an=H.SANITIZE_DOM!==!1,xn=H.SANITIZE_NAMED_PROPS||!1,Li=H.KEEP_CONTENT!==!1,dn=H.IN_PLACE||!1,ue=H.ALLOWED_URI_REGEXP||jne,Zs=H.NAMESPACE||Ni,Qr=H.MATHML_TEXT_INTEGRATION_POINTS||Qr,wr=H.HTML_INTEGRATION_POINTS||wr,le=H.CUSTOM_ELEMENT_HANDLING||{},H.CUSTOM_ELEMENT_HANDLING&&Ti(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(le.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&Ti(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(le.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(le.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(Te=!1),nt&&(Ee=!0),yi&&(te=cn({},Mz),ie=[],yi.html===!0&&(cn(te,Fz),cn(ie,Lz)),yi.svg===!0&&(cn(te,w6),cn(ie,S6),cn(ie,px)),yi.svgFilters===!0&&(cn(te,x6),cn(ie,S6),cn(ie,px)),yi.mathMl===!0&&(cn(te,_6),cn(ie,Nz),cn(ie,px))),H.ADD_TAGS&&(typeof H.ADD_TAGS=="function"?We.tagCheck=H.ADD_TAGS:(te===ae&&(te=pf(te)),cn(te,H.ADD_TAGS,ln))),H.ADD_ATTR&&(typeof H.ADD_ATTR=="function"?We.attributeCheck=H.ADD_ATTR:(ie===_e&&(ie=pf(ie)),cn(ie,H.ADD_ATTR,ln))),H.ADD_URI_SAFE_ATTR&&cn(Xa,H.ADD_URI_SAFE_ATTR,ln),H.FORBID_CONTENTS&&(Cn===Nr&&(Cn=pf(Cn)),cn(Cn,H.FORBID_CONTENTS,ln)),Li&&(te["#text"]=!0),it&&cn(te,["html","head","body"]),te.table&&(cn(te,["tbody"]),delete ce.tbody),H.TRUSTED_TYPES_POLICY){if(typeof H.TRUSTED_TYPES_POLICY.createHTML!="function")throw tb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof H.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw tb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=H.TRUSTED_TYPES_POLICY,k=S.createHTML("")}else S===void 0&&(S=mMe(d,i)),S!==null&&typeof k=="string"&&(k=S.createHTML(""));Oo&&Oo(H),Nn=H}},zr=cn({},[...w6,...x6,...iMe]),Ji=cn({},[..._6,...sMe]),fa=function(H){let ye=_(H);(!ye||!ye.tagName)&&(ye={namespaceURI:Zs,tagName:"template"});const Ne=S_(H.tagName),pn=S_(ye.tagName);return ar[H.namespaceURI]?H.namespaceURI===ca?ye.namespaceURI===Ni?Ne==="svg":ye.namespaceURI===_o?Ne==="svg"&&(pn==="annotation-xml"||Qr[pn]):!!zr[Ne]:H.namespaceURI===_o?ye.namespaceURI===Ni?Ne==="math":ye.namespaceURI===ca?Ne==="math"&&wr[pn]:!!Ji[Ne]:H.namespaceURI===Ni?ye.namespaceURI===ca&&!wr[pn]||ye.namespaceURI===_o&&!Qr[pn]?!1:!Ji[Ne]&&(Qi[Ne]||!zr[Ne]):!!(li==="application/xhtml+xml"&&ar[H.namespaceURI]):!1},ui=function(H){Jy(e.removed,{element:H});try{_(H).removeChild(H)}catch{b(H)}},Ur=function(H,ye){try{Jy(e.removed,{attribute:ye.getAttributeNode(H),from:ye})}catch{Jy(e.removed,{attribute:null,from:ye})}if(ye.removeAttribute(H),H==="is")if(Ee||nt)try{ui(ye)}catch{}else try{ye.setAttribute(H,"")}catch{}},So=function(H){let ye=null,Ne=null;if(ft)H="<remove></remove>"+H;else{const nn=O6(H,/^[\r\n\t ]+/);Ne=nn&&nn[0]}li==="application/xhtml+xml"&&Zs===Ni&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");const pn=S?S.createHTML(H):H;if(Zs===Ni)try{ye=new h().parseFromString(pn,li)}catch{}if(!ye||!ye.documentElement){ye=A.createDocument(Zs,"template",null);try{ye.documentElement.innerHTML=Nl?k:pn}catch{}}const mn=ye.body||ye.documentElement;return H&&Ne&&mn.insertBefore(n.createTextNode(Ne),mn.childNodes[0]||null),Zs===Ni?P.call(ye,it?"html":"body")[0]:it?ye.documentElement:mn},Ch=function(H){return C.call(H.ownerDocument||H,H,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Kc=function(H){return H instanceof f&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof c)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function"||typeof H.hasChildNodes!="function")},Ah=function(H){return typeof a=="function"&&H instanceof a};function de(Ie,H,ye){dx(Ie,Ne=>{Ne.call(e,H,ye,Nn)})}const Pe=function(H){let ye=null;if(de(I.beforeSanitizeElements,H,null),Kc(H))return ui(H),!0;const Ne=ln(H.nodeName);if(de(I.uponSanitizeElement,H,{tagName:Ne,allowedTags:te}),lt&&H.hasChildNodes()&&!Ah(H.firstElementChild)&&Js(/<[/\w!]/g,H.innerHTML)&&Js(/<[/\w!]/g,H.textContent)||H.nodeType===rb.progressingInstruction||lt&&H.nodeType===rb.comment&&Js(/<[/\w]/g,H.data))return ui(H),!0;if(!(We.tagCheck instanceof Function&&We.tagCheck(Ne))&&(!te[Ne]||ce[Ne])){if(!ce[Ne]&&rt(Ne)&&(le.tagNameCheck instanceof RegExp&&Js(le.tagNameCheck,Ne)||le.tagNameCheck instanceof Function&&le.tagNameCheck(Ne)))return!1;if(Li&&!Cn[Ne]){const pn=_(H)||H.parentNode,mn=O(H)||H.childNodes;if(mn&&pn){const nn=mn.length;for(let Dr=nn-1;Dr>=0;--Dr){const Ws=g(mn[Dr],!0);Ws.__removalCount=(H.__removalCount||0)+1,pn.insertBefore(Ws,v(H))}}}return ui(H),!0}return H instanceof l&&!fa(H)||(Ne==="noscript"||Ne==="noembed"||Ne==="noframes")&&Js(/<\/no(script|embed|frames)/i,H.innerHTML)?(ui(H),!0):(Re&&H.nodeType===rb.text&&(ye=H.textContent,dx([$,R,M],pn=>{ye=eb(ye,pn," ")}),H.textContent!==ye&&(Jy(e.removed,{element:H.cloneNode()}),H.textContent=ye)),de(I.afterSanitizeElements,H,null),!1)},Ze=function(H,ye,Ne){if(an&&(ye==="id"||ye==="name")&&(Ne in n||Ne in Tu))return!1;if(!(Te&&!Qe[ye]&&Js(B,ye))){if(!(ve&&Js(U,ye))){if(!(We.attributeCheck instanceof Function&&We.attributeCheck(ye,H))){if(!ie[ye]||Qe[ye]){if(!(rt(H)&&(le.tagNameCheck instanceof RegExp&&Js(le.tagNameCheck,H)||le.tagNameCheck instanceof Function&&le.tagNameCheck(H))&&(le.attributeNameCheck instanceof RegExp&&Js(le.attributeNameCheck,ye)||le.attributeNameCheck instanceof Function&&le.attributeNameCheck(ye,H))||ye==="is"&&le.allowCustomizedBuiltInElements&&(le.tagNameCheck instanceof RegExp&&Js(le.tagNameCheck,Ne)||le.tagNameCheck instanceof Function&&le.tagNameCheck(Ne))))return!1}else if(!Xa[ye]){if(!Js(ue,eb(Ne,ee,""))){if(!((ye==="src"||ye==="xlink:href"||ye==="href")&&H!=="script"&&eMe(Ne,"data:")===0&&Au[H])){if(!(ze&&!Js(j,eb(Ne,ee,"")))){if(Ne)return!1}}}}}}}return!0},rt=function(H){return H!=="annotation-xml"&&O6(H,W)},st=function(H){de(I.beforeSanitizeAttributes,H,null);const{attributes:ye}=H;if(!ye||Kc(H))return;const Ne={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0};let pn=ye.length;for(;pn--;){const mn=ye[pn],{name:nn,namespaceURI:Dr,value:Ws}=mn,ha=ln(nn),zi=Ws;let lr=nn==="value"?zi:tMe(zi);if(Ne.attrName=ha,Ne.attrValue=lr,Ne.keepAttr=!0,Ne.forceKeepAttr=void 0,de(I.uponSanitizeAttribute,H,Ne),lr=Ne.attrValue,xn&&(ha==="id"||ha==="name")&&(Ur(nn,H),lr=or+lr),lt&&Js(/((--!?|])>)|<\/(style|title|textarea)/i,lr)){Ur(nn,H);continue}if(ha==="attributename"&&O6(lr,"href")){Ur(nn,H);continue}if(Ne.forceKeepAttr)continue;if(!Ne.keepAttr){Ur(nn,H);continue}if(!Ue&&Js(/\/>/i,lr)){Ur(nn,H);continue}Re&&dx([$,R,M],C2=>{lr=eb(lr,C2," ")});const im=ln(H.nodeName);if(!Ze(im,ha,lr)){Ur(nn,H);continue}if(S&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Dr)switch(d.getAttributeType(im,ha)){case"TrustedHTML":{lr=S.createHTML(lr);break}case"TrustedScriptURL":{lr=S.createScriptURL(lr);break}}if(lr!==zi)try{Dr?H.setAttributeNS(Dr,nn,lr):H.setAttribute(nn,lr),Kc(H)?ui(H):Iz(e.removed)}catch{Ur(nn,H)}}de(I.afterSanitizeAttributes,H,null)},Et=function Ie(H){let ye=null;const Ne=Ch(H);for(de(I.beforeSanitizeShadowDOM,H,null);ye=Ne.nextNode();)de(I.uponSanitizeShadowNode,ye,null),Pe(ye),st(ye),ye.content instanceof s&&Ie(ye.content);de(I.afterSanitizeShadowDOM,H,null)};return e.sanitize=function(Ie){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=null,Ne=null,pn=null,mn=null;if(Nl=!Ie,Nl&&(Ie="<!-->"),typeof Ie!="string"&&!Ah(Ie))if(typeof Ie.toString=="function"){if(Ie=Ie.toString(),typeof Ie!="string")throw tb("dirty is not a string, aborting")}else throw tb("toString is not a function");if(!e.isSupported)return Ie;if(Lt||Br(H),e.removed=[],typeof Ie=="string"&&(dn=!1),dn){if(Ie.nodeName){const Ws=ln(Ie.nodeName);if(!te[Ws]||ce[Ws])throw tb("root node is forbidden and cannot be sanitized in-place")}}else if(Ie instanceof a)ye=So("<!---->"),Ne=ye.ownerDocument.importNode(Ie,!0),Ne.nodeType===rb.element&&Ne.nodeName==="BODY"||Ne.nodeName==="HTML"?ye=Ne:ye.appendChild(Ne);else{if(!Ee&&!Re&&!it&&Ie.indexOf("<")===-1)return S&&on?S.createHTML(Ie):Ie;if(ye=So(Ie),!ye)return Ee?null:on?k:""}ye&&ft&&ui(ye.firstChild);const nn=Ch(dn?Ie:ye);for(;pn=nn.nextNode();)Pe(pn),st(pn),pn.content instanceof s&&Et(pn.content);if(dn)return Ie;if(Ee){if(nt)for(mn=T.call(ye.ownerDocument);ye.firstChild;)mn.appendChild(ye.firstChild);else mn=ye;return(ie.shadowroot||ie.shadowrootmode)&&(mn=N.call(r,mn,!0)),mn}let Dr=it?ye.outerHTML:ye.innerHTML;return it&&te["!doctype"]&&ye.ownerDocument&&ye.ownerDocument.doctype&&ye.ownerDocument.doctype.name&&Js(qne,ye.ownerDocument.doctype.name)&&(Dr="<!DOCTYPE "+ye.ownerDocument.doctype.name+`>
`+Dr),Re&&dx([$,R,M],Ws=>{Dr=eb(Dr,Ws," ")}),S&&on?S.createHTML(Dr):Dr},e.setConfig=function(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Br(Ie),Lt=!0},e.clearConfig=function(){Nn=null,Lt=!1},e.isValidAttribute=function(Ie,H,ye){Nn||Br({});const Ne=ln(Ie),pn=ln(H);return Ze(Ne,pn,ye)},e.addHook=function(Ie,H){typeof H=="function"&&Jy(I[Ie],H)},e.removeHook=function(Ie,H){if(H!==void 0){const ye=KFe(I[Ie],H);return ye===-1?void 0:JFe(I[Ie],ye,1)[0]}return Iz(I[Ie])},e.removeHooks=function(Ie){I[Ie]=[]},e.removeAllHooks=function(){I=Bz()},e}var Xne=Vne();function iR(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Z0=iR();function Zne(t){Z0=t}var av={exec:()=>null};function Mn(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(po.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var gMe=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),po={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},yMe=/^(?:[ \t]*(?:\n|$))+/,bMe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,vMe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,f2=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,OMe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,sR=/(?:[*+-]|\d{1,9}[.)])/,Wne=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Yne=Mn(Wne).replace(/bull/g,sR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),wMe=Mn(Wne).replace(/bull/g,sR).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),oR=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,xMe=/^[^\n]+/,aR=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,_Me=Mn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",aR).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),SMe=Mn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,sR).getRegex(),M4="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",lR=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,kMe=Mn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",lR).replace("tag",M4).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Gne=Mn(oR).replace("hr",f2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M4).getRegex(),CMe=Mn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Gne).getRegex(),uR={blockquote:CMe,code:bMe,def:_Me,fences:vMe,heading:OMe,hr:f2,html:kMe,lheading:Yne,list:SMe,newline:yMe,paragraph:Gne,table:av,text:xMe},zz=Mn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",f2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M4).getRegex(),AMe={...uR,lheading:wMe,table:zz,paragraph:Mn(oR).replace("hr",f2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",zz).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",M4).getRegex()},EMe={...uR,html:Mn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",lR).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:av,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Mn(oR).replace("hr",f2).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Yne).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},TMe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,DMe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Hne=/^( {2,}|\\)\n(?!\s*$)/,PMe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,L4=/[\p{P}\p{S}]/u,cR=/[\s\p{P}\p{S}]/u,Kne=/[^\s\p{P}\p{S}]/u,RMe=Mn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,cR).getRegex(),Jne=/(?!~)[\p{P}\p{S}]/u,$Me=/(?!~)[\s\p{P}\p{S}]/u,IMe=/(?:[^\s\p{P}\p{S}]|~)/u,FMe=Mn(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",gMe?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),ere=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,MMe=Mn(ere,"u").replace(/punct/g,L4).getRegex(),LMe=Mn(ere,"u").replace(/punct/g,Jne).getRegex(),tre="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",NMe=Mn(tre,"gu").replace(/notPunctSpace/g,Kne).replace(/punctSpace/g,cR).replace(/punct/g,L4).getRegex(),QMe=Mn(tre,"gu").replace(/notPunctSpace/g,IMe).replace(/punctSpace/g,$Me).replace(/punct/g,Jne).getRegex(),BMe=Mn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Kne).replace(/punctSpace/g,cR).replace(/punct/g,L4).getRegex(),zMe=Mn(/\\(punct)/,"gu").replace(/punct/g,L4).getRegex(),UMe=Mn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),jMe=Mn(lR).replace("(?:-->|$)","-->").getRegex(),qMe=Mn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",jMe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),F3=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,VMe=Mn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",F3).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),nre=Mn(/^!?\[(label)\]\[(ref)\]/).replace("label",F3).replace("ref",aR).getRegex(),rre=Mn(/^!?\[(ref)\](?:\[\])?/).replace("ref",aR).getRegex(),XMe=Mn("reflink|nolink(?!\\()","g").replace("reflink",nre).replace("nolink",rre).getRegex(),Uz=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,fR={_backpedal:av,anyPunctuation:zMe,autolink:UMe,blockSkip:FMe,br:Hne,code:DMe,del:av,emStrongLDelim:MMe,emStrongRDelimAst:NMe,emStrongRDelimUnd:BMe,escape:TMe,link:VMe,nolink:rre,punctuation:RMe,reflink:nre,reflinkSearch:XMe,tag:qMe,text:PMe,url:av},ZMe={...fR,link:Mn(/^!?\[(label)\]\((.*?)\)/).replace("label",F3).getRegex(),reflink:Mn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",F3).getRegex()},IT={...fR,emStrongRDelimAst:QMe,emStrongLDelim:LMe,url:Mn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Uz).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Mn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Uz).getRegex()},WMe={...IT,br:Mn(Hne).replace("{2,}","*").getRegex(),text:Mn(IT.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},mx={normal:uR,gfm:AMe,pedantic:EMe},ib={normal:fR,gfm:IT,breaks:WMe,pedantic:ZMe},YMe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jz=t=>YMe[t];function mf(t,e){if(e){if(po.escapeTest.test(t))return t.replace(po.escapeReplace,jz)}else if(po.escapeTestNoEncode.test(t))return t.replace(po.escapeReplaceNoEncode,jz);return t}function qz(t){try{t=encodeURI(t).replace(po.percentDecode,"%")}catch{return null}return t}function Vz(t,e){let n=t.replace(po.findPipe,(s,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(po.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(po.slashPipe,"|");return r}function sb(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function GMe(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function Xz(t,e,n,r,i){let s=e.href,o=e.title||null,a=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function HMe(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}var M3=class{options;rules;lexer;constructor(e){this.options=e||Z0}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:sb(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=HMe(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=sb(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:sb(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=sb(n[0],`
`).split(`
`),i="",s="",o=[];for(;r.length>0;){let a=!1,l=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))l.push(r[u]),a=!0;else if(!a)l.push(r[u]);else break;r=r.slice(u);let c=l.join(`
`),f=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${c}`:c,s=s?`${s}
${f}`:f;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,o,!0),this.lexer.state.top=h,r.length===0)break;let d=o.at(-1);if(d?.type==="code")break;if(d?.type==="blockquote"){let m=d,g=m.raw+`
`+r.join(`
`),b=this.blockquote(g);o[o.length-1]=b,i=i.substring(0,i.length-m.raw.length)+b.raw,s=s.substring(0,s.length-m.text.length)+b.text;break}else if(d?.type==="list"){let m=d,g=m.raw+`
`+r.join(`
`),b=this.list(g);o[o.length-1]=b,i=i.substring(0,i.length-d.raw.length)+b.raw,s=s.substring(0,s.length-m.raw.length)+b.raw,r=g.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let o=this.rules.other.listItemRegex(r),a=!1;for(;e;){let u=!1,c="",f="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;c=n[0],e=e.substring(c.length);let h=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),d=e.split(`
`,1)[0],m=!h.trim(),g=0;if(this.options.pedantic?(g=2,f=h.trimStart()):m?g=n[1].length+1:(g=n[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,f=h.slice(g),g+=n[1].length),m&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,e=e.substring(d.length+1),u=!0),!u){let v=this.rules.other.nextBulletRegex(g),O=this.rules.other.hrRegex(g),_=this.rules.other.fencesBeginRegex(g),S=this.rules.other.headingBeginRegex(g),k=this.rules.other.htmlBeginRegex(g);for(;e;){let A=e.split(`
`,1)[0],C;if(d=A,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),C=d):C=d.replace(this.rules.other.tabCharGlobal,"    "),_.test(d)||S.test(d)||k.test(d)||v.test(d)||O.test(d))break;if(C.search(this.rules.other.nonSpaceChar)>=g||!d.trim())f+=`
`+C.slice(g);else{if(m||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||_.test(h)||S.test(h)||O.test(h))break;f+=`
`+d}!m&&!d.trim()&&(m=!0),c+=A+`
`,e=e.substring(A.length+1),h=C.slice(g)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let b=null;this.options.gfm&&(b=this.rules.other.listIsTask.exec(f),b&&(f=f.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!b,loose:!1,text:f,tokens:[]}),s.raw+=c}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u of s.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){let c=this.rules.other.listTaskCheckbox.exec(u.raw);if(c){let f={type:"checkbox",raw:c[0]+" ",checked:c[0]!=="[ ]"};u.checked=f.checked,s.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=f.raw+u.tokens[0].raw,u.tokens[0].text=f.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(f)):u.tokens.unshift({type:"paragraph",raw:f.raw,text:f.raw,tokens:[f]}):u.tokens.unshift(f)}}if(!s.loose){let c=u.tokens.filter(h=>h.type==="space"),f=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=f}}if(s.loose)for(let u of s.items){u.loose=!0;for(let c of u.tokens)c.type==="text"&&(c.type="paragraph")}return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=Vz(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let a of i)this.rules.other.tableAlignRight.test(a)?o.align.push("right"):this.rules.other.tableAlignCenter.test(a)?o.align.push("center"):this.rules.other.tableAlignLeft.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<r.length;a++)o.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:o.align[a]});for(let a of s)o.rows.push(Vz(a,o.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[u]})));return o}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let o=sb(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{let o=GMe(n[2],"()");if(o===-2)return;if(o>-1){let a=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),Xz(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return Xz(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,o,a,l=s,u=0,c=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,n=n.slice(-1*e.length+s);(i=c.exec(n))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){l+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){u+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+u);let f=[...i[0]][0].length,h=e.slice(0,s+i.index+f+a);if(Math.min(s,a)%2){let m=h.slice(1,-1);return{type:"em",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}let d=h.slice(2,-2);return{type:"strong",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},Gl=class FT{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Z0,this.options.tokenizer=this.options.tokenizer||new M3,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:po,block:mx.normal,inline:ib.normal};this.options.pedantic?(n.block=mx.pedantic,n.inline=ib.pedantic):this.options.gfm&&(n.block=mx.gfm,this.options.breaks?n.inline=ib.breaks:n.inline=ib.gfm),this.tokenizer.rules=n}static get rules(){return{block:mx,inline:ib}}static lex(e,n){return new FT(n).lex(e)}static lexInline(e,n){return new FT(n).inlineTokens(e)}lex(e){e=e.replace(po.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(po.tabCharGlobal,"    ").replace(po.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let o=n.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i),r=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let o=!1,a="";for(;e;){o||(a=""),o=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);let c=n.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(e,r,a)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),n.push(l);continue}let u=e;if(this.options.extensions?.startInline){let c=1/0,f=e.slice(1),h;this.options.extensions.startInline.forEach(d=>{h=d.call({lexer:this},f),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(l=this.tokenizer.inlineText(u)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),o=!0;let c=n.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},L3=class{options;parser;constructor(t){this.options=t||Z0}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(po.notSpaceStart)?.[0],i=t.replace(po.endingNewline,"")+`
`;return r?'<pre><code class="language-'+mf(r)+'">'+(n?i:mf(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:mf(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let a=t.items[o];r+=this.listitem(a)}let i=e?"ol":"ul",s=e&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){let s=t.rows[i];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${mf(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),i=qz(t);if(i===null)return r;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+mf(e)+'"'),s+=">"+r+"</a>",s}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=qz(t);if(i===null)return mf(n);t=i;let s=`<img src="${t}" alt="${n}"`;return e&&(s+=` title="${mf(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:mf(t.text)}},hR=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},Hl=class MT{options;renderer;textRenderer;constructor(e){this.options=e||Z0,this.options.renderer=this.options.renderer||new L3,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new hR}static parse(e,n){return new MT(n).parse(e)}static parseInline(e,n){return new MT(n).parseInline(e)}parse(e){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let o=i,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=a||"";continue}}let s=i;switch(s.type){case"space":{n+=this.renderer.space(s);break}case"hr":{n+=this.renderer.hr(s);break}case"heading":{n+=this.renderer.heading(s);break}case"code":{n+=this.renderer.code(s);break}case"table":{n+=this.renderer.table(s);break}case"blockquote":{n+=this.renderer.blockquote(s);break}case"list":{n+=this.renderer.list(s);break}case"checkbox":{n+=this.renderer.checkbox(s);break}case"html":{n+=this.renderer.html(s);break}case"def":{n+=this.renderer.def(s);break}case"paragraph":{n+=this.renderer.paragraph(s);break}case"text":{n+=this.renderer.text(s);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=a||"";continue}}let o=s;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"checkbox":{r+=n.checkbox(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Mb=class{options;block;constructor(e){this.options=e||Z0}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Gl.lex:Gl.lexInline}provideParser(){return this.block?Hl.parse:Hl.parseInline}},KMe=class{defaults=iR();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Hl;Renderer=L3;TextRenderer=hR;Lexer=Gl;Tokenizer=M3;Hooks=Mb;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{let s=i;for(let o of s.header)r=r.concat(this.walkTokens(o.tokens,n));for(let o of s.rows)for(let a of o)r=r.concat(this.walkTokens(a.tokens,n));break}case"list":{let s=i;r=r.concat(this.walkTokens(s.items,n));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let a=s[o].flat(1/0);r=r.concat(this.walkTokens(a,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=n.renderers[s.name];o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new L3(this.defaults);for(let o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,l=r.renderer[a],u=s[a];s[a]=(...c)=>{let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new M3(this.defaults);for(let o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=r.tokenizer[a],u=s[a];s[a]=(...c)=>{let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new Mb;for(let o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,l=r.hooks[a],u=s[a];Mb.passThroughHooks.has(o)?s[a]=c=>{if(this.defaults.async&&Mb.passThroughHooksRespectAsync.has(o))return(async()=>{let h=await l.call(s,c);return u.call(s,h)})();let f=l.call(s,c);return u.call(s,f)}:s[a]=(...c)=>{if(this.defaults.async)return(async()=>{let h=await l.apply(s,c);return h===!1&&(h=await u.apply(s,c)),h})();let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Gl.lex(e,n??this.defaults)}parser(e,n){return Hl.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(n):n,l=await(s.hooks?await s.hooks.provideLexer():e?Gl.lex:Gl.lexInline)(a,s),u=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let c=await(s.hooks?await s.hooks.provideParser():e?Hl.parse:Hl.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(c):c})().catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let a=(s.hooks?s.hooks.provideLexer():e?Gl.lex:Gl.lexInline)(n,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():e?Hl.parse:Hl.parseInline)(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return o(a)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+mf(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},C0=new KMe;function rr(t,e){return C0.parse(t,e)}rr.options=rr.setOptions=function(t){return C0.setOptions(t),rr.defaults=C0.defaults,Zne(rr.defaults),rr};rr.getDefaults=iR;rr.defaults=Z0;rr.use=function(...t){return C0.use(...t),rr.defaults=C0.defaults,Zne(rr.defaults),rr};rr.walkTokens=function(t,e){return C0.walkTokens(t,e)};rr.parseInline=C0.parseInline;rr.Parser=Hl;rr.parser=Hl.parse;rr.Renderer=L3;rr.TextRenderer=hR;rr.Lexer=Gl;rr.lexer=Gl.lex;rr.Tokenizer=M3;rr.Hooks=Mb;rr.parse=rr;rr.options;rr.setOptions;rr.use;rr.walkTokens;rr.parseInline;Hl.parse;Gl.lex;Xne.addHook("afterSanitizeAttributes",t=>{"target"in t&&(t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer"))});function N4(t){let e=rr(t,{async:!1,gfm:!0});return Xne.sanitize(e)}class JMe{element;constructor(e,n){this.element=e,this.update(n)}update(e){this.element.innerHTML='<div class="markdown-content">'+N4(e.value?.toString()??"(null)")+"</div>"}}function ire(t,e){if(t==null)return[];if(typeof t=="string"&&t.length>0)e.push({type:"text",text:t});else if(t instanceof Array)for(let n of t)ire(n,e);else typeof t=="object"&&(t.text!=null&&typeof t.text=="string"&&t.text.length>0&&e.push({type:"text",text:t.text}),t.image!=null&&typeof t.image=="string"&&t.image.length>0&&e.push({type:"image",imageUrl:t.image}),t.image_url!=null&&typeof t.image_url=="string"&&t.image_url.length>0&&e.push({type:"image",imageUrl:t.image_url}))}function eLe(t){if(t==null||typeof t!="object")return;let e=t.role?.toString()??"(null)",n=[],r={...t};delete r.role;for(let i of["content","contents"]){let s=t[i];s!=null&&(ire(s,n),delete r[i])}for(let i in r)r[i]==null&&delete r[i];return{role:e,content:n,remaining:r}}class tLe{element;constructor(e,n){this.element=e,this.update(n)}update(e){let n=document.createElement("div");if(e.value==null)n.innerText="(null)";else if(typeof e.value=="string")n.innerText=e.value;else if(e.value instanceof Array)for(let r of e.value){let i=eLe(r);i!=null&&n.appendChild(ob("div",{class:"mb-1 flex flex-col gap-1",children:[ob("div",{class:"text-xs font-bold border-b text-gray-400 dark:text-gray-500 border-gray-400 dark:border-gray-500",innerText:i.role}),...i.content.map(s=>{if(s.type=="text")return ob("div",{class:"prose dark:prose-invert max-w-none",innerHTML:N4(s.text)});if(s.type=="image")return ob("img",{class:"max-w-120 max-h-120 object-contain",attrs:{referrerpolicy:"no-referrer",src:s.imageUrl}})}),Object.keys(i.remaining).length>0?ob("pre",{class:"border rounded-md p-1 bg-gray-100 border-gray-200 dark:bg-gray-800 dark:border-gray-700 text-xs",innerText:rR(i.remaining,2)}):null]}))}this.element.replaceChildren(n)}}function ob(t,e){let n=document.createElement(t);if(e.innerText!=null&&(n.innerText=e.innerText),e.innerHTML!=null&&(n.innerHTML=e.innerHTML),e.class!=null&&(n.className=e.class),e.attrs!=null)for(let[r,i]of Object.entries(e.attrs))n.setAttribute(r,i);return e.children!=null&&n.replaceChildren(...e.children.filter(r=>r!=null)),n}class nLe{element;constructor(e,n){this.element=e,this.update(n)}update(e){if(e.value!=null){let n=document.createElement("a");n.href=e.value,n.innerText=e.value,n.className="underline",n.target="_blank",n.rel="noopener noreferrer",this.element.replaceChildren(n)}else this.element.innerText="(null)"}}let sre={markdown:JMe,image:ZFe,url:nLe,json:WFe,messages:tLe},rLe=[{renderer:"markdown",label:"Markdown"},{renderer:"image",label:"Image"},{renderer:"url",label:"Link"},{renderer:"json",label:"JSON"},{renderer:"messages",label:"Messages"}];function Zz(t){if(t!=null)return typeof t=="string"?sre[t]:t}function iLe(t){return typeof t=="string"&&(t.startsWith("http://")||t.startsWith("https://"))}function sLe(t){return t==null?!1:!!(typeof t=="string"&&t.startsWith("data:image/")||t.bytes&&t.bytes instanceof Uint8Array)}function dR(t){if(t==null)return"(null)";if(typeof t=="string")return t.toString();if(typeof t=="number")return t.toLocaleString();if(Array.isArray(t))return"["+t.map(e=>dR(e)).join(", ")+"]";try{return rR(t)}catch{return t.toString()}}var oLe=fe('<a class="underline" target="_blank" rel="noopener noreferrer"> </a>'),aLe=fe('<img alt="" referrerpolicy="no-referrer" class="max-w-24 max-h-24"/>'),lLe=fe("<div></div>");function LT(t,e){He(e,!0);let n=dt(e,"value",3,""),r=dt(e,"rendererOptions",19,()=>({})),i=Y(()=>e.renderer!=null?sre[e.renderer]??null:null);function s(c,f){let h=new f.class(c,{value:f.value,...f.options});return{update(d){h.update?.({value:d.value,...d.options})},destroy(){h.destroy?.()}}}var o=Bt(),a=Ye(o);{var l=c=>{var f=Bt(),h=Ye(f);{var d=g=>{var b=oLe(),v=K(b,!0);Z(b),Me(()=>{pe(b,"href",n()),Mt(v,n())}),X(g,b)},m=g=>{var b=Bt(),v=Ye(b);{var O=S=>{var k=aLe();Me(A=>pe(k,"src",A),[()=>zne(n())]),X(S,k)},_=S=>{var k=Jp();Me(A=>Mt(k,A),[()=>dR(n())]),X(S,k)};ke(v,S=>{sLe(n())?S(O):S(_,!1)},!0)}X(g,b)};ke(h,g=>{iLe(n())?g(d):g(m,!1)})}X(c,f)},u=c=>{var f=Bt(),h=Ye(f);V_(h,()=>x(i),d=>{var m=lLe();Kr(m,(g,b)=>s?.(g,b),()=>({class:x(i),value:n(),options:r()??{}})),X(d,m)}),X(c,f)};ke(a,c=>{x(i)==null?c(l):c(u,!1)})}X(t,o),Ke()}var uLe=fe("<div><!></div>");function A0(t,e){let n=dt(e,"defaultWidth",3,null),r=dt(e,"defaultHeight",3,null),i=dt(e,"scrollX",3,!1),s=dt(e,"scrollY",3,!1),o=Y(()=>e.width!=null?e.width:i()?void 0:n()),a=Y(()=>e.height!=null?e.height:s()?void 0:r());var l=uLe();let u;var c=K(l);Cl(c,()=>e.children),Z(l),Me(()=>{sr(l,1,`p-2 ${e.class??""??""}`),u=gt(l,"",u,{width:x(o)!=null?`${x(o)}px`:void 0,height:x(a)!=null?`${x(a)}px`:void 0,"overflow-x":i()&&e.width!=null?"auto":void 0,"overflow-y":s()&&e.height!=null?"auto":void 0})}),X(t,l)}function cLe(t,e){He(e,!0);const n=()=>hi(s,"$columnStyles",r),[r,i]=Il();let{columnStyles:s}=e.context,o=Le(void 0);Vr(()=>e.context.highlight.subscribe(async l=>{if(l==null)return;let u=await e.context.coordinator.query(at.from(e.context.table).select({value:e.spec.field}).where(Ta(we(e.context.id,e.context.table),Ve(l))));oe(o,u.get(0)?.value??void 0,!0)}));let a=Y(()=>n()[e.spec.field]?.renderer);A0(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,children:(l,u)=>{var c=Bt(),f=Ye(c);{var h=m=>{LT(m,{get value(){return x(o)},get renderer(){return x(a)}})},d=m=>{var g=Jp("(null)");X(m,g)};ke(f,m=>{x(o)!=null?m(h):m(d,!1)})}X(l,c)},$$slots:{default:!0}}),Ke(),i()}var kf={slate:{300:"oklch(86.9% 0.022 252.894)",400:"oklch(70.4% 0.04 256.788)",500:"oklch(55.4% 0.046 257.417)",700:"oklch(37.2% 0.044 257.287)"},gray:{500:"oklch(55.1% 0.027 264.364)"}};function Wz(t){return t===void 0?"undefined":JSON.stringify(t)}function fLe(t){if(t!=="undefined")return JSON.parse(t)}var hLe=fe("<option disabled selected> </option>"),dLe=fe("<hr/>"),pLe=fe("<option> </option>"),mLe=fe("<select><!><!></select>");function NT(t,e){He(e,!0);let n=dt(e,"disabled",3,!1),r=dt(e,"placeholder",3,null),i=dt(e,"options",19,()=>[]),s=dt(e,"onChange",3,void 0),o,a=Y(()=>i().filter(d=>d!=="---"&&d.value===void 0)[0]);var l=mLe();l.__change=()=>{o&&s()&&s()(fLe(o.value))};var u=K(l);{var c=d=>{var m=hLe(),g=K(m,!0);Z(m),m.value=m.__value="undefined",Me(()=>Mt(g,r())),X(d,m)};ke(u,d=>{r()!=null&&!x(a)&&d(c)})}var f=se(u);fn(f,17,i,ur,(d,m)=>{var g=Bt(),b=Ye(g);{var v=_=>{var S=dLe();X(_,S)},O=_=>{var S=pLe(),k=K(S,!0);Z(S);var A={};Me(C=>{Mt(k,x(m).label),A!==(A=C)&&(S.value=(S.__value=C)??"")},[()=>Wz(x(m).value)]),X(_,S)};ke(b,_=>{x(m)==="---"?_(v):_(O,!1)})}X(d,g)}),Z(l),Gi(l,d=>o=d,()=>o);var h;MV(l),Me(d=>{sr(l,1,RO(e.class)),gt(l,e.style),l.disabled=n(),h!==(h=d)&&(l.value=(l.__value=d)??"",X_(l,d))},[()=>Wz(e.value)]),X(t,l),Ke()}Tr(["change"]);function N3(t,e){He(e,!0);let n=hr(e,["$$slots","$$events","$$legacy"]);const r="data:image/svg+xml;base64,"+btoa(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 20">
      <path d="M 2,8 L 5,12 L 8,8" style="stroke:${kf.gray[500]};stroke-opacity:0.7;stroke-width:1.5;fill:none;stroke-linecap:round;stroke-linejoin:round" />
    </svg>`);NT(t,p0(()=>n,{class:"form-select select-none text-center pl-[4px] pr-[16px] py-0 my-0 border-0 rounded text-sm! text-slate-500 bg-slate-100 dark:text-slate-400 dark:bg-slate-900",get style(){return`background-image:url(${r});background-position:right center`}})),Ke()}var gLe=fe('<div class="absolute left-0 top-0 bottom-0 rounded-sm"></div>'),yLe=fe('<div class="absolute top-0 bottom-0 bg-white dark:bg-black w-[1.5px]"></div>'),bLe=fe('<div class="flex-1 h-4 relative overflow-hidden"><!> <!></div>'),vLe=fe('<div class="flex-1"></div>'),OLe=fe('<!> <div class="flex-none"><span> </span></div>',1);function wLe(t,e){He(e,!0);var n=OLe(),r=Ye(n);{var i=c=>{var f=bLe(),h=K(f);fn(h,17,()=>e.bars,ur,(g,b)=>{const v=Y(()=>Math.max(x(b).value/e.maxValue*e.width,x(b).value>0?.25:0));var O=gLe();let _;Me(S=>_=gt(O,"",_,S),[()=>({background:x(b).color,width:`${Math.min(x(v),e.width)}px`})]),X(g,O)});var d=se(h,2);{var m=g=>{var b=Bt(),v=Ye(b);fn(v,16,()=>({length:3}),ur,(O,_,S)=>{var k=yLe();let A;Me(()=>A=gt(k,"",A,{left:`${e.width-S*3-4}px`})),X(O,k)}),X(g,b)};ke(d,g=>{e.bars.every(b=>b.value<=e.maxValue)||g(m)})}Z(f),X(c,f)},s=c=>{var f=vLe();X(c,f)};ke(r,c=>{e.width>10?c(i):c(s,!1)})}var o=se(r,2),a=K(o);let l;var u=K(a,!0);Z(a),Z(o),Me(()=>{l=sr(a,1,"text-slate-400 dark:text-slate-500",null,l,{"!text-gray-200":!e.selected,"dark:!text-gray-600":!e.selected}),pe(a,"title",e.title),Mt(u,e.label)}),X(t,n),Ke()}function ore(){return!(navigator.gpu==null||navigator.gpu.requestAdapter==null||navigator.gpu.wgslLanguageFeatures==null||!navigator.gpu.wgslLanguageFeatures.has("unrestricted_pointer_parameters"))}async function xLe(){if(!ore())return null;let t=await navigator.gpu.requestAdapter();if(!t)return console.error("Could not request WebGPU adapter"),null;let e=[{requiredLimits:{maxBufferSize:t.limits.maxBufferSize,maxStorageBufferBindingSize:t.limits.maxStorageBufferBindingSize},requiredFeatures:["shader-f16"]},...[512,256,128,64,32].map(n=>({requiredLimits:{maxBufferSize:Math.min(n*1048576,t.limits.maxBufferSize),maxStorageBufferBindingSize:Math.min(n*1048576,t.limits.maxStorageBufferBindingSize)},requiredFeatures:["shader-f16"]}))];for(let n of e)try{return await t.requestDevice(n)}catch(r){console.error(r);continue}return null}function _Le(t){return t==0&&(t=4),t%4!=0&&(t+=4-t%4),t}function Wf(t,e,n,r){return(t.buffer==null||t.byteSize!=n||t.usage!=r)&&(t.buffer!=null&&t.buffer.destroy(),t.buffer=e.createBuffer({size:_Le(n),usage:r}),t.byteSize=n,t.destroy=()=>{t.buffer?.destroy()}),t.buffer}function k6(t,e,n,r){if(t.buffer!==n||t.data!==r){if(r!=null)if(r.byteLength%4!=0){let i=r.byteLength-r.byteLength%4;if(e.queue.writeBuffer(n,0,r,0,i),r instanceof Uint8Array){let s=new Uint8Array(4);for(let o=0;o<4;o++)i+o<r.length&&(s[o]=r[i+o]);e.queue.writeBuffer(n,i,s)}}else e.queue.writeBuffer(n,0,r,0);else e.queue.writeBuffer(n,0,new ArrayBuffer(n.size));t.buffer=n,t.data=r}return n}function Yz(t,e,n,r,i,s){return(t.texture==null||t.width!=n||t.height!=r||t.format!=i||t.usage!=s)&&(t.texture!=null&&t.texture.destroy(),t.texture=e.createTexture({size:[n,r],format:i,usage:s}),t.destroy=()=>{t.texture?.destroy()}),t.texture}const qs=2,Q4=4,B4=8,yh=16,bh=32,W0=64,z4=128,Ds=1024,ia=2048,vh=4096,Qa=8192,Yf=16384,pR=32768,w1=65536,Gz=1<<17,are=1<<18,uy=1<<19,lre=1<<20,Sl=256,Q3=512,B3=32768,QT=1<<21,mR=1<<22,gd=1<<23,r0=Symbol("$state"),ure=Symbol("legacy props"),SLe=Symbol(""),rg=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},gR=3,cy=8,kLe=!1;var cre=Array.isArray,CLe=Array.prototype.indexOf,yR=Array.from,fre=Object.defineProperty,Dg=Object.getOwnPropertyDescriptor,hre=Object.getOwnPropertyDescriptors,ALe=Object.prototype,ELe=Array.prototype,bR=Object.getPrototypeOf,Hz=Object.isExtensible;function TLe(t){for(var e=0;e<t.length;e++)t[e]()}function dre(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function pre(t){return t===this.v}function mre(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function gre(t){return!mre(t,this.v)}function yre(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function DLe(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function PLe(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function RLe(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function $Le(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ILe(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function FLe(){throw new Error("https://svelte.dev/e/hydration_failed")}function MLe(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function LLe(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function NLe(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function QLe(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function BLe(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let zLe=!1;const vR=1,OR=2,bre=4,ULe=8,jLe=16,qLe=1,VLe=4,XLe=8,ZLe=16,WLe=1,YLe=2,vre="[",U4="[!",wR="]",x1={},ks=Symbol(),GLe="http://www.w3.org/1999/xhtml";let sa=null;function _1(t){sa=t}function Y0(t,e=!1,n){sa={p:sa,i:!1,c:null,e:null,s:t,x:null,l:null}}function G0(t){var e=sa,n=e.e;if(n!==null){e.e=null;for(var r of n)Xre(r)}return e.i=!0,sa=e.p,{}}function Ore(){return!0}let qp=[];function wre(){var t=qp;qp=[],TLe(t)}function fy(t){if(qp.length===0&&!lv){var e=qp;queueMicrotask(()=>{e===qp&&wre()})}qp.push(t)}function HLe(){for(;qp.length>0;)wre()}function j4(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function KLe(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Fn=!1;function Nf(t){Fn=t}let Pn;function Ho(t){if(t===null)throw j4(),x1;return Pn=t}function h2(){return Ho(Xc(Pn))}function Ri(t){if(Fn){if(Xc(Pn)!==null)throw j4(),x1;Pn=t}}function xre(t=1){if(Fn){for(var e=t,n=Pn;e--;)n=Xc(n);Pn=n}}function z3(t=!0){for(var e=0,n=Pn;;){if(n.nodeType===cy){var r=n.data;if(r===wR){if(e===0)return n;e-=1}else(r===vre||r===U4)&&(e+=1)}var i=Xc(n);t&&n.remove(),n=i}}function _re(t){if(!t||t.nodeType!==cy)throw j4(),x1;return t.data}function Vp(t){if(typeof t!="object"||t===null||r0 in t)return t;const e=bR(t);if(e!==ALe&&e!==ELe)return t;var n=new Map,r=cre(t),i=kr(0),s=i0,o=a=>{if(i0===s)return a();var l=vn,u=i0;Zo(null),nU(s);var c=a();return Zo(l),nU(u),c};return r&&n.set("length",kr(t.length)),new Proxy(t,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&LLe();var c=n.get(l);return c===void 0?c=o(()=>{var f=kr(u.value);return n.set(l,f),f}):Rt(c,u.value,!0),!0},deleteProperty(a,l){var u=n.get(l);if(u===void 0){if(l in a){const c=o(()=>kr(ks));n.set(l,c),uv(i)}}else Rt(u,ks),uv(i);return!0},get(a,l,u){if(l===r0)return t;var c=n.get(l),f=l in a;if(c===void 0&&(!f||Dg(a,l)?.writable)&&(c=o(()=>{var d=Vp(f?a[l]:ks),m=kr(d);return m}),n.set(l,c)),c!==void 0){var h=V(c);return h===ks?void 0:h}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=n.get(l);c&&(u.value=V(c))}else if(u===void 0){var f=n.get(l),h=f?.v;if(f!==void 0&&h!==ks)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(a,l){if(l===r0)return!0;var u=n.get(l),c=u!==void 0&&u.v!==ks||Reflect.has(a,l);if(u!==void 0||hn!==null&&(!c||Dg(a,l)?.writable)){u===void 0&&(u=o(()=>{var h=c?Vp(a[l]):ks,d=kr(h);return d}),n.set(l,u));var f=V(u);if(f===ks)return!1}return c},set(a,l,u,c){var f=n.get(l),h=l in a;if(r&&l==="length")for(var d=u;d<f.v;d+=1){var m=n.get(d+"");m!==void 0?Rt(m,ks):d in a&&(m=o(()=>kr(ks)),n.set(d+"",m))}if(f===void 0)(!h||Dg(a,l)?.writable)&&(f=o(()=>kr(void 0)),Rt(f,Vp(u)),n.set(l,f));else{h=f.v!==ks;var g=o(()=>Vp(u));Rt(f,g)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(c,u),!h){if(r&&typeof l=="string"){var v=n.get("length"),O=Number(l);Number.isInteger(O)&&O>=v.v&&Rt(v,O+1)}uv(i)}return!0},ownKeys(a){V(i);var l=Reflect.ownKeys(a).filter(f=>{var h=n.get(f);return h===void 0||h.v!==ks});for(var[u,c]of n)c.v!==ks&&!(u in a)&&l.push(u);return l},setPrototypeOf(){NLe()}})}var Kz,Sre,kre,Cre;function BT(){if(Kz===void 0){Kz=window,Sre=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;kre=Dg(e,"firstChild").get,Cre=Dg(e,"nextSibling").get,Hz(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Hz(n)&&(n.__t=void 0)}}function Pc(t=""){return document.createTextNode(t)}function sh(t){return kre.call(t)}function Xc(t){return Cre.call(t)}function ss(t,e){if(!Fn)return sh(t);var n=sh(Pn);if(n===null)n=Pn.appendChild(Pc());else if(e&&n.nodeType!==gR){var r=Pc();return n?.before(r),Ho(r),r}return Ho(n),n}function Vm(t,e=!1){if(!Fn){var n=sh(t);return n instanceof Comment&&n.data===""?Xc(n):n}if(e&&Pn?.nodeType!==gR){var r=Pc();return Pn?.before(r),Ho(r),r}return Pn}function qr(t,e=1,n=!1){let r=Fn?Pn:t;for(var i;e--;)i=r,r=Xc(r);if(!Fn)return r;if(n&&r?.nodeType!==gR){var s=Pc();return r===null?i?.after(s):r.before(s),Ho(s),s}return Ho(r),r}function Are(t){t.textContent=""}function JLe(){return!1}function Ere(t){var e=hn;if(e===null)return vn.f|=gd,t;if((e.f&pR)===0){if((e.f&z4)===0)throw t;e.b.error(t)}else S1(t,e)}function S1(t,e){for(;e!==null;){if((e.f&z4)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const gx=new Set;let qi=null,tu=null,nc=[],q4=null,zT=!1,lv=!1,Xp=class UT{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;process(e){nc=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#s(r,n);this.is_fork||this.#u(),this.#r>0||this.is_fork?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(qi=null,Jz(n.render_effects),Jz(n.effects),this.#l?.resolve()),tu=null}#s(e,n){e.f^=Ds;for(var r=e.first;r!==null;){var i=r.f,s=(i&(bh|W0))!==0,o=s&&(i&Ds)!==0,a=o||(i&Qa)!==0||this.skipped_effects.has(r);if((r.f&z4)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!a&&r.fn!==null){s?r.f^=Ds:(i&Q4)!==0?n.effects.push(r):d2(r)&&((r.f&yh)!==0&&n.block_effects.push(r),gO(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(e){for(const n of e)((n.f&ia)!==0?this.#a:this.#i).push(n),Ls(n,Ds)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&gd)===0&&(this.current.set(e,e.v),tu?.set(e,e.v))}activate(){qi=this,this.apply()}deactivate(){qi=null,tu=null}flush(){if(this.activate(),nc.length>0){if(Tre(),qi!==null&&qi!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#u(){if(this.#r===0){for(const e of this.#e)e();this.#e.clear()}this.#n===0&&this.#c()}#c(){if(gx.size>1){this.previous.clear();var e=tu,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of gx){if(i===this){n=!1;continue}const s=[];for(const[a,l]of this.current){if(i.current.has(a))if(n&&l!==i.current.get(a))i.current.set(a,l);else continue;s.push(a)}if(s.length===0)continue;const o=[...i.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){const a=new Set,l=new Map;for(const u of s)Dre(u,o,a,l);if(nc.length>0){qi=i,i.apply();for(const u of nc)i.#s(u,r);nc=[],i.deactivate()}}}qi=null,tu=e}this.committed=!0,gx.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#a)Ls(e,ia),E0(e);for(const e of this.#i)Ls(e,vh),E0(e);this.#a=[],this.#i=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=dre()).promise}static ensure(){if(qi===null){const e=qi=new UT;gx.add(qi),lv||UT.enqueue(()=>{qi===e&&e.flush()})}return qi}static enqueue(e){fy(e)}apply(){}};function eNe(t){var e=lv;lv=!0;try{for(var n;;){if(HLe(),nc.length===0&&(qi?.flush(),nc.length===0))return q4=null,n;Tre()}}finally{lv=e}}function Tre(){var t=Pg;zT=!0;try{var e=0;for(eU(!0);nc.length>0;){var n=Xp.ensure();if(e++>1e3){var r,i;tNe()}n.process(nc),yd.clear()}}finally{zT=!1,eU(t),q4=null}}function tNe(){try{ILe()}catch(t){S1(t,q4)}}let xf=null;function Jz(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(Yf|Qa))===0&&d2(r)&&(xf=new Set,gO(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Gre(r):r.fn=null),xf?.size>0)){yd.clear();for(const i of xf){if((i.f&(Yf|Qa))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)xf.has(o)&&(xf.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const l=s[a];(l.f&(Yf|Qa))===0&&gO(l)}}xf.clear()}}xf=null}}function Dre(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&qs)!==0?Dre(i,e,n,r):(s&(mR|yh))!==0&&(s&ia)===0&&Pre(i,e,r)&&(Ls(i,ia),E0(i))}}function Pre(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&qs)!==0&&Pre(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function E0(t){for(var e=q4=t;e.parent!==null;){e=e.parent;var n=e.f;if(zT&&e===hn&&(n&yh)!==0&&(n&are)===0)return;if((n&(W0|bh))!==0){if((n&Ds)===0)return;e.f^=Ds}}nc.push(e)}function nNe(t){let e=0,n=T0(0),r;return()=>{gNe()&&(V(n),SR(()=>(e===0&&(r=K0(()=>t(()=>uv(n)))),e+=1,()=>{fy(()=>{e-=1,e===0&&(r?.(),r=void 0,uv(n))})})))}}var rNe=w1|uy|z4;function iNe(t,e,n){new sNe(t,e,n)}class sNe{parent;#e=!1;#t;#n=Fn?Pn:null;#r;#l;#a;#i=null;#s=null;#o=null;#u=null;#c=null;#d=0;#f=0;#p=!1;#h=null;#y=nNe(()=>(this.#h=T0(this.#d),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#r=n,this.#l=r,this.parent=hn.b,this.#e=!!this.#r.pending,this.#a=X4(()=>{if(hn.b=this,Fn){const s=this.#n;h2(),s.nodeType===cy&&s.data===U4?this.#v():this.#b()}else{var i=this.#O();try{this.#i=Wl(()=>r(i))}catch(s){this.error(s)}this.#f>0?this.#g():this.#e=!1}return()=>{this.#c?.remove()}},rNe),Fn&&(this.#t=Pn)}#b(){try{this.#i=Wl(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#v(){const e=this.#r.pending;e&&(this.#s=Wl(()=>e(this.#t)),Xp.enqueue(()=>{var n=this.#O();this.#i=this.#m(()=>(Xp.ensure(),Wl(()=>this.#l(n)))),this.#f>0?this.#g():(Rg(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#O(){var e=this.#t;return this.#e&&(this.#c=Pc(),this.#t.before(this.#c),e=this.#c),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(e){var n=hn,r=vn,i=sa;Rc(this.#a),Zo(this.#a),_1(this.#a.ctx);try{return e()}catch(s){return Ere(s),null}finally{Rc(n),Zo(r),_1(i)}}#g(){const e=this.#r.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),Jre(this.#i,this.#u)),this.#s===null&&(this.#s=Wl(()=>e(this.#t)))}#w(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#s&&Rg(this.#s,()=>{this.#s=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#w(e),this.#d+=e,this.#h&&k1(this.#h,this.#d)}get_effect_pending(){return this.#y(),V(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#p||!n&&!r)throw e;this.#i&&(yo(this.#i),this.#i=null),this.#s&&(yo(this.#s),this.#s=null),this.#o&&(yo(this.#o),this.#o=null),Fn&&(Ho(this.#n),xre(),Ho(z3()));var i=!1,s=!1;const o=()=>{if(i){KLe();return}i=!0,s&&BLe(),Xp.ensure(),this.#d=0,this.#o!==null&&Rg(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#m(()=>(this.#p=!1,Wl(()=>this.#l(this.#t)))),this.#f>0?this.#g():this.#e=!1};var a=vn;try{Zo(null),s=!0,n?.(e,o),s=!1}catch(l){S1(l,this.#a&&this.#a.parent)}finally{Zo(a)}r&&fy(()=>{this.#o=this.#m(()=>{Xp.ensure(),this.#p=!0;try{return Wl(()=>{r(this.#t,()=>e,()=>o)})}catch(l){return S1(l,this.#a.parent),null}finally{this.#p=!1}})})}}function oNe(t,e,n,r){const i=V4;if(n.length===0&&t.length===0){r(e.map(i));return}var s=qi,o=hn,a=aNe();function l(){Promise.all(n.map(u=>lNe(u))).then(u=>{a();try{r([...e.map(i),...u])}catch(c){(o.f&Yf)===0&&S1(c,o)}s?.deactivate(),U3()}).catch(u=>{S1(u,o)})}t.length>0?Promise.all(t).then(()=>{a();try{return l()}finally{s?.deactivate(),U3()}}):l()}function aNe(){var t=hn,e=vn,n=sa,r=qi;return function(i=!0){Rc(t),Zo(e),_1(n),i&&r?.activate()}}function U3(){Rc(null),Zo(null),_1(null)}function V4(t){var e=qs|ia,n=vn!==null&&(vn.f&qs)!==0?vn:null;return hn===null||n!==null&&(n.f&Sl)!==0?e|=Sl:hn.f|=uy,{ctx:sa,deps:null,effects:null,equals:pre,f:e,fn:t,reactions:null,rv:0,v:ks,wv:0,parent:n??hn,ac:null}}function lNe(t,e){let n=hn;n===null&&DLe();var r=n.b,i=void 0,s=T0(ks),o=!vn,a=new Map;return bNe(()=>{var l=dre();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===qi&&u.committed&&u.deactivate(),U3()})}catch(h){l.reject(h),U3()}var u=qi;if(o){var c=!r.is_pending();r.update_pending_count(1),u.increment(c),a.get(u)?.reject(rg),a.delete(u),a.set(u,l)}const f=(h,d=void 0)=>{if(u.activate(),d)d!==rg&&(s.f|=gd,k1(s,d));else{(s.f&gd)!==0&&(s.f^=gd),k1(s,h);for(const[m,g]of a){if(a.delete(m),m===u)break;g.reject(rg)}}o&&(r.update_pending_count(-1),u.decrement(c))};l.promise.then(f,h=>f(null,h||"unknown"))}),Vre(()=>{for(const l of a.values())l.reject(rg)}),new Promise(l=>{function u(c){function f(){c===i?l(s):u(i)}c.then(f,f)}u(i)})}function Pt(t){const e=V4(t);return Nre(e),e}function Rre(t){const e=V4(t);return e.equals=gre,e}function $re(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)yo(e[n])}}function uNe(t){for(var e=t.parent;e!==null;){if((e.f&qs)===0)return e;e=e.parent}return null}function xR(t){var e,n=hn;Rc(uNe(t));try{t.f&=~B3,$re(t),e=Ure(t)}finally{Rc(n)}return e}function Ire(t){var e=xR(t);if(t.equals(e)||(t.v=e,t.wv=Bre()),!H0)if(tu!==null)tu.set(t,t.v);else{var n=(td||(t.f&Sl)!==0)&&t.deps!==null?vh:Ds;Ls(t,n)}}let jT=new Set;const yd=new Map;let Fre=!1;function T0(t,e){var n={f:0,v:t,reactions:null,equals:pre,rv:0,wv:0};return n}function kr(t,e){const n=T0(t);return Nre(n),n}function Mre(t,e=!1,n=!0){const r=T0(t);return e||(r.equals=gre),r}function Rt(t,e,n=!1){vn!==null&&(!nu||(vn.f&Gz)!==0)&&Ore()&&(vn.f&(qs|yh|mR|Gz))!==0&&!Gf?.includes(t)&&QLe();let r=n?Vp(e):e;return k1(t,r)}function k1(t,e){if(!t.equals(e)){var n=t.v;H0?yd.set(t,e):yd.set(t,n),t.v=e;var r=Xp.ensure();r.capture(t,n),(t.f&qs)!==0&&((t.f&ia)!==0&&xR(t),Ls(t,(t.f&Sl)===0?Ds:vh)),t.wv=Bre(),Lre(t,ia),hn!==null&&(hn.f&Ds)!==0&&(hn.f&(bh|W0))===0&&(sl===null?fNe([t]):sl.push(t)),!r.is_fork&&jT.size>0&&!Fre&&cNe()}return e}function cNe(){Fre=!1;const t=Array.from(jT);for(const e of t)(e.f&Ds)!==0&&Ls(e,vh),d2(e)&&gO(e);jT.clear()}function uv(t){Rt(t,t.v+1)}function Lre(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],o=s.f,a=(o&ia)===0;a&&Ls(s,e),(o&qs)!==0?(o&B3)===0&&(s.f|=B3,Lre(s,vh)):a&&((o&yh)!==0&&xf!==null&&xf.add(s),E0(s))}}function _R(t){var e=vn,n=hn;Zo(null),Rc(null);try{return t()}finally{Zo(e),Rc(n)}}let Pg=!1;function eU(t){Pg=t}let H0=!1;function tU(t){H0=t}let vn=null,nu=!1;function Zo(t){vn=t}let hn=null;function Rc(t){hn=t}let Gf=null;function Nre(t){vn!==null&&(Gf===null?Gf=[t]:Gf.push(t))}let ro=null,Sa=0,sl=null;function fNe(t){sl=t}let Qre=1,mO=0,i0=mO;function nU(t){i0=t}let td=!1;function Bre(){return++Qre}function d2(t){var e=t.f;if((e&ia)!==0)return!0;if((e&vh)!==0){var n=t.deps,r=(e&Sl)!==0;if(e&qs&&(t.f&=~B3),n!==null){var i,s,o=(e&Q3)!==0,a=r&&hn!==null&&!td,l=n.length;if((o||a)&&(hn===null||(hn.f&Yf)===0)){var u=t,c=u.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);o&&(u.f^=Q3),a&&c!==null&&(c.f&Sl)===0&&(u.f^=Sl)}for(i=0;i<l;i++)if(s=n[i],d2(s)&&Ire(s),s.wv>t.wv)return!0}(!r||hn!==null&&!td)&&Ls(t,Ds)}return!1}function zre(t,e,n=!0){var r=t.reactions;if(r!==null&&!Gf?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&qs)!==0?zre(s,e,!1):e===s&&(n?Ls(s,ia):(s.f&Ds)!==0&&Ls(s,vh),E0(s))}}function Ure(t){var e=ro,n=Sa,r=sl,i=vn,s=td,o=Gf,a=sa,l=nu,u=i0,c=t.f;ro=null,Sa=0,sl=null,td=(c&Sl)!==0&&(nu||!Pg||vn===null),vn=(c&(bh|W0))===0?t:null,Gf=null,_1(t.ctx),nu=!1,i0=++mO,t.ac!==null&&(_R(()=>{t.ac.abort(rg)}),t.ac=null);try{t.f|=QT;var f=t.fn,h=f(),d=t.deps;if(ro!==null){var m;if(j3(t,Sa),d!==null&&Sa>0)for(d.length=Sa+ro.length,m=0;m<ro.length;m++)d[Sa+m]=ro[m];else t.deps=d=ro;if(!td||(c&qs)!==0&&t.reactions!==null)for(m=Sa;m<d.length;m++)(d[m].reactions??=[]).push(t)}else d!==null&&Sa<d.length&&(j3(t,Sa),d.length=Sa);if(Ore()&&sl!==null&&!nu&&d!==null&&(t.f&(qs|vh|ia))===0)for(m=0;m<sl.length;m++)zre(sl[m],t);return i!==null&&i!==t&&(mO++,sl!==null&&(r===null?r=sl:r.push(...sl))),(t.f&gd)!==0&&(t.f^=gd),h}catch(g){return Ere(g)}finally{t.f^=QT,ro=e,Sa=n,sl=r,vn=i,td=s,Gf=o,_1(a),nu=l,i0=u}}function hNe(t,e){let n=e.reactions;if(n!==null){var r=CLe.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&qs)!==0&&(ro===null||!ro.includes(e))&&(Ls(e,vh),(e.f&(Sl|Q3))===0&&(e.f^=Q3),$re(e),j3(e,0))}function j3(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)hNe(t,n[r])}function gO(t){var e=t.f;if((e&Yf)===0){Ls(t,Ds);var n=hn,r=Pg;hn=t,Pg=!0;try{(e&yh)!==0?vNe(t):Yre(t),Wre(t);var i=Ure(t);t.teardown=typeof i=="function"?i:null,t.wv=Qre;var s;kLe&&zLe&&(t.f&ia)!==0&&t.deps}finally{Pg=r,hn=n}}}function V(t){var e=t.f,n=(e&qs)!==0;if(vn!==null&&!nu){var r=hn!==null&&(hn.f&Yf)!==0;if(!r&&!Gf?.includes(t)){var i=vn.deps;if((vn.f&QT)!==0)t.rv<mO&&(t.rv=mO,ro===null&&i!==null&&i[Sa]===t?Sa++:ro===null?ro=[t]:(!td||!ro.includes(t))&&ro.push(t));else{(vn.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[vn]:s.includes(vn)||s.push(vn)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,a=o.parent;a!==null&&(a.f&Sl)===0&&(o.f^=Sl)}if(H0){if(yd.has(t))return yd.get(t);if(n){o=t;var l=o.v;return((o.f&Ds)===0&&o.reactions!==null||jre(o))&&(l=xR(o)),yd.set(o,l),l}}else if(n){if(o=t,tu?.has(o))return tu.get(o);d2(o)&&Ire(o)}if(tu?.has(t))return tu.get(t);if((t.f&gd)!==0)throw t.v;return t.v}function jre(t){if(t.v===ks)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(yd.has(e)||(e.f&qs)!==0&&jre(e))return!0;return!1}function K0(t){var e=nu;try{return nu=!0,t()}finally{nu=e}}const dNe=-7169;function Ls(t,e){t.f=t.f&dNe|e}function pNe(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(r0 in t)qT(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&r0 in n&&qT(n)}}}function qT(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{qT(t[r],e)}catch{}const n=bR(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=hre(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}function qre(t){hn===null&&vn===null&&$Le(),vn!==null&&(vn.f&Sl)!==0&&hn===null&&RLe(),H0&&PLe()}function mNe(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Zc(t,e,n,r=!0){var i=hn;i!==null&&(i.f&Qa)!==0&&(t|=Qa);var s={ctx:sa,deps:null,nodes_start:null,nodes_end:null,f:t|ia,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{gO(s),s.f|=pR}catch(l){throw yo(s),l}else e!==null&&E0(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&uy)===0&&(o=o.first,(t&yh)!==0&&(t&w1)!==0&&o!==null&&(o.f|=w1)),o!==null&&(o.parent=i,i!==null&&mNe(o,i),vn!==null&&(vn.f&qs)!==0&&(t&W0)===0)){var a=vn;(a.effects??=[]).push(o)}}return s}function gNe(){return vn!==null&&!nu}function Vre(t){const e=Zc(B4,null,!1);return Ls(e,Ds),e.teardown=t,e}function gf(t){qre();var e=hn.f,n=!vn&&(e&bh)!==0&&(e&pR)===0;if(n){var r=sa;(r.e??=[]).push(t)}else return Xre(t)}function Xre(t){return Zc(Q4|lre,t,!1)}function cv(t){return qre(),Zc(B4|lre,t,!0)}function yNe(t){Xp.ensure();const e=Zc(W0|uy,t,!0);return(n={})=>new Promise(r=>{n.outro?Rg(e,()=>{yo(e),r(void 0)}):(yo(e),r(void 0))})}function Zre(t){return Zc(Q4,t,!1)}function bNe(t){return Zc(mR|uy,t,!0)}function SR(t,e=0){return Zc(B4|e,t,!0)}function Ia(t,e=[],n=[],r=[],i=!1){oNe(r,e,n,s=>{Zc(i?Q4:B4,()=>t(...s.map(V)),!0)})}function X4(t,e=0){var n=Zc(yh|e,t,!0);return n}function Wl(t,e=!0){return Zc(bh|uy,t,!0,e)}function Wre(t){var e=t.teardown;if(e!==null){const n=H0,r=vn;tU(!0),Zo(null);try{e.call(null)}finally{tU(n),Zo(r)}}}function Yre(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&_R(()=>{i.abort(rg)});var r=n.next;(n.f&W0)!==0?n.parent=null:yo(n,e),n=r}}function vNe(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&bh)===0&&yo(e),e=n}}function yo(t,e=!0){var n=!1;(e||(t.f&are)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ONe(t.nodes_start,t.nodes_end),n=!0),Yre(t,e&&!n),j3(t,0),Ls(t,Yf);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Wre(t);var i=t.parent;i!==null&&i.first!==null&&Gre(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ONe(t,e){for(;t!==null;){var n=t===e?null:Xc(t);t.remove(),t=n}}function Gre(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Rg(t,e,n=!0){var r=[];kR(t,r,!0),Hre(r,()=>{n&&yo(t),e&&e()})}function Hre(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function kR(t,e,n){if((t.f&Qa)===0){if(t.f^=Qa,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&w1)!==0||(r.f&bh)!==0&&(t.f&yh)!==0;kR(r,e,s?n:!1),r=i}}}function CR(t){Kre(t,!0)}function Kre(t,e){if((t.f&Qa)!==0){t.f^=Qa,(t.f&Ds)===0&&(Ls(t,ia),E0(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&w1)!==0||(n.f&bh)!==0;Kre(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function Jre(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Xc(n);e.append(n),n=i}}const eie=new Set,VT=new Set;function wNe(t,e,n,r={}){function i(s){if(r.capture||Lb.call(e,s),!s.cancelBubble)return _R(()=>n?.call(this,s))}return fy(()=>{e.addEventListener(t,i,r)}),i}function xNe(t,e,n,r,i){var s={capture:r,passive:i},o=wNe(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Vre(()=>{e.removeEventListener(t,o,s)})}function _Ne(t){for(var e=0;e<t.length;e++)eie.add(t[e]);for(var n of VT)n(t)}let rU=null;function Lb(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;rU=t;var o=0,a=rU===t&&t.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||t.target,s!==e){fre(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=vn,f=hn;Zo(null),Rc(null);try{for(var h,d=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];g!=null&&(!s.disabled||t.target===s)&&g.call(s,t)}catch(b){h?d.push(b):h=b}if(t.cancelBubble||m===e||m===null)break;s=m}if(h){for(let b of d)queueMicrotask(()=>{throw b});throw h}}finally{t.__root=e,delete t.currentTarget,Zo(c),Rc(f)}}}function tie(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function bd(t,e){var n=hn;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Kd(t,e){var n=(e&WLe)!==0,r=(e&YLe)!==0,i,s=!t.startsWith("<!>");return()=>{if(Fn)return bd(Pn,null),Pn;i===void 0&&(i=tie(s?t:"<!>"+t),n||(i=sh(i)));var o=r||Sre?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=sh(o),l=o.lastChild;bd(a,l)}else bd(o,o);return o}}function SNe(t,e,n="svg"){var r=!t.startsWith("<!>"),i=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(Fn)return bd(Pn,null),Pn;if(!s){var o=tie(i),a=sh(o);s=sh(a)}var l=s.cloneNode(!0);return bd(l,l),l}}function Oh(t,e){return SNe(t,e,"svg")}function ab(){if(Fn)return bd(Pn,null),Pn;var t=document.createDocumentFragment(),e=document.createComment(""),n=Pc();return t.append(e,n),bd(e,n),t}function fi(t,e){if(Fn){hn.nodes_end=Pn,h2();return}t!==null&&t.before(e)}const kNe=["touchstart","touchmove"];function CNe(t){return kNe.includes(t)}function fv(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function nie(t,e){return rie(t,e)}function ANe(t,e){BT(),e.intro=e.intro??!1;const n=e.target,r=Fn,i=Pn;try{for(var s=sh(n);s&&(s.nodeType!==cy||s.data!==vre);)s=Xc(s);if(!s)throw x1;Nf(!0),Ho(s);const o=rie(t,{...e,anchor:s});return Nf(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw o;return o!==x1&&console.warn("Failed to hydrate: ",o),e.recover===!1&&FLe(),BT(),Are(n),Nf(!1),nie(t,e)}finally{Nf(r),Ho(i)}}const Am=new Map;function rie(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){BT();var a=new Set,l=f=>{for(var h=0;h<f.length;h++){var d=f[h];if(!a.has(d)){a.add(d);var m=CNe(d);e.addEventListener(d,Lb,{passive:m});var g=Am.get(d);g===void 0?(document.addEventListener(d,Lb,{passive:m}),Am.set(d,1)):Am.set(d,g+1)}}};l(yR(eie)),VT.add(l);var u=void 0,c=yNe(()=>{var f=n??e.appendChild(Pc());return iNe(f,{pending:()=>{}},h=>{if(s){Y0({});var d=sa;d.c=s}if(i&&(r.$$events=i),Fn&&bd(h,null),u=t(h,r)||{},Fn&&(hn.nodes_end=Pn,Pn===null||Pn.nodeType!==cy||Pn.data!==wR))throw j4(),x1;s&&G0()}),()=>{for(var h of a){e.removeEventListener(h,Lb);var d=Am.get(h);--d===0?(document.removeEventListener(h,Lb),Am.delete(h)):Am.set(h,d)}VT.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return XT.set(u,c),u}let XT=new WeakMap;function ENe(t,e){const n=XT.get(t);return n?(XT.delete(t),n(e)):Promise.resolve()}function TNe(t){return new DNe(t)}class DNe{#e;#t;constructor(e){var n=new Map,r=(s,o)=>{var a=Mre(o,!1,!1);return n.set(s,a),a};const i=new Proxy({...e.props||{},$$events:{}},{get(s,o){return V(n.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===ure?!0:(V(n.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,a){return Rt(n.get(o)??r(o,a),a),Reflect.set(s,o,a)}});this.#t=(e.hydrate?ANe:nie)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&eNe(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||fre(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{ENe(this.#t)}}$set(e){this.#t.$set(e)}$on(e,n){this.#e[e]=this.#e[e]||[];const r=(...i)=>n.call(this,...i);return this.#e[e].push(r),()=>{this.#e[e]=this.#e[e].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}const PNe="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(PNe);let iie=class{anchor;#e=new Map;#t=new Map;#n=new Map;#r=!0;constructor(e,n=!0){this.anchor=e,this.#r=n}#l=()=>{var e=qi;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)CR(r);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const a=this.#n.get(o);a&&(yo(a.effect),this.#n.delete(o))}for(const[s,o]of this.#t){if(s===n)continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var l=document.createDocumentFragment();Jre(o,l),l.append(Pc()),this.#n.set(s,{effect:o,fragment:l})}else yo(o);this.#t.delete(s)};this.#r||!r?Rg(o,a,!1):a()}}};#a=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,i]of this.#n)n.includes(r)||(yo(i.effect),this.#n.delete(r))};ensure(e,n){var r=qi,i=JLe();n&&!this.#t.has(e)&&!this.#n.has(e)&&this.#t.set(e,Wl(()=>n(this.anchor))),this.#e.set(r,e),i||(Fn&&(this.anchor=Pn),this.#l())}};function AR(t){sa===null&&yre(),gf(()=>{const e=K0(t);if(typeof e=="function")return e})}function RNe(t){sa===null&&yre(),AR(()=>()=>K0(t))}function Po(t,e,n=!1){Fn&&h2();var r=new iie(t),i=n?w1:0;function s(o,a){if(Fn){const u=_re(t)===U4;if(o===u){var l=z3();Ho(l),r.anchor=l,Nf(!1),r.ensure(o,a),Nf(!0);return}}r.ensure(o,a)}X4(()=>{var o=!1;e((a,l=!0)=>{o=!0,s(l,a)}),o||s(!1,null)},i)}function $Ne(t,e,n){Fn&&h2();var r=new iie(t);X4(()=>{var i=e();r.ensure(i,n)})}function C6(t,e){return e}function INe(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)kR(e[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;Are(l),l.append(n),r.clear(),qu(t,e[0].prev,e[s-1].next)}Hre(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(r.delete(c.k),qu(t,c.prev,c.next)),yo(c.e,!a)}})}function A6(t,e,n,r,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&bre)!==0;if(l){var u=t;o=Fn?Ho(sh(u)):u.appendChild(Pc())}Fn&&h2();var c=null,f=!1,h=new Map,d=Rre(()=>{var v=n();return cre(v)?v:v==null?[]:yR(v)}),m,g;function b(){FNe(g,m,a,h,o,i,e,r,n),s!==null&&(m.length===0?c?CR(c):c=Wl(()=>s(o)):c!==null&&Rg(c,()=>{c=null}))}X4(()=>{g??=hn,m=V(d);var v=m.length;if(f&&v===0)return;f=v===0;let O=!1;if(Fn){var _=_re(o)===U4;_!==(v===0)&&(o=z3(),Ho(o),Nf(!1),O=!0)}if(Fn){for(var S=null,k,A=0;A<v;A++){if(Pn.nodeType===cy&&Pn.data===wR){o=Pn,O=!0,Nf(!1);break}var C=m[A],T=r(C,A);k=sie(Pn,a,S,null,C,T,A,i,e,n),a.items.set(T,k),S=k}v>0&&Ho(z3())}Fn?v===0&&s&&(c=Wl(()=>s(o))):b(),O&&Nf(!0),V(d)}),Fn&&(o=Pn)}function FNe(t,e,n,r,i,s,o,a,l){var u=(o&ULe)!==0,c=(o&(vR|OR))!==0,f=e.length,h=n.items,d=n.first,m=d,g,b=null,v,O=[],_=[],S,k,A,C;if(u)for(C=0;C<f;C+=1)S=e[C],k=a(S,C),A=h.get(k),A!==void 0&&(A.a?.measure(),(v??=new Set).add(A));for(C=0;C<f;C+=1){if(S=e[C],k=a(S,C),A=h.get(k),A===void 0){var T=r.get(k);if(T!==void 0){r.delete(k),h.set(k,T);var P=b?b.next:m;qu(n,b,T),qu(n,T,P),E6(T,P,i),b=T}else{var N=m?m.e.nodes_start:i;b=sie(N,n,b,b===null?n.first:b.next,S,k,C,s,o,l)}h.set(k,b),O=[],_=[],m=b.next;continue}if(c&&MNe(A,S,C,o),(A.e.f&Qa)!==0&&(CR(A.e),u&&(A.a?.unfix(),(v??=new Set).delete(A))),A!==m){if(g!==void 0&&g.has(A)){if(O.length<_.length){var I=_[0],$;b=I.prev;var R=O[0],M=O[O.length-1];for($=0;$<O.length;$+=1)E6(O[$],I,i);for($=0;$<_.length;$+=1)g.delete(_[$]);qu(n,R.prev,M.next),qu(n,b,R),qu(n,M,I),m=I,b=M,C-=1,O=[],_=[]}else g.delete(A),E6(A,m,i),qu(n,A.prev,A.next),qu(n,A,b===null?n.first:b.next),qu(n,b,A),b=A;continue}for(O=[],_=[];m!==null&&m.k!==k;)(m.e.f&Qa)===0&&(g??=new Set).add(m),_.push(m),m=m.next;if(m===null)continue;A=m}O.push(A),b=A,m=A.next}if(m!==null||g!==void 0){for(var B=g===void 0?[]:yR(g);m!==null;)(m.e.f&Qa)===0&&B.push(m),m=m.next;var U=B.length;if(U>0){var j=(o&bre)!==0&&f===0?i:null;if(u){for(C=0;C<U;C+=1)B[C].a?.measure();for(C=0;C<U;C+=1)B[C].a?.fix()}INe(n,B,j)}}u&&fy(()=>{if(v!==void 0)for(A of v)A.a?.apply()}),t.first=n.first&&n.first.e,t.last=b&&b.e;for(var ee of r.values())yo(ee.e);r.clear()}function MNe(t,e,n,r){(r&vR)!==0&&k1(t.v,e),(r&OR)!==0?k1(t.i,n):t.i=n}function sie(t,e,n,r,i,s,o,a,l,u,c){var f=(l&vR)!==0,h=(l&jLe)===0,d=f?h?Mre(i,!1,!1):T0(i):i,m=(l&OR)===0?o:T0(o),g={i:m,v:d,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var b=document.createDocumentFragment();b.append(t=Pc())}return g.e=Wl(()=>a(t,d,m,u),Fn),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?c||(e.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function E6(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=Xc(s);i.before(s),s=o}}function qu(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Vl(t,e,n){Zre(()=>{var r=K0(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,s={};SR(()=>{var o=n();pNe(o),i&&mre(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function iU(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var s=t[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function LNe(t,e){if(e){var n="",r,i;return Array.isArray(e)?(r=e[0],i=e[1]):r=e,r&&(n+=iU(r)),i&&(n+=iU(i,!0)),n=n.trim(),n===""?null:n}return String(t)}function T6(t,e={},n,r){for(var i in n){var s=n[i];e[i]!==s&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,s,r))}}function Dn(t,e,n,r){var i=t.__style;if(Fn||i!==e){var s=LNe(e,r);(!Fn||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}else r&&(Array.isArray(r)?(T6(t,n?.[0],r[0]),T6(t,n?.[1],r[1],"important")):T6(t,n,r));return r}const NNe=Symbol("is custom element"),QNe=Symbol("is html");function et(t,e,n,r){var i=BNe(t);Fn&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[SLe]=n),n==null?t.removeAttribute(e):typeof n!="string"&&zNe(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function BNe(t){return t.__attributes??={[NNe]:t.nodeName.includes("-"),[QNe]:t.namespaceURI===GLe}}var sU=new Map;function zNe(t){var e=t.getAttribute("is")||t.nodeName,n=sU.get(e);if(n)return n;sU.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=hre(i);for(var o in r)r[o].set&&n.push(o);i=bR(i)}return n}function oU(t,e){return t===e||t?.[r0]===e}function ZT(t={},e,n,r){return Zre(()=>{var i,s;return SR(()=>{i=s,s=[],K0(()=>{t!==n(...s)&&(e(t,...s),i&&oU(n(...i),t)&&e(null,...i))})}),()=>{fy(()=>{s&&oU(n(...s),t)&&e(null,...s)})}}),t}let yx=!1;function UNe(t){var e=yx;try{return yx=!1,[t(),yx]}finally{yx=e}}function mt(t,e,n,r){var i=(n&XLe)!==0,s=(n&ZLe)!==0,o=r,a=!0,l=()=>(a&&(a=!1,o=s?K0(r):r),o),u;if(i){var c=r0 in t||ure in t;u=Dg(t,e)?.set??(c&&e in t?O=>t[e]=O:void 0)}var f,h=!1;i?[f,h]=UNe(()=>t[e]):f=t[e],f===void 0&&r!==void 0&&(f=l(),u&&(MLe(),u(f)));var d;if(d=()=>{var O=t[e];return O===void 0?l():(a=!0,O)},(n&VLe)===0)return d;if(u){var m=t.$$legacy;return(function(O,_){return arguments.length>0?((!_||m||h)&&u(_?d():O),O):d()})}var g=!1,b=((n&qLe)!==0?V4:Rre)(()=>(g=!1,d()));i&&V(b);var v=hn;return(function(O,_){if(arguments.length>0){const S=_?V(b):i?Vp(O):O;return Rt(b,S),g=!0,o!==void 0&&(o=S),O}return H0&&g||(v.f&Yf)!==0?b.v:V(b)})}var jNe=Oh('<g><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect></g>');function qNe(t,e){Y0(e,!0);let n=Pt(()=>e.pointLocation(e.value.xMin,e.value.yMin)),r=Pt(()=>e.pointLocation(e.value.xMax,e.value.yMax));const i=8;function s(b){return v=>{e.preventHover(!0);let O=[V(n).x,V(n).y,V(r).x,V(r).y];return{move:_=>{let S=_.pageX-v.pageX,k=_.pageY-v.pageY,A=[S,k,S,k].map((P,N)=>O[N]+P*b[N]),C=e.coordinateAtPoint(A[0],A[1]),T=e.coordinateAtPoint(A[2],A[3]);e.onChange({xMin:Math.min(C.x,T.x),xMax:Math.max(C.x,T.x),yMin:Math.min(C.y,T.y),yMax:Math.max(C.y,T.y)})},up:()=>{e.preventHover(!1)},cancel:()=>{e.preventHover(!1)}}}}var o=jNe(),a=ss(o);Dn(a,"",{},{stroke:"#fff",fill:"rgba(128,128,128,0.25)",cursor:"move"}),Vl(a,(b,v)=>Zn?.(b,v),()=>({drag:s([1,1,1,1])}));var l=qr(a);et(l,"width",i),Dn(l,"",{},{cursor:"ew-resize",stroke:"none",fill:"none","pointer-events":"all"}),Vl(l,(b,v)=>Zn?.(b,v),()=>({drag:s([1,0,0,0])}));var u=qr(l);et(u,"width",i),Dn(u,"",{},{cursor:"ew-resize",stroke:"none",fill:"none","pointer-events":"all"}),Vl(u,(b,v)=>Zn?.(b,v),()=>({drag:s([0,0,1,0])}));var c=qr(u);et(c,"height",i),Dn(c,"",{},{cursor:"ns-resize",stroke:"none",fill:"none","pointer-events":"all"}),Vl(c,(b,v)=>Zn?.(b,v),()=>({drag:s([0,1,0,0])}));var f=qr(c);et(f,"height",i),Dn(f,"",{},{cursor:"ns-resize",stroke:"none",fill:"none","pointer-events":"all"}),Vl(f,(b,v)=>Zn?.(b,v),()=>({drag:s([0,0,0,1])}));var h=qr(f);et(h,"width",i),et(h,"height",i),Dn(h,"",{},{cursor:"nesw-resize",stroke:"none",fill:"none","pointer-events":"all"}),Vl(h,(b,v)=>Zn?.(b,v),()=>({drag:s([1,1,0,0])}));var d=qr(h);et(d,"width",i),et(d,"height",i),Dn(d,"",{},{cursor:"nwse-resize",stroke:"none",fill:"none","pointer-events":"all"}),Vl(d,(b,v)=>Zn?.(b,v),()=>({drag:s([1,0,0,1])}));var m=qr(d);et(m,"width",i),et(m,"height",i),Dn(m,"",{},{cursor:"nwse-resize",stroke:"none",fill:"none","pointer-events":"all"}),Vl(m,(b,v)=>Zn?.(b,v),()=>({drag:s([0,1,1,0])}));var g=qr(m);et(g,"width",i),et(g,"height",i),Dn(g,"",{},{cursor:"nesw-resize",stroke:"none",fill:"none","pointer-events":"all"}),Vl(g,(b,v)=>Zn?.(b,v),()=>({drag:s([0,0,1,1])})),Ri(o),Ia((b,v,O,_,S,k,A,C,T,P,N,I)=>{et(a,"x",b),et(a,"width",v),et(a,"y",O),et(a,"height",_),et(l,"x",V(n).x-i/2),et(l,"y",S),et(l,"height",k),et(u,"x",V(r).x-i/2),et(u,"y",A),et(u,"height",C),et(c,"x",T),et(c,"width",P),et(c,"y",V(n).y-i/2),et(f,"x",N),et(f,"width",I),et(f,"y",V(r).y-i/2),et(h,"x",V(n).x-i/2),et(h,"y",V(n).y-i/2),et(d,"x",V(n).x-i/2),et(d,"y",V(r).y-i/2),et(m,"x",V(r).x-i/2),et(m,"y",V(n).y-i/2),et(g,"x",V(r).x-i/2),et(g,"y",V(r).y-i/2)},[()=>Math.min(V(n).x,V(r).x),()=>Math.abs(V(n).x-V(r).x),()=>Math.min(V(n).y,V(r).y),()=>Math.abs(V(n).y-V(r).y),()=>Math.min(V(n).y,V(r).y),()=>Math.abs(V(n).y-V(r).y),()=>Math.min(V(n).y,V(r).y),()=>Math.abs(V(n).y-V(r).y),()=>Math.min(V(n).x,V(r).x),()=>Math.abs(V(n).x-V(r).x),()=>Math.min(V(n).x,V(r).x),()=>Math.abs(V(n).x-V(r).x)]),fi(t,o),G0()}function VNe(t,e){let n=!1,r,i,s,o=300,a=300,l=async c=>{n=!0;try{await t(c)}catch(f){console.error(f)}if(n=!1,r!==void 0){let f=r;r=void 0,u(f)}},u=async c=>{if(n){r=c;return}let f=new Date().getTime();e()&&(i=f);let h=!0;(i==null||f-i<a)&&(h=!1),h?(s&&clearTimeout(s),s=setTimeout(()=>l(c),o)):l(c)};return u}function XNe(t,e){let n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function ZNe(t){return"M "+t.map(({x:e,y:n})=>`${e},${n}`).join(" L ")+" Z"}function oie(t){let e=1/0,n=-1/0,r=1/0,i=-1/0;for(let{x:s,y:o}of t)e=Math.min(e,s),r=Math.min(r,o),n=Math.max(n,s),i=Math.max(i,o);return{xMin:e,yMin:r,xMax:n,yMax:i}}async function WNe(t){let e=JSON.stringify(t);return GNe(e)}function nd(t,e){if(t===e)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object"||Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(e.hasOwnProperty(n)){if(!nd(t[n],e[n]))return!1}else return!1;return!0}function YNe(t,e=0){let n=3735928559^e,r=1103547991^e;for(let i=0;i<t.length;i++){let s=t[i];n=Math.imul(n^s,2654435761),r=Math.imul(r^s,1597334677)}return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),[r>>>0,n>>>0]}function GNe(t){let e=new TextEncoder().encode(t),n=YNe(e);return n[0].toString(16).padStart(8,"0")+n[1].toString(16).padStart(8,"0")}var HNe=Oh("<path></path>");function KNe(t,e){Y0(e,!0);let n=Pt(()=>e.value.map(({x:i,y:s})=>e.pointLocation(i,s)));var r=HNe();Dn(r,"",{},{stroke:"#fff",fill:"rgba(128,128,128,0.25)"}),Ia(i=>et(r,"d",i),[()=>ZNe(V(n))]),fi(t,r),G0()}const JNe={marquee:"M7 5a2 2 0 1 1-4 0a2 2 0 0 1 4 0m1-.25c0 .414.336.75.75.75h6.5a.75.75 0 0 0 0-1.5h-6.5a.75.75 0 0 0-.75.75M4.75 8a.75.75 0 0 0-.75.75v6.5a.75.75 0 0 0 1.5 0v-6.5A.75.75 0 0 0 4.75 8m14.5 0a.75.75 0 0 0-.75.75v6.5a.75.75 0 0 0 1.5 0v-6.5a.75.75 0 0 0-.75-.75M8.75 20a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5zM5 21a2 2 0 1 0 0-4a2 2 0 0 0 0 4M21 5a2 2 0 1 1-4 0a2 2 0 0 1 4 0m-2 16a2 2 0 1 0 0-4a2 2 0 0 0 0 4",lasso:"M9.703 2.265A10 10 0 0 1 12 2c.79 0 1.559.092 2.297.265a.75.75 0 1 1-.343 1.46A8.5 8.5 0 0 0 12 3.5a8.6 8.6 0 0 0-1.954.225a.75.75 0 1 1-.343-1.46m-1.93 1.47a.75.75 0 0 1-.242 1.033a8.55 8.55 0 0 0-2.763 2.763a.75.75 0 1 1-1.275-.79a10.05 10.05 0 0 1 3.248-3.248a.75.75 0 0 1 1.032.243m8.454 0a.75.75 0 0 1 1.032-.242a10.05 10.05 0 0 1 3.248 3.248a.75.75 0 1 1-1.275.79a8.55 8.55 0 0 0-2.763-2.763a.75.75 0 0 1-.242-1.032m-13.06 5.41a.75.75 0 0 1 .558.901A8.5 8.5 0 0 0 3.5 12c0 .673.078 1.327.225 1.954a.75.75 0 1 1-1.46.343A10 10 0 0 1 2 12c0-.79.092-1.559.265-2.297a.75.75 0 0 1 .902-.559m17.666 0a.75.75 0 0 1 .902.558a10.1 10.1 0 0 1 0 4.595a.75.75 0 1 1-1.46-.343a8.54 8.54 0 0 0-.001-3.908a.75.75 0 0 1 .559-.902M3.736 16.226a.75.75 0 0 1 1.032.242a8.55 8.55 0 0 0 2.763 2.763a.75.75 0 0 1-.79 1.275a10.05 10.05 0 0 1-3.248-3.248a.75.75 0 0 1 .243-1.032m16.685.858a.75.75 0 1 0-1.342-.67l-.002.004l-.015.029l-.069.123a8 8 0 0 1-.289.466a9.6 9.6 0 0 1-.965 1.219c-1.17-1.073-2.756-2.006-4.74-2.006c-2.347 0-3.99 1.203-3.99 2.875S10.653 22 13 22c1.942 0 3.495-.75 4.658-1.645a11.7 11.7 0 0 1 1.315 2.01q.05.099.073.149l.017.035l.004.009a.75.75 0 0 0 1.368-.615c-.087-.183 0-.001 0-.001v-.002l-.003-.004l-.007-.015l-.024-.052l-.091-.184a13.2 13.2 0 0 0-1.538-2.337a11 11 0 0 0 1.525-2.032l.09-.162l.024-.047l.007-.014l.002-.005zM13 17.75c1.433 0 2.644.652 3.616 1.512c-.95.7-2.155 1.238-3.616 1.238c-1.973 0-2.49-.922-2.49-1.375s.517-1.375 2.49-1.375"};var eQe=Oh('<svg width="24" height="24" viewBox="0 0 24 24"><path></path></svg>'),tQe=Kd("<button><!></button>");function aU(t,e){let n=mt(e,"active",3,!1);var r=tQe();r.__click=function(...a){e.onClick?.apply(this,a)};let i;var s=ss(r);{var o=a=>{var l=eQe();Dn(l,"",{},{width:"14px",height:"14px"});var u=ss(l);Dn(u,"",{},{fill:"currentColor"}),Ri(l),Ia(()=>et(u,"d",JNe[e.icon])),fi(a,l)};Po(s,a=>{e.icon!=null&&a(o)})}Ri(r),Ia(()=>{et(r,"title",e.title),i=Dn(r,"",i,{border:"none",appearance:"none",background:n()?"color-mix(in srgb, currentColor 20%, transparent)":"none","border-radius":"2px",height:"16px",width:"16px",padding:"0",margin:"0","font-family":"inherit","font-size":"1em",color:"currentColor",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"})}),fi(t,r)}_Ne(["click"]);var nQe=Kd('<div><div> </div> <svg height="6px"><line shape-rendering="crispEdges"></line><line shape-rendering="crispEdges"></line><line shape-rendering="crispEdges"></line></svg></div>');function rQe(t,e){function n(h,d){let m=Math.log10(d*h),g=Math.round(m),b=[.1,.2,.5,1,2,5,10],v=0,O=1e10;for(let _ of b){let S=Math.abs(Math.log10(_)+g-m);S<O&&(v=_,O=S)}return v*Math.pow(10,g)}let r=Pt(()=>n(e.distancePerPoint,30)),i=Pt(()=>V(r)/e.distancePerPoint);var s=nQe();Dn(s,"",{},{display:"flex","align-items":"center"});var o=ss(s);Dn(o,"",{},{"padding-right":"4px"});var a=ss(o,!0);Ri(o);var l=qr(o,2),u=ss(l);et(u,"x1",1),et(u,"y1",3),et(u,"y2",3),Dn(u,"",{},{stroke:"currentColor","stroke-width":"2","stroke-cap":"butt"});var c=qr(u);et(c,"x1",1),et(c,"x2",1),et(c,"y1",0),et(c,"y2",6),Dn(c,"",{},{stroke:"currentColor"});var f=qr(c);et(f,"y1",0),et(f,"y2",6),Dn(f,"",{},{stroke:"currentColor"}),Ri(l),Ri(s),Ia(h=>{fv(a,h),et(l,"width",`${V(i)+2}px`),et(u,"x2",V(i)+1),et(f,"x1",V(i)+1),et(f,"x2",V(i)+1)},[()=>V(r).toLocaleString()]),fi(t,s)}var iQe=Kd("<div> </div>"),sQe=Kd('<a target="_blank" rel="noopener noreferrer"> </a> <div style="border-right: 1px solid currentColor; margin: 4px 2px; opacity: 0.3; width: 0; height: 10px"></div>',1),oQe=Kd('<div><div><!></div> <div></div> <div><!> <!> <!> <div style="border-right: 1px solid currentColor; margin: 4px 2px; opacity: 0.3; width: 0; height: 10px"></div> <!> <div style="border-right: 1px solid currentColor; margin: 4px 2px; opacity: 0.3; width: 0; height: 10px"></div> <span> </span></div></div>');function aQe(t,e){Y0(e,!0);let n=mt(e,"statusMessage",3,null);var r=oQe();let i;var s=ss(r);let o;var a=ss(s);{var l=_=>{var S=iQe();Dn(S,"",{},{display:"inline-block"});var k=ss(S,!0);Ri(S),Ia(()=>fv(k,n())),fi(_,S)};Po(a,_=>{n()!=null&&_(l)})}Ri(s);var u=qr(s,2);Dn(u,"",{},{flex:"1 1 0%"});var c=qr(u,2);let f;var h=ss(c);{var d=_=>{var S=sQe(),k=Vm(S);Dn(k,"",{},{color:"currentColor","text-decoration":"underline"});var A=ss(k,!0);Ri(k),xre(2),Ia(()=>{et(k,"href",e.resolvedTheme.brandingLink.href),fv(A,e.resolvedTheme.brandingLink.text)}),fi(_,S)};Po(h,_=>{e.resolvedTheme.brandingLink!=null&&_(d)})}var m=qr(h,2);{let _=Pt(()=>e.selectionMode=="marquee");aU(m,{icon:"marquee",get active(){return V(_)},title:"Toggle rectangle selection mode. In normal mode, use shift + drag for rectangle selection.",onClick:()=>e.onSelectionMode(e.selectionMode=="marquee"?"none":"marquee")})}var g=qr(m,2);{let _=Pt(()=>e.selectionMode=="lasso");aU(g,{icon:"lasso",get active(){return V(_)},title:"Toggle lasso selection mode. In normal mode, use shift + meta + drag for lasso selection.",onClick:()=>e.onSelectionMode(e.selectionMode=="lasso"?"none":"lasso")})}var b=qr(g,4);rQe(b,{get distancePerPoint(){return e.distancePerPoint}});var v=qr(b,4),O=ss(v);Ri(v),Ri(c),Ri(r),Ia(_=>{i=Dn(r,"",i,{"font-size":"12px","line-height":"20px",height:"20px",color:e.resolvedTheme.statusBarTextColor,position:"absolute",bottom:"0px",left:"0px",right:"0px","user-select":"none","font-family":e.resolvedTheme.fontFamily,display:"flex","flex-direction":"row"}),o=Dn(s,"",o,{flex:"none",display:"flex","flex-direction":"row",gap:"4px",padding:"0px 4px","border-radius":"2px",background:e.resolvedTheme.statusBarBackgroundColor}),f=Dn(c,"",f,{flex:"none",display:"flex","flex-direction":"row","align-items":"center",gap:"4px",padding:"0px 4px","border-radius":"2px",background:e.resolvedTheme.statusBarBackgroundColor}),fv(O,`${_??""} points`)},[()=>e.pointCount.toLocaleString()]),fi(t,r),G0()}function lQe(t){return(e,n)=>{let r=new t(e,n);return{...r.update?{update:r.update.bind(r)}:{},...r.destroy?{destroy:r.destroy.bind(r)}:{}}}}let D6=new WeakMap;function aie(t){let e=typeof t=="function"?t:t.class;if(D6.has(e))return D6.get(e);{let n=lQe(e);return D6.set(e,n),n}}function lie(t,e){return typeof t=="function"?e:{...t.props??{},...e}}var uQe=Kd("<div><div></div></div>");function cQe(t,e){Y0(e,!0);let n=mt(e,"margin",3,4),r,i,s=Pt(()=>aie(e.customTooltip)),o=Pt(()=>lie(e.customTooltip,{tooltip:e.tooltip}));AR(()=>{cv(()=>{let u=V(s),c=null;return cv(()=>{i.style.left="0px",i.style.top="0px",i.style.pointerEvents=e.allowInteraction?"all":"none",c==null?c=u(i,V(o)):c.update?.(V(o));function f(b,v,O,_){let S=e.location.x,k=e.location.y,A=2,C=b/2,T=v+(e.targetHeight+n());S-C<O&&(C=S-O),S-C>_-b&&(C=S-_+b),k-T<A&&(T=-(e.targetHeight+n())),i.style.left=S-C+"px",i.style.top=k-T+"px"}let h=r.getBoundingClientRect(),{width:d,height:m}=i.getBoundingClientRect();f(d,m,2,h.width-2);let g=requestAnimationFrame(()=>{g=null;let b=i.getBoundingClientRect();(b.width!=d||b.height!=m)&&f(b.width,b.height,2,h.width-2)});return()=>{g!=null&&cancelAnimationFrame(g)}}),()=>{c?.destroy?.(),i.replaceChildren()}})});var a=uQe();Dn(a,"",{},{position:"absolute",width:"100%"});var l=ss(a);Dn(l,"",{},{display:"flex",position:"absolute",width:"fit-content",height:"fit-content","z-index":"100"}),ZT(l,u=>i=u,()=>i),Ri(a),ZT(a,u=>r=u,()=>r),fi(t,a),G0()}function ER(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uie(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function p2(){}var yO=.7,q3=1/yO,$g="\\s*([+-]?\\d+)\\s*",bO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fQe=/^#([0-9a-f]{3,8})$/,hQe=new RegExp(`^rgb\\(${$g},${$g},${$g}\\)$`),dQe=new RegExp(`^rgb\\(${Oc},${Oc},${Oc}\\)$`),pQe=new RegExp(`^rgba\\(${$g},${$g},${$g},${bO}\\)$`),mQe=new RegExp(`^rgba\\(${Oc},${Oc},${Oc},${bO}\\)$`),gQe=new RegExp(`^hsl\\(${bO},${Oc},${Oc}\\)$`),yQe=new RegExp(`^hsla\\(${bO},${Oc},${Oc},${bO}\\)$`),lU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ER(p2,TR,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uU,formatHex:uU,formatHex8:bQe,formatHsl:vQe,formatRgb:cU,toString:cU});function uU(){return this.rgb().formatHex()}function bQe(){return this.rgb().formatHex8()}function vQe(){return fie(this).formatHsl()}function cU(){return this.rgb().formatRgb()}function TR(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fQe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fU(e):n===3?new Wo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hQe.exec(t))?new Wo(e[1],e[2],e[3],1):(e=dQe.exec(t))?new Wo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pQe.exec(t))?bx(e[1],e[2],e[3],e[4]):(e=mQe.exec(t))?bx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gQe.exec(t))?pU(e[1],e[2]/100,e[3]/100,1):(e=yQe.exec(t))?pU(e[1],e[2]/100,e[3]/100,e[4]):lU.hasOwnProperty(t)?fU(lU[t]):t==="transparent"?new Wo(NaN,NaN,NaN,0):null}function fU(t){return new Wo(t>>16&255,t>>8&255,t&255,1)}function bx(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wo(t,e,n,r)}function OQe(t){return t instanceof p2||(t=TR(t)),t?(t=t.rgb(),new Wo(t.r,t.g,t.b,t.opacity)):new Wo}function cie(t,e,n,r){return arguments.length===1?OQe(t):new Wo(t,e,n,r??1)}function Wo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ER(Wo,cie,uie(p2,{brighter(t){return t=t==null?q3:Math.pow(q3,t),new Wo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yO:Math.pow(yO,t),new Wo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wo(s0(this.r),s0(this.g),s0(this.b),V3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hU,formatHex:hU,formatHex8:wQe,formatRgb:dU,toString:dU}));function hU(){return`#${Zp(this.r)}${Zp(this.g)}${Zp(this.b)}`}function wQe(){return`#${Zp(this.r)}${Zp(this.g)}${Zp(this.b)}${Zp((isNaN(this.opacity)?1:this.opacity)*255)}`}function dU(){const t=V3(this.opacity);return`${t===1?"rgb(":"rgba("}${s0(this.r)}, ${s0(this.g)}, ${s0(this.b)}${t===1?")":`, ${t})`}`}function V3(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function s0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zp(t){return t=s0(t),(t<16?"0":"")+t.toString(16)}function pU(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ru(t,e,n,r)}function fie(t){if(t instanceof ru)return new ru(t.h,t.s,t.l,t.opacity);if(t instanceof p2||(t=TR(t)),!t)return new ru;if(t instanceof ru)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new ru(o,a,l,t.opacity)}function xQe(t,e,n,r){return arguments.length===1?fie(t):new ru(t,e,n,r??1)}function ru(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ER(ru,xQe,uie(p2,{brighter(t){return t=t==null?q3:Math.pow(q3,t),new ru(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yO:Math.pow(yO,t),new ru(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wo(P6(t>=240?t-240:t+120,i,r),P6(t,i,r),P6(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ru(mU(this.h),vx(this.s),vx(this.l),V3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=V3(this.opacity);return`${t===1?"hsl(":"hsla("}${mU(this.h)}, ${vx(this.s)*100}%, ${vx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mU(t){return t=(t||0)%360,t<0?t+360:t}function vx(t){return Math.max(0,Math.min(1,t||0))}function P6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gU=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Ox=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];function C1(t){if(t<1&&(t=1),t<=gU.length)return gU.slice(0,t);if(t<=Ox.length)return Ox.slice(0,t);{let e=[];for(let n=0;n<t;n++)e[n]=Ox[n%Ox.length];return e}}function DR(t){let{r:e,g:n,b:r,opacity:i}=cie(t);return{r:e/255,g:n/255,b:r/255,a:i}}function hie(){return[1,0,0,0,1,0,0,0,1]}function PR(t,e){return[t[0]*e[0]+t[3]*e[1]+t[6]*e[2],t[1]*e[0]+t[4]*e[1]+t[7]*e[2],t[2]*e[0]+t[5]*e[1]+t[8]*e[2],t[0]*e[3]+t[3]*e[4]+t[6]*e[5],t[1]*e[3]+t[4]*e[4]+t[7]*e[5],t[2]*e[3]+t[5]*e[4]+t[8]*e[5],t[0]*e[6]+t[3]*e[7]+t[6]*e[8],t[1]*e[6]+t[4]*e[7]+t[7]*e[8],t[2]*e[6]+t[5]*e[7]+t[8]*e[8]]}function die(t,e){return[e[0]*t[0]+e[3]*t[1]+e[6]*t[2],e[1]*t[0]+e[4]*t[1]+e[7]*t[2],e[2]*t[0]+e[5]*t[1]+e[8]*t[2]]}function _Qe(t){return t[0]*t[4]*t[8]-t[0]*t[5]*t[7]-t[1]*t[3]*t[8]+t[1]*t[5]*t[6]+t[2]*t[3]*t[7]-t[2]*t[4]*t[6]}function pie(t){let e=_Qe(t);return[(t[4]*t[8]-t[5]*t[7])/e,(t[2]*t[7]-t[1]*t[8])/e,(t[1]*t[5]-t[2]*t[4])/e,(t[5]*t[6]-t[3]*t[8])/e,(t[0]*t[8]-t[2]*t[6])/e,(t[2]*t[3]-t[0]*t[5])/e,(t[3]*t[7]-t[4]*t[6])/e,(t[1]*t[6]-t[0]*t[7])/e,(t[0]*t[4]-t[1]*t[3])/e]}class X3{viewport;width;height;_matrix=[0,0,0,0,0,0,0,0,0];_pixel_kx=0;_pixel_bx=0;_pixel_ky=0;_pixel_by=0;constructor(e,n,r){this.viewport=e,this.width=n,this.height=r,this.updateCoefficients()}update(e,n,r){this.viewport=e,this.width=n,this.height=r,this.updateCoefficients()}updateCoefficients(){let{x:e,y:n,scale:r}=this.viewport,i=r,s=r;this.width<this.height?i*=this.height/this.width:s*=this.width/this.height,this._matrix=[i,0,0,0,s,0,-e*i,-n*s,1],this._pixel_kx=this._matrix[0]*this.width/2,this._pixel_bx=(this._matrix[6]+1)*this.width/2,this._pixel_ky=-this._matrix[4]*this.height/2,this._pixel_by=(-this._matrix[7]+1)*this.height/2}matrix(){return this._matrix}scale(){return Math.abs(this._pixel_kx)}pixelLocation(e,n){return{x:e*this._pixel_kx+this._pixel_bx,y:n*this._pixel_ky+this._pixel_by}}coordinateAtPixel(e,n){return{x:(e-this._pixel_bx)/this._pixel_kx,y:(n-this._pixel_by)/this._pixel_ky}}pixelLocationFunction(){let e=this._pixel_kx,n=this._pixel_ky,r=this._pixel_bx,i=this._pixel_by;return(s,o)=>({x:s*e+r,y:o*n+i})}coordinateAtPixelFunction(){let e=this._pixel_kx,n=this._pixel_ky,r=this._pixel_bx,i=this._pixel_by;return(s,o)=>({x:(s-r)/e,y:(o-i)/n})}}class WT{_needsRun=!0;_inputs=new Set;_targets=new Set;constructor(e=[]){this._inputs=new Set(e);for(let n of this._inputs)n._targets.add(this)}addInput(e){this._inputs.add(e),e._targets.add(this)}removeInput(e){e._targets.delete(this),this._inputs.delete(e)}run(){if(this._needsRun){for(let e of this._inputs)e.run();this.update(),this._needsRun=!1}}setNeedsRunDownstream(){for(let e of this._targets)e._needsRun||(e._needsRun=!0,e.setNeedsRunDownstream())}update(){}destroy(){for(let e of this._inputs)e._targets.delete(this)}}let hy=class extends WT{_value=null;setValue(e){this._value!==e&&(this._value=e,this.setNeedsRunDownstream())}get value(){return this.run(),this._value}};class mie extends hy{constructor(e){super([]),this.setValue(e)}get value(){return super.value}set value(e){this.setValue(e)}}let SQe=class extends hy{fn;constructor(e,n){super(n),this.fn=e}update(){this.setValue(this.fn())}},kQe=class extends hy{fn;state;constructor(e,n){super(n),this.fn=e,this.state={}}update(){this.setValue(this.fn(this.state))}destroy(){super.destroy(),this.state.destroy&&this.state.destroy(),this.state={}}},CQe=class extends hy{parent;condition;buildTrue;buildFalse;context=null;currentCondition=null;currentNode=null;constructor(e,n,r,i){super([n]),this.parent=e,this.condition=n,this.buildTrue=r,this.buildFalse=i}update(){(this.currentNode==null||this.currentCondition!==this.condition.value)&&(this.currentNode&&this.removeInput(this.currentNode),this.context?.destroy(),this.context=new J0(this.parent),this.currentCondition=this.condition.value,this.currentCondition?this.currentNode=this.buildTrue(this.context):this.currentNode=this.buildFalse(this.context),this.addInput(this.currentNode)),this.setValue(this.currentNode.value)}destroy(){super.destroy(),this.context?.destroy()}},AQe=class extends hy{parent;input;build;cache;constructor(e,n,r){super([n]),this.parent=e,this.input=n,this.build=r,this.cache=new Map}update(){let e=new Set,n=this.input.value.map(r=>{if(e.add(r),this.cache.has(r)){let i=this.cache.get(r);return i.input.value=r,i.output.value}else{let i=new J0(this.parent),s=new mie(r),o=this.build(i,s);return this.cache.set(r,{context:i,input:s,output:o}),this.addInput(o),o.value}});for(let[r,i]of this.cache)e.has(r)||(this.cache.delete(r),this.removeInput(i.output),i.context.destroy());this.setValue(n)}destroy(){super.destroy();for(let e of this.cache.values())e.context.destroy()}},EQe=class extends hy{parent;input;cases;currentCase=null;currentNode=null;currentContext=null;constructor(e,n,r){super([n]),this.parent=e,this.input=n,this.cases=r}update(){(this.currentNode==null||this.input.value!==this.currentCase)&&(this.currentNode&&this.removeInput(this.currentNode),this.currentContext?.destroy(),this.currentContext=new J0(this.parent),this.currentCase=this.input.value,this.currentNode=this.cases[this.currentCase](this.currentContext),this.addInput(this.currentNode)),this.setValue(this.currentNode.value)}destroy(){super.destroy(),this.currentContext?.destroy()}};class J0{_children;_nodes;constructor(e=null){this._children=new Set,this._nodes=new Set,e?._children.add(this)}destroy(){for(let e of this._children)e.destroy();for(let e of this._nodes)e.destroy();this._children.clear(),this._nodes.clear()}value(e){let n=new mie(e);return this._nodes.add(n),n}derive(e,n){let r=e.map(s=>s instanceof WT?s:this.value(s)),i=new SQe(()=>n(...r.map(s=>s.value)),r);return this._nodes.add(i),i}statefulDerive(e,n){let r=e.map(s=>s instanceof WT?s:this.value(s)),i=new kQe(s=>n(s,...r.map(o=>o.value)),r);return this._nodes.add(i),i}if(e,n,r){let i=new CQe(this,e,n,r);return this._nodes.add(i),i}switch(e,n){let r=new EQe(this,e,n);return this._nodes.add(r),r}map(e,n){let r=new AQe(this,e,n);return this._nodes.add(r),r}assertNotNull(e){return e}subgraph(){return new J0(this)}}function $c(t,e,n,r){if(t.program==null||t.vsSource!=n||t.fsSource!=r){t.destroy&&t.destroy();let s=yU(e,e.VERTEX_SHADER,n),o=yU(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,s),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){var i=e.getProgramInfoLog(a);throw new Error(`failed to link program: ${i}, vertex source: ${n}, fragment source: ${r}`)}t.program=a,t.vsSource=n,t.fsSource=r,t.destroy=()=>{e.deleteProgram(a),e.deleteShader(s),e.deleteShader(o)},t.uniforms={};for(let l of(n+r).matchAll(/uniform +[0-9a-zA-Z_]+ +([0-9a-zA-Z_]+) *(;|\[)/g)){let u=l[1];t.uniforms[u]=e.getUniformLocation(a,u)}}return{program:t.program,uniforms:t.uniforms??{}}}function yU(t,e,n){let r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(r);throw new Error(`failed to compile shader: ${i}, source: ${n}`)}return r}function wc(t,e,n,r){if(t.buffer==null){let i=e.createBuffer();t.buffer=i,t.destroy=()=>{e.deleteBuffer(i)}}if(t.data!==n){if(t.data=n,e.bindBuffer(e.ARRAY_BUFFER,t.buffer),n instanceof Array)switch(r??"f32"){case"f32":e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW);break;case"i32":e.bufferData(e.ARRAY_BUFFER,new Int32Array(n),e.STATIC_DRAW);break;case"u32":e.bufferData(e.ARRAY_BUFFER,new Uint32Array(n),e.STATIC_DRAW);break;case"i16":e.bufferData(e.ARRAY_BUFFER,new Int16Array(n),e.STATIC_DRAW);break;case"u16":e.bufferData(e.ARRAY_BUFFER,new Uint16Array(n),e.STATIC_DRAW);break;case"i8":e.bufferData(e.ARRAY_BUFFER,new Int8Array(n),e.STATIC_DRAW);break;case"u8":e.bufferData(e.ARRAY_BUFFER,new Uint8Array(n),e.STATIC_DRAW);break;default:throw new Error("invalid type")}else e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW);e.bindBuffer(e.ARRAY_BUFFER,null)}return t.buffer}function TQe(t,e,n,r,i){const s={u8:{1:[t.R8,t.RED,t.UNSIGNED_BYTE],2:[t.RG8,t.RG,t.UNSIGNED_BYTE],3:[t.RGB8,t.RGB,t.UNSIGNED_BYTE],4:[t.RGBA8,t.RGBA,t.UNSIGNED_BYTE]},u16:{1:[t.R8,t.RED,t.UNSIGNED_SHORT],2:[t.RG8,t.RG,t.UNSIGNED_SHORT],3:[t.RGB8,t.RGB,t.UNSIGNED_SHORT],4:[t.RGBA8,t.RGBA,t.UNSIGNED_SHORT]},u32:{1:[t.R8,t.RED,t.UNSIGNED_INT],2:[t.RG8,t.RG,t.UNSIGNED_INT],3:[t.RGB8,t.RGB,t.UNSIGNED_INT],4:[t.RGBA8,t.RGBA,t.UNSIGNED_INT]},f32:{1:[t.R32F,t.RED,t.FLOAT],2:[t.RG32F,t.RG,t.FLOAT],3:[t.RGB32F,t.RGB,t.FLOAT],4:[t.RGBA32F,t.RGBA,t.FLOAT]}};let[o,a,l]=s[i][r];t.texImage2D(t.TEXTURE_2D,0,o,e,n,0,a,l,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}function rd(t,e,n,r,i,s){if(t.framebuffer==null||t.texture==null){let a=e.createFramebuffer(),l=e.createTexture();e.bindFramebuffer(e.FRAMEBUFFER,a),e.bindTexture(e.TEXTURE_2D,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,l,0),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.framebuffer=a,t.texture=l,t.destroy=()=>{e.deleteFramebuffer(a),e.deleteTexture(l)}}let o=`${n},${r},${i},${s}`;return t.cacheKey!=o&&(t.cacheKey=o,e.bindTexture(e.TEXTURE_2D,t.texture),TQe(e,n,r,i,s),e.bindTexture(e.TEXTURE_2D,null)),{framebuffer:t.framebuffer,texture:t.texture,width:n,height:r}}function DQe(t){let e=t.squareMaxSize,n=t.samples,r=`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,i=`#version 300 es
    precision highp float;
    uniform sampler2D image;
    uniform vec2 resolution;
    uniform vec2 direction;
    in vec2 uv;
    out vec4 outColor;
    void main() {
      vec4 color = vec4(0.0);
      const int count = ${e};
      int i = -count;
      while(i + 1 <= count) {
        color += texture(image, uv + direction * (float(i) + 0.5) / resolution) * 2.0;
        i += 2;
      }
      if (i <= count) {
        color += texture(image, uv + direction * float(count) / resolution);
      }
      outColor = color;
    }
  `,s=`#version 300 es
    precision highp float;
    uniform sampler2D image;
    uniform sampler2D imageBox;
    uniform vec2 resolution;
    uniform float scaler;
    in vec2 uv;
    out vec4 outColor;

    void main() {
      vec4 color = texture(imageBox, uv);
      if (color != vec4(0.0)) {
        ${n.map(({x:o,y:a,w:l})=>`color -= texture(image, uv + vec2(${o.toFixed(8)}, ${a.toFixed(8)}) / resolution) * (${l.toFixed(8)})`).join(";")};
      }
      outColor = color * scaler;
    }
  `;return{vertex:r,fragment1:i,fragment2:s}}function PQe(t,e,n){let r=t.derive([n],RQe),i=t.derive([r],DQe),s=t.statefulDerive([e,t.derive([i],l=>l.vertex),t.derive([i],l=>l.fragment1)],$c),o=t.statefulDerive([e,t.derive([i],l=>l.vertex),t.derive([i],l=>l.fragment2)],$c),a=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],wc);return t.derive([e,a,s,o,n,r],(l,u,c,f,h,d)=>(m,g,b)=>{let{width:v,height:O}=g;l.disable(l.BLEND),l.enableVertexAttribArray(0),l.bindBuffer(l.ARRAY_BUFFER,u),l.vertexAttribPointer(0,2,l.FLOAT,!1,0,0),l.bindBuffer(l.ARRAY_BUFFER,null),l.useProgram(c.program),l.uniform2f(c.uniforms.resolution,v,O),l.uniform1i(c.uniforms.image,0),l.bindFramebuffer(l.FRAMEBUFFER,g.framebuffer),l.bindTexture(l.TEXTURE_2D,m),l.uniform2f(c.uniforms.direction,0,1),l.drawArrays(l.TRIANGLE_STRIP,0,4),l.bindFramebuffer(l.FRAMEBUFFER,b.framebuffer),l.bindTexture(l.TEXTURE_2D,g.texture),l.uniform2f(c.uniforms.direction,1,0),l.drawArrays(l.TRIANGLE_STRIP,0,4),l.bindFramebuffer(l.FRAMEBUFFER,g.framebuffer),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,b.texture),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,m),l.useProgram(f.program),l.uniform2f(f.uniforms.resolution,v,O),l.uniform1i(f.uniforms.image,0),l.uniform1i(f.uniforms.imageBox,1);let _=1/d.totalWeight*h*h*Math.PI;l.uniform1f(f.uniforms.scaler,_),l.drawArrays(l.TRIANGLE_STRIP,0,4),l.bindFramebuffer(l.FRAMEBUFFER,null),l.useProgram(null),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,null),l.disableVertexAttribArray(0)})}function bU(t,e,n){let r=Math.sqrt(e*e+n*n);if(r<t-Math.sqrt(2)/2)return 1;if(r>t+Math.sqrt(2)/2)return 0;let i=2,s=0;for(let o=0;o<i;o++)for(let a=0;a<i;a++){let l=e+(o+.5)/i-.5,u=n+(a+.5)/i-.5;Math.sqrt(l*l+u*u)<t&&(s+=1)}return s/i/i}function RQe(t){let e=Math.floor(t+.5),n=e,r=bU(t,0,0),i=[];for(let a=-e;a<=e;a++)for(let l=-e;l<=e;l++){let u=r-bU(t,a,l);if(!(u<=0))if(i.length>0&&a==i[i.length-1].x&&l==i[i.length-1].y+1){let c=i[i.length-1].w,f=u;i[i.length-1].y+=1-c/(c+f),i[i.length-1].w=c+f}else i.push({x:a,y:l,w:u})}i=i.sort((a,l)=>a.y!=l.y?a.y-l.y:a.x-l.x);let s=[];for(let{x:a,y:l,w:u}of i)if(s.length>0&&l==s[s.length-1].y&&a==s[s.length-1].x+1){let c=s[s.length-1].w,f=u;s[s.length-1].x+=1-c/(c+f),s[s.length-1].w=c+f}else s.push({x:a,y:l,w:u});let o=-s.reduce((a,l)=>a+l.w,0);return o+=r*(1+n*2)*(1+n*2),{squareMaxSize:n,squareWeight:r,samples:s,totalWeight:o}}function $Qe(t){let e;return t?e=`#version 300 es
      precision highp float;
      uniform mat3 matrix;
      layout(location=0) in float x;
      layout(location=1) in float y;
      layout(location=2) in int category;
      out vec4 color;
      void main() {
        gl_Position = vec4(matrix * vec3(x, y, 1), 1);
        if (category == 0) {
          color = vec4(1, 0, 0, 0);
        } else if (category == 1) {
          color = vec4(0, 1, 0, 0);
        } else if (category == 2) {
          color = vec4(0, 0, 1, 0);
        } else if (category == 3) {
          color = vec4(0, 0, 0, 1);
        }
        gl_PointSize = 1.0;
      }
    `:e=`#version 300 es
      precision highp float;
      uniform mat3 matrix;
      layout(location=0) in float x;
      layout(location=1) in float y;
      out vec4 color;
      void main() {
        gl_Position = vec4(matrix * vec3(x, y, 1), 1);
        color = vec4(1, 0, 0, 0);
        gl_PointSize = 1.0;
      }
    `,{vertex:e,fragment:`#version 300 es
    precision highp float;
    in vec4 color;
    out vec4 outColor;
    void main() {
      outColor = color;
    }
  `}}function YT(t,e,n,r,i,s){let o=i!=null,a=$Qe(o),l=t.statefulDerive([e,a.vertex,a.fragment],$c);return t.derive([e,l,n,r,i,s],(u,c,f,h,d,m)=>g=>{u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE),u.useProgram(c.program),u.enableVertexAttribArray(0),u.bindBuffer(u.ARRAY_BUFFER,f),u.vertexAttribPointer(0,1,u.FLOAT,!1,0,0),u.enableVertexAttribArray(1),u.bindBuffer(u.ARRAY_BUFFER,h),u.vertexAttribPointer(1,1,u.FLOAT,!1,0,0),d!=null&&(u.enableVertexAttribArray(2),u.bindBuffer(u.ARRAY_BUFFER,d),u.vertexAttribIPointer(2,1,u.BYTE,0,0)),u.bindBuffer(u.ARRAY_BUFFER,null),u.uniformMatrix3fv(c.uniforms.matrix,!1,g),u.drawArrays(u.POINTS,0,m),u.disableVertexAttribArray(0),u.disableVertexAttribArray(1),d!=null&&u.disableVertexAttribArray(2),u.useProgram(null)})}function IQe(){return{vertex:`#version 300 es
    precision highp float;
    uniform vec2 xyScaler;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy * xyScaler, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D source;
    uniform float gamma;
    in vec2 uv;
    out vec4 outColor;
    void main() {
      vec4 color = texture(source, uv);
      color.rgb = pow(color.rgb, vec3(1.0 / gamma));
      outColor = color;
    }
  `}}function gie(t,e){let{vertex:n,fragment:r}=IQe(),i=t.statefulDerive([e,n,r],$c),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],wc);return t.derive([e,i,s],(o,a,l)=>(u,c,f,h)=>{o.disable(o.BLEND),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindTexture(o.TEXTURE_2D,u),o.useProgram(a.program),o.uniform1i(a.uniforms.source,0),o.uniform2f(a.uniforms.xyScaler,f??1,h??1),o.uniform1f(a.uniforms.gamma,c??2.2),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}function yie(t){return Math.ceil(t*3)}function FQe(t){let e=yie(t),n=[];for(let a=-e;a<=e;a++)n.push(Math.exp(-a*a/t/t/2));let r=n.reduce((a,l)=>a+l,0);n=n.map(a=>a/r);let i=LQe(n).map(([a,l])=>[a-e,l]),s=`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,o=`#version 300 es
    precision highp float;
    uniform sampler2D image;
    uniform vec2 resolution;
    uniform vec2 direction;
    in vec2 uv;
    out vec4 outColor;

    void main() {
      vec4 color = vec4(0.0);
      ${i.map(([a,l])=>`color += texture(image, uv + direction * vec2(${a.toFixed(10)}) / resolution) * ${l.toFixed(10)};`).join(`
`)}
      outColor = color;
    }
  `;return{vertex:s,fragment:o}}function MQe(t,e,n){let r=t.derive([n],FQe),i=t.statefulDerive([e,t.derive([r],o=>o.vertex),t.derive([r],o=>o.fragment)],$c),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],wc);return t.derive([e,s,i,n],(o,a,l,u)=>(c,f,h)=>{let{width:d,height:m}=f;o.disable(o.BLEND),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,a),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.useProgram(l.program),o.uniform2f(l.uniforms.resolution,d,m),o.uniform1i(l.uniforms.image,0),o.bindFramebuffer(o.FRAMEBUFFER,h.framebuffer),o.bindTexture(o.TEXTURE_2D,c),o.uniform2f(l.uniforms.direction,0,1),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.bindFramebuffer(o.FRAMEBUFFER,f.framebuffer),o.bindTexture(o.TEXTURE_2D,h.texture),o.uniform2f(l.uniforms.direction,1,0),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.bindFramebuffer(o.FRAMEBUFFER,null),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}function LQe(t){let e=[];for(let n=0;n<t.length;n+=2)if(n+1<t.length){let r=t[n],i=t[n+1],s=1-r/(r+i);if(s>=0&&s<=1){let o=r+i;o!=0&&e.push([n+s,o])}else e.push([n,t[n]]),e.push([n+1,t[n+1]])}else e.push([n,t[n]]);return e}function NQe(t){return Math.ceil(t*3)}function QQe(){return{vertex:`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D image;
    uniform vec2 resolution;
    uniform vec2 direction;
    in vec2 uv;
    out vec4 outColor;

    uniform float weight0;
    uniform vec3 distances;
    uniform vec3 weights;

    void main() {
      vec4 color = texture(image, uv) * weight0;
      if (weights.x != 0.0) {
        color += texture(image, uv + direction * vec2(distances.x) / resolution) * weights.x;
        color += texture(image, uv - direction * vec2(distances.x) / resolution) * weights.x;
      }
      if (weights.y != 0.0) {
        color += texture(image, uv + direction * vec2(distances.y) / resolution) * weights.y;
        color += texture(image, uv - direction * vec2(distances.y) / resolution) * weights.y;
      }
      if (weights.z != 0.0) {
        color += texture(image, uv + direction * vec2(distances.z) / resolution) * weights.z;
        color += texture(image, uv - direction * vec2(distances.z) / resolution) * weights.z;
      }
      outColor = color;
    }
  `}}function BQe(t,e,n){let{vertex:r,fragment:i}=QQe(),s=t.statefulDerive([e,r,i],$c),o=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],wc);return t.derive([e,o,s],(a,l,u)=>(c,f,h)=>{let{width:d,height:m}=f;a.disable(a.BLEND),a.enableVertexAttribArray(0),a.bindBuffer(a.ARRAY_BUFFER,l),a.vertexAttribPointer(0,2,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,null),a.useProgram(u.program),a.uniform2f(u.uniforms.resolution,d,m),a.uniform1i(u.uniforms.image,0);let g=c,b=h,v=f;for(let O=0;O<2;O++){a.uniform2f(u.uniforms.direction,O,1-O);for(let[_,S,k]of zQe){a.bindFramebuffer(a.FRAMEBUFFER,b.framebuffer),a.bindTexture(a.TEXTURE_2D,g),a.uniform1fv(u.uniforms.weight0,S),a.uniform3fv(u.uniforms.distances,_),a.uniform3fv(u.uniforms.weights,k),a.drawArrays(a.TRIANGLE_STRIP,0,4),g=b.texture;let A=b;b=v,v=A}}a.bindFramebuffer(a.FRAMEBUFFER,null),a.useProgram(null),a.bindTexture(a.TEXTURE_2D,null),a.disableVertexAttribArray(0)})}const zQe=[[[1,2,3],[.2288468365182578],[.18230006506971572,.1356122230111784,.06766429365997693]],[[2,6,10],[.09116254014100238],[.23317759354726447,.18385867277788717,.03738246360434722]],[[3,10,20],[.2950645715317288],[.010918865853671198,.23773695670296047,.10381189167750389]],[[4,16,30],[.20085957073474772],[.14463019087130788,.17934533765938643,.07559468610193185]]];function UQe(){return{vertex:`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D source;
    uniform vec2 resolution;
    uniform float densityScaler;
    uniform float quantizationStep;
    uniform vec4 channelMask;
    uniform vec4 color;
    uniform float globalAlpha;

    in vec2 uv;
    out vec4 outColor;

    float sample_density(vec2 uv) {
      float d = dot(texture(source, uv), channelMask) * densityScaler;
      d = min(1.0, max(0.0, d));
      d = floor(d / quantizationStep);
      return d;
    }

    void main() {
      // Run the Sobel operator.
      float v = sample_density(uv);
      float v11 = sample_density(uv + vec2(-1, -1) / resolution);
      float v12 = sample_density(uv + vec2(-1,  0) / resolution);
      float v13 = sample_density(uv + vec2(-1, +1) / resolution);
      float v21 = sample_density(uv + vec2( 0, -1) / resolution);
      float v23 = sample_density(uv + vec2( 0, +1) / resolution);
      float v31 = sample_density(uv + vec2(+1, -1) / resolution);
      float v32 = sample_density(uv + vec2(+1,  0) / resolution);
      float v33 = sample_density(uv + vec2(+1, +1) / resolution);
      float gx = v11 + v12 * 2.0 + v13 - v31 - v32 * 2.0 - v33;
      float gy = v11 + v21 * 2.0 + v31 - v13 - v23 * 2.0 - v33;
      // Derive alpha value from the result.
      float alpha = length(vec2(gx, gy)) * 0.2;
      alpha = min(1.0, max(0.0, alpha));
      outColor = color * alpha * globalAlpha;
    }
  `}}function jQe(t,e){let{vertex:n,fragment:r}=UQe(),i=t.statefulDerive([e,n,r],$c),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],wc);return t.derive([e,i,s],(o,a,l)=>(u,c,f,h,d,m)=>{o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindTexture(o.TEXTURE_2D,u.texture),o.useProgram(a.program),o.uniform1i(a.uniforms.source,0),o.uniform2f(a.uniforms.resolution,u.width,u.height),o.uniform1f(a.uniforms.densityScaler,c),o.uniform1f(a.uniforms.quantizationStep,f),o.uniform1f(a.uniforms.globalAlpha,h),o.uniform4fv(a.uniforms.channelMask,d),o.uniform4fv(a.uniforms.color,m),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}function qQe(){return{vertex:`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
    `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D source;
    uniform vec2 resolution;
    uniform float densityScaler;
    uniform float quantizationStep;

    uniform mat4 colorMatrix;
    uniform int isDarkMode;
    uniform float globalAlpha;

    in vec2 uv;
    out vec4 outColor;

    /* Combine alphas with symmetric blending equation f(a, b) = a + b - ab. */
    float combine_alphas(vec4 alphas) {
      float r = alphas.x + alphas.y - alphas.x * alphas.y;
      r = r + alphas.z - r * alphas.z;
      r = r + alphas.w - r * alphas.w;
      return r;
    }

    void main() {
      vec4 density = texture(source, uv) * densityScaler;

      if (density.x > 1.0 || density.y > 1.0 || density.z > 1.0 || density.w > 1.0) {
        density = density / max(max(max(density.x, density.y), density.z), density.w);
      } else {
        density = floor(density / quantizationStep) * quantizationStep;
      }

      if (density.x + density.y + density.z + density.w == 0.0) {
        discard;
      }

      float alpha = combine_alphas(density);

      density *= alpha / (density.x + density.y + density.z + density.w);

      vec3 c1 = colorMatrix[0].rgb * density.x;
      vec3 c2 = colorMatrix[1].rgb * density.y;
      vec3 c3 = colorMatrix[2].rgb * density.z;
      vec3 c4 = colorMatrix[3].rgb * density.w;
      vec3 c;

      if (isDarkMode == 0) {
        c = vec3(1.0) - alpha + c1 + c2 + c3 + c4;
      } else {
        c = c1 + c2 + c3 + c4;
      }

      outColor = vec4(c, 1.0) * alpha * globalAlpha;
    }
  `}}function VQe(t,e){let{vertex:n,fragment:r}=qQe(),i=t.statefulDerive([e,n,r],$c),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],wc);return t.derive([e,i,s],(o,a,l)=>(u,c,f,h,d,m)=>{o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindTexture(o.TEXTURE_2D,u.texture),o.useProgram(a.program),o.uniform1i(a.uniforms.source,0),o.uniform2f(a.uniforms.resolution,u.width,u.height),o.uniform1f(a.uniforms.densityScaler,c),o.uniform1f(a.uniforms.quantizationStep,f),o.uniform1f(a.uniforms.globalAlpha,h),o.uniform1i(a.uniforms.isDarkMode,m=="dark"?1:0),o.uniformMatrix4fv(a.uniforms.colorMatrix,!1,d),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}function XQe(t){let e;return t?e=`#version 300 es
      precision highp float;
      uniform mat3 matrix;
      uniform float point_size;
      uniform float alpha;
      uniform vec4 colorScheme[64];

      layout(location=0) in float x;
      layout(location=1) in float y;
      layout(location=2) in int category;

      out vec4 color;

      void main() {
        gl_Position = vec4(matrix * vec3(x, y, 1), 1);
        if (category < 64) {
          color = colorScheme[category];
        } else {
          color = vec4(0.5, 0.5, 0.5, 1);
        }
        color *= alpha;
        gl_PointSize = point_size;
      }
    `:e=`#version 300 es
      precision highp float;
      uniform mat3 matrix;
      uniform float point_size;
      uniform vec4 colorScheme;
      uniform float alpha;

      layout(location=0) in float x;
      layout(location=1) in float y;

      out vec4 color;

      void main() {
        gl_Position = vec4(matrix * vec3(x, y, 1), 1);
        color = colorScheme;
        color *= alpha;
        gl_PointSize = point_size;
      }
    `,{vertex:e,fragment:`#version 300 es
    precision highp float;
    uniform float point_size;
    in vec4 color;
    out vec4 outColor;
    void main() {
      float r = length(gl_PointCoord.xy - vec2(0.5, 0.5)) * point_size;
      float a = max(0.0, min(1.0, point_size / 2.0 - r));
      outColor = color * a;
    }
  `}}function vU(t,e,n,r,i,s){let o=i!=null,a=XQe(o),l=t.statefulDerive([e,a.vertex,a.fragment],$c);return t.derive([e,l,n,r,i,s],(u,c,f,h,d,m)=>(g,b,v,O)=>{u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.useProgram(c.program),u.enableVertexAttribArray(0),u.bindBuffer(u.ARRAY_BUFFER,f),u.vertexAttribPointer(0,1,u.FLOAT,!1,0,0),u.enableVertexAttribArray(1),u.bindBuffer(u.ARRAY_BUFFER,h),u.vertexAttribPointer(1,1,u.FLOAT,!1,0,0),d!=null&&(u.enableVertexAttribArray(2),u.bindBuffer(u.ARRAY_BUFFER,d),u.vertexAttribIPointer(2,1,u.BYTE,0,0)),u.bindBuffer(u.ARRAY_BUFFER,null),u.uniformMatrix3fv(c.uniforms.matrix,!1,g),u.uniform1f(c.uniforms.point_size,b*2),u.uniform1f(c.uniforms.alpha,v),o?u.uniform4fv(c.uniforms.colorScheme,O):u.uniform4fv(c.uniforms.colorScheme,O.slice(0,4)),u.drawArrays(u.POINTS,0,m),u.disableVertexAttribArray(0),u.disableVertexAttribArray(1),d!=null&&u.disableVertexAttribArray(2),u.useProgram(null)})}function ZQe(){return{vertex:`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D source;
    uniform vec2 resolution;
    uniform mat4 colorMatrix;
    uniform float pointAlpha;
    uniform float globalAlpha;
    uniform int isDarkMode;
    in vec2 uv;
    out vec4 outColor;

    /* Combine alphas with symmetric blending equation f(a, b) = a + b - ab. */
    float combine_alphas(vec4 alphas) {
      float r = alphas.x + alphas.y - alphas.x * alphas.y;
      r = r + alphas.z - r * alphas.z;
      r = r + alphas.w - r * alphas.w;
      return r;
    }

    void main() {
      vec4 count = texture(source, uv);
      vec4 alphas = pointAlpha >= 0.999
        ? vec4(count.x > 0.0 ? 1.0 : 0.0, count.y > 0.0 ? 1.0 : 0.0, count.z > 0.0 ? 1.0 : 0.0, count.w > 0.0 ? 1.0 : 0.0)
        : vec4(1.0) - pow(vec4(1.0 - pointAlpha), count);
      float a = combine_alphas(alphas);
      if (a <= 0.0) { discard; }
      alphas *= a / (alphas.x + alphas.y + alphas.z + alphas.w);

      vec3 c1 = colorMatrix[0].rgb * alphas.x;
      vec3 c2 = colorMatrix[1].rgb * alphas.y;
      vec3 c3 = colorMatrix[2].rgb * alphas.z;
      vec3 c4 = colorMatrix[3].rgb * alphas.w;
      vec3 c;
      if (isDarkMode == 0) {
        c = vec3(1.0) - a + c1 + c2 + c3 + c4;
      } else {
        c = c1 + c2 + c3 + c4;
      }
      outColor = vec4(c, 1.0) * a * globalAlpha;
    }
  `}}function WQe(t,e){let{vertex:n,fragment:r}=ZQe(),i=t.statefulDerive([e,n,r],$c),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],wc);return t.derive([e,i,s],(o,a,l)=>(u,c,f,h,d)=>{o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindTexture(o.TEXTURE_2D,u.texture),o.useProgram(a.program),o.uniform1i(a.uniforms.source,0),o.uniform2f(a.uniforms.resolution,u.width,u.height),o.uniform1f(a.uniforms.pointAlpha,c),o.uniform1f(a.uniforms.globalAlpha,f),o.uniform1i(a.uniforms.isDarkMode,d=="dark"?1:0),o.uniformMatrix4fv(a.uniforms.colorMatrix,!1,h),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}let YQe=class{props;viewport;df;gl;renderInputs;dataBuffers;renderer;constructor(e,n,r){this.props={mode:"points",colorScheme:"light",x:new Float32Array,y:new Float32Array,category:null,categoryCount:1,categoryColors:null,viewportX:0,viewportY:0,viewportScale:1,pointSize:1,pointAlpha:1,pointsAlpha:1,densityScaler:1,densityBandwidth:1,densityQuantizationStep:.1,contoursAlpha:1,densityAlpha:1,gamma:2.2,width:n,height:r,downsampleMaxPoints:4e6,downsampleDensityWeight:5},this.viewport=new X3({x:0,y:0,scale:1},n,r);let i=new J0,s=i.value(e);this.df=i,this.gl=s,this.renderInputs={mode:i.value(this.props.mode),colorScheme:i.value(this.props.colorScheme),xData:i.value(this.props.x),yData:i.value(this.props.y),categoryData:i.value(this.props.category),categoryCount:i.value(this.props.categoryCount),matrix:i.value(hie()),width:i.value(n),height:i.value(r),pointSize:i.value(this.props.pointSize),densityBandwidth:i.value(this.props.densityBandwidth),downsampleMaxPoints:i.value(this.props.downsampleMaxPoints),downsampleDensityWeight:i.value(this.props.downsampleDensityWeight)},this.dataBuffers=GQe(i,s,this.renderInputs),this.renderer=HQe(i,s,this.renderInputs,this.dataBuffers)}setProps(e){let n=!1,r;for(r in e)e[r]!==this.props[r]&&(this.props[r]=e[r],n=!0);return this.viewport.update({x:this.props.viewportX,y:this.props.viewportY,scale:this.props.viewportScale},this.props.width,this.props.height),this.renderInputs.mode.value=this.props.mode,this.renderInputs.colorScheme.value=this.props.colorScheme,this.renderInputs.xData.value=this.props.x,this.renderInputs.yData.value=this.props.y,this.renderInputs.categoryData.value=this.props.category,this.props.category!=null?this.renderInputs.categoryCount.value=this.props.categoryCount:this.renderInputs.categoryCount.value=1,this.renderInputs.matrix.value=this.viewport.matrix(),this.renderInputs.width.value=this.props.width,this.renderInputs.height.value=this.props.height,this.renderInputs.pointSize.value=this.props.pointSize,this.renderInputs.densityBandwidth.value=this.props.densityBandwidth,this.renderInputs.downsampleMaxPoints.value=this.props.downsampleMaxPoints,this.renderInputs.downsampleDensityWeight.value=this.props.downsampleDensityWeight,n}render(){this.renderer.value(this.props)}destroy(){this.df.destroy()}async densityMap(e,n,r,i){let s=this.df.subgraph(),o=eBe(s,this.gl,this.dataBuffers,s.value(e),s.value(n),s.value(r)),{x:a,y:l,scale:u}=i,c=[u,0,0,0,u,0,-a*u,-l*u,1],f=o.value(c),h=pie(c);return s.destroy(),{data:f,width:e,height:n,coordinateAtPixel:(d,m)=>{let g=d/e*2-1,b=m/n*2-1,v=die([g,b,1],h);return{x:v[0],y:v[1]}}}}};function GQe(t,e,n){const r=t.statefulDerive([e,n.xData,"f32"],wc),i=t.statefulDerive([e,n.yData,"f32"],wc),s=t.if(t.derive([n.categoryData],a=>a!=null),a=>a.statefulDerive([e,a.assertNotNull(n.categoryData),"u8"],wc),a=>a.value(null)),o=t.derive([n.xData],a=>a.length);return{x:r,y:i,category:s,count:o}}function HQe(t,e,n,r){return t.switch(n.mode,{points:i=>KQe(i,e,n,r),density:i=>JQe(i,e,n,r)})}function KQe(t,e,n,r){const i=t.derive([n.categoryCount],l=>l>1),s=t.statefulDerive([e,n.width,n.height,4,"f32"],rd);let o=t.if(i,l=>vU(l,e,r.x,r.y,l.assertNotNull(r.category),r.count),l=>vU(l,e,r.x,r.y,null,r.count)),a=gie(t,e);return t.derive([e,s,o,a,n.colorScheme,n.matrix,n.categoryCount],(l,u,c,f,h,d,m)=>g=>{let b=[],v=g.categoryColors??C1(g.categoryCount);for(let O=0;O<m;O++)if(O<v.length){let{r:_,g:S,b:k}=DR(v[O]);_=Math.pow(_,g.gamma),S=Math.pow(S,g.gamma),k=Math.pow(k,g.gamma),b=b.concat([_,S,k,1])}else b=b.concat([.5,.5,.5,1]);l.bindFramebuffer(l.FRAMEBUFFER,u.framebuffer),l.viewport(0,0,u.width,u.height),h=="light"?l.clearColor(1,1,1,1):l.clearColor(0,0,0,1),l.clear(l.COLOR_BUFFER_BIT),c(d,Math.max(3,g.pointSize),g.pointAlpha*g.pointsAlpha,b),l.bindFramebuffer(l.FRAMEBUFFER,null),l.viewport(0,0,g.width,g.height),f(u.texture,g.gamma)})}function JQe(t,e,n,r){let i=t.derive([n.densityBandwidth],_=>NQe(_)+1),s=t.derive([n.width,i],(_,S)=>_+S*2),o=t.derive([n.height,i],(_,S)=>_+S*2);const a=t.derive([n.categoryCount],_=>_>1),l=t.statefulDerive([e,s,o,4,"f32"],rd),u=t.statefulDerive([e,s,o,4,"f32"],rd),c=t.statefulDerive([e,s,o,4,"f32"],rd),f=t.statefulDerive([e,s,o,4,"f32"],rd);let h=t.if(a,_=>YT(_,e,r.x,r.y,_.assertNotNull(r.category),r.count),_=>YT(_,e,r.x,r.y,null,r.count)),d=PQe(t,e,n.pointSize),m=BQe(t,e,n.densityBandwidth),g=WQe(t,e),b=VQe(t,e),v=jQe(t,e),O=gie(t,e);return t.derive([e,l,u,c,f,n.colorScheme,n.matrix,h,d,m,g,b,v,O],(_,S,k,A,C,T,P,N,I,$,R,M,B,U)=>j=>{let ee=j.categoryColors??C1(j.categoryCount),W=[];for(let ie=0;ie<4;ie++)if(ie<ee.length){let{r:_e,g:le,b:ce}=DR(ee[ie]);_e=Math.pow(_e,j.gamma),le=Math.pow(le,j.gamma),ce=Math.pow(ce,j.gamma),W=W.concat([_e,le,ce,1])}else W=W.concat([.5,.5,.5,1]);let ue=j.width/k.width,te=j.height/k.height,ae=PR([ue,0,0,0,te,0,0,0,1],P);if(_.bindFramebuffer(_.FRAMEBUFFER,S.framebuffer),_.viewport(0,0,S.width,S.height),_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT),N(ae),_.bindFramebuffer(_.FRAMEBUFFER,k.framebuffer),_.viewport(0,0,k.width,k.height),T=="light"?_.clearColor(1,1,1,1):_.clearColor(0,0,0,1),_.clear(_.COLOR_BUFFER_BIT),j.pointAlpha>0&&j.pointsAlpha>0&&(I(S.texture,A,C),_.bindFramebuffer(_.FRAMEBUFFER,k.framebuffer),R(A,j.pointAlpha,j.pointsAlpha,W,T)),j.densityScaler>0&&(j.densityAlpha>0||j.contoursAlpha>0)&&($(S.texture,A,C),_.bindFramebuffer(_.FRAMEBUFFER,k.framebuffer),j.densityAlpha>0&&M(A,j.densityScaler,j.densityQuantizationStep,j.densityAlpha,W,T),j.contoursAlpha>0))for(let ie=0;ie<ee.length;ie++){let _e=[0,0,0,0];_e[ie]=1,B(A,j.densityScaler,j.densityQuantizationStep,j.contoursAlpha,_e,W.slice(ie*4,ie*4+4))}_.bindFramebuffer(_.FRAMEBUFFER,null),_.viewport(0,0,j.width,j.height),U(k.texture,j.gamma,1/ue,1/te)})}function eBe(t,e,n,r,i,s){let o=t.derive([s],m=>yie(m)+1),a=t.derive([r,o],(m,g)=>m+g*2),l=t.derive([i,o],(m,g)=>m+g*2);const u=t.statefulDerive([e,a,l,1,"f32"],rd),c=t.statefulDerive([e,a,l,1,"f32"],rd),f=t.statefulDerive([e,a,l,1,"f32"],rd);let h=YT(t,e,n.x,n.y,null,n.count),d=MQe(t,e,s);return t.derive([e,o,r,i,u,c,f,h,d],(m,g,b,v,O,_,S,k,A)=>C=>{let T=b/O.width,P=v/O.height,N=PR([T,0,0,0,P,0,0,0,1],C);m.bindFramebuffer(m.FRAMEBUFFER,O.framebuffer),m.viewport(0,0,O.width,O.height),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),k(N),A(O.texture,_,S),m.bindFramebuffer(m.FRAMEBUFFER,_.framebuffer);let I=new Float32Array(b*v);return m.readPixels(g,g,b,v,m.RED,m.FLOAT,I),m.bindFramebuffer(m.FRAMEBUFFER,null),I})}class tBe{i32View;u32View;f32View;offset;constructor(e){this.i32View=new Int32Array(e),this.u32View=new Uint32Array(e),this.f32View=new Float32Array(e),this.offset=0}align2(){this.offset%2!=0&&(this.offset+=2-this.offset%2)}align4(){this.offset%4!=0&&(this.offset+=4-this.offset%4)}f32(e){this.f32View[this.offset++]=e}u32(e){this.u32View[this.offset++]=e}i32(e){this.i32View[this.offset++]=e}vec2f(e,n){this.align2(),this.f32View[this.offset++]=e,this.f32View[this.offset++]=n}vec3f(e,n,r){this.align4(),this.f32View[this.offset++]=e,this.f32View[this.offset++]=n,this.f32View[this.offset++]=r}vec4f(e,n,r,i){this.align4(),this.f32View[this.offset++]=e,this.f32View[this.offset++]=n,this.f32View[this.offset++]=r,this.f32View[this.offset++]=i}mat3x3f(e){this.vec3f(e[0],e[1],e[2]),this.vec3f(e[3],e[4],e[5]),this.vec3f(e[6],e[7],e[8])}byteOffset(){return this.offset*4}}function nBe(t,e){let n=new ArrayBuffer(4288),r=t.statefulDerive([e,4288,GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST|GPUBufferUsage.VERTEX],Wf);return{buffer:r,update:t.derive([e,r],(i,s)=>o=>{let a=new tBe(n);a.u32(o.count),a.u32(o.category_count),a.i32(o.framebuffer_width),a.i32(o.framebuffer_height),a.i32(o.density_width),a.i32(o.density_height),a.f32(o.gamma),a.f32(o.point_size),a.f32(o.point_alpha),a.f32(o.points_alpha),a.f32(o.density_scaler),a.f32(o.quantization_step),a.f32(o.density_alpha),a.f32(o.contours_alpha),a.mat3x3f(o.matrix),a.vec2f(...o.view_xy_scaler),a.vec4f(...o.kde_causal),a.vec4f(...o.kde_anticausal),a.vec4f(...o.kde_a),a.vec4f(...o.background_color);let l=o.gamma;for(let u=0;u<Math.min(o.category_colors.length,256);u++){let{r:c,g:f,b:h,a:d}=o.category_colors[u];c=Math.pow(c,l),f=Math.pow(f,l),h=Math.pow(h,l),a.vec4f(c,f,h,d)}i.queue.writeBuffer(s,0,n,0,a.byteOffset())})}}const R6=64,$6=64;function bie(t,e,n,r,i,s){let o=t.derive([e,n,r.layouts],(a,l,u)=>a.createComputePipeline({layout:a.createPipelineLayout({bindGroupLayouts:[u.group0,u.group1,u.group2A]}),compute:{module:l,entryPoint:"accumulate"}}));return t.derive([o,r.group0,r.group1,r.group2A,s.countBuffer,i.count],(a,l,u,c,f,h)=>d=>{if(d.clearBuffer(f),h==0)return;let m=d.beginComputePass();m.setPipeline(a),m.setBindGroup(0,l),m.setBindGroup(1,u),m.setBindGroup(2,c),h<=R6*$6?m.dispatchWorkgroups(Math.ceil(h/R6)):m.dispatchWorkgroups($6,Math.ceil(h/(R6*$6))),m.end()})}function rBe(t){const{COMPUTE:e,VERTEX:n,FRAGMENT:r}=GPUShaderStage;return{group0:t.createBindGroupLayout({entries:[{binding:0,visibility:e|n|r,buffer:{type:"uniform"}}]}),group1:t.createBindGroupLayout({entries:[{binding:0,visibility:e|n,buffer:{type:"read-only-storage"}},{binding:1,visibility:e|n,buffer:{type:"read-only-storage"}},{binding:2,visibility:e|n,buffer:{type:"read-only-storage"}}]}),group2A:t.createBindGroupLayout({entries:[{binding:0,visibility:e|r,buffer:{type:"storage"}}]}),group2B:t.createBindGroupLayout({entries:[{binding:1,visibility:e|r,buffer:{type:"storage"}},{binding:2,visibility:e|r,buffer:{type:"storage"}}]}),group3:t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float"}},{binding:2,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float"}}]})}}function vie(t,e,n,r,i){let s=t.derive([e],f=>rBe(f)),o=t.derive([e,s,n],(f,h,d)=>f.createBindGroup({layout:h.group0,entries:[{binding:0,resource:{buffer:d}}]})),a=t.derive([e,s,r.x,r.y,r.category],(f,h,d,m,g)=>f.createBindGroup({layout:h.group1,entries:[{binding:0,resource:{buffer:d}},{binding:1,resource:{buffer:m}},{binding:2,resource:{buffer:g??d}}]})),l=t.derive([e,s,i.countBuffer,i.blurBuffer],(f,h,d,m)=>f.createBindGroup({layout:h.group2A,entries:[{binding:0,resource:{buffer:d}}]})),u=t.derive([e,s,i.countBuffer,i.blurBuffer],(f,h,d,m)=>f.createBindGroup({layout:h.group2B,entries:[{binding:1,resource:{buffer:d}},{binding:2,resource:{buffer:m}}]})),c=t.derive([e,s,i.colorTexture,i.alphaTexture],(f,h,d,m)=>f.createBindGroup({layout:h.group3,entries:[{binding:0,resource:f.createSampler({})},{binding:1,resource:d.createView()},{binding:2,resource:m.createView()}]}));return{layouts:s,group0:o,group1:a,group2A:l,group2B:u,group3:c}}const Oie=256,GT=256,iBe=GT*Oie;function sBe(t){const e=Math.ceil(t/Oie);if(e<=GT)return[e,1];const n=Math.ceil(t/iBe);return[GT,n]}function oBe(t,e,n,r){const i=t.statefulDerive([e,t.value(16),GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST],Wf),s=t.statefulDerive([e,t.value(16),GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST],Wf),o=t.derive([n],h=>Math.max(4,h*4)),a=t.statefulDerive([e,o,GPUBufferUsage.STORAGE],Wf),l=t.derive([e],h=>h.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"uniform"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}},{binding:2,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})),u=t.derive([e,l,i,s,a],(h,d,m,g,b)=>h.createBindGroup({layout:d,entries:[{binding:0,resource:{buffer:m}},{binding:1,resource:{buffer:g}},{binding:2,resource:{buffer:b}}]})),c=t.derive([e],h=>h.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.VERTEX,buffer:{type:"read-only-storage"}}]})),f=t.derive([e,c,a],(h,d,m)=>h.createBindGroup({layout:d,entries:[{binding:0,resource:{buffer:m}}]}));return{uniformBuffer:i,countersBuffer:s,pointDataBuffer:a,bindGroupLayout:l,bindGroup:u,vertexBindGroupLayout:c,vertexBindGroup:f}}function aBe(t,e,n,r,i,s,o,a,l,u){const c=t.derive([e],b=>b.createBindGroupLayout({entries:[{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})),f=t.derive([e,c,s],(b,v,O)=>b.createBindGroup({layout:v,entries:[{binding:1,resource:{buffer:O}}]})),h=t.derive([e],b=>b.createBindGroupLayout({entries:[]})),d=t.derive([e,h],(b,v)=>b.createBindGroup({layout:v,entries:[]})),m=t.derive([e,n,r,i,c,l.bindGroupLayout],(b,v,O,_,S,k)=>b.createComputePipeline({layout:b.createPipelineLayout({bindGroupLayouts:[O,_,S,k]}),compute:{module:v,entryPoint:"downsample_viewport_cull"}})),g=t.derive([e,n,r,i,h,l.bindGroupLayout],(b,v,O,_,S,k)=>b.createComputePipeline({layout:b.createPipelineLayout({bindGroupLayouts:[O,_,S,k]}),compute:{module:v,entryPoint:"downsample_density_sample"}}));return t.derive([e,m,g,o,a,f,d,l.bindGroup,l.uniformBuffer,l.countersBuffer,u.count],(b,v,O,_,S,k,A,C,T,P,N)=>(I,$)=>{if(N===0||$.maxPoints<=0)return 0;const R=new ArrayBuffer(16),M=new DataView(R);M.setUint32(0,$.maxPoints,!0),M.setUint32(4,$.frameSeed,!0),M.setFloat32(8,$.densityWeight,!0),M.setFloat32(12,0,!0),b.queue.writeBuffer(T,0,R),I.clearBuffer(P);const[B,U]=sBe(N);{const j=I.beginComputePass();j.setPipeline(v),j.setBindGroup(0,_),j.setBindGroup(1,S),j.setBindGroup(2,k),j.setBindGroup(3,C),j.dispatchWorkgroups(B,U),j.end()}{const j=I.beginComputePass();j.setPipeline(O),j.setBindGroup(0,_),j.setBindGroup(1,S),j.setBindGroup(2,A),j.setBindGroup(3,C),j.dispatchWorkgroups(B,U),j.end()}})}function lBe(t,e,n,r,i){const s=t.derive([e,n,r.layouts],(o,a,l)=>o.createRenderPipeline({layout:o.createPipelineLayout({bindGroupLayouts:[l.group0,l.group1,l.group2B]}),vertex:{entryPoint:"draw_density_map_vs",module:a},fragment:{entryPoint:"draw_density_map_fs",module:a,targets:[{format:i.colorTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}},{format:i.alphaTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}}]},primitive:{topology:"triangle-strip"}}));return t.derive([s,r.group0,r.group1,r.group2B,i.colorTexture,i.alphaTexture],(o,a,l,u,c,f)=>h=>{let d=h.beginRenderPass({colorAttachments:[{loadOp:"load",storeOp:"store",view:c.createView()},{loadOp:"load",storeOp:"store",view:f.createView()}]});d.setPipeline(o),d.setBindGroup(0,a),d.setBindGroup(1,l),d.setBindGroup(2,u),d.draw(4),d.end()})}function uBe(t,e,n,r,i,s){const o=t.derive([e,n,r.layouts],(a,l,u)=>a.createRenderPipeline({layout:a.createPipelineLayout({bindGroupLayouts:[u.group0,u.group1]}),vertex:{entryPoint:"points_vs",module:l},fragment:{entryPoint:"points_fs",module:l,targets:[{format:s.colorTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}},{format:s.alphaTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}}]},primitive:{topology:"triangle-strip"}}));return t.derive([o,r.group0,r.group1,i.count,s.colorTexture,s.alphaTexture],(a,l,u,c,f,h)=>d=>{let m=d.beginRenderPass({colorAttachments:[{clearValue:[0,0,0,0],loadOp:"clear",storeOp:"store",view:f.createView()},{clearValue:[0,0,0,0],loadOp:"clear",storeOp:"store",view:h.createView()}]});m.setPipeline(a),m.setBindGroup(0,l),m.setBindGroup(1,u),c>0&&m.draw(4,c),m.end()})}function cBe(t,e,n,r,i,s){const o=t.derive([e,n,r.layouts,i.vertexBindGroupLayout],(a,l,u,c)=>a.createRenderPipeline({layout:a.createPipelineLayout({bindGroupLayouts:[u.group0,u.group1,c]}),vertex:{entryPoint:"points_downsampled_vs",module:l},fragment:{entryPoint:"points_fs",module:l,targets:[{format:s.colorTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}},{format:s.alphaTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}}]},primitive:{topology:"triangle-strip"}}));return t.derive([o,r.group0,r.group1,i.vertexBindGroup,s.colorTexture,s.alphaTexture],(a,l,u,c,f,h)=>(d,m)=>{let g=d.beginRenderPass({colorAttachments:[{clearValue:[0,0,0,0],loadOp:"clear",storeOp:"store",view:f.createView()},{clearValue:[0,0,0,0],loadOp:"clear",storeOp:"store",view:h.createView()}]});g.setPipeline(a),g.setBindGroup(0,l),g.setBindGroup(1,u),g.setBindGroup(2,c),m>0&&g.draw(4,m),g.end()})}function fBe(t,e,n,r,i){const s=t.derive([e,n,i.layouts],(o,a,l)=>o.createRenderPipeline({layout:o.createPipelineLayout({bindGroupLayouts:[l.group0,l.group1,l.group2B,l.group3]}),vertex:{entryPoint:"gamma_correction_vs",module:a},fragment:{entryPoint:"gamma_correction_fs",module:a,targets:[{format:r}]},primitive:{topology:"triangle-strip"}}));return t.derive([s,i.group0,i.group1,i.group2B,i.group3],(o,a,l,u,c)=>(f,h)=>{let d=f.beginRenderPass({colorAttachments:[{clearValue:[1,1,1,1],loadOp:"clear",storeOp:"store",view:h}]});d.setPipeline(o),d.setBindGroup(0,a),d.setBindGroup(1,l),d.setBindGroup(2,u),d.setBindGroup(3,c),d.draw(4),d.end()})}const OU=64;function wie(t,e,n,r,i,s,o){let a=t.derive([e,n,r.layouts],(u,c,f)=>u.createComputePipeline({layout:u.createPipelineLayout({bindGroupLayouts:[f.group0,f.group1,f.group2B,f.group3]}),compute:{module:c,entryPoint:"gaussian_blur_stage_1"}})),l=t.derive([e,n,r.layouts],(u,c,f)=>u.createComputePipeline({layout:u.createPipelineLayout({bindGroupLayouts:[f.group0,f.group1,f.group2B,f.group3]}),compute:{module:c,entryPoint:"gaussian_blur_stage_2"}}));return t.derive([a,l,r.group0,r.group1,r.group2B,r.group3,i,s,o],(u,c,f,h,d,m,g,b,v)=>O=>{let _=O.beginComputePass();_.setBindGroup(0,f),_.setBindGroup(1,h),_.setBindGroup(2,d),_.setBindGroup(3,m),_.setPipeline(u),_.dispatchWorkgroups(Math.ceil(g/OU),v),_.setPipeline(c),_.dispatchWorkgroups(Math.ceil(b/OU),v),_.end()})}function hBe(t,e=!1){const n=new Float64Array(5),r=new Float64Array(4);dBe(n,r,t);const i=Float64Array.of(0,r[1]-n[1]*r[0],r[2]-n[2]*r[0],r[3]-n[3]*r[0],-n[4]*r[0]),s=1+n[1]+n[2]+n[3]+n[4],o=(r[0]+r[1]+r[2]+r[3])/s,a=(i[1]+i[2]+i[3]+i[4])/s;return{sigma:t,negative:e,a:n,b_causal:r,b_anticausal:i,sum_causal:o,sum_anticausal:a}}function dBe(t,e,n){const r=Float64Array.of(.84,1.8675,.84,-1.8675,-.34015,-.1299,-.34015,.1299),i=Math.exp(-1.783/n),s=Math.exp(-1.723/n),o=.6318/n,a=1.997/n,l=Float64Array.of(-i*Math.cos(o),i*Math.sin(o),-i*Math.cos(-o),i*Math.sin(-o),-s*Math.cos(a),s*Math.sin(a),-s*Math.cos(-a),s*Math.sin(-a)),u=n*2.5066282746310007,c=Float64Array.of(r[0],r[1],0,0,0,0,0,0),f=Float64Array.of(1,0,l[0],l[1],0,0,0,0,0,0);let h,d;for(d=2;d<8;d+=2){for(c[d]=l[d]*c[d-2]-l[d+1]*c[d-1],c[d+1]=l[d]*c[d-1]+l[d+1]*c[d-2],h=d-2;h>0;h-=2)c[h]+=l[d]*c[h-2]-l[d+1]*c[h-1],c[h+1]+=l[d]*c[h-1]+l[d+1]*c[h-2];for(h=0;h<=d;h+=2)c[h]+=r[d]*f[h]-r[d+1]*f[h+1],c[h+1]+=r[d]*f[h+1]+r[d+1]*f[h];for(f[d+2]=l[d]*f[d]-l[d+1]*f[d+1],f[d+3]=l[d]*f[d+1]+l[d+1]*f[d],h=d;h>0;h-=2)f[h]+=l[d]*f[h-2]-l[d+1]*f[h-1],f[h+1]+=l[d]*f[h-1]+l[d+1]*f[h-2]}for(d=0;d<4;++d)h=d<<1,e[d]=c[h]/u,t[d+1]=f[h+2]}function xie(t){let e=hBe(t);return{kde_causal:[e.b_causal[0],e.b_causal[1],e.b_causal[2],e.b_causal[3]],kde_anticausal:[e.b_anticausal[1],e.b_anticausal[2],e.b_anticausal[3],e.b_anticausal[4]],kde_a:[e.a[1],e.a[2],e.a[3],e.a[4]]}}const pBe=`// Copyright (c) 2025 Apple Inc. Licensed under MIT License.

enable f16;

struct Uniforms {
  count: u32,
  category_count: u32,
  framebuffer_width: i32,
  framebuffer_height: i32,
  density_width: i32,
  density_height: i32,
  gamma: f32,
  point_size: f32,
  point_alpha: f32,
  points_alpha: f32,
  density_scaler: f32,
  quantization_step: f32,
  density_alpha: f32,
  contours_alpha: f32,
  matrix: mat3x3<f32>,
  view_xy_scaler: vec2<f32>,
  kde_causal: vec4<f32>,
  kde_anticausal: vec4<f32>,
  kde_a: vec4<f32>,
  background_color: vec4<f32>,
  category_colors: array<vec4<f32>, 256>,
}

struct DownsampleUniforms {
  render_limit: u32,
  frame_seed: u32,
  density_weight: f32,
  _padding: f32,
}

struct PointData {
  position: vec3<f32>,
  category: u32,
}

struct FragmentOutput {
  @location(0) color: vec4<f32>,
  @location(1) log1malpha: f32, // log(1 - alpha)
}

@group(0) @binding(0) var<uniform> uniforms: Uniforms;

@group(1) @binding(0) var<storage, read> x_buffer: array<f32>;
@group(1) @binding(1) var<storage, read> y_buffer: array<f32>;
@group(1) @binding(2) var<storage, read> category_buffer: array<u32>;

@group(2) @binding(0) var<storage, read_write> count_buffer: array<atomic<u32>>;
@group(2) @binding(1) var<storage, read_write> blur_buffer: array<f16>;
@group(2) @binding(2) var<storage, read_write> blur_swap_buffer: array<f16>;

@group(3) @binding(0) var framebuffer_sampler: sampler;
@group(3) @binding(1) var color_texture: texture_2d<f32>;
@group(3) @binding(2) var log1malpha_texture: texture_2d<f32>;

// Downsampling bind groups (group 3 for compute shaders)
// WebGPU has a default limit of 4 bind groups, so we use group 3 (not 4)
// 3 storage buffers to stay within 8-buffer limit (3 from group1 + 1 from group2 + 3 from group3 = 7)
@group(3) @binding(0) var<uniform> downsample_uniforms: DownsampleUniforms;
@group(3) @binding(1) var<storage, read_write> downsample_counters: array<atomic<u32>>; // [visible_count, max_density_fixed]
@group(3) @binding(2) var<storage, read_write> point_data: array<f32>; // density (>= 0 means visible with density, < 0 means not visible or not accepted)

// Separate binding for vertex shader in downsampled draw pipeline
// Uses group 2 since the pipeline only needs groups 0, 1, 2
// (read-only access required by WebGPU for vertex shaders)
@group(2) @binding(0) var<storage, read> point_data_read: array<f32>; // same as point_data above

fn get_point(index: u32) -> PointData {
  var result: PointData;
  result.position = vec3(x_buffer[index], y_buffer[index], 1.0);
  if (uniforms.category_count > 1) {
    result.category = (category_buffer[index >> 2] >> ((index & 3) << 3)) & 0xff;
  } else {
    result.category = 0;
  }
  return result;
}

const ACCUMULATE_UNIT: u32 = 4096;

fn increment_count(x: i32, y: i32, category: u32, value: u32) {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  if (x < 0 || x >= width || y < 0 || y >= height || category >= uniforms.category_count || value == 0) {
    return;
  }
  let offset = (y * width + x) + i32(category) * (width * height);
  atomicAdd(&count_buffer[offset], value);
}

@compute @workgroup_size(64, 1)
fn accumulate(@builtin(global_invocation_id) id: vec3<u32>) {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  let index = id.y * 4096 + id.x; // 4096 = 64 * 64
  if (index >= uniforms.count) { return; }
  let point = get_point(index);
  let pos = uniforms.matrix * point.position;
  let x = (pos.x + 1.0) / 2.0 * f32(width) - 0.5;
  let y = (pos.y + 1.0) / 2.0 * f32(height) - 0.5;
  let ix = i32(x);
  let iy = i32(y);
  let tx = x - f32(ix);
  let ty = y - f32(iy);
  let w1: u32 = u32((1 - tx) * (1 - ty) * f32(ACCUMULATE_UNIT));
  let w2: u32 = u32(tx * (1 - ty) * f32(ACCUMULATE_UNIT));
  let w3: u32 = u32((1 - tx) * ty * f32(ACCUMULATE_UNIT));
  let w123 = w1 + w2 + w3;
  var w4: u32 = select(0, ACCUMULATE_UNIT - w123, w123 < ACCUMULATE_UNIT);
  increment_count(ix, iy, point.category, w1);
  increment_count(ix + 1, iy, point.category, w2);
  increment_count(ix, iy + 1, point.category, w3);
  increment_count(ix + 1, iy + 1, point.category, w4);
}

// =====================================================
// Draw Discrete Points
// =====================================================

struct PointsVertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) dp: vec3<f32>,
  @location(1) color: vec4<f32>,
}

@vertex
fn points_vs(
  @builtin(instance_index) index: u32,
  @builtin(vertex_index) part: u32,
) -> PointsVertexOutput {
  let framebuffer_size = vec2(f32(uniforms.framebuffer_width), f32(uniforms.framebuffer_height));
  let alpha = uniforms.point_alpha * uniforms.points_alpha;
  let dp = vec2<f32>(f32(part % 2), f32(part / 2)) * 2.0 - 1.0;
  let point = get_point(index);
  let pos = uniforms.matrix * point.position;

  var out: PointsVertexOutput;
  out.position = vec4<f32>(pos.xy + dp * uniforms.point_size / framebuffer_size * 2.0, 0.0, 1.0);
  out.dp = vec3(dp, uniforms.point_size);
  out.color = uniforms.category_colors[point.category] * alpha;
  return out;
}

@fragment
fn points_fs(in: PointsVertexOutput) -> FragmentOutput {
  let r = length(in.dp.xy) * in.dp.z;
  let a = max(0.0, min(1.0, in.dp.z - r));
  var out: FragmentOutput;
  out.color = in.color * a;
  out.log1malpha = log(1 - out.color.a);
  return out;
}

// =====================================================
// Draw Density Map
// =====================================================

struct DrawDensityMapVertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) texture_coord: vec2<f32>,
}

@vertex
fn draw_density_map_vs(
  @builtin(vertex_index) part: u32,
) -> DrawDensityMapVertexOutput {
  let framebuffer_size = vec2(f32(uniforms.framebuffer_width), f32(uniforms.framebuffer_height));
  let dp = vec2<f32>(f32(part % 2), f32(part / 2)) * 2.0 - 1.0;
  var out: DrawDensityMapVertexOutput;
  out.position = vec4(dp, 0.0, 1.0);
  out.texture_coord = (vec2(dp.x, dp.y) + 1.0) / 2.0 * framebuffer_size;
  return out;
}

fn get_density_raw(x: i32, y: i32, category: u32) -> f32 {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  let density_scaler = uniforms.density_scaler;
  if (x < 0 || x >= width || y < 0 || y >= height) {
    return 0.0;
  }
  let offset = (y * width + x) + i32(category) * (width * height);
  return max(0.0, f32(blur_buffer[offset]) * density_scaler);
}

fn get_density(x: f32, y: f32, category: u32) -> f32 {
  let px = x / f32(uniforms.framebuffer_width) * f32(uniforms.density_width) - 0.5;
  let py = y / f32(uniforms.framebuffer_height) * f32(uniforms.density_height) - 0.5;
  let ix = i32(px);
  let iy = i32(py);
  let tx = px - f32(ix);
  let ty = py - f32(iy);
  let v00 = get_density_raw(ix, iy, category);
  let v10 = get_density_raw(ix + 1, iy, category);
  let v01 = get_density_raw(ix, iy + 1, category);
  let v11 = get_density_raw(ix + 1, iy + 1, category);
  return mix(mix(v00, v10, tx), mix(v01, v11, tx), ty);
}

fn get_density_quantized(x: f32, y: f32, category: u32) -> f32 {
  let v = get_density(x, y, category);
  return floor(clamp(v, 0, 1) / uniforms.quantization_step);
}

fn get_density_quantized_sobel(x: f32, y: f32, category: u32) -> vec2<f32> {
  let v11 = get_density_quantized(x - 1, y - 1, category);
  let v21 = get_density_quantized(x, y - 1, category);
  let v31 = get_density_quantized(x + 1, y - 1, category);
  let v12 = get_density_quantized(x - 1, y, category);
  let v22 = get_density_quantized(x, y, category);
  let v32 = get_density_quantized(x + 1, y, category);
  let v13 = get_density_quantized(x - 1, y + 1, category);
  let v23 = get_density_quantized(x, y + 1, category);
  let v33 = get_density_quantized(x + 1, y + 1, category);
  let gx = v11 + v12 * 2.0 + v13 - v31 - v32 * 2.0 - v33;
  let gy = v11 + v21 * 2.0 + v31 - v13 - v23 * 2.0 - v33;
  return vec2(gx, gy);
}

@fragment
fn draw_density_map_fs(in: DrawDensityMapVertexOutput) -> FragmentOutput {
  let px = in.texture_coord.x;
  let py = in.texture_coord.y;
  let quantization_step: f32 = uniforms.quantization_step;

  var sum_color: vec4<f32> = vec4(0);
  var sum_log1malpha: f32 = 0.0;

  for (var i: u32 = 0; i < uniforms.category_count; i++) {
    let density = get_density(px, py, i);
    var alpha = min(1.0, floor(density / quantization_step) * quantization_step);
    alpha *= uniforms.density_alpha;
    let color = uniforms.category_colors[i] * alpha;
    sum_color += color;
    sum_log1malpha += log(1 - color.a);
  }

  if (uniforms.contours_alpha > 0.0) {
    for (var i: u32 = 0; i < uniforms.category_count; i++) {
      let sobel = get_density_quantized_sobel(px, py, i);
      let alpha = clamp(length(sobel) * 0.2, 0.0, 1.0) * uniforms.contours_alpha;
      let color = uniforms.category_colors[i] * alpha;
      sum_color += color;
      sum_log1malpha += log(1 - color.a);
    }
  }

  var out: FragmentOutput;
  out.color = sum_color;
  out.log1malpha = sum_log1malpha;
  return out;
}

// =====================================================
// Gamma Correction
// =====================================================

struct GammaCorrectionVertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) texture_coord: vec2<f32>,
}

@vertex
fn gamma_correction_vs(
  @builtin(vertex_index) part: u32,
) -> GammaCorrectionVertexOutput {
  let dp = vec2<f32>(f32(part % 2), f32(part / 2)) * 2.0 - 1.0;
  var out: GammaCorrectionVertexOutput;
  out.position = vec4(dp * uniforms.view_xy_scaler, 0.0, 1.0);
  out.texture_coord = (vec2(dp.x, -dp.y) + 1.0) / 2.0;
  return out;
}

@fragment
fn gamma_correction_fs(in: GammaCorrectionVertexOutput) -> @location(0) vec4<f32> {
  let sum_color = textureSample(color_texture, framebuffer_sampler, in.texture_coord);
  let sum_log_one_minus_alpha = textureSample(log1malpha_texture, framebuffer_sampler, in.texture_coord).r;
  var color: vec4<f32>;
  if (sum_color.a > 0.0) {
    color = sum_color / sum_color.a * (1.0 - exp(sum_log_one_minus_alpha));
    color = color + uniforms.background_color * (1 - color.a);
  } else {
    color = uniforms.background_color;
  }
  let rgb = pow(color.rgb, vec3(1.0 / uniforms.gamma));
  return vec4(rgb, 1.0);
}

// =====================================================
// Gaussian Blur
// =====================================================

@compute @workgroup_size(64, 1)
fn gaussian_blur_stage_1(@builtin(global_invocation_id) id: vec3<u32>) {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  let x = id.x;
  if (x >= u32(width)) { return; }
  let start = x + id.y * u32(width * height);
  let count = u32(height);
  let stride = u32(width);

  deriche_conv_1d(
    &blur_buffer, &blur_swap_buffer, start, stride, count,
    uniforms.kde_causal, uniforms.kde_anticausal, uniforms.kde_a,
    true
  );
}

@compute @workgroup_size(64, 1)
fn gaussian_blur_stage_2(@builtin(global_invocation_id) id: vec3<u32>) {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  let y = id.x;
  if (y >= u32(height)) { return; }
  let start = y * u32(width) + id.y * u32(width * height);
  let count = u32(width);
  let stride = u32(1);

  deriche_conv_1d(
    &blur_swap_buffer, &blur_buffer, start, stride, count,
    uniforms.kde_causal, uniforms.kde_anticausal, uniforms.kde_a,
    false
  );
}

fn deriche_conv_1d(
    src: ptr<storage, array<f16>, read_write>,
    dst: ptr<storage, array<f16>, read_write>,
    start: u32, stride: u32, count: u32,
    kde_causal: vec4<f32>, kde_anticausal: vec4<f32>, kde_a: vec4<f32>,
    src_is_u32: bool
) {
  var s: vec4<f32> = vec4(0.0);
  var y0: f32 = 0.0;
  var y1234: vec4<f32> = vec4(0.0);

  var first_nonzero: u32 = count;
  var last_nonzero: u32 = 0;

  for (var i: u32 = 0; i < count; i++) {
    let offset = start + i * stride;
    var input: f32;
    if (src_is_u32) {
      input = f32(bitcast<u32>(vec2((*src)[offset * 2], (*src)[offset * 2 + 1]))) / f32(ACCUMULATE_UNIT);
    } else {
      input = f32((*src)[offset]);
    }
    if (input != 0.0) {
      first_nonzero = min(i, first_nonzero);
      last_nonzero = max(i, last_nonzero);
    }
    s = vec4(input, s.xyz);
    y1234 = vec4(y0, y1234.xyz);
    y0 = dot(kde_causal, s) - dot(kde_a, y1234);
    (*dst)[offset] = f16(y0);
  }

  if (first_nonzero > last_nonzero) {
    return;
  }

  s = vec4(0.0);
  y0 = 0.0;
  y1234 = vec4(0.0);

  for (var i: u32 = count - 1 - last_nonzero; i < count; i++) {
    let p = count - 1 - i;
    let offset = start + p * stride;
    var input: f32 = 0.0;
    if (p >= first_nonzero) {
      if (src_is_u32) {
        input = f32(bitcast<u32>(vec2((*src)[offset * 2], (*src)[offset * 2 + 1]))) / f32(ACCUMULATE_UNIT);
      } else {
        input = f32((*src)[offset]);
      }
    }
    y1234 = vec4(y0, y1234.xyz);
    y0 = dot(kde_anticausal, s) - dot(kde_a, y1234);
    s = vec4(input, s.xyz);
    if (y0 != 0.0) {
      (*dst)[offset] = f16(f32((*dst)[offset]) + y0);
    }
  }
}

// =====================================================
// Downsampling: PCG hash for deterministic randomness
// =====================================================

fn pcg_hash(input: u32) -> u32 {
  var state = input * 747796405u + 2891336453u;
  let word = ((state >> ((state >> 28u) + 4u)) ^ state) * 277803737u;
  return (word >> 22u) ^ word;
}

fn random_float(seed: u32) -> f32 {
  return f32(pcg_hash(seed)) / 4294967295.0;
}

// =====================================================
// Downsampling Pass 1: Viewport culling + density lookup
// =====================================================
// Uses 2D dispatch for large point counts (>65K workgroups)
// Stride: 256 workgroups * 256 threads = 65536 threads per row

const DOWNSAMPLE_STRIDE: u32 = 65536u;

@compute @workgroup_size(256)
fn downsample_viewport_cull(@builtin(global_invocation_id) id: vec3<u32>) {
  let index = id.y * DOWNSAMPLE_STRIDE + id.x;
  if (index >= uniforms.count) { return; }

  let point = get_point(index);
  let pos = uniforms.matrix * point.position;

  // Check if point is in viewport [-1, 1]
  let in_viewport = pos.x >= -1.0 && pos.x <= 1.0 && pos.y >= -1.0 && pos.y <= 1.0;

  if (in_viewport) {
    // Increment visible count
    atomicAdd(&downsample_counters[0], 1u);

    // Lookup density at this point's location from blur_buffer
    let width = uniforms.density_width;
    let height = uniforms.density_height;
    let dx = (pos.x + 1.0) / 2.0 * f32(width) - 0.5;
    let dy = (pos.y + 1.0) / 2.0 * f32(height) - 0.5;
    let ix = clamp(i32(dx), 0, width - 1);
    let iy = clamp(i32(dy), 0, height - 1);

    // Sum density across all categories at this grid cell
    var density: f32 = 0.0;
    for (var c: u32 = 0; c < uniforms.category_count; c++) {
      let offset = iy * width + ix + i32(c) * (width * height);
      density += f32(blur_buffer[offset]);
    }
    // Store density (positive = visible). Add small epsilon to ensure > 0.
    density = min(max(density, 0.0001), 65535.0);
    point_data[index] = density;

    // Track max density using fixed-point atomics
    let density_fixed = u32(density * 65536.0);
    atomicMax(&downsample_counters[1], density_fixed);
  } else {
    // Not visible: store -1.0
    point_data[index] = -1.0;
  }
}

// =====================================================
// Downsampling Pass 2: Probabilistic acceptance
// =====================================================

@compute @workgroup_size(256)
fn downsample_density_sample(@builtin(global_invocation_id) id: vec3<u32>) {
  let index = id.y * DOWNSAMPLE_STRIDE + id.x;
  if (index >= uniforms.count) { return; }

  let density = point_data[index];

  // Not visible (density < 0)
  if (density < 0.0) {
    return;
  }

  let visible_count = atomicLoad(&downsample_counters[0]);
  let render_limit = downsample_uniforms.render_limit;

  // If visible count is within limit, accept all visible points (keep positive density)
  if (visible_count <= render_limit) {
    return; // Keep positive value = accepted
  }

  // Compute acceptance probability based on density
  let max_density_fixed = atomicLoad(&downsample_counters[1]);
  let max_density = f32(max_density_fixed) / 65536.0;

  // Base acceptance rate
  let base_rate = f32(render_limit) / f32(visible_count);

  // Density-based modulation: lower density = higher acceptance
  let normalized_density = select(0.0, density / max_density, max_density > 0.0001);
  let density_weight = downsample_uniforms.density_weight;

  // Inverse density weighting: sparse areas get higher probability
  let inverse_weight = 1.0 / (1.0 + normalized_density * density_weight);

  // Compute final probability (scale by ~2 to compensate for average inverse_weight)
  let final_prob = min(1.0, base_rate * inverse_weight * 2.0);

  // Deterministic random for frame stability (based on point index + frame seed)
  let seed = index ^ downsample_uniforms.frame_seed;
  let rand = random_float(seed);

  // If not accepted, set to negative (marks as rejected)
  if (rand >= final_prob) {
    point_data[index] = -1.0;
  }
}

// =====================================================
// Draw points with downsampling
// =====================================================

@vertex
fn points_downsampled_vs(
  @builtin(instance_index) instance: u32,
  @builtin(vertex_index) part: u32,
) -> PointsVertexOutput {
  var out: PointsVertexOutput;

  let point_data = point_data_read[instance];
  if (point_data < 0.0) {
    // To discard a point, we set a out-of-viewport position. This avoids fragment costs.
    out.position = vec4<f32>(-1000, -1000, 0.0, 1.0);
    return out;
  }

  let framebuffer_size = vec2(f32(uniforms.framebuffer_width), f32(uniforms.framebuffer_height));
  let alpha = uniforms.point_alpha * uniforms.points_alpha;
  let dp = vec2<f32>(f32(part % 2), f32(part / 2)) * 2.0 - 1.0;
  let point = get_point(instance);
  let pos = uniforms.matrix * point.position;
  out.position = vec4<f32>(pos.xy + dp * uniforms.point_size / framebuffer_size * 2.0, 0.0, 1.0);
  out.dp = vec3(dp, uniforms.point_size);
  out.color = uniforms.category_colors[point.category] * alpha;
  return out;
}
`;class mBe{props;viewport;df;device;module;uniforms;context;renderInputs;dataBuffers;renderer;constructor(e,n,r,i,s){this.context=e,this.props={mode:"points",colorScheme:"light",x:new Float32Array,y:new Float32Array,category:null,categoryCount:1,categoryColors:null,viewportX:0,viewportY:0,viewportScale:1,pointSize:1,pointAlpha:1,pointsAlpha:1,densityScaler:1,densityBandwidth:1,densityQuantizationStep:.1,contoursAlpha:1,densityAlpha:1,gamma:2.2,width:i,height:s,downsampleMaxPoints:4e6,downsampleDensityWeight:5},this.viewport=new X3({x:0,y:0,scale:1},i,s),this.df=new J0;let o=this.df;this.renderInputs={mode:o.value(this.props.mode),colorScheme:o.value(this.props.colorScheme),xData:o.value(this.props.x),yData:o.value(this.props.y),categoryData:o.value(this.props.category),categoryCount:o.value(this.props.categoryCount),categoryColors:o.value(this.props.categoryColors),matrix:o.value(hie()),width:o.value(i),height:o.value(s),pointSize:o.value(this.props.pointSize),densityBandwidth:o.value(this.props.densityBandwidth),downsampleMaxPoints:o.value(this.props.downsampleMaxPoints),downsampleDensityWeight:o.value(this.props.downsampleDensityWeight)},this.device=o.value(n),this.dataBuffers=gBe(o,this.device,this.renderInputs),this.module=o.derive([this.device],a=>a.createShaderModule({code:pBe})),this.uniforms=nBe(o,this.device),this.renderer=yBe(o,this.device,this.module,this.uniforms,r,this.renderInputs,this.dataBuffers)}setProps(e){let n=!1,r;for(r in e)e[r]!==this.props[r]&&(this.props[r]=e[r],n=!0);return this.viewport.update({x:this.props.viewportX,y:this.props.viewportY,scale:this.props.viewportScale},this.props.width,this.props.height),this.renderInputs.mode.value=this.props.mode,this.renderInputs.colorScheme.value=this.props.colorScheme,this.renderInputs.xData.value=this.props.x,this.renderInputs.yData.value=this.props.y,this.renderInputs.categoryData.value=this.props.category,this.renderInputs.categoryColors.value=this.props.categoryColors,this.props.category!=null?this.renderInputs.categoryCount.value=this.props.categoryCount:this.renderInputs.categoryCount.value=1,this.renderInputs.matrix.value=this.viewport.matrix(),this.renderInputs.width.value=this.props.width,this.renderInputs.height.value=this.props.height,this.renderInputs.pointSize.value=this.props.pointSize,this.renderInputs.densityBandwidth.value=this.props.densityBandwidth,this.renderInputs.downsampleMaxPoints.value=this.props.downsampleMaxPoints,this.renderInputs.downsampleDensityWeight.value=this.props.downsampleDensityWeight,n}render(){this.renderer.value(this.props,this.context.getCurrentTexture().createView())}destroy(){this.df.destroy()}async densityMap(e,n,r,i){let s=this.df.subgraph(),{x:o,y:a,scale:l}=i,u=[l,0,0,0,l,0,-o*l,-a*l,1],c=pie(u),f=await bBe(s,this.device,this.module,this.uniforms,s.value(e),s.value(n),s.value(r),s.value(u),this.dataBuffers).value();return s.destroy(),{data:f,width:e,height:n,coordinateAtPixel:(h,d)=>{let m=h/e*2-1,g=d/n*2-1,b=die([m,g,1],c);return{x:b[0],y:b[1]}}}}}function gBe(t,e,n){let r=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST;const i=t.derive([n.xData],c=>c.length),s=t.derive([i],c=>c*4),o=i,a=t.statefulDerive([e,t.statefulDerive([e,s,r],Wf),n.xData],k6),l=t.statefulDerive([e,t.statefulDerive([e,s,r],Wf),n.yData],k6),u=t.statefulDerive([e,t.statefulDerive([e,o,r],Wf),n.categoryData],k6);return{x:a,y:l,category:u,count:i}}function _ie(t,e,n,r,i,s,o){let a="rgba16float",l="r16float",u=GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING,c=t.statefulDerive([e,n,r,a,u],Yz),f=t.statefulDerive([e,n,r,l,u],Yz),h=t.derive([i,s,o],(b,v,O)=>b*v*O*4),d=t.derive([i,s,o],(b,v,O)=>b*v*O*2),m=t.statefulDerive([e,h,GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC],Wf),g=t.statefulDerive([e,d,GPUBufferUsage.STORAGE],Wf);return{colorTexture:c,alphaTexture:f,colorTextureFormat:a,alphaTextureFormat:l,countBuffer:m,blurBuffer:g}}function yBe(t,e,n,r,i,s,o){let a=t.derive([s.densityBandwidth],P=>Math.ceil(P*3)+1),l=t.derive([s.width,a],(P,N)=>P+N*2),u=t.derive([s.height,a],(P,N)=>P+N*2),c=t.derive([l],P=>Math.ceil(P/4)),f=t.derive([u],P=>Math.ceil(P/4)),h=_ie(t,e,l,u,c,f,s.categoryCount),d=vie(t,e,r.buffer,o,h),m=oBe(t,e,o.count,s.downsampleMaxPoints),g=bie(t,e,n,d,o,h),b=uBe(t,e,n,d,o,h),v=cBe(t,e,n,d,m,h),O=lBe(t,e,n,d,h),_=fBe(t,e,n,i,d),S=wie(t,e,n,d,l,u,s.categoryCount),k=t.derive([d.layouts],P=>P),A=aBe(t,e,n,t.derive([k],P=>P.group0),t.derive([k],P=>P.group1),h.blurBuffer,d.group0,d.group1,m,o),C=t.derive([s.densityBandwidth,l,c],(P,N,I)=>xie(P/N*I)),T=t.derive([s.categoryColors,s.categoryCount],(P,N)=>(P==null&&(P=C1(N)),P.map(I=>DR(I))));return t.derive([e,l,u,c,f,r.update,o.count,s.matrix,T,b,v,_,g,S,O,A,C],(P,N,I,$,R,M,B,U,j,ee,W,ue,te,ae,ie,_e,le)=>(ce,Qe)=>{let We=ce.colorScheme=="light"?[1,1,1,1]:[0,0,0,1],ve=ce.width/N,Te=ce.height/I,ze=PR([ve,0,0,0,Te,0,0,0,1],U);M({count:B,category_count:ce.categoryCount,framebuffer_width:N,framebuffer_height:I,density_width:$,density_height:R,gamma:ce.gamma,point_size:Math.max(ce.mode=="points"?3:1,ce.pointSize),point_alpha:ce.pointAlpha,points_alpha:ce.pointsAlpha,density_scaler:ce.densityScaler/16,quantization_step:ce.densityQuantizationStep,density_alpha:ce.densityAlpha,contours_alpha:ce.contoursAlpha,matrix:ze,view_xy_scaler:[1/ve,1/Te],kde_causal:le.kde_causal,kde_anticausal:le.kde_anticausal,kde_a:le.kde_a,background_color:We,category_colors:j});let Ue=P.createCommandEncoder();const Re=ce.downsampleMaxPoints,lt=Re===null||Re===1/0||!Number.isFinite(Re)||Re<=0?null:Re;if(lt!==null&&B>lt){te(Ue),ae(Ue);const it={maxPoints:lt,densityWeight:ce.downsampleDensityWeight,frameSeed:42};_e(Ue,it),W(Ue,B),ce.mode=="density"&&(ce.densityAlpha>0||ce.contoursAlpha>0)&&ie(Ue)}else ee(Ue),ce.mode=="density"&&(ce.densityAlpha>0||ce.contoursAlpha>0)&&(te(Ue),ae(Ue),ie(Ue));ue(Ue,Qe),P.queue.submit([Ue.finish()])})}function bBe(t,e,n,r,i,s,o,a,l){let u=_ie(t,e,i,s,i,s,t.value(1)),c=vie(t,e,r.buffer,l,u),f=bie(t,e,n,c,l,u),h=wie(t,e,n,c,i,s,t.value(1));return t.derive([e,i,s,l.count,r.update,o,a,f,h,u.countBuffer],(d,m,g,b,v,O,_,S,k,A)=>()=>{let C=d.createCommandEncoder(),T=xie(O);v({count:b,category_count:1,framebuffer_width:m,framebuffer_height:g,density_width:m,density_height:g,gamma:1,point_size:0,point_alpha:0,points_alpha:0,density_scaler:0,quantization_step:0,density_alpha:0,contours_alpha:0,matrix:_,view_xy_scaler:[1,1],kde_causal:T.kde_causal,kde_anticausal:T.kde_anticausal,kde_a:T.kde_a,background_color:[0,0,0,0],category_colors:[]}),S(C),k(C);let P=d.createBuffer({size:m*g*2,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});return C.copyBufferToBuffer(A,0,P,0,m*g*2),d.queue.submit([C.finish()]),P.mapAsync(GPUMapMode.READ,0,m*g*2).then(()=>vBe(P.getMappedRange()))})}function vBe(t){let e=new Uint16Array(t),n=new Uint32Array(e.length);for(let r=0;r<e.length;r++){let i=e[r]&32767,s=e[r]&32768,o=e[r]&31744;i<<=13,s<<=16,i+=939524096,i=o==0?0:i,i|=s,n[r]=i}return new Float32Array(n.buffer)}let lb;function OBe(){return lb==null&&(lb=document.createElement("canvas"),lb.width=1,lb.height=1),lb.getContext("2d")}function wBe(t){let e=OBe();e.font=`${t.fontSize??10}px ${t.fontFamily??"system-ui"}`;let n=t.text.split(`
`).map(i=>e.measureText(i).width),r=(t.fontSize??10)*(t.lineSpacing??1)*n.length;return{width:n.reduce((i,s)=>Math.max(i,s)),height:r}}let I6=null,HT=new Map;function xBe(){return I6==null&&(I6=new Promise((t,e)=>{let n=new Worker(new URL(""+new URL("clustering.worker-BJJ4BtQg.js",import.meta.url).href,import.meta.url),{type:"module"});n.onmessage=r=>{if(r.data.ready){t(n);return}if(r.data.id!=null){let i=HT.get(r.data.id);i!=null&&(HT.delete(r.data.id),i(r.data))}}})),I6}function dy(t,e,n=[]){return new Promise((r,i)=>{xBe().then(s=>{let o=new Date().getTime().toString()+"-"+Math.random().toString();HT.set(o,a=>{r(a.payload)}),s.postMessage({id:o,name:t,payload:e},n)})})}let _Be=(t,e,n,r)=>dy("findClusters",[t,e,n,r],[t.buffer]),SBe=(...t)=>dy("dynamicLabelPlacement",t),kBe=(...t)=>dy("textSummarizerCreate",t),CBe=(...t)=>dy("textSummarizerDestroy",t),ABe=(...t)=>dy("textSummarizerAdd",t),EBe=(...t)=>dy("textSummarizerSummarize",t);async function wU(t,e,n){let r=e.reduce((u,c)=>Math.min(u,c.level??0),0),i=e.reduce((u,c)=>Math.max(u,c.level??0),0),s=t*.5,o=t*2,a=e.map(u=>{let c={x:u.x,y:u.y},f=u.level??0,h=f==0?14:12,d=wBe({text:u.text,fontSize:h,fontFamily:n});return d.width+=4,d.height+=4,{text:u.text,fontSize:h,bounds:{xMin:c.x-d.width/2,xMax:c.x+d.width/2,yMin:c.y-d.height/2,yMax:c.y+d.height/2},locationAtZero:c,priority:u.priority,minScale:u.level==i?null:1/(o*Math.pow(2,f)*1.2),maxScale:u.level==r?null:1/(o*Math.pow(2,f-1)),coordinate:{x:u.x,y:u.y},placement:null}}),l=await SBe(a,{globalMaxScale:1/s});for(let u=0;u<l.length;u++){let c=l[u];if(c!=null){let f=1/c.minScale,h=1/c.maxScale;a[u].placement={minScale:h,maxScale:f}}}return a}function TBe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xU={exports:{}},_U;function DBe(){return _U||(_U=1,(function(t){(function(){function e(a,l){var u=a.x-l.x,c=a.y-l.y;return u*u+c*c}function n(a,l,u){var c=l.x,f=l.y,h=u.x-c,d=u.y-f;if(h!==0||d!==0){var m=((a.x-c)*h+(a.y-f)*d)/(h*h+d*d);m>1?(c=u.x,f=u.y):m>0&&(c+=h*m,f+=d*m)}return h=a.x-c,d=a.y-f,h*h+d*d}function r(a,l){for(var u=a[0],c=[u],f,h=1,d=a.length;h<d;h++)f=a[h],e(f,u)>l&&(c.push(f),u=f);return u!==f&&c.push(f),c}function i(a,l,u,c,f){for(var h=c,d,m=l+1;m<u;m++){var g=n(a[m],a[l],a[u]);g>h&&(d=m,h=g)}h>c&&(d-l>1&&i(a,l,d,c,f),f.push(a[d]),u-d>1&&i(a,d,u,c,f))}function s(a,l){var u=a.length-1,c=[a[0]];return i(a,0,u,l,c),c.push(a[u]),c}function o(a,l,u){if(a.length<=2)return a;var c=l!==void 0?l*l:1;return a=u?a:r(a,c),a=s(a,c),a}t.exports=o,t.exports.default=o})()})(xU)),xU.exports}var PBe=DBe();const SU=TBe(PBe);function RBe(t,e){let n=t.slice();for(let r=0;r<e;r++){const i=[],s=n.length;for(let o=0;o<s;o++){const a=n[o],l=n[(o+1)%s],u={x:.75*a.x+.25*l.x,y:.75*a.y+.25*l.y},c={x:.25*a.x+.75*l.x,y:.25*a.y+.75*l.y};i.push(u,c)}n=i}return n}function $Be(t,e){const n=RBe(t,5),r=oie(n);let i=Math.max(r.xMax-r.xMin,r.yMax-r.yMin)/100,s=SU(n,i),o=0;for(;s.length>e&&o<20;)i*=1.1,o+=1,s=SU(n,i);return s}const kU={light:{fontFamily:"system-ui,sans-serif",clusterLabelColor:"#000",clusterLabelOutlineColor:"rgba(255,255,255,0.8)",clusterLabelOpacity:.8,statusBar:!0,statusBarTextColor:"#525252",statusBarBackgroundColor:"rgba(255,255,255,0.9)",brandingLink:{text:"Embedding Atlas",href:"https://apple.github.io/embedding-atlas"}},dark:{fontFamily:"system-ui,sans-serif",clusterLabelColor:"#ccc",clusterLabelOutlineColor:"rgba(0,0,0,0.8)",clusterLabelOpacity:.8,statusBar:!0,statusBarTextColor:"#d9d9d9",statusBarBackgroundColor:"rgba(0,0,0,0.9)",brandingLink:{text:"Embedding Atlas",href:"https://apple.github.io/embedding-atlas"}}};function IBe(t,e){return t==null?kU[e]:{...kU[e],...t,...t[e]!=null?t[e]:{}}}function FBe(t,e,n,r,i,s,o){let a=Math.max(r,i)/s,l=t/(n*n)/(a*a),u=1/(l/(s*s))*.2,c=Math.sqrt(t/e/(a*a)),f=Math.log(c),h=Math.log(n),d=(Math.min(Math.max((h-f)*2,-1),1)+1)/2,m;if(o!=null)m=o*s;else{let v=.25/Math.sqrt(l);m=Math.max(.2,Math.min(5,v))*s}let g=1-d,b=.5+d*.5;return{densityScaler:u,densityAlpha:g,contoursAlpha:g,pointSize:m,pointAlpha:.7,pointsAlpha:b,densityBandwidth:20}}var MBe=Kd("<div></div>"),LBe=Oh("<circle></circle>"),NBe=Oh("<circle></circle>"),QBe=Oh('<text dominant-baseline="middle"> </text>'),BBe=Oh("<g></g>"),zBe=Oh("<g><!></g>"),UBe=Oh("<g></g>"),jBe=Kd('<div><canvas></canvas> <div><!></div> <svg role="none"><!><!><!><!></svg> <!> <!></div>');function qBe(t,e){Y0(e,!0);let n=mt(e,"data",19,()=>({x:new Float32Array,y:new Float32Array,category:null})),r=mt(e,"categoryCount",3,1),i=mt(e,"categoryColors",3,null),s=mt(e,"width",3,800),o=mt(e,"height",3,800),a=mt(e,"pixelRatio",3,2),l=mt(e,"theme",3,null),u=mt(e,"config",3,null),c=mt(e,"totalCount",3,null),f=mt(e,"maxDensity",3,null),h=mt(e,"labels",3,null),d=mt(e,"queryClusterLabels",3,null),m=mt(e,"tooltip",7,null),g=mt(e,"selection",7,null),b=mt(e,"querySelection",3,null),v=mt(e,"rangeSelection",7,null),O=mt(e,"defaultViewportState",3,null),_=mt(e,"viewportState",7,null),S=mt(e,"customTooltip",3,null),k=mt(e,"customOverlay",3,null),A=mt(e,"onViewportState",3,null),C=mt(e,"onTooltip",3,null),T=mt(e,"onSelection",3,null),P=mt(e,"onRangeSelection",3,null),N=mt(e,"cache",3,null),I=Pt(()=>u()?.colorScheme??"light"),$=Pt(()=>IBe(l(),V(I))),R=Pt(()=>i()??C1(r())),M=Pt(()=>_()??O()??{x:0,y:0,scale:1}),B=Pt(()=>new X3(V(M),s(),o())),U=Pt(()=>V(B).pixelLocationFunction()),j=Pt(()=>V(B).coordinateAtPixelFunction()),ee=kr(!1);function W(de,Pe){return de.x==Pe.x&&de.y==Pe.y&&de.category==Pe.category&&de.text==Pe.text}let ue=Pt(()=>g()?.length==1&&m()!=null&&W(g()[0],m()));function te(de){nd(_(),de)||(_(de),A()?.(de))}function ae(de){nd(m(),de)||(m(de),C()?.(de))}function ie(de){nd(g(),de)||(g(de),T()?.(de))}function _e(de){nd(v(),de)||(v(de),P()?.(de))}let le=kr(Vp([])),ce=kr(null),Qe=kr("none"),We=Pt(()=>s()*a()),ve=Pt(()=>o()*a()),Te=kr(null),ze=kr(null),Ue=kr(null),Re=Pt(()=>u()?.minimumDensity??1/16),lt=Pt(()=>u()?.pointSize??null),it=Pt(()=>u()?.mode??"points"),Lt=Pt(()=>u()?.autoLabelEnabled),ft=Pt(()=>u()?.downsampleMaxPoints??4e6),Ee=Pt(()=>u()?.downsampleDensityWeight??5),nt=Pt(()=>FBe(f()??(c()??n().x.length)/4,V(Re),V(M).scale,V(We),V(ve),a(),V(lt))),on=Pt(()=>V(nt).pointSize),an=!0;cv(()=>{V(ze)?.setProps({mode:V(it),colorScheme:V(I),viewportX:V(M).x,viewportY:V(M).y,viewportScale:V(M).scale,width:V(We),height:V(ve),x:n().x,y:n().y,category:n().category,categoryCount:r(),categoryColors:V(R),downsampleMaxPoints:V(ft),downsampleDensityWeight:V(Ee),...V(nt)})&&(Li(),(V(Lt)!==!1||h()!=null)&&an&&V(ze)!=null&&n().x!=null&&n().x.length>0&&O()!=null&&(an=!1,ar(O())))});function xn(){or=null,!(!V(Te)||!V(ze))&&(V(Te).width=V(ze).props.width,V(Te).height=V(ze).props.height,V(Te).style.width=`${V(ze).props.width/a()}px`,V(Te).style.height=`${V(ze).props.height/a()}px`,V(ze).render())}let or=null;function Li(){or==null&&(or=requestAnimationFrame(xn))}function dn(de){Rt(Ue,"WebGPU is unavailable. Falling back to WebGL.");let Pe;function Ze(){if(Pe=de.getContext("webgl2",{antialias:!1}),Pe==null){console.error("Could not get WebGL 2 context");return}Pe.getExtension("EXT_color_buffer_float"),Pe.getExtension("EXT_float_blend"),Pe.getExtension("OES_texture_float_linear"),Rt(ze,new YQe(Pe,V(We),V(ve)),!0)}Ze(),de.addEventListener("webglcontextlost",()=>{V(ze)?.destroy(),Rt(ze,null),Pe=null}),de.addEventListener("webglcontextrestored",()=>{Ze()})}function yi(de){let Pe=!0;async function Ze(){let rt=await xLe();if(rt==null){console.error("Could not get WebGPU device"),Pe&&dn(de);return}let st=de.getContext("webgpu");if(st==null){console.error("Could not get WebGPU canvas context"),Pe&&dn(de);return}Pe=!1,rt.lost.then(async Ie=>{console.info(`WebGPU device was lost: ${Ie.message}`),Ie.reason!="destroyed"&&(V(ze)?.destroy(),Rt(ze,null),st.unconfigure(),await Ze())});let Et=navigator.gpu.getPreferredCanvasFormat();st.configure({device:rt,format:Et,alphaMode:"premultiplied"}),Rt(ze,new mBe(st,rt,Et,V(We),V(ve)),!0)}Ze()}function Cn(de){de!=null&&_()==null&&te(de)}cv(()=>Cn(O())),AR(()=>{if(V(Te)==null)return;yi(V(Te));let de=V(Te).toDataURL;V(Te).toDataURL=(...Pe)=>(xn(),de.apply(V(Te),Pe))}),RNe(()=>{V(ze)?.destroy(),Rt(ze,null)});function Nr(de){let Pe=V(Te)?.getBoundingClientRect()??{left:0,top:0};return{x:de.clientX-Pe.left,y:de.clientY-Pe.top}}function Au(de){de.preventDefault();let{x:Pe,y:Ze}=Nr(de),rt=Math.exp(-de.deltaY/200);Eu(rt,{x:Pe,y:Ze})}function Eu(de,Pe){let{x:Ze,y:rt,scale:st}=V(M);ae(null);let Et=(O()?.scale??1)*100,Ie=(O()?.scale??1)*.01,H=Math.min(Et,Math.max(Ie,st*de)),ye=V(Te).getBoundingClientRect(),Ne=Math.max(ye.width,ye.height),pn=(Pe.x-ye.width/2)/Ne*2,mn=(ye.height/2-Pe.y)/Ne*2,nn=Ze+pn/st-pn/H,Dr=rt+mn/st-mn/H;te({x:nn,y:Dr,scale:H})}function Xa(de){ae(null);let Pe="pan";V(Qe)!="none"?de.modifiers.shift||(Pe=V(Qe)):de.modifiers.shift&&(Pe=de.modifiers.meta?"lasso":"marquee");let Ze=Nr(de);switch(Pe){case"marquee":return{move:rt=>{if(ae(null),V(ze)==null)return;let st=Nr(rt),Et=V(j)(Ze.x,Ze.y),Ie=V(j)(st.x,st.y);_e({xMin:Math.min(Et.x,Ie.x),yMin:Math.min(Et.y,Ie.y),xMax:Math.max(Et.x,Ie.x),yMax:Math.max(Et.y,Ie.y)})}};case"lasso":{let rt=[V(j)(Ze.x,Ze.y)];return{move:st=>{if(ae(null),V(ze)==null)return;let Et=Nr(st);rt=[...rt,V(j)(Et.x,Et.y)],rt.length>=3&&_e($Be(rt,24))}}}case"pan":{let rt=V(j)(0,0),st=V(j)(1,1),Et=rt.x-st.x,Ie=rt.y-st.y,H=V(M).x,ye=V(M).y;return{move:Ne=>{te({x:H+(Ne.clientX-de.clientX)*Et,y:ye+(Ne.clientY-de.clientY)*Ie,scale:V(M).scale})}}}}}async function Za(de){if(v()!=null)_e(null);else{const Pe=await Ni(Nr(de));if(Pe==null)ie([]),ae(null);else if(de.modifiers.shift||de.modifiers.ctrl||de.modifiers.meta){let Ze=g()?.findIndex(rt=>rt.x==Pe.x&&rt.y==Pe.y&&rt.category==Pe.category);g()==null||Ze==null||Ze<0?(ie([...g()??[],Pe]),ae(Pe)):(ie([...g().slice(0,Ze),...g().slice(Ze+1)]),ae(null))}else ie([Pe]),ae(Pe)}}let _o=VNe(async de=>{let Pe=de?Nr(de):null;if(g()!=null&&g().length==1){let Ze=V(U)(g()[0].x,g()[0].y);Pe!=null&&XNe(Pe,Ze)<10&&ae(g()[0])}else ae(await Ni(Pe))},()=>m()!=null);function ca(de){de!=null?V(ee)||_o(de):_o(null)}cv(()=>{V(ee)&&_o(null)});async function Ni(de){if(V(ze)==null||de==null||b()==null)return null;let{x:Pe,y:Ze}=V(j)(de.x,de.y),rt=Math.abs(V(j)(de.x+1,de.y).x-Pe);return await b()(Pe,Ze,rt)}async function Zs(de,Pe,Ze,rt=.005){let st=await de.densityMap(1e3,1e3,Pe,Ze),Et=await _Be(st.data,st.width,st.height),Ie=[];for(let ye=0;ye<Et.length;ye++){let Ne=Et[ye],pn=st.coordinateAtPixel(Ne.meanX,Ne.meanY),mn=Ne.boundaryRectApproximation.map(([nn,Dr,Ws,ha])=>{let zi=st.coordinateAtPixel(nn,Dr),lr=st.coordinateAtPixel(Ws,ha);return{xMin:Math.min(zi.x,lr.x),xMax:Math.max(zi.x,lr.x),yMin:Math.min(zi.y,lr.y),yMax:Math.max(zi.y,lr.y)}});Ie.push({x:pn.x,y:pn.y,sumDensity:Ne.sumDensity,rects:mn,bandwidth:Pe})}let H=Ie.reduce((ye,Ne)=>Math.max(ye,Ne.sumDensity),0);return Ie.filter(ye=>ye.sumDensity/H>rt)}async function Nl(de){if(V(ze)==null||d()==null)return[];let Pe=await WNe({autoLabel:{version:1,viewport:de,stopWords:u()?.autoLabelStopWords,densityThreshold:u()?.autoLabelDensityThreshold}});if(N()!=null){let st=await N().get(Pe);if(st!=null)return st}let Ze=await Zs(V(ze),10,de,u()?.autoLabelDensityThreshold??.005);if(Ze=Ze.concat(await Zs(V(ze),5,de)),d()){let st=await d()(Ze.map(Et=>Et.rects));for(let Et=0;Et<Ze.length;Et++)Ze[Et].label=st[Et]}let rt=Ze.filter(st=>st.label!=null&&st.label.length>0).map(st=>({x:st.x,y:st.y,text:st.label,priority:st.sumDensity,level:st.bandwidth==10?0:1}));return N()!=null&&await N().set(Pe,rt),rt}async function ar(de){let Pe=new X3(de,1e3,1e3);if(V(ze)!=null)if(h()!=null)Rt(le,await wU(Pe.scale(),h(),V($).fontFamily),!0);else{Rt(ce,"Generating labels...");let Ze=await Nl(de);Rt(le,await wU(Pe.scale(),Ze,V($).fontFamily),!0),Rt(ce,null)}}class ai{content;constructor(Pe,Ze){let rt=document.createElement("div");this.content=rt,this.update(Ze),Pe.appendChild(rt)}update(Pe){let Ze=this.content;Ze.style.fontFamily=Pe.fontFamily,V(I)=="light"?(Ze.style.color="#000",Ze.style.background="#fff",Ze.style.border="1px solid #000"):(Ze.style.color="#ccc",Ze.style.background="#000",Ze.style.border="1px solid #ccc"),Ze.style.borderRadius="2px",Ze.style.padding="5px",Ze.style.fontSize="12px",Ze.style.maxWidth="300px",Ze.innerText=Pe.tooltip.text??JSON.stringify(Pe.tooltip)}}var Qr=jBe();let wr;var Qi=ss(Qr);Dn(Qi,"",{},{position:"absolute",top:"0",left:"0"}),ZT(Qi,de=>Rt(Te,de),()=>V(Te));var li=qr(Qi,2);let Bi;var Wr=ss(li);{var ln=de=>{const Pe=Pt(()=>aie(k())),Ze=Pt(()=>({location:V(U),width:s(),height:o()}));var rt=ab(),st=Vm(rt);$Ne(st,()=>V(Pe),Et=>{var Ie=MBe();Vl(Ie,(H,ye)=>V(Pe)?.(H,ye),()=>lie(k(),{proxy:V(Ze)})),fi(Et,Ie)}),fi(de,rt)};Po(Wr,de=>{k()&&de(ln)})}Ri(li);var Nn=qr(li,2);Dn(Nn,"",{},{position:"absolute",left:"0",top:"0"});var Tu=ss(Nn);{var Ti=de=>{const Pe=Pt(()=>{const{x:Ie,y:H}=V(U)(m().x,m().y);return{x:Ie,y:H}}),Ze=Pt(()=>Math.max(3,V(on)/a())+1);var rt=ab(),st=Vm(rt);{var Et=Ie=>{var H=LBe();let ye;Ia(()=>{et(H,"cx",V(Pe).x),et(H,"cy",V(Pe).y),et(H,"r",V(Ze)),ye=Dn(H,"",ye,{stroke:V(I)=="light"?"#000":"#fff","stroke-width":1,fill:"none"})}),fi(Ie,H)};Po(st,Ie=>{isFinite(V(Pe).x)&&isFinite(V(Pe).y)&&isFinite(V(Ze))&&Ie(Et)})}fi(de,rt)};Po(Tu,de=>{m()!=null&&V(ze)!=null&&de(Ti)})}var Br=qr(Tu);{var zr=de=>{var Pe=ab(),Ze=Vm(Pe);A6(Ze,17,g,C6,(rt,st)=>{const Et=Pt(()=>{const{x:mn,y:nn}=V(U)(V(st).x,V(st).y);return{x:mn,y:nn}}),Ie=Pt(()=>V(st).category!=null?V(R)[V(st).category]:V(R)[0]),H=Pt(()=>Math.max(3,V(on)/a())+1);var ye=ab(),Ne=Vm(ye);{var pn=mn=>{var nn=NBe();let Dr;Ia(()=>{et(nn,"cx",V(Et).x),et(nn,"cy",V(Et).y),et(nn,"r",V(H)),Dr=Dn(nn,"",Dr,{stroke:V(I)=="light"?"#000":"#fff","stroke-width":2,fill:V(Ie)})}),fi(mn,nn)};Po(Ne,mn=>{isFinite(V(Et).x)&&isFinite(V(Et).y)&&isFinite(V(H))&&mn(pn)})}fi(rt,ye)}),fi(de,Pe)};Po(Br,de=>{g()!=null&&V(ze)!=null&&de(zr)})}var Ji=qr(Br);{var fa=de=>{var Pe=UBe();A6(Pe,21,()=>V(le),C6,(Ze,rt)=>{const st=Pt(()=>V(rt).text.split(`
`)),Et=Pt(()=>V(U)(V(rt).coordinate.x,V(rt).coordinate.y)),Ie=Pt(()=>V(B).scale()),H=Pt(()=>V(rt).placement!=null&&V(rt).placement.minScale<=V(Ie)&&V(Ie)<=V(rt).placement.maxScale);var ye=zBe(),Ne=ss(ye);{var pn=mn=>{var nn=BBe();A6(nn,21,()=>V(st),C6,(Dr,Ws,ha)=>{var zi=QBe();et(zi,"x",0);let lr;var im=ss(zi,!0);Ri(zi),Ia(()=>{et(zi,"y",(ha-(V(st).length-1)/2)*V(rt).fontSize),et(zi,"font-size",V(rt).fontSize),lr=Dn(zi,"",lr,{"paint-order":"stroke","stroke-width":"4","stroke-linejoin":"round","stroke-linecap":"round","text-anchor":"middle",fill:V($).clusterLabelColor,stroke:V($).clusterLabelOutlineColor,opacity:V($).clusterLabelOpacity,"user-select":"none","-webkit-user-select":"none","font-family":V($).fontFamily}),fv(im,V(Ws))}),fi(Dr,zi)}),Ri(nn),fi(mn,nn)};Po(Ne,mn=>{V(H)&&mn(pn)})}Ri(ye),Ia(()=>et(ye,"transform",`translate(${V(Et).x??""},${V(Et).y??""})`)),fi(Ze,ye)}),Ri(Pe),fi(de,Pe)};Po(Ji,de=>{de(fa)})}var ui=qr(Ji);{var Ur=de=>{var Pe=ab(),Ze=Vm(Pe);{var rt=Et=>{KNe(Et,{get value(){return v()},get pointLocation(){return V(U)}})},st=Et=>{qNe(Et,{get value(){return v()},onChange:_e,get pointLocation(){return V(U)},get coordinateAtPoint(){return V(j)},preventHover:Ie=>{Rt(ee,Ie,!0)}})};Po(Ze,Et=>{v()instanceof Array?Et(rt):Et(st,!1)})}fi(de,Pe)};Po(ui,de=>{v()!=null&&V(ze)!=null&&de(Ur)})}Ri(Nn),Vl(Nn,(de,Pe)=>Zn?.(de,Pe),()=>({click:Za,drag:Xa,hover:ca}));var So=qr(Nn,2);{var Ch=de=>{const Pe=Pt(()=>V(U)(m().x,m().y));{let Ze=Pt(()=>Math.max(3,V(on)/a())),rt=Pt(()=>S()??{class:ai,props:{colorScheme:V(I),fontFamily:V($).fontFamily}});cQe(de,{get location(){return V(Pe)},get allowInteraction(){return V(ue)},get targetHeight(){return V(Ze)},get customTooltip(){return V(rt)},get tooltip(){return m()}})}};Po(So,de=>{m()!=null&&V(ze)!=null&&de(Ch)})}var Kc=qr(So,2);{var Ah=de=>{{let Pe=Pt(()=>V(ce)??V(Ue)),Ze=Pt(()=>1/(V(U)(1,0).x-V(U)(0,0).x));aQe(de,{get resolvedTheme(){return V($)},get statusMessage(){return V(Pe)},get distancePerPoint(){return V(Ze)},get pointCount(){return n().x.length},get selectionMode(){return V(Qe)},onSelectionMode:rt=>Rt(Qe,rt,!0)})}};Po(Kc,de=>{V($).statusBar&&de(Ah)})}Ri(Qr),Ia(()=>{wr=Dn(Qr,"",wr,{width:`${s()??""}px`,height:`${o()??""}px`,position:"relative"}),Bi=Dn(li,"",Bi,{width:`${s()??""}px`,height:`${o()??""}px`,position:"absolute",top:"0",left:"0"}),et(Nn,"width",s()),et(Nn,"height",o())}),xNe("wheel",Nn,Au),fi(t,Qr),G0()}function CU(t,e){if(e.length==0)return Ve(!1);if(t.identifier!=null){let n=t.identifier;return Ol(...e.map(r=>Ta(we(n),Ve(r.identifier))))}else{let n=t.x,r=t.y,i=t.category;return i!=null?Ol(...e.map(s=>Go(Ta(Ar(we(n),"DOUBLE"),Ve(s.x)),Ta(Ar(we(r),"DOUBLE"),Ve(s.y)),Ta(Ar(we(i),"INTEGER"),Ve(s.category))))):Ol(...e.map(s=>Go(Ta(Ar(we(n),"DOUBLE"),Ve(s.x)),Ta(Ar(we(r),"DOUBLE"),Ve(s.y)))))}}function VBe(t,e,n){let r=[];for(let s=0;s<n.length;s++){let o=(s+1)%n.length,{x:a,y:l}=n[s],{x:u,y:c}=n[o],f=l<c?Go(kM(Ve(l),e),N5(e,Ve(c))):Go(kM(Ve(c),e),N5(e,Ve(l))),h=(l<c?N5:Vk)(Ii(Si(Ve(u-a),e),Si(Ve(c-l),t)),Ve((u-a)*l-(c-l)*a));r.push(Ar(Go(f,h),"INT"))}let i=r.reduce((s,o)=>PP(s,o));return Ta(lye(i,Ve(2)),Ve(1))}function XBe(t,e){if(e instanceof Array){if(e.length<3)return Ve(!1);let n=oie(e);return Go(If(we(t.x),[n.xMin,n.xMax]),If(we(t.y),[n.yMin,n.yMax]),VBe(we(t.x),we(t.y),e))}else return Go(If(we(t.x),[e.xMin,e.xMax]),If(we(t.y),[e.yMin,e.yMax]))}async function ZBe(t,e){let{x:n,y:r,table:i}=e,s=await t.query(at.from(i).select({centerX:pt`MEDIAN(${we(n)})`,centerY:pt`MEDIAN(${we(r)})`,stdX:pt`STDDEV(${we(n)})`,stdY:pt`STDDEV(${we(r)})`,...e.category!=null?{maxCategory:pt`MAX(${we(e.category)}::UTINYINT)`}:{}})),{centerX:o,centerY:a,stdX:l,stdY:u,maxCategory:c}=s.get(0),f=1/(Math.max(l,u,.001)*3),h=.1/f,d=pt`FLOOR((${we(n)} - ${o}) / ${h})`,m=pt`FLOOR((${we(r)} - ${a}) / ${h})`,g=e.category!=null?we(e.category):null,b=g!=null?[d,m,g]:[d,m],v=at.from(at.from(i).select({count:pt`COUNT(*)`}).groupby(...b)).select({totalCount:pt`SUM(count)::INT`,maxCount:pt`MAX(count)::INT`});s=await t.query(v);let{maxCount:O,totalCount:_}=s.get(0),S=O/(h*h);return{centerX:o,centerY:a,scaler:f,totalCount:_,categoryCount:(c??0)+1,maxDensity:S}}class WBe{coordinator;source;lastDistance;selectParams;constructor(e,n){this.coordinator=e,this.source=n,this.lastDistance=0;let{x:r,y:i,category:s,text:o,identifier:a}=this.source,l={},u=n.additionalFields??{};for(let c in u){let f=u[c];typeof f=="string"?l["field_"+c]=we(f):l["field_"+c]=pt`${f.sql}`}this.selectParams={x:pt`${we(r)}::DOUBLE`,y:pt`${we(i)}::DOUBLE`,...s!=null?{category:pt`${we(s)}::INT`}:{},...o!=null?{text:pt`${we(o)}`}:{},...a!=null?{identifier:pt`${we(a)}`}:{},...l}}_convertToDataPoint(e){let n={};for(let r in e)r.startsWith("field_")&&(n[r.slice(6)]=e[r]);return{x:e.x,y:e.y,category:e.category,text:e.text,identifier:e.identifier,fields:n}}async queryClosestPoint(e,n,r,i){let s=i*12,{x:o,y:a}=this.source;for(let l of[this.lastDistance,s]){if(l==0||l>s)continue;let u=at.from(this.source.table).select(this.selectParams);u=u.where(pt`${we(o)} BETWEEN ${n-l} AND ${n+l}`),u=u.where(pt`${we(a)} BETWEEN ${r-l} AND ${r+l}`),e&&(u=u.where(e)),u=u.orderby(pt`(x - (${n}))**2 + (y - (${r}))**2`).limit(1);let c=(await this.coordinator.query(u)).get(0);if(c)return this.lastDistance=Math.max(Math.abs(c.x-n),Math.abs(c.y-r))*4,this._convertToDataPoint(c)}return null}async queryPoints(e){let{table:n,identifier:r}=this.source;if(r==null)return[];let i=at.from(n).select(this.selectParams);return i=i.where(y0(we(r),e.map(s=>Ve(s)))),Array.from(await this.coordinator.query(i)).map(s=>this._convertToDataPoint(s))}}function YBe(t,e){Y0(e,!0);let n=mt(e,"coordinator",19,MO),r=mt(e,"category",3,null),i=mt(e,"text",3,null),s=mt(e,"identifier",3,null),o=mt(e,"filter",3,null),a=mt(e,"categoryColors",3,null),l=mt(e,"tooltip",3,null),u=mt(e,"additionalFields",3,null),c=mt(e,"selection",3,null),f=mt(e,"rangeSelection",3,null),h=mt(e,"rangeSelectionValue",3,null),d=mt(e,"width",3,null),m=mt(e,"height",3,null),g=mt(e,"pixelRatio",3,null),b=mt(e,"config",3,null),v=mt(e,"theme",3,null),O=mt(e,"viewportState",3,null),_=mt(e,"labels",3,null),S=mt(e,"customTooltip",3,null),k=mt(e,"customOverlay",3,null),A=mt(e,"onViewportState",3,null),C=mt(e,"onTooltip",3,null),T=mt(e,"onSelection",3,null),P=mt(e,"onRangeSelection",3,null),N=mt(e,"cache",3,null),I=kr(new Float32Array),$=kr(new Float32Array),R=kr(null),M=kr(1),B=kr(1),U=kr(1),j=kr(null),ee=kr(null),W=kr(null),ue=kr(null),te=kr(null);gf(()=>{let ve={coordinator:n(),source:{table:e.table,x:e.x,y:e.y,category:r()}},Te=null,ze=!1;async function Ue(){let Re=ve.source,lt=await ZBe(ve.coordinator,Re);if(ze)return;let it=lt.scaler*.95;Rt(j,{x:lt.centerX,y:lt.centerY,scale:it}),Rt(B,lt.totalCount),Rt(U,lt.maxDensity),Rt(M,lt.categoryCount),Te=LO({coordinator:ve.coordinator,selection:o()??void 0,query:Lt=>at.from(Re.table).select({x:pt`${we(Re.x)}::FLOAT`,y:pt`${we(Re.y)}::FLOAT`,...Re.category!=null?{c:pt`${we(Re.category)}::UTINYINT`}:{}}).where(Lt),queryResult:Lt=>{let ft=Lt.getChild("x").toArray(),Ee=Lt.getChild("y").toArray(),nt=Lt.getChild("c")?.toArray()??null;ft!=null&&!(ft instanceof Float32Array)&&(ft=new Float32Array(ft)),Ee!=null&&!(Ee instanceof Float32Array)&&(Ee=new Float32Array(Ee)),nt!=null&&!(nt instanceof Uint8Array)&&(nt=new Uint8Array(nt)),Rt(I,ft),Rt($,Ee),Rt(R,nt),ae(null),ie(null)}}),Te.reset=()=>{_e()},Rt(te,Te)}return Ue(),()=>{Rt(te,null),ze=!0,Te?.destroy()}}),gf(()=>{if(DM(l())){let ve=V(te);if(ve==null)return;let Te=l();Rt(ee,Te.valueFor(ve)??null);let ze=()=>{Rt(ee,Te.valueFor(ve)??null)};return gf(()=>{let Ue=V(ee),Re={x:e.x,y:e.y,category:r(),identifier:s()};Te.update({source:ve,clients:new Set().add(ve),predicate:Ue!=null?CU(Re,[Ue]):null,value:Ue})}),Te.addEventListener("value",ze),()=>{Te.removeEventListener("value",ze),Te.update({source:ve,clients:new Set().add(ve),value:null,predicate:null})}}else if(l()==null||typeof l()=="object")Rt(ee,l());else{if(V(ee)?.identifier==l())return;let ve=!1;return Qe([l()]).then(Te=>{ve||(Te.length>0?Rt(ee,Te[0]):Rt(ee,null))}),()=>{ve=!0}}});function ae(ve){nd(l(),ve)||(Rt(ee,ve),C()?.(ve))}gf(()=>{if(DM(c())){let ve=V(te);if(ve==null)return;let Te=c();Rt(W,Te.valueFor(ve)??null);let ze=()=>{Rt(W,Te.valueFor(ve)??null)};return gf(()=>{let Ue=V(W),Re={x:e.x,y:e.y,category:r(),identifier:s()};Te.update({source:ve,clients:new Set().add(ve),predicate:Ue!=null?CU(Re,Ue):null,value:Ue})}),Te.addEventListener("value",ze),()=>{Te.removeEventListener("value",ze),Te.update({source:ve,clients:new Set().add(ve),value:null,predicate:null})}}else if(c()==null)Rt(W,null);else if(c().length==0)Rt(W,[]);else if(c().every(ve=>typeof ve=="object"))Rt(W,c());else{let ve=!1;return Qe(c()).then(Te=>{ve||Rt(W,Te)}),()=>{ve=!0}}});function ie(ve){nd(c(),ve)||(Rt(W,ve),T()?.(ve))}gf(()=>{let ve=V(te);if(ve==null)return;let Te=f();if(Te!=null)return gf(()=>{let ze=V(ue),Ue={x:e.x,y:e.y},Re={source:ve,clients:new Set().add(ve),predicate:ze!=null?XBe(Ue,ze):null,value:ze};Te.update(Re),Te.activate(Re)}),()=>{Te.update({source:ve,clients:new Set().add(ve),value:null,predicate:null})}}),gf(()=>{nd(K0(()=>V(ue)),h())||Rt(ue,h())});function _e(){ie(null),ae(null),P()?.(null),Rt(ue,null)}let le=Pt(()=>new WBe(n(),{table:e.table,x:e.x,y:e.y,category:r(),text:i(),identifier:s(),additionalFields:u()}));async function ce(ve,Te,ze){return await V(le).queryClosestPoint(o()?.predicate?.(V(te)),ve,Te,ze)}async function Qe(ve){return await V(le).queryPoints(ve)}async function We(ve){if(i()==null)return ve.map(()=>null);let Te=await kBe({regions:ve,stopWords:b()?.autoLabelStopWords??null}),ze=0,Ue=1e4,Re=null;for(;;){let it=await n().query(at.from(e.table).select({x:we(e.x),y:we(e.y),text:we(i())}).offset(ze).limit(Ue)),Lt={x:it.getChild("x").toArray(),y:it.getChild("y").toArray(),text:it.getChild("text").toArray()};if(Re!=null&&await Re,Re=ABe(Te,Lt),it.getChild("text").length<Ue)break;ze+=Ue}Re!=null&&await Re;let lt=await EBe(Te);return await CBe(Te),lt.map(it=>it.length==0?null:it.length>2?it.slice(0,2).join("-")+`-
`+it.slice(2).join("-"):it.join("-"))}{let ve=Pt(()=>d()??800),Te=Pt(()=>m()??800),ze=Pt(()=>g()??2),Ue=Pt(()=>({x:V(I),y:V($),category:V(R)}));qBe(t,{get width(){return V(ve)},get height(){return V(Te)},get pixelRatio(){return V(ze)},get theme(){return v()},get config(){return b()},get data(){return V(Ue)},get totalCount(){return V(B)},get maxDensity(){return V(U)},get categoryCount(){return V(M)},get categoryColors(){return a()},get defaultViewportState(){return V(j)},querySelection:ce,queryClusterLabels:We,get labels(){return _()},get customTooltip(){return S()},get customOverlay(){return k()},get tooltip(){return V(ee)},onTooltip:ae,get selection(){return V(W)},onSelection:ie,get viewportState(){return O()},get onViewportState(){return A()},get rangeSelection(){return V(ue)},onRangeSelection:Re=>{Rt(ue,Re),P()?.(Re)},get cache(){return N()}})}G0()}class GBe{component;currentProps;constructor(e,n){this.currentProps={...n},this.component=TNe({component:YBe,target:e,props:n})}update(e){let n={};for(let r in e)e[r]!==this.currentProps[r]&&(n[r]=e[r],this.currentProps[r]=e[r]);this.component.$set(n)}destroy(){this.component.$destroy()}}function HBe(){return ore()?32:4}function k_(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KBe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sie(t){let e,n,r;t.length!==2?(e=k_,n=(a,l)=>k_(t(a),l),r=(a,l)=>t(a)-l):(e=t===k_||t===KBe?t:JBe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function JBe(){return 0}function eze(t){return t===null?NaN:+t}const tze=Sie(k_),nze=tze.right;Sie(eze).center;function rze(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class AU extends Map{constructor(e,n=oze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(EU(this,e))}has(e){return super.has(EU(this,e))}set(e,n){return super.set(ize(this,e),n)}delete(e){return super.delete(sze(this,e))}}function EU({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ize({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sze({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function oze(t){return t!==null&&typeof t=="object"?t.valueOf():t}const aze=Math.sqrt(50),lze=Math.sqrt(10),uze=Math.sqrt(2);function Z3(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=aze?10:s>=lze?5:s>=uze?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Z3(t,e,n*2):[a,l,u]}function KT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?Z3(e,t,n):Z3(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function JT(t,e,n){return e=+e,t=+t,n=+n,Z3(t,e,n)[2]}function cze(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?JT(e,t,n):JT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fze(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var hze={value:()=>{}};function kie(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new C_(n)}function C_(t){this._=t}function dze(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}C_.prototype=kie.prototype={constructor:C_,on:function(t,e){var n=this._,r=dze(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=pze(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=TU(n[i],t.name,e);else if(e==null)for(i in n)n[i]=TU(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new C_(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function pze(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function TU(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=hze,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var eD="http://www.w3.org/1999/xhtml";const DU={svg:"http://www.w3.org/2000/svg",xhtml:eD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Z4(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),DU.hasOwnProperty(e)?{space:DU[e],local:t}:t}function mze(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===eD&&e.documentElement.namespaceURI===eD?e.createElement(t):e.createElementNS(n,t)}}function gze(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Cie(t){var e=Z4(t);return(e.local?gze:mze)(e)}function yze(){}function RR(t){return t==null?yze:function(){return this.querySelector(t)}}function bze(t){typeof t!="function"&&(t=RR(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new pu(r,this._parents)}function vze(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Oze(){return[]}function Aie(t){return t==null?Oze:function(){return this.querySelectorAll(t)}}function wze(t){return function(){return vze(t.apply(this,arguments))}}function xze(t){typeof t=="function"?t=wze(t):t=Aie(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new pu(r,i)}function Eie(t){return function(){return this.matches(t)}}function Tie(t){return function(e){return e.matches(t)}}var _ze=Array.prototype.find;function Sze(t){return function(){return _ze.call(this.children,t)}}function kze(){return this.firstElementChild}function Cze(t){return this.select(t==null?kze:Sze(typeof t=="function"?t:Tie(t)))}var Aze=Array.prototype.filter;function Eze(){return Array.from(this.children)}function Tze(t){return function(){return Aze.call(this.children,t)}}function Dze(t){return this.selectAll(t==null?Eze:Tze(typeof t=="function"?t:Tie(t)))}function Pze(t){typeof t!="function"&&(t=Eie(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new pu(r,this._parents)}function Die(t){return new Array(t.length)}function Rze(){return new pu(this._enter||this._groups.map(Die),this._parents)}function W3(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}W3.prototype={constructor:W3,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $ze(t){return function(){return t}}function Ize(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new W3(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function Fze(t,e,n,r,i,s,o){var a,l,u=new Map,c=e.length,f=s.length,h=new Array(c),d;for(a=0;a<c;++a)(l=e[a])&&(h[a]=d=o.call(l,l.__data__,a,e)+"",u.has(d)?i[a]=l:u.set(d,l));for(a=0;a<f;++a)d=o.call(t,s[a],a,s)+"",(l=u.get(d))?(r[a]=l,l.__data__=s[a],u.delete(d)):n[a]=new W3(t,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function Mze(t){return t.__data__}function Lze(t,e){if(!arguments.length)return Array.from(this,Mze);var n=e?Fze:Ize,r=this._parents,i=this._groups;typeof t!="function"&&(t=$ze(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],f=i[u],h=f.length,d=Nze(t.call(c,c&&c.__data__,u,r)),m=d.length,g=a[u]=new Array(m),b=o[u]=new Array(m),v=l[u]=new Array(h);n(c,f,g,b,v,d,e);for(var O=0,_=0,S,k;O<m;++O)if(S=g[O]){for(O>=_&&(_=O+1);!(k=b[_])&&++_<m;);S._next=k||null}}return o=new pu(o,r),o._enter=a,o._exit=l,o}function Nze(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Qze(){return new pu(this._exit||this._groups.map(Die),this._parents)}function Bze(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function zze(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],f=u.length,h=a[l]=new Array(f),d,m=0;m<f;++m)(d=u[m]||c[m])&&(h[m]=d);for(;l<i;++l)a[l]=n[l];return new pu(a,this._parents)}function Uze(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function jze(t){t||(t=qze);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new pu(i,this._parents).order()}function qze(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Vze(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Xze(){return Array.from(this)}function Zze(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Wze(){let t=0;for(const e of this)++t;return t}function Yze(){return!this.node()}function Gze(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Hze(t){return function(){this.removeAttribute(t)}}function Kze(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jze(t,e){return function(){this.setAttribute(t,e)}}function eUe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tUe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function nUe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function rUe(t,e){var n=Z4(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Kze:Hze:typeof e=="function"?n.local?nUe:tUe:n.local?eUe:Jze)(n,e))}function Pie(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function iUe(t){return function(){this.style.removeProperty(t)}}function sUe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function oUe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function aUe(t,e,n){return arguments.length>1?this.each((e==null?iUe:typeof e=="function"?oUe:sUe)(t,e,n??"")):A1(this.node(),t)}function A1(t,e){return t.style.getPropertyValue(e)||Pie(t).getComputedStyle(t,null).getPropertyValue(e)}function lUe(t){return function(){delete this[t]}}function uUe(t,e){return function(){this[t]=e}}function cUe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function fUe(t,e){return arguments.length>1?this.each((e==null?lUe:typeof e=="function"?cUe:uUe)(t,e)):this.node()[t]}function Rie(t){return t.trim().split(/^|\s+/)}function $R(t){return t.classList||new $ie(t)}function $ie(t){this._node=t,this._names=Rie(t.getAttribute("class")||"")}$ie.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Iie(t,e){for(var n=$R(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Fie(t,e){for(var n=$R(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hUe(t){return function(){Iie(this,t)}}function dUe(t){return function(){Fie(this,t)}}function pUe(t,e){return function(){(e.apply(this,arguments)?Iie:Fie)(this,t)}}function mUe(t,e){var n=Rie(t+"");if(arguments.length<2){for(var r=$R(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?pUe:e?hUe:dUe)(n,e))}function gUe(){this.textContent=""}function yUe(t){return function(){this.textContent=t}}function bUe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function vUe(t){return arguments.length?this.each(t==null?gUe:(typeof t=="function"?bUe:yUe)(t)):this.node().textContent}function OUe(){this.innerHTML=""}function wUe(t){return function(){this.innerHTML=t}}function xUe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function _Ue(t){return arguments.length?this.each(t==null?OUe:(typeof t=="function"?xUe:wUe)(t)):this.node().innerHTML}function SUe(){this.nextSibling&&this.parentNode.appendChild(this)}function kUe(){return this.each(SUe)}function CUe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function AUe(){return this.each(CUe)}function EUe(t){var e=typeof t=="function"?t:Cie(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function TUe(){return null}function DUe(t,e){var n=typeof t=="function"?t:Cie(t),r=e==null?TUe:typeof e=="function"?e:RR(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function PUe(){var t=this.parentNode;t&&t.removeChild(this)}function RUe(){return this.each(PUe)}function $Ue(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function IUe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FUe(t){return this.select(t?IUe:$Ue)}function MUe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function LUe(t){return function(e){t.call(this,e,this.__data__)}}function NUe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function QUe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function BUe(t,e,n){return function(){var r=this.__on,i,s=LUe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function zUe(t,e,n){var r=NUe(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?BUe:QUe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function Mie(t,e,n){var r=Pie(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function UUe(t,e){return function(){return Mie(this,t,e)}}function jUe(t,e){return function(){return Mie(this,t,e.apply(this,arguments))}}function qUe(t,e){return this.each((typeof e=="function"?jUe:UUe)(t,e))}function*VUe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var XUe=[null];function pu(t,e){this._groups=t,this._parents=e}function m2(){return new pu([[document.documentElement]],XUe)}function ZUe(){return this}pu.prototype=m2.prototype={constructor:pu,select:bze,selectAll:xze,selectChild:Cze,selectChildren:Dze,filter:Pze,data:Lze,enter:Rze,exit:Qze,join:Bze,merge:zze,selection:ZUe,order:Uze,sort:jze,call:Vze,nodes:Xze,node:Zze,size:Wze,empty:Yze,each:Gze,attr:rUe,style:aUe,property:fUe,classed:mUe,text:vUe,html:_Ue,raise:kUe,lower:AUe,append:EUe,insert:DUe,remove:RUe,clone:FUe,datum:MUe,on:zUe,dispatch:qUe,[Symbol.iterator]:VUe};function py(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function g2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jd(){}var D0=.7,E1=1/D0,Ig="\\s*([+-]?\\d+)\\s*",vO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WUe=/^#([0-9a-f]{3,8})$/,YUe=new RegExp(`^rgb\\(${Ig},${Ig},${Ig}\\)$`),GUe=new RegExp(`^rgb\\(${xc},${xc},${xc}\\)$`),HUe=new RegExp(`^rgba\\(${Ig},${Ig},${Ig},${vO}\\)$`),KUe=new RegExp(`^rgba\\(${xc},${xc},${xc},${vO}\\)$`),JUe=new RegExp(`^hsl\\(${vO},${xc},${xc}\\)$`),eje=new RegExp(`^hsla\\(${vO},${xc},${xc},${vO}\\)$`),PU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};py(Jd,P0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RU,formatHex:RU,formatHex8:tje,formatHsl:nje,formatRgb:$U,toString:$U});function RU(){return this.rgb().formatHex()}function tje(){return this.rgb().formatHex8()}function nje(){return Lie(this).formatHsl()}function $U(){return this.rgb().formatRgb()}function P0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=WUe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IU(e):n===3?new us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=YUe.exec(t))?new us(e[1],e[2],e[3],1):(e=GUe.exec(t))?new us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=HUe.exec(t))?wx(e[1],e[2],e[3],e[4]):(e=KUe.exec(t))?wx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JUe.exec(t))?LU(e[1],e[2]/100,e[3]/100,1):(e=eje.exec(t))?LU(e[1],e[2]/100,e[3]/100,e[4]):PU.hasOwnProperty(t)?IU(PU[t]):t==="transparent"?new us(NaN,NaN,NaN,0):null}function IU(t){return new us(t>>16&255,t>>8&255,t&255,1)}function wx(t,e,n,r){return r<=0&&(t=e=n=NaN),new us(t,e,n,r)}function IR(t){return t instanceof Jd||(t=P0(t)),t?(t=t.rgb(),new us(t.r,t.g,t.b,t.opacity)):new us}function T1(t,e,n,r){return arguments.length===1?IR(t):new us(t,e,n,r??1)}function us(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}py(us,T1,g2(Jd,{brighter(t){return t=t==null?E1:Math.pow(E1,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?D0:Math.pow(D0,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new us(o0(this.r),o0(this.g),o0(this.b),Y3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FU,formatHex:FU,formatHex8:rje,formatRgb:MU,toString:MU}));function FU(){return`#${Wp(this.r)}${Wp(this.g)}${Wp(this.b)}`}function rje(){return`#${Wp(this.r)}${Wp(this.g)}${Wp(this.b)}${Wp((isNaN(this.opacity)?1:this.opacity)*255)}`}function MU(){const t=Y3(this.opacity);return`${t===1?"rgb(":"rgba("}${o0(this.r)}, ${o0(this.g)}, ${o0(this.b)}${t===1?")":`, ${t})`}`}function Y3(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function o0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wp(t){return t=o0(t),(t<16?"0":"")+t.toString(16)}function LU(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new iu(t,e,n,r)}function Lie(t){if(t instanceof iu)return new iu(t.h,t.s,t.l,t.opacity);if(t instanceof Jd||(t=P0(t)),!t)return new iu;if(t instanceof iu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new iu(o,a,l,t.opacity)}function ije(t,e,n,r){return arguments.length===1?Lie(t):new iu(t,e,n,r??1)}function iu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}py(iu,ije,g2(Jd,{brighter(t){return t=t==null?E1:Math.pow(E1,t),new iu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?D0:Math.pow(D0,t),new iu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new us(F6(t>=240?t-240:t+120,i,r),F6(t,i,r),F6(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new iu(NU(this.h),xx(this.s),xx(this.l),Y3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Y3(this.opacity);return`${t===1?"hsl(":"hsla("}${NU(this.h)}, ${xx(this.s)*100}%, ${xx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function NU(t){return t=(t||0)%360,t<0?t+360:t}function xx(t){return Math.max(0,Math.min(1,t||0))}function F6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Nie=Math.PI/180,Qie=180/Math.PI,G3=18,Bie=.96422,zie=1,Uie=.82521,jie=4/29,Fg=6/29,qie=3*Fg*Fg,sje=Fg*Fg*Fg;function Vie(t){if(t instanceof _c)return new _c(t.l,t.a,t.b,t.opacity);if(t instanceof Qf)return Zie(t);t instanceof us||(t=IR(t));var e=Q6(t.r),n=Q6(t.g),r=Q6(t.b),i=M6((.2225045*e+.7168786*n+.0606169*r)/zie),s,o;return e===n&&n===r?s=o=i:(s=M6((.4360747*e+.3850649*n+.1430804*r)/Bie),o=M6((.0139322*e+.0971045*n+.7141733*r)/Uie)),new _c(116*i-16,500*(s-i),200*(i-o),t.opacity)}function Xie(t,e,n,r){return arguments.length===1?Vie(t):new _c(t,e,n,r??1)}function _c(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}py(_c,Xie,g2(Jd,{brighter(t){return new _c(this.l+G3*(t??1),this.a,this.b,this.opacity)},darker(t){return new _c(this.l-G3*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Bie*L6(e),t=zie*L6(t),n=Uie*L6(n),new us(N6(3.1338561*e-1.6168667*t-.4906146*n),N6(-.9787684*e+1.9161415*t+.033454*n),N6(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function M6(t){return t>sje?Math.pow(t,1/3):t/qie+jie}function L6(t){return t>Fg?t*t*t:qie*(t-jie)}function N6(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Q6(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function oje(t){if(t instanceof Qf)return new Qf(t.h,t.c,t.l,t.opacity);if(t instanceof _c||(t=Vie(t)),t.a===0&&t.b===0)return new Qf(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Qie;return new Qf(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function aje(t,e,n,r){return arguments.length===1?oje(t):new Qf(t,e,n,r??1)}function Qf(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Zie(t){if(isNaN(t.h))return new _c(t.l,0,0,t.opacity);var e=t.h*Nie;return new _c(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}py(Qf,aje,g2(Jd,{brighter(t){return new Qf(this.h,this.c,this.l+G3*(t??1),this.opacity)},darker(t){return new Qf(this.h,this.c,this.l-G3*(t??1),this.opacity)},rgb(){return Zie(this).rgb()}}));var Wie=-.14861,FR=1.78277,MR=-.29227,W4=-.90649,OO=1.97294,QU=OO*W4,BU=OO*FR,zU=FR*MR-W4*Wie;function lje(t){if(t instanceof a0)return new a0(t.h,t.s,t.l,t.opacity);t instanceof us||(t=IR(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(zU*r+QU*e-BU*n)/(zU+QU-BU),s=r-i,o=(OO*(n-i)-MR*s)/W4,a=Math.sqrt(o*o+s*s)/(OO*i*(1-i)),l=a?Math.atan2(o,s)*Qie-120:NaN;return new a0(l<0?l+360:l,a,i,t.opacity)}function Ic(t,e,n,r){return arguments.length===1?lje(t):new a0(t,e,n,r??1)}function a0(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}py(a0,Ic,g2(Jd,{brighter(t){return t=t==null?E1:Math.pow(E1,t),new a0(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?D0:Math.pow(D0,t),new a0(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Nie,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new us(255*(e+n*(Wie*r+FR*i)),255*(e+n*(MR*r+W4*i)),255*(e+n*(OO*r)),this.opacity)}}));function uje(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}function cje(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],o=r>0?t[r-1]:2*i-s,a=r<e-1?t[r+2]:2*s-i;return uje((n-r/e)*e,o,i,s,a)}}const Y4=t=>()=>t;function Yie(t,e){return function(n){return t+n*e}}function fje(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hje(t,e){var n=e-t;return n?Yie(t,n>180||n<-180?n-360*Math.round(n/360):n):Y4(isNaN(t)?e:t)}function dje(t){return(t=+t)==1?Mg:function(e,n){return n-e?fje(e,n,t):Y4(isNaN(e)?n:e)}}function Mg(t,e){var n=e-t;return n?Yie(t,n):Y4(isNaN(t)?e:t)}const H3=(function t(e){var n=dje(e);function r(i,s){var o=n((i=T1(i)).r,(s=T1(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=Mg(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r})(1);function pje(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=T1(e[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=t(r),i=t(i),s=t(s),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=s(l),a+""}}}var LR=pje(cje);function mje(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function gje(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yje(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=NR(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function bje(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Kl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vje(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=NR(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var tD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B6=new RegExp(tD.source,"g");function Oje(t){return function(){return t}}function wje(t){return function(e){return t(e)+""}}function Gie(t,e){var n=tD.lastIndex=B6.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=tD.exec(t))&&(i=B6.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Kl(r,i)})),n=B6.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?wje(l[0].x):Oje(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function NR(t,e){var n=typeof e,r;return e==null||n==="boolean"?Y4(e):(n==="number"?Kl:n==="string"?(r=P0(e))?(e=r,H3):Gie:e instanceof P0?H3:e instanceof Date?bje:gje(e)?mje:Array.isArray(e)?yje:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vje:Kl)(t,e)}function xje(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var UU=180/Math.PI,nD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hie(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*UU,skewX:Math.atan(l)*UU,scaleX:o,scaleY:a}}var _x;function _je(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nD:Hie(e.a,e.b,e.c,e.d,e.e,e.f)}function Sje(t){return t==null||(_x||(_x=document.createElementNS("http://www.w3.org/2000/svg","g")),_x.setAttribute("transform",t),!(t=_x.transform.baseVal.consolidate()))?nD:(t=t.matrix,Hie(t.a,t.b,t.c,t.d,t.e,t.f))}function Kie(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,f,h,d,m){if(u!==f||c!==h){var g=d.push("translate(",null,e,null,n);m.push({i:g-4,x:Kl(u,f)},{i:g-2,x:Kl(c,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function o(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Kl(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Kl(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,d,m){if(u!==f||c!==h){var g=d.push(i(d)+"scale(",null,",",null,")");m.push({i:g-4,x:Kl(u,f)},{i:g-2,x:Kl(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,f,h),o(u.rotate,c.rotate,f,h),a(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(d){for(var m=-1,g=h.length,b;++m<g;)f[(b=h[m]).i]=b.x(d);return f.join("")}}}var kje=Kie(_je,"px, ","px)","deg)"),Cje=Kie(Sje,", ",")",")");function Jie(t){return(function e(n){n=+n;function r(i,s){var o=t((i=Ic(i)).h,(s=Ic(s)).h),a=Mg(i.s,s.s),l=Mg(i.l,s.l),u=Mg(i.opacity,s.opacity);return function(c){return i.h=o(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r})(1)}Jie(hje);var QR=Jie(Mg),D1=0,Nb=0,ub=0,ese=1e3,K3,Qb,J3=0,R0=0,G4=0,wO=typeof performance=="object"&&performance.now?performance:Date,tse=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function BR(){return R0||(tse(Aje),R0=wO.now()+G4)}function Aje(){R0=0}function ek(){this._call=this._time=this._next=null}ek.prototype=nse.prototype={constructor:ek,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?BR():+n)+(e==null?0:+e),!this._next&&Qb!==this&&(Qb?Qb._next=this:K3=this,Qb=this),this._call=t,this._time=n,rD()},stop:function(){this._call&&(this._call=null,this._time=1/0,rD())}};function nse(t,e,n){var r=new ek;return r.restart(t,e,n),r}function Eje(){BR(),++D1;for(var t=K3,e;t;)(e=R0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--D1}function jU(){R0=(J3=wO.now())+G4,D1=Nb=0;try{Eje()}finally{D1=0,Dje(),R0=0}}function Tje(){var t=wO.now(),e=t-J3;e>ese&&(G4-=e,J3=t)}function Dje(){for(var t,e=K3,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:K3=n);Qb=t,rD(r)}function rD(t){if(!D1){Nb&&(Nb=clearTimeout(Nb));var e=t-R0;e>24?(t<1/0&&(Nb=setTimeout(jU,t-wO.now()-G4)),ub&&(ub=clearInterval(ub))):(ub||(J3=wO.now(),ub=setInterval(Tje,ese)),D1=1,tse(jU))}}function qU(t,e,n){var r=new ek;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Pje=kie("start","end","cancel","interrupt"),Rje=[],rse=0,VU=1,iD=2,A_=3,XU=4,sD=5,E_=6;function H4(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;$je(t,n,{name:e,index:r,group:i,on:Pje,tween:Rje,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:rse})}function zR(t,e){var n=Cu(t,e);if(n.state>rse)throw new Error("too late; already scheduled");return n}function Wc(t,e){var n=Cu(t,e);if(n.state>A_)throw new Error("too late; already running");return n}function Cu(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function $je(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=nse(s,0,n.time);function s(u){n.state=VU,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,h,d;if(n.state!==VU)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===A_)return qU(o);d.state===XU?(d.state=E_,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=E_,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(qU(function(){n.state===A_&&(n.state=XU,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=iD,n.on.call("start",t,t.__data__,n.index,n.group),n.state===iD){for(n.state=A_,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=sD,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===sD&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=E_,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Ije(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>iD&&r.state<sD,r.state=E_,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function Fje(t){return this.each(function(){Ije(this,t)})}function Mje(t,e){var n,r;return function(){var i=Wc(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Lje(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Wc(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function Nje(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Cu(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Mje:Lje)(n,t,e))}function UR(t,e,n){var r=t._id;return t.each(function(){var i=Wc(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Cu(i,r).value[e]}}function ise(t,e){var n;return(typeof e=="number"?Kl:e instanceof P0?H3:(n=P0(e))?(e=n,H3):Gie)(t,e)}function Qje(t){return function(){this.removeAttribute(t)}}function Bje(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zje(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Uje(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function jje(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function qje(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Vje(t,e){var n=Z4(t),r=n==="transform"?Cje:ise;return this.attrTween(t,typeof e=="function"?(n.local?qje:jje)(n,r,UR(this,"attr."+t,e)):e==null?(n.local?Bje:Qje)(n):(n.local?Uje:zje)(n,r,e))}function Xje(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Zje(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Wje(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Zje(t,s)),n}return i._value=e,i}function Yje(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Xje(t,s)),n}return i._value=e,i}function Gje(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Z4(t);return this.tween(n,(r.local?Wje:Yje)(r,e))}function Hje(t,e){return function(){zR(this,t).delay=+e.apply(this,arguments)}}function Kje(t,e){return e=+e,function(){zR(this,t).delay=e}}function Jje(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Hje:Kje)(e,t)):Cu(this.node(),e).delay}function eqe(t,e){return function(){Wc(this,t).duration=+e.apply(this,arguments)}}function tqe(t,e){return e=+e,function(){Wc(this,t).duration=e}}function nqe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?eqe:tqe)(e,t)):Cu(this.node(),e).duration}function rqe(t,e){if(typeof e!="function")throw new Error;return function(){Wc(this,t).ease=e}}function iqe(t){var e=this._id;return arguments.length?this.each(rqe(e,t)):Cu(this.node(),e).ease}function sqe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Wc(this,t).ease=n}}function oqe(t){if(typeof t!="function")throw new Error;return this.each(sqe(this._id,t))}function aqe(t){typeof t!="function"&&(t=Eie(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new oh(r,this._parents,this._name,this._id)}function lqe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,f=o[a]=new Array(c),h,d=0;d<c;++d)(h=l[d]||u[d])&&(f[d]=h);for(;a<r;++a)o[a]=e[a];return new oh(o,this._parents,this._name,this._id)}function uqe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function cqe(t,e,n){var r,i,s=uqe(e)?zR:Wc;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function fqe(t,e){var n=this._id;return arguments.length<2?Cu(this.node(),n).on.on(t):this.each(cqe(n,t,e))}function hqe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function dqe(){return this.on("end.remove",hqe(this._id))}function pqe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=RR(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,f,h=0;h<l;++h)(c=a[h])&&(f=t.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,H4(u[h],e,n,h,u,Cu(c,n)));return new oh(s,this._parents,e,n)}function mqe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Aie(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),d,m=Cu(c,n),g=0,b=h.length;g<b;++g)(d=h[g])&&H4(d,e,n,g,h,m);s.push(h),o.push(c)}return new oh(s,o,e,n)}var gqe=m2.prototype.constructor;function yqe(){return new gqe(this._groups,this._parents)}function bqe(t,e){var n,r,i;return function(){var s=A1(this,t),o=(this.style.removeProperty(t),A1(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function sse(t){return function(){this.style.removeProperty(t)}}function vqe(t,e,n){var r,i=n+"",s;return function(){var o=A1(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Oqe(t,e,n){var r,i,s;return function(){var o=A1(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),A1(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function wqe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Wc(this,t),u=l.on,c=l.value[s]==null?a||(a=sse(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function xqe(t,e,n){var r=(t+="")=="transform"?kje:ise;return e==null?this.styleTween(t,bqe(t,r)).on("end.style."+t,sse(t)):typeof e=="function"?this.styleTween(t,Oqe(t,r,UR(this,"style."+t,e))).each(wqe(this._id,t)):this.styleTween(t,vqe(t,r,e),n).on("end.style."+t,null)}function _qe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Sqe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&_qe(t,o,n)),r}return s._value=e,s}function kqe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Sqe(t,e,n??""))}function Cqe(t){return function(){this.textContent=t}}function Aqe(t){return function(){var e=t(this);this.textContent=e??""}}function Eqe(t){return this.tween("text",typeof t=="function"?Aqe(UR(this,"text",t)):Cqe(t==null?"":t+""))}function Tqe(t){return function(e){this.textContent=t.call(this,e)}}function Dqe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Tqe(i)),e}return r._value=t,r}function Pqe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Dqe(t))}function Rqe(){for(var t=this._name,e=this._id,n=ose(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Cu(l,e);H4(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new oh(r,this._parents,t,n)}function $qe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=Wc(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var Iqe=0;function oh(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ose(){return++Iqe}var cf=m2.prototype;oh.prototype={constructor:oh,select:pqe,selectAll:mqe,selectChild:cf.selectChild,selectChildren:cf.selectChildren,filter:aqe,merge:lqe,selection:yqe,transition:Rqe,call:cf.call,nodes:cf.nodes,node:cf.node,size:cf.size,empty:cf.empty,each:cf.each,on:fqe,attr:Vje,attrTween:Gje,style:xqe,styleTween:kqe,text:Eqe,textTween:Pqe,remove:dqe,tween:Nje,delay:Jje,duration:nqe,ease:iqe,easeVarying:oqe,end:$qe,[Symbol.iterator]:cf[Symbol.iterator]};function Fqe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Mqe={time:null,delay:0,duration:250,ease:Fqe};function Lqe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Nqe(t){var e,n;t instanceof oh?(e=t._id,t=t._name):(e=ose(),(n=Mqe).time=BR(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&H4(l,t,e,u,o,n||Lqe(l,e));return new oh(r,this._parents,t,e)}m2.prototype.interrupt=Fje;m2.prototype.transition=Nqe;const oD=Math.PI,aD=2*oD,xp=1e-6,Qqe=aD-xp;function ase(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Bqe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ase;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zqe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ase:Bqe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,c=o-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>xp)if(!(Math.abs(f*l-u*c)>xp)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,m=i-a,g=l*l+u*u,b=d*d+m*m,v=Math.sqrt(g),O=Math.sqrt(h),_=s*Math.tan((oD-Math.acos((g+h-b)/(2*v*O)))/2),S=_/O,k=_/v;Math.abs(S-1)>xp&&this._append`L${e+S*c},${n+S*f}`,this._append`A${s},${s},0,0,${+(f*d>c*m)},${this._x1=e+k*l},${this._y1=n+k*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>xp||Math.abs(this._y1-c)>xp)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%aD+aD),h>Qqe?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>xp&&this._append`A${r},${r},0,${+(h>=oD)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Uqe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tk(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function P1(t){return t=tk(Math.abs(t)),t?t[1]:NaN}function jqe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function qqe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vqe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xO(t){if(!(e=Vqe.exec(t)))throw new Error("invalid format: "+t);var e;return new jR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xO.prototype=jR.prototype;function jR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xqe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var lse;function Zqe(t,e){var n=tk(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(lse=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tk(t,Math.max(0,e+s-1))[0]}function ZU(t,e){var n=tk(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Uqe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZU(t*100,e),r:ZU,s:Zqe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function YU(t){return t}var GU=Array.prototype.map,HU=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Wqe(t){var e=t.grouping===void 0||t.thousands===void 0?YU:jqe(GU.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?YU:qqe(GU.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"â":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=xO(f);var h=f.fill,d=f.align,m=f.sign,g=f.symbol,b=f.zero,v=f.width,O=f.comma,_=f.precision,S=f.trim,k=f.type;k==="n"?(O=!0,k="g"):WU[k]||(_===void 0&&(_=12),S=!0,k="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",C=g==="$"?r:/[%p]/.test(k)?o:"",T=WU[k],P=/[defgprs%]/.test(k);_=_===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(I){var $=A,R=C,M,B,U;if(k==="c")R=T(I)+R,I="";else{I=+I;var j=I<0||1/I<0;if(I=isNaN(I)?l:T(Math.abs(I),_),S&&(I=Xqe(I)),j&&+I==0&&m!=="+"&&(j=!1),$=(j?m==="("?m:a:m==="-"||m==="("?"":m)+$,R=(k==="s"?HU[8+lse/3]:"")+R+(j&&m==="("?")":""),P){for(M=-1,B=I.length;++M<B;)if(U=I.charCodeAt(M),48>U||U>57){R=(U===46?i+I.slice(M+1):I.slice(M))+R,I=I.slice(0,M);break}}}O&&!b&&(I=e(I,1/0));var ee=$.length+I.length+R.length,W=ee<v?new Array(v-ee+1).join(h):"";switch(O&&b&&(I=e(W+I,W.length?v-R.length:1/0),W=""),d){case"<":I=$+I+R+W;break;case"=":I=$+W+I+R;break;case"^":I=W.slice(0,ee=W.length>>1)+$+I+R+W.slice(ee);break;default:I=W+$+I+R;break}return s(I)}return N.toString=function(){return f+""},N}function c(f,h){var d=u((f=xO(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(P1(h)/3)))*3,g=Math.pow(10,-m),b=HU[8+m/3];return function(v){return d(g*v)+b}}return{format:u,formatPrefix:c}}var Sx,y2,use;Yqe({thousands:",",grouping:[3],currency:["$",""]});function Yqe(t){return Sx=Wqe(t),y2=Sx.format,use=Sx.formatPrefix,Sx}function Gqe(t){return Math.max(0,-P1(Math.abs(t)))}function Hqe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(P1(e)/3)))*3-P1(Math.abs(t)))}function Kqe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,P1(e)-P1(t))+1}function b2(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const KU=Symbol("implicit");function cse(){var t=new AU,e=[],n=[],r=KU;function i(s){let o=t.get(s);if(o===void 0){if(r!==KU)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new AU;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cse(e,n).unknown(r)},b2.apply(i,arguments),i}function fse(){var t=cse().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,d=i<r,m=d?i:r,g=d?r:i;s=(g-m)/Math.max(1,h-l+u*2),a&&(s=Math.floor(s)),m+=(g-m-s*(h-l))*c,o=s*(1-l),a&&(m=Math.round(m),o=Math.round(o));var b=fze(h).map(function(v){return m+s*v});return n(d?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return fse(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},b2.apply(f(),arguments)}function Jqe(t){return function(){return t}}function eVe(t){return+t}var JU=[0,1];function ig(t){return t}function lD(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Jqe(isNaN(e)?NaN:.5)}function tVe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nVe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=lD(i,r),s=n(o,s)):(r=lD(r,i),s=n(s,o)),function(a){return s(r(a))}}function rVe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=lD(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=nze(t,a,1,r)-1;return s[l](i[l](a))}}function qR(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function VR(){var t=JU,e=JU,n=NR,r,i,s,o=ig,a,l,u;function c(){var h=Math.min(t.length,e.length);return o!==ig&&(o=tVe(t[0],t[h-1])),a=h>2?rVe:nVe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=a(e,t.map(r),Kl)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,eVe),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=xje,c()},f.clamp=function(h){return arguments.length?(o=h?!0:ig,c()):o!==ig},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,c()}}function iVe(){return VR()(ig,ig)}function sVe(t,e,n,r){var i=cze(t,e,n),s;switch(r=xO(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Hqe(i,o))&&(r.precision=s),use(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Kqe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Gqe(i))&&(r.precision=s-(r.type==="%")*2);break}}return y2(r)}function hse(t){var e=t.domain;return t.ticks=function(n){var r=e();return KT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sVe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=JT(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function K4(){var t=iVe();return t.copy=function(){return qR(t,K4())},b2.apply(t,arguments),hse(t)}function oVe(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function ej(t){return Math.log(t)}function tj(t){return Math.exp(t)}function aVe(t){return-Math.log(-t)}function lVe(t){return-Math.exp(-t)}function uVe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cVe(t){return t===10?uVe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fVe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nj(t){return(e,n)=>-t(-e,n)}function hVe(t){const e=t(ej,tj),n=e.domain;let r=10,i,s;function o(){return i=fVe(r),s=cVe(r),n()[0]<0?(i=nj(i),s=nj(s),t(aVe,lVe)):t(ej,tj),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),d=i(c),m,g;const b=a==null?10:+a;let v=[];if(!(r%1)&&d-h<b){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(m=1;m<r;++m)if(g=h<0?m/s(-h):m*s(h),!(g<u)){if(g>c)break;v.push(g)}}else for(;h<=d;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/s(-h):m*s(h),!(g<u)){if(g>c)break;v.push(g)}v.length*2<b&&(v=KT(u,c,b))}else v=KT(h,d,Math.min(d-h,b)).map(s);return f?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=xO(l)).precision==null&&(l.trim=!0),l=y2(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/s(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(oVe(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function _O(){const t=hVe(VR()).domain([1,10]);return t.copy=()=>qR(t,_O()).base(t.base()),b2.apply(t,arguments),t}function rj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ij(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dVe(t){var e=1,n=t(rj(e),ij(e));return n.constant=function(r){return arguments.length?t(rj(e=+r),ij(e)):e},hse(n)}function dse(){var t=dVe(VR());return t.copy=function(){return qR(t,dse()).constant(t.constant())},b2.apply(t,arguments)}function qn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Or=t=>LR(t[t.length-1]);var pVe=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(qn);const mVe=Or(pVe);var gVe=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(qn);const yVe=Or(gVe);var bVe=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(qn);const vVe=Or(bVe);var OVe=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(qn);const wVe=Or(OVe);var xVe=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(qn);const _Ve=Or(xVe);var SVe=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(qn);const kVe=Or(SVe);var CVe=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(qn);const AVe=Or(CVe);var EVe=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(qn);const TVe=Or(EVe);var DVe=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(qn);const PVe=Or(DVe);var RVe=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(qn);const $Ve=Or(RVe);var IVe=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(qn);const FVe=Or(IVe);var MVe=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(qn);const LVe=Or(MVe);var NVe=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(qn);const QVe=Or(NVe);var BVe=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(qn);const zVe=Or(BVe);var UVe=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(qn);const jVe=Or(UVe);var qVe=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(qn);const VVe=Or(qVe);var XVe=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(qn);const ZVe=Or(XVe);var WVe=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(qn);const YVe=Or(WVe);var GVe=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(qn);const HVe=Or(GVe);var KVe=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(qn);const JVe=Or(KVe);var eXe=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(qn);const tXe=Or(eXe);var nXe=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(qn);const rXe=Or(nXe);var iXe=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(qn);const sXe=Or(iXe);var oXe=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(qn);const aXe=Or(oXe);var lXe=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(qn);const uXe=Or(lXe);var cXe=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(qn);const fXe=Or(cXe);var hXe=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(qn);const dXe=Or(hXe);function pXe(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const mXe=QR(Ic(300,.5,0),Ic(-240,.5,1));var gXe=QR(Ic(-100,.75,.35),Ic(80,1.5,.8)),yXe=QR(Ic(260,.75,.35),Ic(80,1.5,.8)),kx=Ic();function bXe(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return kx.h=360*t-100,kx.s=1.5-1.5*e,kx.l=.8-.9*e,kx+""}var Cx=T1(),vXe=Math.PI/3,OXe=Math.PI*2/3;function wXe(t){var e;return t=(.5-t)*Math.PI,Cx.r=255*(e=Math.sin(t))*e,Cx.g=255*(e=Math.sin(t+vXe))*e,Cx.b=255*(e=Math.sin(t+OXe))*e,Cx+""}function XR(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function J4(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const xXe=J4(qn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var _Xe=J4(qn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),SXe=J4(qn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),kXe=J4(qn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function is(t){return function(){return t}}const sj=1e-12;function pse(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zqe(e)}function mse(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gse(t){this._context=t}gse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function nk(t){return new gse(t)}function yse(t){return t[0]}function bse(t){return t[1]}function vse(t,e){var n=is(!0),r=null,i=nk,s=null,o=pse(a);t=typeof t=="function"?t:t===void 0?yse:is(t),e=typeof e=="function"?e:e===void 0?bse:is(e);function a(l){var u,c=(l=mse(l)).length,f,h=!1,d;for(r==null&&(s=i(d=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,l),+e(f,u,l));if(d)return s=null,d+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:is(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:is(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:is(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function oj(t,e,n){var r=null,i=is(!0),s=null,o=nk,a=null,l=pse(u);t=typeof t=="function"?t:t===void 0?yse:is(+t),e=typeof e=="function"?e:is(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?bse:is(+n);function u(f){var h,d,m,g=(f=mse(f)).length,b,v=!1,O,_=new Array(g),S=new Array(g);for(s==null&&(a=o(O=l())),h=0;h<=g;++h){if(!(h<g&&i(b=f[h],h,f))===v)if(v=!v)d=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=d;--m)a.point(_[m],S[m]);a.lineEnd(),a.areaEnd()}v&&(_[h]=+t(b,h,f),S[h]=+e(b,h,f),a.point(r?+r(b,h,f):_[h],n?+n(b,h,f):S[h]))}if(O)return a=null,O+""||null}function c(){return vse().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:is(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:is(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:is(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:is(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:is(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:is(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:is(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),u):s},u}function aj(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ose(t){this._context=t}Ose.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CXe(t){return new Ose(t)}function lj(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ZR(t,e){this._context=t,this._k=(1-e)/6}ZR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lj(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:lj(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const AXe=(function t(e){function n(r){return new ZR(r,e)}return n.tension=function(r){return t(+r)},n})(0);function EXe(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>sj){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>sj){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*u+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function wse(t,e){this._context=t,this._alpha=e}wse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:EXe(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const TXe=(function t(e){function n(r){return e?new wse(r,e):new ZR(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function uj(t){return t<0?-1:1}function cj(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(uj(s)+uj(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function fj(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function z6(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function rk(t){this._context=t}rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z6(this,this._t0,fj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,z6(this,fj(this,n=cj(this,t,e)),n);break;default:z6(this,this._t0,n=cj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function xse(t){this._context=new _se(t)}(xse.prototype=Object.create(rk.prototype)).point=function(t,e){rk.prototype.point.call(this,e,t)};function _se(t){this._context=t}_se.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function DXe(t){return new rk(t)}function PXe(t){return new xse(t)}function Sse(t){this._context=t}Sse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=hj(t),i=hj(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hj(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function RXe(t){return new Sse(t)}function eC(t,e){this._context=t,this._t=e}eC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $Xe(t){return new eC(t,.5)}function IXe(t){return new eC(t,0)}function FXe(t){return new eC(t,1)}function Bb(t,e,n){this.k=t,this.x=e,this.y=n}Bb.prototype={constructor:Bb,scale:function(t){return t===1?this:new Bb(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Bb(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Bb.prototype;function Ax(t,e=0){let n=Xie(t);return n.l+=e,n.a=0,n.b=0,n.rgb().formatHex8()}const MXe={light:{scheme:"light",interpolate:"pubugn",categoryColors:C1,ordinalColors:dj,otherColor:"#9eabc2",nullColor:"#aaaaaa",markColor:"#3b82f6",markColorFade:"#dbeafe",markColorGray:Ax("#3b82f6",20),markColorGrayFade:Ax("#dbeafe"),embeddingColor:"#1f77b4",ruleColor:"#000",gridColor:kf.slate[300],labelColor:kf.slate[400],labelFontFamily:"system-ui",labelFontSize:11,labelMaxWidth:80,brushBorder:kf.slate[500],brushBorderBack:"#fff",brushFill:"rgba(0,0,0,0.1)"},dark:{scheme:"dark",interpolate:"inferno",categoryColors:C1,ordinalColors:dj,otherColor:"#9eabc2",nullColor:"#aaaaaa",markColor:"#3b82f6",markColorFade:"#3b4d7f",markColorGray:Ax("#3b82f6",-20),markColorGrayFade:Ax("#1f398a"),embeddingColor:"#1f77b4",ruleColor:"#fff",gridColor:kf.slate[700],labelColor:kf.slate[500],labelFontFamily:"system-ui",labelFontSize:11,labelMaxWidth:80,brushBorder:kf.slate[400],brushBorderBack:"#000",brushFill:"rgba(255,255,255,0.1)"}},LXe={blues:rXe,brbg:mVe,bugn:$Ve,bupu:FVe,cividis:pXe,cool:yXe,cubehelixdefault:mXe,gnbu:LVe,greens:sXe,greys:aXe,inferno:SXe,magma:_Xe,oranges:dXe,orrd:QVe,piyg:vVe,plasma:kXe,prgn:yVe,pubu:jVe,pubugn:zVe,puor:wVe,purd:VVe,purples:uXe,rainbow:bXe,rdbu:_Ve,rdgy:kVe,rdpu:ZVe,rdylbu:AVe,rdylgn:TVe,reds:fXe,sinebow:wXe,spectral:PVe,turbo:XR,viridis:xXe,warm:gXe,ylgn:HVe,ylgnbu:YVe,ylorbr:JVe,ylorrd:tXe};function WR(t,e){let n=MXe[t];return e!=null&&(n=lg(n,lg(e,{light:void 0,dark:void 0})??e)??n,e[t]!=null&&(n=lg(n,e[t])??n)),n}function NXe(t){return typeof t=="string"?LXe[t.toLowerCase()]??XR:typeof t=="function"?t:LR(t)}function dj(t){let e=[];for(let n=0;n<t;n++)e.push(XR((n+.5)/t));return e}var QXe=fe('<hr class="mt-1 mb-1 border-slate-300 dark:border-slate-500 border-dashed"/>'),BXe=fe('<!> <button class="text-left items-center flex py-0.5"><div class="w-40 flex-none overflow-hidden whitespace-nowrap text-ellipsis pr-1"><span> </span></div> <!></button>',1),zXe=fe('<div class="py-0.5 text-slate-400 dark:text-slate-500">(Occurrences in lists)</div>'),UXe=fe('<button class="py-0.5 text-left text-slate-400 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 whitespace-nowrap text-ellipsis w-full overflow-hidden"><!></button>'),jXe=fe('<!> <div class="flex mt-0.5"><div class="w-40 flex-none overflow-hidden whitespace-nowrap text-ellipsis pr-1"><!></div> <div class="flex-1 mr-2 overflow-hidden"><!></div> <div class="flex gap-1"><!> <!></div></div>',1),qXe=fe('<div class="flex flex-col text-sm w-full select-none"><!></div>');function VXe(t,e){He(e,!0);const n=()=>hi(u,"$colorScheme",i),r=()=>hi(c,"$themeConfig",i),[i,s]=Il(),o="(other)",a="(null)";let{coordinator:l,colorScheme:u,theme:c}=e.context,f=Y(()=>WR(n(),r())),h=Y(()=>e.state.selection),d=Y(()=>D5(e.spec.limit,10)),m=Y(()=>D5(e.spec.labels,"#/#")),g=Y(()=>D5(e.spec.order,"total-descending")),b=Y(()=>e.spec.data.isList??!1),v=Y(()=>x(m)=="#/#"),O=Le(void 0),_=Le(400),S=Y(()=>x(O)?.items.filter($=>$.special==null).reduce(($,R)=>Math.max($,x(v)?R.count:R.countSelected),0)??0);function k($){return typeof $=="string"?we($):pt`${$.sql}`}function A($){return $==null?Ve(!0):$ instanceof Array?$.length==0?Ve(!0):Go(...$.map(A)):typeof $=="string"?pt`${$}`:typeof $=="boolean"?Ve($):$}function C($){if($ instanceof Array){let R=$.map(M=>Ve(M));return fg(y0("value",R))}switch($??"total-descending"){case"alphabetical":return Ny("value");case"selected-ascending":return Ny("countSelected");case"selected-descending":return fg("countSelected");case"total-ascending":return Ny("count");case"total-descending":default:return fg("count")}}function T($,R,M,B,U,j,ee){U instanceof Array&&(j=Math.max(j,U.length));let W=LO({coordinator:$,selection:B,query:ae=>{if(ee){let ie="__count_plot_intermediate__";return at.with({[ie]:at.from(R).select({value:pt`UNNEST(${k(M)})::TEXT`,predicate:Ar(A(ae),"INT")})}).from(ie).select({value:"value",count:ei(),countSelected:di("predicate"),total:pt`(${at.from(ie).select({count:ei()})})`,totalSelected:pt`(${at.from(ie).select({count:di("predicate")})})`}).groupby("value").orderby(g0("value"),C(U),Ny("value")).limit(j+1)}else{let ie=Ar(k(M),"TEXT");return at.from(R).select({value:ie,count:ei(),countSelected:di(Ar(A(ae),"INT")),total:pt`(${at.from(R).select({count:ei()})})`,totalSelected:pt`(${at.from(R).select({count:ei()}).where(ae)})`}).groupby(ie).orderby(g0(ie),C(U),Ny("value")).limit(j+1)}},queryResult:ae=>{let ie=ae.toArray();if(ie.length==0){oe(O,void 0);return}let{total:_e,totalSelected:le}=ie[0];_e==null&&(_e=0),le==null&&(le=0);let ce={items:[],sumSelected:le,sumTotal:_e};for(let ve of ie)ve.value!=null&&ce.items.length<j&&ce.items.push({value:ve.value,count:ve.count??0,countSelected:ve.countSelected??0});if(U instanceof Array){let ve=Te=>{let ze=U.indexOf(Te.value);return ze<0?1/0:ze};ce.items.sort((Te,ze)=>ve(Te)-ve(ze))}for(let ve of ie)ve.value==null&&ce.items.push({value:a,count:ve.count??0,countSelected:ve.countSelected??0,special:"null"});let Qe=ce.items.reduce((ve,Te)=>ve+Te.count,0),We=ce.items.reduce((ve,Te)=>ve+Te.countSelected,0);(Qe<_e||We<le)&&ce.items.push({value:o,count:_e-Qe,countSelected:le-We,special:"other"}),oe(O,ce)}});function ue(ae){if(ae.length==0)return Ve(!0);if(ee){let ie=k(M);return Ol(...ae.map(le=>{if(le==a)return SM(ie,pt`NULL`);if(le==o){let ce=x(O)?.items.filter(Qe=>Qe.special==null).map(Qe=>Ve(Qe.value))??[];return pt`len(list_filter(${ie}, x -> x NOT IN (${ce.join(",")}))) > 0`}else return SM(ie,Ve(le))}))}else{let ie=Ar(k(M),"TEXT");return Ol(...ae.map(_e=>{if(_e==a)return gc(ie);if(_e==o){let le=x(O)?.items.filter(ce=>ce.special==null).map(ce=>Ve(ce.value))??[];return Hg(y0(ie,le))}else return RP(ie,Ve(_e))}))}}let te={reset:()=>{e.onStateChange({selection:void 0})}};return Vr(()=>{let ae={source:te,clients:new Set([W]),...x(h)!=null&&x(h).length>0?{value:x(h),predicate:ue(x(h))}:{value:null,predicate:null}};B.update(ae)}),()=>{W.destroy(),B.update({source:te,clients:new Set([W]),value:null,predicate:null})}}Vr(()=>T(l,e.context.table,e.spec.data.field,e.context.filter,x(g),x(d),x(b)));function P($,R){if(x(h)==null||x(h).length==0)e.onStateChange({selection:[$]});else{let M=x(h).findIndex(B=>B==$)>=0;R?M?e.onStateChange({selection:x(h).filter(B=>B!=$)}):e.onStateChange({selection:[...x(h),$]}):M?e.onStateChange({selection:void 0}):e.onStateChange({selection:[$]})}}function N($,R){return R==0?"-%":($/R*100).toFixed(1)+"%"}function I($,R,M,B){let U,j;switch(M??"#/#"){case"#":U=B?$.countSelected.toLocaleString():$.count.toLocaleString();break;case"%":U=B?N($.countSelected,R.sumSelected):N($.count,R.sumTotal);break;case"#/#":U=B?$.countSelected.toLocaleString()+" / "+$.count.toLocaleString():$.count.toLocaleString();break;default:U=""}return x(b)?j=B?[`${$.countSelected.toLocaleString()} / ${$.count.toLocaleString()} (${N($.countSelected,$.count)})`,`${N($.countSelected,R.sumSelected)} of selection`,"(Occurrences in the list values)"]:[`${$.count.toLocaleString()}`,`${N($.count,R.sumTotal)} of all occurrences`,"(Occurrences in the list values)"]:j=B?[`${$.countSelected.toLocaleString()} / ${$.count.toLocaleString()} (${N($.countSelected,$.count)})`,`${N($.countSelected,R.sumSelected)} of selection`]:[`${$.count.toLocaleString()}`,`${N($.count,R.sumTotal)} of all rows`],{label:U,title:j.join(`
`)}}A0(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,children:($,R)=>{var M=qXe(),B=K(M);{var U=j=>{const ee=Y(()=>x(O).items.findIndex(Ue=>Ue.special!=null));var W=jXe(),ue=Ye(W);fn(ue,17,()=>x(O).items,ur,(Ue,Re,lt)=>{const it=Y(()=>x(h)==null||x(h).length==0||x(h).findIndex(Cn=>Cn==x(Re).value)>=0),Lt=Y(()=>!x(O).items.every(Cn=>Cn.count==Cn.countSelected)),ft=Y(()=>I(x(Re),x(O),x(m),x(Lt)));var Ee=BXe(),nt=Ye(Ee);{var on=Cn=>{var Nr=QXe();X(Cn,Nr)};ke(nt,Cn=>{lt==x(ee)&&Cn(on)})}var an=se(nt,2);an.__click=Cn=>P(x(Re).value,Cn.shiftKey);var xn=K(an),or=K(xn);let Li;var dn=K(or,!0);Z(or),Z(xn);var yi=se(xn,2);{let Cn=Y(()=>x(it)?[...x(v)?[{value:x(Re).count,color:x(f).markColorFade}]:[],{value:x(Re).countSelected,color:x(f).markColor}]:[...x(v)?[{value:x(Re).count,color:x(f).markColorGrayFade}]:[],{value:x(Re).countSelected,color:x(f).markColorGray}]),Nr=Y(()=>x(_)-250);wLe(yi,{get selected(){return x(it)},get bars(){return x(Cn)},get maxValue(){return x(S)},get width(){return x(Nr)},get label(){return x(ft).label},get title(){return x(ft).title}})}Z(an),Me(()=>{pe(an,"title",x(Re).value),Li=sr(or,1,"",null,Li,{"text-gray-400":!x(it),"dark:text-gray-400":!x(it)}),Mt(dn,x(Re).value)}),X(Ue,Ee)});var te=se(ue,2),ae=K(te),ie=K(ae);{var _e=Ue=>{var Re=zXe();X(Ue,Re)};ke(ie,Ue=>{x(b)&&Ue(_e)})}Z(ae);var le=se(ae,2),ce=K(le);{var Qe=Ue=>{var Re=UXe();Re.__click=()=>{let ft=x(d)<50?100:10;e.onSpecChange({limit:ft}),ft<x(d)&&e.onStateChange({selection:void 0})};var lt=K(Re);{var it=ft=>{var Ee=Jp("â Up to 100 values");X(ft,Ee)},Lt=ft=>{var Ee=Jp("â Up to 10 values");X(ft,Ee)};ke(lt,ft=>{x(d)<50?ft(it):ft(Lt,!1)})}Z(Re),X(Ue,Re)};ke(ce,Ue=>{(x(d)!=10||x(O).items.findIndex(Re=>Re.special=="other")>=0)&&Ue(Qe)})}Z(le);var We=se(le,2),ve=K(We);{var Te=Ue=>{{let Re=Y(()=>x(g)??"total-descending");N3(Ue,{options:[{value:"total-descending",label:"â Total"},{value:"selected-descending",label:"â Selected"},{value:"total-ascending",label:"â Total"},{value:"selected-ascending",label:"â Selected"},{value:"alphabetical",label:"â A-Z"}],get value(){return x(Re)},onChange:lt=>e.onSpecChange({order:lt})})}};ke(ve,Ue=>{typeof x(g)=="string"&&Ue(Te)})}var ze=se(ve,2);{let Ue=Y(()=>x(m)??"#/#");N3(ze,{options:[{value:"%",label:"%"},{value:"#",label:"#"},{value:"#/#",label:"#/#"}],get value(){return x(Ue)},onChange:Re=>e.onSpecChange({labels:Re})})}Z(We),Z(te),X(j,W)};ke(B,j=>{x(O)&&j(U)})}Z(M),mc(M,"clientWidth",j=>oe(_,j)),X($,M)},$$slots:{default:!0}}),Ke(),s()}Tr(["click"]);var XXe=fe("<input/>");function tC(t,e){He(e,!0);let n=dt(e,"value",15),r=dt(e,"type",3,"text"),i=dt(e,"placeholder",3,""),s=dt(e,"className",3,"");function o(l){l.key=="Escape"?l.stopPropagation():l.key=="Enter"&&e.onEnter?.()}var a=XXe();Ek(a),a.__keydown=o,Me(()=>{pe(a,"type",r()),pe(a,"placeholder",i()),sr(a,1,`form-input rounded-md py-1 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 ${s()??""??""}`)}),tme(a,n),X(t,a),Ke()}Tr(["keydown"]);var ZXe=fe("<!> <!>",1);function WXe(t,e){He(e,!0);var n=Bt(),r=Ye(n);{var i=o=>{A0(o,{get width(){return e.width},get height(){return e.height},scrollY:!0,class:"prose dark:prose-invert max-w-none",children:(a,l)=>{var u=Bt(),c=Ye(u);zD(c,()=>N4(e.spec.content??"")),X(a,u)},$$slots:{default:!0}})},s=o=>{A0(o,{get width(){return e.width},get height(){return e.height},class:"flex flex-col gap-2",children:(a,l)=>{var u=ZXe(),c=Ye(u),f=()=>e.spec.title??"",h=m=>e.onSpecChange({title:m});tC(c,{get value(){return f()},set value(m){h(m)}});var d=se(c,2);{let m=Y(()=>e.height==null?"h-64":"flex-1");F4(d,{get value(){return e.spec.content},get class(){return x(m)},language:"markdown",onChange:g=>{e.onSpecChange({content:g})}})}X(a,u)},$$slots:{default:!0}})};ke(r,o=>{e.mode=="view"?o(i):o(s,!1)})}X(t,n),Ke()}var YXe=fe('<div class="bg-slate-100 p-2 rounded-md w-full h-full overflow-y-scroll"><pre> </pre></div>');function pj(t,e){He(e,!0);var n=YXe(),r=K(n),i=K(r,!0);Z(r),Z(n),Me(s=>Mt(i,s),[()=>JSON.stringify(e.spec,null,2)]),X(t,n),Ke()}var GXe=fe('<span class="mx-1"> </span>'),HXe=fe("<button><!> <!></button>");function Hf(t,e){He(e,!0);let n=dt(e,"label",3,null),r=dt(e,"icon",3,null),i=dt(e,"title",3,""),s=dt(e,"order",3,null);var o=HXe();o.__click=()=>{e.onClick?.()};let a;var l=K(o);{var u=h=>{const d=Y(r);var m=Bt(),g=Ye(m);th(g,()=>x(d),(b,v)=>{v(b,{class:"w-5 h-5"})}),X(h,m)};ke(l,h=>{r()!=null&&h(u)})}var c=se(l,2);{var f=h=>{var d=GXe(),m=K(d,!0);Z(d),Me(()=>Mt(m,n())),X(h,d)};ke(c,h=>{n()!=null&&n()!=""&&h(f)})}Z(o),Me(()=>{sr(o,1,`rounded-md flex select-none items-center px-1.5 py-1.5 h-[28px] border bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-600 dark:text-slate-400 focus-visible:outline-2 outline-blue-600 -outline-offset-1 ${e.class??""??""}`),pe(o,"title",i()),a=gt(o,"",a,{order:s()})}),X(t,o),Ke()}Tr(["click"]);const KXe=""+new URL("duckdb-browser-mvp.worker-Bc8GfOvd.js",import.meta.url).href,JXe=""+new URL("duckdb-mvp-C5CQ5aRn.wasm",import.meta.url).href,eZe=""+new URL("duckdb-browser-eh.worker-DcYAbAi8.js",import.meta.url).href,tZe=""+new URL("duckdb-eh-CAt5YSMB.wasm",import.meta.url).href;function nZe(){let t=window.location.href;return t=t.replace(/#.*$/,""),t=t.replace(/\/[^/]*$/,"/"),t.endsWith("/")||(t+="/"),t+"duckdb-wasm"}async function rZe({log:t=!1}={}){const n=await dY({mvp:{mainModule:JXe,mainWorker:KXe},eh:{mainModule:tZe,mainWorker:eZe}}),r=new Worker(n.mainWorker),i=t?new cY:new uY,s=new hY(i,r);await s.instantiate(n.mainModule,n.pthreadWorker),await s.open({filesystem:{forceFullHTTPReads:!0}});const o=await s.connect();return await o.query(`SET custom_extension_repository = '${nZe()}';`),{duckdb:s,connection:o}}async function kse(t,e,n=void 0){const r=await rZe();if(e=="wasm"){const i=await v2e({duckdb:r.duckdb,connection:r.connection});t.databaseConnector(i)}else if(e=="socket"){const i=await u1e({uri:n??""});t.databaseConnector(i)}else if(e=="rest"){const i=await fbe({uri:n??""});t.databaseConnector(i)}}function YR(t){return t==null?null:t instanceof Array?t.length==0?null:Go(t).toString().trim():typeof t=="string"?t.trim():typeof t=="boolean"?Ve(t).toString():t.toString().trim()}async function Cse(t,e){return Array.from(await t.query(`DESCRIBE ${e}`)).map(r=>({name:r.column_name,type:r.column_type,jsType:SO(r.column_type)}))}async function Ase(t,e,n){return(await t.query(`SELECT COUNT(DISTINCT ${we(n)}) AS count FROM ${e}`)).get(0).count}function SO(t){return iZe.has(t)?"number":sZe.has(t)?"string":t.match(/^(VARCHAR|TEXT)\[\d*\]$/)?"string[]":null}const iZe=new Set(["REAL","FLOAT4","FLOAT8","FLOAT","DOUBLE","INT","TINYINT","INT1","SMALLINT","INT2","SHORT","INTEGER","INT4","INT","SIGNED","INT8","LONG","BIGINT","UTINYINT","USMALLINT","UINTEGER","UBIGINT","UHUGEINT"]),sZe=new Set(["BOOLEAN","DATE","VARCHAR","CHAR","BPCHAR","TEXT","STRING"]);var oZe=fe('<div><button class="flex-1 overflow-hidden text-left"><div class="text-ellipsis overflow-hidden w-full"> </div> <div class="text-ellipsis overflow-hidden w-full"><code class="text-xs whitespace-nowrap"> </code></div></button> <div class="flex-none flex gap-1 items-start"><!> <!></div></div>'),aZe=fe('<div class="mt-4"><!> <div class="text-slate-500 dark:text-slate-400 text-sm mb-1">SQL Predicate</div> <div class="w-full !h-32 mb-2"><!></div> <div class="flex gap-2"><!> <!> <div class="flex-1"></div> <button class="text-slate-400 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200">Current Predicate</button></div></div>'),lZe=fe('<div class="flex flex-col gap-1"><!> <button class="text-left text-slate-400 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 whitespace-nowrap text-ellipsis w-full overflow-hidden select-none">+ Add Predicate</button></div> <!>',1);function uZe(t,e){He(e,!0);const n=()=>hi(s,"$colorScheme",r),[r,i]=Il();let{colorScheme:s}=e.context,o=Y(()=>e.spec.items??[]),a=Y(()=>e.state.selection??[]),l=Le(!1),u=Le(null),c=Le(""),f=Le("");function h(){oe(l,!1),oe(u,null),oe(f,""),oe(c,"")}function d(g){e.onSpecChange({items:g}),e.onStateChange({selection:(e.state.selection??[]).filter(b=>g.find(v=>v.predicate==b)!=null)})}async function m(){let g=x(f).trim();g==""&&(g="Predicate");let b=x(c).trim();if(b=="")return null;try{await e.context.coordinator.query(at.from(e.context.table).select({count:ei()}).where(b))}catch(v){return alert(v.toString()),null}return{name:g,predicate:b}}Vr(()=>{let g=LO({coordinator:e.context.coordinator,selection:e.context.filter,query:()=>pt`SELECT 1`}),b={reset:()=>{e.onStateChange({selection:[]})}};return Bs(()=>{if(x(a).length==0)e.context.filter.update({source:b,clients:new Set([g]),predicate:null,value:null});else{let v=x(a).map(O=>"("+O+")").join(" OR ");e.context.filter.update({source:b,clients:new Set([g]),predicate:Vb(v),value:v})}}),()=>{e.context.filter.update({source:b,clients:new Set([g]),predicate:null,value:null}),g.destroy()}}),A0(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,children:(g,b)=>{var v=lZe(),O=Ye(v),_=K(O);fn(_,17,()=>x(o),ur,(C,T)=>{const P=Y(()=>x(a).indexOf(x(T).predicate)>=0);var N=oZe();let I;var $=K(N);$.__click=te=>{te.shiftKey?e.onStateChange({selection:x(P)?x(a).filter(ae=>ae!=x(T).predicate):[...x(a),x(T).predicate]}):x(P)?e.onStateChange({selection:[]}):e.onStateChange({selection:[x(T).predicate]})};var R=K($),M=K(R,!0);Z(R);var B=se(R,2),U=K(B),j=K(U,!0);Z(U),Z(B),Z($);var ee=se($,2),W=K(ee);ed(W,{get icon(){return tR},onClick:()=>{oe(u,x(T)),oe(c,x(T).predicate,!0),oe(f,x(T).name,!0),oe(l,!0)}});var ue=se(W,2);ed(ue,{get icon(){return ly},onClick:()=>{d(x(o).filter(te=>te!==x(T)))}}),Z(ee),Z(N),Me(()=>{I=sr(N,1,"flex gap-4 w-full bg-white dark:bg-slate-800 p-2 rounded-md border border-slate-200 dark:border-slate-600 select-none",null,I,{"!bg-blue-100":x(P),"!border-blue-400":x(P),"dark:!bg-blue-800":x(P),"dark:!border-blue-600":x(P)}),Mt(M,x(T).name),pe(U,"title",x(T).predicate),Mt(j,x(T).predicate)}),X(C,N)});var S=se(_,2);S.__click=()=>{oe(l,!0),oe(u,null)},Z(O);var k=se(O,2);{var A=C=>{var T=aZe(),P=K(T);tC(P,{placeholder:"predicate name",className:"w-full mb-2",get value(){return x(f)},set value(ee){oe(f,ee,!0)}});var N=se(P,4),I=K(N);{let ee=Y(()=>({table:e.context.table,columns:e.context.columns}));F4(I,{language:"sql",get sql(){return x(ee)},class:"w-full h-full",get colorScheme(){return n()},get value(){return x(c)},onChange:W=>oe(c,W,!0)})}Z(N);var $=se(N,2),R=K($);{var M=ee=>{Hf(ee,{label:"Update",onClick:async()=>{let W=await m();W&&(d(x(o).map(ue=>ue===x(u)?W:ue)),h())}})},B=ee=>{Hf(ee,{label:"Add",onClick:async()=>{let W=await m();W&&(d([...x(o),W]),h())}})};ke(R,ee=>{x(u)!=null?ee(M):ee(B,!1)})}var U=se(R,2);Hf(U,{label:"Cancel",onClick:()=>{oe(u,null),oe(l,!1)}});var j=se(U,4);j.__click=()=>oe(c,YR(e.context.filter.predicate(null))??"",!0),Z($),Z(T),X(C,T)};ke(k,C=>{x(l)&&C(A)})}X(g,v)},$$slots:{default:!0}}),Ke(),i()}Tr(["click"]);var cZe=fe('<label class="select-none flex items-center gap-2"><span class="text-slate-500 dark:text-slate-400 whitespace-nowrap"> </span> <!></label>');function Ra(t,e){He(e,!0);let n=hr(e,["$$slots","$$events","$$legacy"]),r="form-select rounded-md py-1 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 dark:text-slate-400 select-none text-ellipsis";var i=Bt(),s=Ye(i);{var o=l=>{var u=cZe(),c=K(u),f=K(c,!0);Z(c);var h=se(c,2);{let d=Y(()=>r+" "+(e.class??""));NT(h,p0(()=>n,{get class(){return x(d)}}))}Z(u),Me(()=>Mt(f,e.label)),X(l,u)},a=l=>{{let u=Y(()=>r+" "+(e.class??""));NT(l,p0(()=>n,{get class(){return x(u)}}))}};ke(s,l=>{e.label!=null?l(o):l(a,!1)})}X(t,i),Ke()}function fZe(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const hZe=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function vd(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let Em=null;function Ese(t={}){return Em||(t.includeStyleProperties?(Em=t.includeStyleProperties,Em):(Em=vd(window.getComputedStyle(document.documentElement)),Em))}function ik(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function dZe(t){const e=ik(t,"border-left-width"),n=ik(t,"border-right-width");return t.clientWidth+e+n}function pZe(t){const e=ik(t,"border-top-width"),n=ik(t,"border-bottom-width");return t.clientHeight+e+n}function mZe(t,e={}){const n=e.width||dZe(t),r=e.height||pZe(t);return{width:n,height:r}}function uD(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function gZe(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function yZe(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),gZe(i)}const Ko=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||Ko(n,e)};function bZe(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function vZe(t,e){return Ese(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function OZe(t,e,n,r){const i=`.${t}:${e}`,s=n.cssText?bZe(n):vZe(n,r);return document.createTextNode(`${i}{${s}}`)}function mj(t,e,n,r){const i=window.getComputedStyle(t,n),s=i.getPropertyValue("content");if(s===""||s==="none")return;const o=hZe();try{e.className=`${e.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(OZe(o,n,i,r)),e.appendChild(a)}function wZe(t,e,n){mj(t,e,":before",n),mj(t,e,":after",n)}const gj="application/font-woff",yj="image/jpeg",xZe={woff:gj,woff2:gj,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:yj,jpeg:yj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function _Ze(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function GR(t){const e=_Ze(t).toLowerCase();return xZe[e]||""}function SZe(t){return t.split(/,/)[1]}function cD(t){return t.search(/^(data:)/)!==-1}function kZe(t,e){return`data:${e};base64,${t}`}async function Tse(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,o)=>{const a=new FileReader;a.onerror=o,a.onloadend=()=>{try{s(n({res:r,result:a.result}))}catch(l){o(l)}},a.readAsDataURL(i)})}const U6={};function CZe(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function HR(t,e,n){const r=CZe(t,e,n.includeQueryParams);if(U6[r]!=null)return U6[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await Tse(t,n.fetchRequestInit,({res:o,result:a})=>(e||(e=o.headers.get("Content-Type")||""),SZe(a)));i=kZe(s,e)}catch(s){i=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return U6[r]=i,i}async function AZe(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):uD(e)}async function EZe(t,e){if(t.currentSrc){const s=document.createElement("canvas"),o=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,o?.drawImage(t,0,0,s.width,s.height);const a=s.toDataURL();return uD(a)}const n=t.poster,r=GR(n),i=await HR(n,r,e);return uD(i)}async function TZe(t,e){var n;try{if(!((n=t?.contentDocument)===null||n===void 0)&&n.body)return await nC(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function DZe(t,e){return Ko(t,HTMLCanvasElement)?AZe(t):Ko(t,HTMLVideoElement)?EZe(t,e):Ko(t,HTMLIFrameElement)?TZe(t,e):t.cloneNode(Dse(t))}const PZe=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",Dse=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function RZe(t,e,n){var r,i;if(Dse(e))return e;let s=[];return PZe(t)&&t.assignedNodes?s=vd(t.assignedNodes()):Ko(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?s=vd(t.contentDocument.body.childNodes):s=vd(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),s.length===0||Ko(t,HTMLVideoElement)||await s.reduce((o,a)=>o.then(()=>nC(a,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function $Ze(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):Ese(n).forEach(s=>{let o=i.getPropertyValue(s);s==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Ko(t,HTMLIFrameElement)&&s==="display"&&o==="inline"&&(o="block"),s==="d"&&e.getAttribute("d")&&(o=`path(${e.getAttribute("d")})`),r.setProperty(s,o,i.getPropertyPriority(s))})}function IZe(t,e){Ko(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),Ko(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function FZe(t,e){if(Ko(t,HTMLSelectElement)){const r=Array.from(e.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function MZe(t,e,n){return Ko(e,Element)&&($Ze(t,e,n),wZe(t,e,n),IZe(t,e),FZe(t,e)),e}async function LZe(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let s=0;s<n.length;s++){const a=n[s].getAttribute("xlink:href");if(a){const l=t.querySelector(a),u=document.querySelector(a);!l&&u&&!r[a]&&(r[a]=await nC(u,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg");o.setAttribute("xmlns",s),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const a=document.createElementNS(s,"defs");o.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);t.appendChild(o)}return t}async function nC(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>DZe(r,e)).then(r=>RZe(t,r,e)).then(r=>MZe(t,r,e)).then(r=>LZe(r,e))}const Pse=/url\((['"]?)([^'"]+?)\1\)/g,NZe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,QZe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function BZe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function zZe(t){const e=[];return t.replace(Pse,(n,r,i)=>(e.push(i),n)),e.filter(n=>!cD(n))}async function UZe(t,e,n,r,i){try{const s=n?fZe(e,n):e,o=GR(e);let a;return i||(a=await HR(s,o,r)),t.replace(BZe(e),`$1${a}$3`)}catch{}return t}function jZe(t,{preferredFontFormat:e}){return e?t.replace(QZe,n=>{for(;;){const[r,,i]=NZe.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function Rse(t){return t.search(Pse)!==-1}async function $se(t,e,n){if(!Rse(t))return t;const r=jZe(t,n);return zZe(r).reduce((s,o)=>s.then(a=>UZe(a,o,e,n)),Promise.resolve(r))}async function Tm(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const s=await $se(i,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function qZe(t,e){await Tm("background",t,e)||await Tm("background-image",t,e),await Tm("mask",t,e)||await Tm("-webkit-mask",t,e)||await Tm("mask-image",t,e)||await Tm("-webkit-mask-image",t,e)}async function VZe(t,e){const n=Ko(t,HTMLImageElement);if(!(n&&!cD(t.src))&&!(Ko(t,SVGImageElement)&&!cD(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await HR(r,GR(r),e);await new Promise((s,o)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...l)=>{try{s(e.onImageErrorHandler(...l))}catch(u){o(u)}}:o;const a=t;a.decode&&(a.decode=s),a.loading==="lazy"&&(a.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function XZe(t,e){const r=vd(t.childNodes).map(i=>Ise(i,e));await Promise.all(r).then(()=>t)}async function Ise(t,e){Ko(t,Element)&&(await qZe(t,e),await VZe(t,e),await XZe(t,e))}function ZZe(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const bj={};async function vj(t){let e=bj[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},bj[t]=e,e}async function Oj(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let a=o.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),Tse(a,e.fetchRequestInit,({result:l})=>(n=n.replace(o,`url(${l})`),[o,l]))});return Promise.all(s).then(()=>n)}function wj(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(o,"gi");for(;;){let l=s.exec(r);if(l===null){if(l=a.exec(r),l===null)break;s.lastIndex=a.lastIndex}else a.lastIndex=s.lastIndex;e.push(l[0])}return e}async function WZe(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{vd(i.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let a=o+1;const l=s.href,u=vj(l).then(c=>Oj(c,e)).then(c=>wj(c).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?a+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(c=>{console.error("Error loading remote css",c.toString())});r.push(u)}})}catch(s){const o=t.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(vj(i.href).then(a=>Oj(a,e)).then(a=>wj(a).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{vd(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))}function YZe(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Rse(e.style.getPropertyValue("src")))}async function GZe(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=vd(t.ownerDocument.styleSheets),r=await WZe(n,e);return YZe(r)}function Fse(t){return t.trim().replace(/["']/g,"")}function HZe(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{e.add(Fse(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function KZe(t,e){const n=await GZe(t,e),r=HZe(t);return(await Promise.all(n.filter(s=>r.has(Fse(s.style.fontFamily))).map(s=>{const o=s.parentStyleSheet?s.parentStyleSheet.href:null;return $se(s.cssText,o,e)}))).join(`
`)}async function JZe(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await KZe(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function eWe(t,e={}){const{width:n,height:r}=mZe(t,e),i=await nC(t,e,!0);return await JZe(i,e),await Ise(i,e),ZZe(i,e),await yZe(i,n,r)}async function Mse(t,e={}){let n=e.maxWidth??16384,r=e.maxHeight??16384,i=e.pixelRatio??1,s=nWe(t),o=await eWe(t,{pixelRatio:i});if(s){let c=await(await fetch(o)).text();c=s(c),o="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(c)}let a=await tWe(o),l=document.createElement("canvas");if(l.width=a.width*i,l.height=a.height*i,l.width>n||l.height>r){let c=n/l.width,f=r/l.height,h=Math.min(c,f);l.width=Math.floor(l.width*h),l.height=Math.floor(l.height*h)}let u=l.getContext("2d");return u&&(e.backgroundColor!=null&&(u.fillStyle=e.backgroundColor,u.fillRect(0,0,l.width,l.height)),u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.drawImage(a,0,0,l.width,l.height)),l.toDataURL("image/png")}function tWe(t){return new Promise((e,n)=>{let r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}function nWe(t){let e=t.querySelectorAll("svg foreignObject > canvas"),n=new Map,r=0;for(let i of e){let s=`canvas_${Math.random().toString(36).substring(2,11)}_${r}`;n.set(s,i),i.setAttribute("data-screenshot-temp",s),r+=1}if(n.size!=0)return i=>{for(let[s,o]of n.entries()){let a=i.indexOf(s);if(a>=0){let l=i.lastIndexOf("<foreignObject",a),u=i.indexOf("</foreignObject>",a)+16,c=o.parentElement,f=c.getAttribute("x"),h=c.getAttribute("y"),d=c.getAttribute("width"),m=c.getAttribute("height"),g=`<image href="${o.toDataURL()}" x="${f}" y="${h}" width="${d}" height="${m}" />`;i=i.substring(0,l)+g+i.substring(u)}}return i}}var rWe=fe("<button>An occured with this chart. Click to retry.</button>"),iWe=fe("<div><!></div>");function Lse(t,e){He(e,!0);let n=hr(e,["$$slots","$$events","$$legacy"]),r=Y(()=>qet(e.spec)),i=Le(100),s=Le(100),o;function a(f,h){console.trace("Error happened in chart with spec",h.spec,h.error)}Bs(()=>e.registerDelegate?.({screenshot:async f=>{let h=jV(e.context.colorScheme);return await Mse(o,{...f,backgroundColor:h=="dark"?"#000000":"#ffffff"})}}));var l=iWe();let u;var c=K(l);rV(c,{failed:(h,d=yr,m=yr)=>{var g=rWe();g.__click=function(...b){m()?.apply(this,b)},Kr(g,(b,v)=>a?.(b,v),()=>({spec:e.spec,error:d()})),X(h,g)}},h=>{var d=Bt(),m=Ye(d);{let g=Y(()=>e.width=="container"?x(i):e.width),b=Y(()=>e.height=="container"?x(s):e.height);th(m,()=>x(r),(v,O)=>{O(v,p0(()=>n,{get width(){return x(g)},get height(){return x(b)}}))})}X(h,d)}),Z(l),Gi(l,f=>o=f,()=>o),Me(()=>u=gt(l,"",u,{width:e.width=="container"?"100%":e.width!=null?`${e.width}px`:"fit-content",height:e.height=="container"?"100%":e.height!=null?`${e.height}px`:"fit-content"})),mc(l,"clientWidth",f=>oe(i,f)),mc(l,"clientHeight",f=>oe(s,f)),X(t,l),Ke()}Tr(["click"]);const sWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<line x1="15" y1="54" x2="15" y2="12" stroke="black" stroke-width="2"/>
<line x1="32" y1="53" x2="32" y2="10" stroke="black" stroke-width="2"/>
<line x1="49" y1="45" x2="49" y2="19" stroke="black" stroke-width="2"/>
<rect x="8" y="27" width="14" height="18" rx="3" fill="#007AFF"/>
<rect x="25" y="22" width="14" height="14" rx="3" fill="#007AFF"/>
<rect x="42" y="27" width="14" height="12" rx="3" fill="#007AFF"/>
</svg>
`,oWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="34" cy="16" r="6" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="24.5" cy="29.5" r="4.5" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="47.5" cy="43.5" r="4.5" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="42" cy="49" r="1" fill="#34C759" fill-opacity="0.1" stroke="#34C759" stroke-width="2"/>
<circle cx="20" cy="43" r="5" fill="#34C759" fill-opacity="0.1" stroke="#34C759" stroke-width="2"/>
<circle cx="38" cy="48" r="3" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="36" cy="28" r="8" fill="#34C759" fill-opacity="0.1" stroke="#34C759" stroke-width="2"/>
<circle cx="13" cy="32" r="3" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="22" cy="19" r="2" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
</svg>
`,aWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="18" y="20" width="14" height="8" rx="3" fill="#007AFF"/>
<rect x="8" y="31" width="8" height="8" rx="4" fill="black" fill-opacity="0.2"/>
<rect x="34" y="31" width="22" height="8" rx="3" fill="black" fill-opacity="0.2"/>
<rect x="8" y="42" width="8" height="8" rx="4" fill="black" fill-opacity="0.2"/>
<rect x="18" y="42" width="14" height="8" rx="3" fill="black" fill-opacity="0.2"/>
<rect x="34" y="42" width="22" height="8" rx="3" fill="black" fill-opacity="0.2"/>
<circle cx="25" cy="24" r="11.5" stroke="black" stroke-width="3"/>
<path d="M53 20C54.6569 20 56 21.3431 56 23V25C56 26.6569 54.6569 28 53 28H37.373C37.7801 26.7399 38 25.3956 38 24C38 22.6044 37.7801 21.2601 37.373 20H53Z" fill="#007AFF" fill-opacity="0.5"/>
<path d="M32 36C32 37.6569 30.6569 39 29 39H21C19.3431 39 18 37.6569 18 36V34.9561C20.0206 36.2498 22.4227 37 25 37C27.5773 37 29.9794 36.2498 32 34.9561V36Z" fill="black" fill-opacity="0.2"/>
<path d="M12 20C12.2082 20 12.4127 20.0152 12.6123 20.0459C12.2147 21.2928 12 22.6213 12 24C12 25.3784 12.2148 26.7065 12.6123 27.9531C12.4127 27.9838 12.2082 28 12 28C9.79086 28 8 26.2091 8 24C8 21.7909 9.79086 20 12 20Z" fill="#007AFF" fill-opacity="0.5"/>
<path d="M46.7676 42.2324C47.7439 43.2087 47.7439 44.7913 46.7676 45.7676C45.7913 46.7439 44.2087 46.7439 43.2324 45.7676L32.9727 35.5078C34.3519 34.5505 35.5505 33.3519 36.5078 31.9727L46.7676 42.2324Z" fill="black"/>
</svg>
`,lWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="9" y="9" width="46" height="46" stroke="black" stroke-opacity="0.2" stroke-width="2" stroke-dasharray="2 2"/>
<path d="M9 55C28 55 30 41 33 31C36 21 42 9 55 9" stroke="#34C759" stroke-width="2" stroke-linecap="round"/>
<path d="M9 55C20 44 11.5 6.5 55 8.99999" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/>
</svg>
`,uWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="32" cy="28" r="2" fill="#007AFF"/>
<circle cx="32" cy="24" r="2" fill="#007AFF"/>
<circle cx="32" cy="20" r="2" fill="#007AFF"/>
<circle cx="36" cy="32" r="2" fill="#007AFF"/>
<circle cx="36" cy="28" r="2" fill="#007AFF"/>
<circle cx="36" cy="24" r="2" fill="#007AFF"/>
<circle cx="28" cy="32" r="2" fill="#007AFF"/>
<circle cx="28" cy="28" r="2" fill="#007AFF"/>
<circle cx="28" cy="24" r="2" fill="#007AFF"/>
<circle cx="28" cy="20" r="2" fill="#007AFF"/>
<circle cx="28" cy="16" r="2" fill="#007AFF"/>
<circle cx="44" cy="24" r="2" fill="#A3CFFF"/>
<circle cx="44" cy="20" r="2" fill="#A3CFFF"/>
<circle cx="44" cy="16" r="2" fill="#A3CFFF"/>
<circle cx="40" cy="20" r="2" fill="#A3CFFF"/>
<circle cx="40" cy="16" r="2" fill="#A3CFFF"/>
<circle cx="20" cy="32" r="2" fill="#007AFF"/>
<circle cx="20" cy="28" r="2" fill="#007AFF"/>
<circle cx="20" cy="24" r="2" fill="#007AFF"/>
<circle cx="20" cy="20" r="2" fill="#3897FF"/>
<circle cx="20" cy="16" r="2" fill="#3897FF"/>
<circle cx="24" cy="32" r="2" fill="#007AFF"/>
<circle cx="24" cy="28" r="2" fill="#007AFF"/>
<circle cx="24" cy="24" r="2" fill="#007AFF"/>
<circle cx="24" cy="20" r="2" fill="#3897FF"/>
<circle cx="24" cy="16" r="2" fill="#3897FF"/>
<circle cx="16" cy="32" r="2" fill="#3897FF"/>
<circle cx="16" cy="28" r="2" fill="#3897FF"/>
<circle cx="16" cy="24" r="2" fill="#3897FF"/>
<circle cx="32" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="32" cy="36" r="2" fill="#007AFF"/>
<circle cx="36" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="36" cy="36" r="2" fill="#007AFF"/>
<circle cx="28" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="28" cy="36" r="2" fill="#007AFF"/>
<circle cx="44" cy="44" r="2" fill="#3897FF"/>
<circle cx="48" cy="44" r="2" fill="#3897FF"/>
<circle cx="48" cy="40" r="2" fill="#3897FF"/>
<circle cx="52" cy="32" r="2" fill="#A3CFFF"/>
<circle cx="52" cy="16" r="2" fill="#E0EFFF"/>
<circle cx="56" cy="32" r="2" fill="#A3CFFF"/>
<circle cx="56" cy="28" r="2" fill="#A3CFFF"/>
<circle cx="56" cy="16" r="2" fill="#E0EFFF"/>
<circle cx="52" cy="36" r="2" fill="#A3CFFF"/>
<circle cx="56" cy="36" r="2" fill="#A3CFFF"/>
<circle cx="8" cy="16" r="2" fill="#E0EFFF"/>
<circle cx="12" cy="32" r="2" fill="#3897FF"/>
<circle cx="12" cy="28" r="2" fill="#3897FF"/>
<circle cx="28" cy="8" r="2" fill="#A3CFFF"/>
<circle cx="48" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="48" cy="8" r="2" fill="#E0EFFF"/>
<circle cx="20" cy="12" r="2" fill="#A3CFFF"/>
<circle cx="24" cy="12" r="2" fill="#A3CFFF"/>
<circle cx="24" cy="8" r="2" fill="#A3CFFF"/>
<circle cx="52" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="56" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="56" cy="8" r="2" fill="#E0EFFF"/>
<circle cx="8" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="12" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="32" cy="56" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="32" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="36" cy="56" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="28" cy="56" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="28" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="44" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="40" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="20" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="24" cy="56" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="24" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="16" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="12" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="8" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="12" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="12" cy="44" r="2" fill="#3897FF"/>
<circle cx="40" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="20" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="20" cy="40" r="2" fill="#007AFF"/>
<circle cx="24" cy="36" r="2" fill="#007AFF"/>
<circle cx="16" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="16" cy="40" r="2" fill="#3897FF"/>
<circle cx="16" cy="36" r="2" fill="#3897FF"/>
</svg>
`,cWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8" y="8" width="48" height="14" rx="3" fill="#007AFF"/>
<rect x="8" y="25" width="36" height="14" rx="3" fill="#007AFF"/>
<rect x="8" y="42" width="24" height="14" rx="3" fill="#007AFF"/>
</svg>
`,fWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="48" y="48" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="48" y="38" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.78"/>
<rect x="48" y="28" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="48" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.5"/>
<rect x="48" y="8" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="38" y="48" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.96"/>
<rect x="38" y="38" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="38" y="28" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.63"/>
<rect x="38" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.36"/>
<rect x="38" y="8" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.64"/>
<rect x="28" y="48" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="28" y="38" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.45"/>
<rect x="28" y="28" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.28"/>
<rect x="28" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.8"/>
<rect x="28" y="8" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.7"/>
<rect x="18" y="48" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.27"/>
<rect x="18" y="38" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.46"/>
<rect x="18" y="28" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.74"/>
<rect x="18" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.96"/>
<rect x="18" y="8" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.82"/>
<rect x="8" y="48" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="8" y="38" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="8" y="28" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.33"/>
<rect x="8" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.12"/>
<rect x="8" y="8" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.4"/>
</svg>
`,hWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9 32L20 39L32 23.5L44 38L55 27" stroke="#34C759" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<rect x="9" y="9" width="46" height="46" stroke="black" stroke-opacity="0.2" stroke-width="2" stroke-dasharray="2 2"/>
<path d="M9 43L20 44L32 32.5L44 28L55 17" stroke="#007AFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,dWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<line x1="10.5" y1="37.5" x2="53.5" y2="37.5" stroke="black" stroke-width="3" stroke-linecap="round"/>
<line x1="10.5" y1="49.5" x2="53.5" y2="49.5" stroke="black" stroke-width="3" stroke-linecap="round"/>
<line x1="41.5" y1="25.5" x2="53.5" y2="25.5" stroke="black" stroke-width="3" stroke-linecap="round"/>
<path d="M9.29119 13.9091H12.1932L16.0795 23.3949H16.233L20.1193 13.9091H23.0213V27H20.7457V18.0064H20.6243L17.0064 26.9616H15.3061L11.6882 17.9872H11.5668V27H9.29119V13.9091ZM30.0398 27H25.6037V13.9091H30.1293C31.429 13.9091 32.5455 14.1712 33.4787 14.6953C34.4162 15.2152 35.1364 15.9631 35.6392 16.9389C36.142 17.9148 36.3935 19.0824 36.3935 20.4418C36.3935 21.8054 36.1399 22.9773 35.6328 23.9574C35.13 24.9375 34.4034 25.6896 33.4531 26.2138C32.5071 26.7379 31.3693 27 30.0398 27ZM27.9751 24.9482H29.9247C30.8366 24.9482 31.5973 24.782 32.2067 24.4496C32.8161 24.1129 33.2741 23.6122 33.581 22.9474C33.8878 22.2784 34.0412 21.4432 34.0412 20.4418C34.0412 19.4403 33.8878 18.6094 33.581 17.9489C33.2741 17.2841 32.8203 16.7876 32.2195 16.4595C31.6229 16.1271 30.8814 15.9609 29.995 15.9609H27.9751V24.9482Z" fill="black"/>
</svg>
`,pWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M27.233 37V26.8182H30.6733C31.4721 26.8182 32.125 26.9624 32.6321 27.2507C33.1425 27.5357 33.5204 27.9219 33.7656 28.4091C34.0109 28.8963 34.1335 29.4399 34.1335 30.0398C34.1335 30.6397 34.0109 31.1849 33.7656 31.6754C33.5237 32.166 33.1491 32.5571 32.642 32.8487C32.1349 33.1371 31.4853 33.2812 30.6932 33.2812H28.2273V32.1875H30.6534C31.2003 32.1875 31.6394 32.093 31.9709 31.9041C32.3023 31.7152 32.5426 31.46 32.6918 31.1385C32.8442 30.8137 32.9205 30.4474 32.9205 30.0398C32.9205 29.6321 32.8442 29.2675 32.6918 28.946C32.5426 28.6245 32.3007 28.3726 31.9659 28.1903C31.6312 28.0047 31.187 27.9119 30.6335 27.9119H28.4659V37H27.233ZM35.9606 37V29.3636H37.0941V30.517H37.1737C37.3129 30.1392 37.5647 29.8326 37.9293 29.5973C38.2939 29.362 38.7049 29.2443 39.1623 29.2443C39.2485 29.2443 39.3562 29.246 39.4854 29.2493C39.6147 29.2526 39.7125 29.2576 39.7788 29.2642V30.4574C39.739 30.4474 39.6478 30.4325 39.5053 30.4126C39.3661 30.3894 39.2186 30.3778 39.0629 30.3778C38.6916 30.3778 38.3602 30.4557 38.0685 30.6115C37.7802 30.764 37.5515 30.9761 37.3825 31.2479C37.2167 31.5163 37.1339 31.8229 37.1339 32.1676V37H35.9606ZM44.1388 37.1591C43.4031 37.1591 42.7683 36.9967 42.2347 36.6719C41.7044 36.3438 41.2951 35.8864 41.0067 35.2997C40.7217 34.7098 40.5792 34.0237 40.5792 33.2415C40.5792 32.4593 40.7217 31.7699 41.0067 31.1733C41.2951 30.5734 41.6961 30.1061 42.2099 29.7713C42.7269 29.4332 43.3301 29.2642 44.0195 29.2642C44.4173 29.2642 44.81 29.3305 45.1978 29.4631C45.5856 29.5956 45.9386 29.8111 46.2567 30.1094C46.5749 30.4044 46.8285 30.7955 47.0174 31.2827C47.2063 31.7699 47.3008 32.3698 47.3008 33.0824V33.5795H41.4144V32.5653H46.1076C46.1076 32.1345 46.0214 31.75 45.8491 31.4119C45.68 31.0739 45.4381 30.8071 45.1232 30.6115C44.8117 30.416 44.4438 30.3182 44.0195 30.3182C43.5522 30.3182 43.1478 30.4342 42.8065 30.6662C42.4684 30.8949 42.2082 31.1932 42.0259 31.5611C41.8436 31.929 41.7525 32.3234 41.7525 32.7443V33.4205C41.7525 33.9972 41.8519 34.486 42.0508 34.8871C42.253 35.2848 42.533 35.5881 42.891 35.7969C43.2489 36.0024 43.6649 36.1051 44.1388 36.1051C44.4471 36.1051 44.7255 36.062 44.9741 35.9759C45.226 35.8864 45.4431 35.7538 45.6254 35.5781C45.8076 35.3991 45.9485 35.1771 46.0479 34.9119L47.1815 35.2301C47.0621 35.6146 46.8616 35.9527 46.5799 36.2443C46.2982 36.5327 45.9502 36.758 45.5359 36.9205C45.1216 37.0795 44.6559 37.1591 44.1388 37.1591ZM51.9691 37.1591C51.3327 37.1591 50.771 36.9983 50.2837 36.6768C49.7965 36.352 49.4154 35.8946 49.1403 35.3047C48.8652 34.7114 48.7276 34.0104 48.7276 33.2017C48.7276 32.3996 48.8652 31.7036 49.1403 31.1136C49.4154 30.5237 49.7982 30.0679 50.2887 29.7464C50.7792 29.425 51.346 29.2642 51.989 29.2642C52.4862 29.2642 52.8789 29.3471 53.1673 29.5128C53.4589 29.6752 53.681 29.8608 53.8335 30.0696C53.9892 30.2751 54.1102 30.4441 54.1964 30.5767H54.2958V26.8182H55.4691V37H54.3356V35.8267H54.1964C54.1102 35.9659 53.9876 36.1416 53.8285 36.3537C53.6694 36.5625 53.4424 36.7498 53.1474 36.9155C52.8524 37.0779 52.4596 37.1591 51.9691 37.1591ZM52.1282 36.1051C52.5988 36.1051 52.9966 35.9825 53.3214 35.7372C53.6462 35.4886 53.8931 35.1456 54.0621 34.7081C54.2312 34.2673 54.3157 33.7585 54.3157 33.1818C54.3157 32.6117 54.2328 32.1129 54.0671 31.6854C53.9014 31.2545 53.6561 30.9197 53.3313 30.6811C53.0065 30.4392 52.6055 30.3182 52.1282 30.3182C51.631 30.3182 51.2167 30.4458 50.8853 30.701C50.5572 30.9529 50.3103 31.2959 50.1445 31.7301C49.9821 32.161 49.9009 32.6449 49.9009 33.1818C49.9009 33.7254 49.9838 34.2192 50.1495 34.6634C50.3185 35.1042 50.5671 35.4555 50.8952 35.7173C51.2267 35.9759 51.6377 36.1051 52.1282 36.1051Z" fill="#007AFF"/>
<path d="M27.233 20V9.81818H30.6733C31.4721 9.81818 32.125 9.96236 32.6321 10.2507C33.1425 10.5357 33.5204 10.9219 33.7656 11.4091C34.0109 11.8963 34.1335 12.4399 34.1335 13.0398C34.1335 13.6397 34.0109 14.1849 33.7656 14.6754C33.5237 15.166 33.1491 15.5571 32.642 15.8487C32.1349 16.1371 31.4853 16.2812 30.6932 16.2812H28.2273V15.1875H30.6534C31.2003 15.1875 31.6394 15.093 31.9709 14.9041C32.3023 14.7152 32.5426 14.46 32.6918 14.1385C32.8442 13.8137 32.9205 13.4474 32.9205 13.0398C32.9205 12.6321 32.8442 12.2675 32.6918 11.946C32.5426 11.6245 32.3007 11.3726 31.9659 11.1903C31.6312 11.0047 31.187 10.9119 30.6335 10.9119H28.4659V20H27.233ZM35.9606 20V12.3636H37.0941V13.517H37.1737C37.3129 13.1392 37.5647 12.8326 37.9293 12.5973C38.2939 12.362 38.7049 12.2443 39.1623 12.2443C39.2485 12.2443 39.3562 12.246 39.4854 12.2493C39.6147 12.2526 39.7125 12.2576 39.7788 12.2642V13.4574C39.739 13.4474 39.6478 13.4325 39.5053 13.4126C39.3661 13.3894 39.2186 13.3778 39.0629 13.3778C38.6916 13.3778 38.3602 13.4557 38.0685 13.6115C37.7802 13.764 37.5515 13.9761 37.3825 14.2479C37.2167 14.5163 37.1339 14.8229 37.1339 15.1676V20H35.9606ZM44.1388 20.1591C43.4031 20.1591 42.7683 19.9967 42.2347 19.6719C41.7044 19.3438 41.2951 18.8864 41.0067 18.2997C40.7217 17.7098 40.5792 17.0237 40.5792 16.2415C40.5792 15.4593 40.7217 14.7699 41.0067 14.1733C41.2951 13.5734 41.6961 13.1061 42.2099 12.7713C42.7269 12.4332 43.3301 12.2642 44.0195 12.2642C44.4173 12.2642 44.81 12.3305 45.1978 12.4631C45.5856 12.5956 45.9386 12.8111 46.2567 13.1094C46.5749 13.4044 46.8285 13.7955 47.0174 14.2827C47.2063 14.7699 47.3008 15.3698 47.3008 16.0824V16.5795H41.4144V15.5653H46.1076C46.1076 15.1345 46.0214 14.75 45.8491 14.4119C45.68 14.0739 45.4381 13.8071 45.1232 13.6115C44.8117 13.416 44.4438 13.3182 44.0195 13.3182C43.5522 13.3182 43.1478 13.4342 42.8065 13.6662C42.4684 13.8949 42.2082 14.1932 42.0259 14.5611C41.8436 14.929 41.7525 15.3234 41.7525 15.7443V16.4205C41.7525 16.9972 41.8519 17.486 42.0508 17.8871C42.253 18.2848 42.533 18.5881 42.891 18.7969C43.2489 19.0024 43.6649 19.1051 44.1388 19.1051C44.4471 19.1051 44.7255 19.062 44.9741 18.9759C45.226 18.8864 45.4431 18.7538 45.6254 18.5781C45.8076 18.3991 45.9485 18.1771 46.0479 17.9119L47.1815 18.2301C47.0621 18.6146 46.8616 18.9527 46.5799 19.2443C46.2982 19.5327 45.9502 19.758 45.5359 19.9205C45.1216 20.0795 44.6559 20.1591 44.1388 20.1591ZM51.9691 20.1591C51.3327 20.1591 50.771 19.9983 50.2837 19.6768C49.7965 19.352 49.4154 18.8946 49.1403 18.3047C48.8652 17.7114 48.7276 17.0104 48.7276 16.2017C48.7276 15.3996 48.8652 14.7036 49.1403 14.1136C49.4154 13.5237 49.7982 13.0679 50.2887 12.7464C50.7792 12.425 51.346 12.2642 51.989 12.2642C52.4862 12.2642 52.8789 12.3471 53.1673 12.5128C53.4589 12.6752 53.681 12.8608 53.8335 13.0696C53.9892 13.2751 54.1102 13.4441 54.1964 13.5767H54.2958V9.81818H55.4691V20H54.3356V18.8267H54.1964C54.1102 18.9659 53.9876 19.1416 53.8285 19.3537C53.6694 19.5625 53.4424 19.7498 53.1474 19.9155C52.8524 20.0779 52.4596 20.1591 51.9691 20.1591ZM52.1282 19.1051C52.5988 19.1051 52.9966 18.9825 53.3214 18.7372C53.6462 18.4886 53.8931 18.1456 54.0621 17.7081C54.2312 17.2673 54.3157 16.7585 54.3157 16.1818C54.3157 15.6117 54.2328 15.1129 54.0671 14.6854C53.9014 14.2545 53.6561 13.9197 53.3313 13.6811C53.0065 13.4392 52.6055 13.3182 52.1282 13.3182C51.631 13.3182 51.2167 13.4458 50.8853 13.701C50.5572 13.9529 50.3103 14.2959 50.1445 14.7301C49.9821 15.161 49.9009 15.6449 49.9009 16.1818C49.9009 16.7254 49.9838 17.2192 50.1495 17.6634C50.3185 18.1042 50.5671 18.4555 50.8952 18.7173C51.2267 18.9759 51.6377 19.1051 52.1282 19.1051Z" fill="#007AFF" fill-opacity="0.25"/>
<path d="M27.233 54V43.8182H30.6733C31.4721 43.8182 32.125 43.9624 32.6321 44.2507C33.1425 44.5357 33.5204 44.9219 33.7656 45.4091C34.0109 45.8963 34.1335 46.4399 34.1335 47.0398C34.1335 47.6397 34.0109 48.1849 33.7656 48.6754C33.5237 49.166 33.1491 49.5571 32.642 49.8487C32.1349 50.1371 31.4853 50.2812 30.6932 50.2812H28.2273V49.1875H30.6534C31.2003 49.1875 31.6394 49.093 31.9709 48.9041C32.3023 48.7152 32.5426 48.46 32.6918 48.1385C32.8442 47.8137 32.9205 47.4474 32.9205 47.0398C32.9205 46.6321 32.8442 46.2675 32.6918 45.946C32.5426 45.6245 32.3007 45.3726 31.9659 45.1903C31.6312 45.0047 31.187 44.9119 30.6335 44.9119H28.4659V54H27.233ZM35.9606 54V46.3636H37.0941V47.517H37.1737C37.3129 47.1392 37.5647 46.8326 37.9293 46.5973C38.2939 46.362 38.7049 46.2443 39.1623 46.2443C39.2485 46.2443 39.3562 46.246 39.4854 46.2493C39.6147 46.2526 39.7125 46.2576 39.7788 46.2642V47.4574C39.739 47.4474 39.6478 47.4325 39.5053 47.4126C39.3661 47.3894 39.2186 47.3778 39.0629 47.3778C38.6916 47.3778 38.3602 47.4557 38.0685 47.6115C37.7802 47.764 37.5515 47.9761 37.3825 48.2479C37.2167 48.5163 37.1339 48.8229 37.1339 49.1676V54H35.9606ZM44.1388 54.1591C43.4031 54.1591 42.7683 53.9967 42.2347 53.6719C41.7044 53.3438 41.2951 52.8864 41.0067 52.2997C40.7217 51.7098 40.5792 51.0237 40.5792 50.2415C40.5792 49.4593 40.7217 48.7699 41.0067 48.1733C41.2951 47.5734 41.6961 47.1061 42.2099 46.7713C42.7269 46.4332 43.3301 46.2642 44.0195 46.2642C44.4173 46.2642 44.81 46.3305 45.1978 46.4631C45.5856 46.5956 45.9386 46.8111 46.2567 47.1094C46.5749 47.4044 46.8285 47.7955 47.0174 48.2827C47.2063 48.7699 47.3008 49.3698 47.3008 50.0824V50.5795H41.4144V49.5653H46.1076C46.1076 49.1345 46.0214 48.75 45.8491 48.4119C45.68 48.0739 45.4381 47.8071 45.1232 47.6115C44.8117 47.416 44.4438 47.3182 44.0195 47.3182C43.5522 47.3182 43.1478 47.4342 42.8065 47.6662C42.4684 47.8949 42.2082 48.1932 42.0259 48.5611C41.8436 48.929 41.7525 49.3234 41.7525 49.7443V50.4205C41.7525 50.9972 41.8519 51.486 42.0508 51.8871C42.253 52.2848 42.533 52.5881 42.891 52.7969C43.2489 53.0024 43.6649 53.1051 44.1388 53.1051C44.4471 53.1051 44.7255 53.062 44.9741 52.9759C45.226 52.8864 45.4431 52.7538 45.6254 52.5781C45.8076 52.3991 45.9485 52.1771 46.0479 51.9119L47.1815 52.2301C47.0621 52.6146 46.8616 52.9527 46.5799 53.2443C46.2982 53.5327 45.9502 53.758 45.5359 53.9205C45.1216 54.0795 44.6559 54.1591 44.1388 54.1591ZM51.9691 54.1591C51.3327 54.1591 50.771 53.9983 50.2837 53.6768C49.7965 53.352 49.4154 52.8946 49.1403 52.3047C48.8652 51.7114 48.7276 51.0104 48.7276 50.2017C48.7276 49.3996 48.8652 48.7036 49.1403 48.1136C49.4154 47.5237 49.7982 47.0679 50.2887 46.7464C50.7792 46.425 51.346 46.2642 51.989 46.2642C52.4862 46.2642 52.8789 46.3471 53.1673 46.5128C53.4589 46.6752 53.681 46.8608 53.8335 47.0696C53.9892 47.2751 54.1102 47.4441 54.1964 47.5767H54.2958V43.8182H55.4691V54H54.3356V52.8267H54.1964C54.1102 52.9659 53.9876 53.1416 53.8285 53.3537C53.6694 53.5625 53.4424 53.7498 53.1474 53.9155C52.8524 54.0779 52.4596 54.1591 51.9691 54.1591ZM52.1282 53.1051C52.5988 53.1051 52.9966 52.9825 53.3214 52.7372C53.6462 52.4886 53.8931 52.1456 54.0621 51.7081C54.2312 51.2673 54.3157 50.7585 54.3157 50.1818C54.3157 49.6117 54.2328 49.1129 54.0671 48.6854C53.9014 48.2545 53.6561 47.9197 53.3313 47.6811C53.0065 47.4392 52.6055 47.3182 52.1282 47.3182C51.631 47.3182 51.2167 47.4458 50.8853 47.701C50.5572 47.9529 50.3103 48.2959 50.1445 48.7301C49.9821 49.161 49.9009 49.6449 49.9009 50.1818C49.9009 50.7254 49.9838 51.2192 50.1495 51.6634C50.3185 52.1042 50.5671 52.4555 50.8952 52.7173C51.2267 52.9759 51.6377 53.1051 52.1282 53.1051Z" fill="#007AFF" fill-opacity="0.25"/>
<rect x="11" y="10" width="10" height="10" rx="3" fill="#007AFF" fill-opacity="0.25"/>
<rect x="11" y="27" width="10" height="10" rx="3" fill="#007AFF"/>
<rect x="11" y="44" width="10" height="10" rx="3" fill="#007AFF" fill-opacity="0.25"/>
</svg>
`,mWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M28.1666 45.7042C28.9268 45.8901 29.611 45.5001 29.8329 44.7506L36.9814 20.6115C37.1728 19.9366 36.8385 19.2589 36.0783 19.0547C35.3333 18.8689 34.6979 19.1477 34.4425 20.0235L27.3365 44.0276C27.1175 44.7804 27.3579 45.5001 28.1666 45.7042Z" fill="black"/>
<path d="M12 32.3568C12 32.7499 12.1764 33.1396 12.5046 33.4216L22.0655 41.9466C22.6825 42.4776 23.4794 42.4744 23.9719 41.9287C24.4765 41.3647 24.3975 40.5639 23.829 40.0662L15.214 32.3568L23.829 24.6476C24.3975 24.1496 24.4765 23.3488 23.9719 22.7851C23.4794 22.2391 22.6825 22.2362 22.0655 22.7669L12.5046 31.2922C12.1764 31.5742 12 31.9639 12 32.3568ZM52.1638 32.3568C52.1638 31.9639 52.0027 31.5742 51.6742 31.2922L42.1015 22.7669C41.481 22.2362 40.6997 22.2391 40.1948 22.7851C39.6871 23.3488 39.7663 24.1496 40.3378 24.6476L48.968 32.3568L40.3378 40.0662C39.7663 40.5639 39.6871 41.3647 40.1948 41.9287C40.6997 42.4744 41.481 42.4776 42.1015 41.9466L51.6742 33.4216C52.0027 33.1396 52.1638 32.7499 52.1638 32.3568Z" fill="black"/>
</svg>
`,gWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 33H22V53C22 54.6569 20.6569 56 19 56H11C9.34315 56 8 54.6569 8 53V33Z" fill="#34C759"/>
<path d="M8 19C8 17.3431 9.34315 16 11 16H19C20.6569 16 22 17.3431 22 19V34H8V19Z" fill="#007AFF"/>
<path d="M25 39H39V53C39 54.6569 37.6569 56 36 56H28C26.3431 56 25 54.6569 25 53V39Z" fill="#34C759"/>
<path d="M42 32H56V53C56 54.6569 54.6569 56 53 56H45C43.3431 56 42 54.6569 42 53V32Z" fill="#34C759"/>
<path d="M25 29C25 27.3431 26.3431 26 28 26H36C37.6569 26 39 27.3431 39 29V40H25V29Z" fill="#3C82F6"/>
<path d="M42 16C42 14.3431 43.3431 13 45 13H53C54.6569 13 56 14.3431 56 16V33H42V16Z" fill="#007AFF"/>
</svg>
`,yWe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8" y="32" width="14" height="24" rx="3" fill="#007AFF"/>
<rect x="25" y="12" width="14" height="44" rx="3" fill="#007AFF"/>
<rect x="42" y="24" width="14" height="32" rx="3" fill="#007AFF"/>
</svg>
`,bWe={"chart-boxplot":sWe,"chart-bubble":oWe,"chart-content-viewer":aWe,"chart-ecdf":lWe,"chart-embedding":uWe,"chart-h-bar":cWe,"chart-heatmap":fWe,"chart-line":hWe,"chart-markdown":dWe,"chart-predicates":pWe,"chart-spec":mWe,"chart-stacked":gWe,"chart-v-histogram":yWe};var vWe=fe('<div class="w-12 h-12"><!></div>');function OWe(t,e){He(e,!0);function n(s,o){s=s.replace("xmlns",'style="width:100%;height:100%" xmlns');let a=o=="dark"?{black:kf.slate[400]}:{black:kf.slate[500]};for(let l in a)s=s.replaceAll(l,a[l]);return s}var r=vWe(),i=K(r);zD(i,()=>n(bWe[e.type]??"",e.colorScheme??"light")),Z(r),X(t,r),Ke()}var wWe=fe("<button><!></button>"),xWe=fe('<span class="text-slate-500 dark:text-slate-400 select-none"> </span> <!>',1),_We=fe('<div class="w-full h-64"><!></div>'),SWe=fe('<div class="w-full h-64"><!></div>'),kWe=fe("<!> <!> <!>",1),CWe=fe('<div class="border-t border-b border-dotted border-slate-400 dark:border-slate-500 py-2 my-1"><div class="-m-2 rounded-md"><!></div></div>'),AWe=fe("<div> </div>"),EWe=fe('<div class="flex flex-wrap gap-2"></div> <div class="select-none"> </div> <!> <!> <div><!></div> <!>',1);function TWe(t,e){He(e,!0);const n=()=>hi(o,"$colorScheme",r),[r,i]=Il();let{columns:s,colorScheme:o}=e.context,a=Vet(),l=Le(a[0]),u=Le(Wh({})),c=Le(!1),f=Le(null),h=Le(null);Vr(()=>{x(l);let v=Os(()=>x(u)),O={};for(let _ of x(l).ui)if("field"in _){let S=b(s,_.field.types),k=v[_.field.key];k!=null&&S.findIndex(({name:A})=>A==k)>=0&&(O[_.field.key]=k)}oe(u,O,!0)}),Vr(()=>{try{let v=m();if(v==null){oe(c,!1),oe(h,null),oe(f,null);return}let O=x(l).create(v,{table:e.context.table,id:e.context.id});oe(c,O!=null),oe(h,O),oe(f,null)}catch(v){oe(c,v.toString(),!0)}});function d(){x(h)!=null&&(e.onSpecChange(x(h),"replace"),e.onStateChange(x(f)??{},"replace"))}function m(){let v={...x(u)};for(let O of x(l).ui)if("field"in O){let _=g(v[O.field.key]);if(O.field.required&&_==null)return;v[O.field.key]=_}return v}function g(v){let O=s.find(_=>_.name==v);if(O==null)return null;switch(O.jsType){case"number":return{name:O.name,type:"continuous"};case"string":return{name:O.name,type:"discrete"};case"string[]":return{name:O.name,type:"discrete[]"};default:return{name:O.name,type:"unknown"}}}function b(v,O){return O==null?v:v.filter(_=>_.jsType!=null&&O.indexOf(_.jsType)>=0)}A0(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,class:"flex flex-col gap-2",children:(v,O)=>{var _=EWe(),S=Ye(_);fn(S,21,()=>a,ur,(M,B)=>{const U=Y(()=>x(l)==x(B));var j=wWe();j.__click=()=>{oe(l,x(B))};let ee;var W=K(j);OWe(W,{get type(){return x(B).icon},get colorScheme(){return n()}}),Z(j),Me(()=>{pe(j,"title",x(B).description),ee=sr(j,1,"rounded-md border border-slate-200 dark:border-slate-700",null,ee,{"!border-slate-600":x(U),"dark:!border-slate-400":x(U),"!bg-slate-100":x(U),"dark:!bg-slate-700":x(U)})}),X(M,j)}),Z(S);var k=se(S,2),A=K(k,!0);Z(k);var C=se(k,2);fn(C,17,()=>x(l).ui,ur,(M,B)=>{var U=kWe(),j=Ye(U);{var ee=ie=>{const _e=Y(()=>x(B).field.key),le=Y(()=>(x(B).field.required?[]:[{value:void 0,label:"--"}]).concat(b(s,x(B).field.types).map(Te=>({value:Te.name,label:`${Te.name} (${Te.type})`}))));var ce=xWe(),Qe=Ye(ce),We=K(Qe,!0);Z(Qe);var ve=se(Qe,2);Ra(ve,{get value(){return x(u)[x(_e)]},onChange:Te=>x(u)[x(_e)]=Te,placeholder:"(select field)",class:"w-full",get options(){return x(le)}}),Me(()=>Mt(We,x(B).field.label)),X(ie,ce)};ke(j,ie=>{"field"in x(B)&&ie(ee)})}var W=se(j,2);{var ue=ie=>{const _e=Y(()=>x(B).code.key);var le=_We(),ce=K(le);{let Qe=Y(()=>x(B).code.language??"plain");F4(ce,{class:"w-full h-full",get value(){return x(u)[x(_e)]},onChange:We=>x(u)[x(_e)]=We,get colorScheme(){return n()},get language(){return x(Qe)}})}Z(le),X(ie,le)};ke(W,ie=>{"code"in x(B)&&ie(ue)})}var te=se(W,2);{var ae=ie=>{const _e=Y(()=>x(B).spec.key);var le=SWe(),ce=K(le);eR(ce,{class:"w-full h-full",initialValue:{title:"Chart"},onChange:Qe=>x(u)[x(_e)]=Qe,get colorScheme(){return n()}}),Z(le),X(ie,le)};ke(te,ie=>{"spec"in x(B)&&ie(ae)})}X(M,U)});var T=se(C,2);{var P=M=>{var B=Bt(),U=Ye(B);V_(U,()=>x(h),j=>{var ee=CWe(),W=K(ee),ue=K(W);{let te=Y(()=>x(f)??{});Lse(ue,{get context(){return e.context},get spec(){return x(h)},get state(){return x(te)},width:"container",mode:"view",onStateChange:(ae,ie="merge")=>{Zg(x(f)??{},ae,ie,_e=>oe(f,_e))},onSpecChange:(ae,ie="merge")=>{Zg(x(h)??{},ae,ie,_e=>oe(h,_e))}})}Z(W),Z(ee),X(j,ee)}),X(M,B)};ke(T,M=>{x(h)!=null&&x(l).preview!==!1&&M(P)})}var N=se(T,2),I=K(N);{let M=Y(()=>x(c)!==!0);c7(I,{label:"Confirm",get disabled(){return x(M)},onClick:d})}Z(N);var $=se(N,2);{var R=M=>{var B=AWe(),U=K(B,!0);Z(B),Me(()=>Mt(U,x(c))),X(M,B)};ke($,M=>{typeof x(c)=="string"&&x(c).trim()!=""&&M(R)})}Me(()=>Mt(A,x(l).description)),X(v,_)},$$slots:{default:!0}}),Ke(),i()}Tr(["click"]);var DWe=Yt('<line class="stroke-orange-500"></line>'),PWe=Yt('<circle class="fill-orange-500 stroke-orange-700 stroke-2"></circle>'),RWe=Yt("<svg><g><!><!></g></svg>");function $We(t,e){He(e,!0);var n=RWe(),r=K(n),i=K(r);{var s=a=>{const l=Y(()=>e.proxy.location(e.center.x,e.center.y));var u=Bt(),c=Ye(u);fn(c,17,()=>e.points??[],ur,(f,h)=>{const d=Y(()=>e.proxy.location(x(h).x,x(h).y));var m=DWe();Me(()=>{pe(m,"x1",x(l).x),pe(m,"y1",x(l).y),pe(m,"x2",x(d).x),pe(m,"y2",x(d).y)}),X(f,m)}),X(a,u)};ke(i,a=>{e.center!=null&&a(s)})}var o=se(i);fn(o,17,()=>e.points??[],ur,(a,l)=>{const u=Y(()=>e.proxy.location(x(l).x,x(l).y));var c=PWe();pe(c,"r",4),Me(()=>{pe(c,"cx",x(u).x),pe(c,"cy",x(u).y)}),X(a,c)}),Z(r),Z(n),Me(()=>{pe(n,"width",e.proxy.width),pe(n,"height",e.proxy.height)}),X(t,n),Ke()}var IWe=fe('<div class="flex flex-col"><div class="text-slate-400 dark:text-slate-400 font-medium text-xs"> </div> <div><!></div></div>'),FWe=fe('<div class="px-2 flex items-center gap-2 border border-slate-200 dark:border-slate-700 bg-slate-100/25 dark:bg-slate-700/25 text-slate-700 dark:text-slate-300 rounded-md"><div class="text-slate-400 dark:text-slate-400 font-medium text-sm"> </div> <div class="text-ellipsis whitespace-nowrap overflow-hidden max-w-72"><!></div></div>'),MWe=fe('<div class="flex flex-col gap-2"><!> <div class="flex-none flex flex-row gap-1 flex-wrap items-start"></div></div>');function Nse(t,e){He(e,!0);let n=Y(()=>Object.keys(e.columnStyles).filter(a=>e.columnStyles[a].display=="full")),r=Y(()=>Object.keys(e.columnStyles).filter(a=>e.columnStyles[a].display=="badge"));var i=MWe(),s=K(i);fn(s,17,()=>x(n),ur,(a,l)=>{const u=Y(()=>e.values[x(l)]);var c=IWe(),f=K(c),h=K(f,!0);Z(f);var d=se(f,2),m=K(d);LT(m,{get value(){return x(u)},get renderer(){return e.columnStyles[x(l)].renderer},get rendererOptions(){return e.columnStyles[x(l)].rendererOptions}}),Z(d),Z(c),Me(()=>Mt(h,x(l))),X(a,c)});var o=se(s,2);fn(o,21,()=>x(r),ur,(a,l)=>{const u=Y(()=>e.values[x(l)]);var c=FWe(),f=K(c),h=K(f,!0);Z(f);var d=se(f,2),m=K(d);LT(m,{get value(){return x(u)}}),Z(d),Z(c),Me(g=>{Mt(h,x(l)),pe(d,"title",g)},[()=>dR(x(u))]),X(a,c)}),Z(o),Z(i),X(t,i),Ke()}var LWe=fe('<div><button class="text-sm flex gap-0.5 items-center text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-300"><!> Nearest Neighbors</button></div>'),NWe=fe('<div class="embedding-atlas-root"><div><!> <!></div></div>');function QWe(t,e){He(e,!0);var n=NWe(),r=K(n);let i;gt(r,"",{},{"max-width":"400px","max-height":"300px"});var s=K(r);{let l=Y(()=>e.tooltip.fields??{}),u=Y(()=>e.columnStyles??{});Nse(s,{get values(){return x(l)},get columnStyles(){return x(u)}})}var o=se(s,2);{var a=l=>{var u=LWe(),c=K(u);c.__click=()=>{e.onNearestNeighborSearch?.(e.tooltip.identifier)};var f=K(c);NFe(f,{}),vl(),Z(c),Z(u),X(l,u)};ke(o,l=>{e.onNearestNeighborSearch&&l(a)})}Z(r),Z(n),Me(()=>i=sr(r,1,"p-2 border flex flex-col gap-2 border-slate-300 dark:border-slate-600 shadow-md text-slate-700 dark:text-slate-300 rounded-md text-ellipsis overflow-x-hidden overflow-y-scroll bg-white/75 dark:bg-slate-800/75 backdrop-blur-sm",null,i,{dark:e.colorScheme=="dark"})),X(t,n),Ke()}Tr(["click"]);function Qse(t){return class{component;constructor(e,n){this.component=ome({component:t,target:e,props:n})}update(e){this.component.$set(e)}destroy(){this.component.$destroy()}}}var BWe=fe("<div></div>");function zWe(t,e){He(e,!0);let n=hr(e,["$$slots","$$events","$$legacy"]),r;_d(()=>{let s=new GBe(r,n);Bs(()=>{s.update(n)}),Tk(()=>{s.destroy()})});var i=BWe();gt(i,"",{},{display:"flex"}),Gi(i,s=>r=s,()=>r),X(t,i),Ke()}function Bse(t){const e=t-1;return e*e*e+1}var UWe=fe('<span class="flex h-5 items-center"> </span>'),jWe=fe("<button><!> <!></button>");function T_(t,e){He(e,!0);let n=dt(e,"title",3,""),r=dt(e,"checked",15),i=dt(e,"label",3,null),s=dt(e,"icon",3,null);var o=jWe();let a;o.__click=()=>{r(!r())};var l=K(o);{var u=h=>{const d=Y(s);var m=Bt(),g=Ye(m);th(g,()=>x(d),(b,v)=>{v(b,{class:"w-5 h-5"})}),X(h,m)};ke(l,h=>{s()!=null&&h(u)})}var c=se(l,2);{var f=h=>{var d=UWe(),m=K(d,!0);Z(d),Me(()=>Mt(m,i())),X(h,d)};ke(c,h=>{i()!=null&&h(f)})}Z(o),Me(()=>{a=sr(o,1,"rounded-md px-1.5 py-1.5 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 flex select-none items-center focus-visible:outline-2 outline-blue-600 -outline-offset-1",null,a,{"text-slate-400":!r(),"dark:text-slate-500":!r()}),pe(o,"title",n())}),X(t,o),Ke()}Tr(["click"]);const sk=Math.min,l0=Math.max,ok=Math.round,Ex=Math.floor,Sc=t=>({x:t,y:t});function xj(t,e,n){return l0(t,sk(e,n))}function KR(t,e){return typeof t=="function"?t(e):t}function rC(t){return t.split("-")[0]}function zse(t){return t.split("-")[1]}function Use(t){return t==="x"?"y":"x"}function qWe(t){return t==="y"?"height":"width"}const VWe=new Set(["top","bottom"]);function iC(t){return VWe.has(rC(t))?"y":"x"}function XWe(t){return Use(iC(t))}function ZWe(t){return{top:0,right:0,bottom:0,left:0,...t}}function WWe(t){return typeof t!="number"?ZWe(t):{top:t,right:t,bottom:t,left:t}}function ak(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function _j(t,e,n){let{reference:r,floating:i}=t;const s=iC(e),o=XWe(e),a=qWe(o),l=rC(e),u=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:c,y:r.y-i.height};break;case"bottom":d={x:c,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:f};break;case"left":d={x:r.x-i.width,y:f};break;default:d={x:r.x,y:r.y}}switch(zse(e)){case"start":d[o]-=h*(n&&u?-1:1);break;case"end":d[o]+=h*(n&&u?-1:1);break}return d}const YWe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=_j(u,r,l),h=r,d={},m=0;for(let g=0;g<a.length;g++){const{name:b,fn:v}=a[g],{x:O,y:_,data:S,reset:k}=await v({x:c,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:d,rects:u,platform:o,elements:{reference:t,floating:e}});c=O??c,f=_??f,d={...d,[b]:{...d[b],...S}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:c,y:f}=_j(u,h,l)),g=-1)}return{x:c,y:f,placement:h,strategy:i,middlewareData:d}};async function GWe(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=KR(e,t),m=WWe(d),b=a[h?f==="floating"?"reference":"floating":f],v=ak(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),O=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},k=ak(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:_,strategy:l}):O);return{top:(v.top-k.top+m.top)/S.y,bottom:(k.bottom-v.bottom+m.bottom)/S.y,left:(v.left-k.left+m.left)/S.x,right:(k.right-v.right+m.right)/S.x}}const HWe=new Set(["left","top"]);async function KWe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=rC(n),a=zse(n),l=iC(n)==="y",u=HWe.has(o)?-1:1,c=s&&l?-1:1,f=KR(e,t);let{mainAxis:h,crossAxis:d,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof m=="number"&&(d=a==="end"?m*-1:m),l?{x:d*c,y:h*u}:{x:h*u,y:d*c}}const JWe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await KWe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},eYe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:v,y:O}=b;return{x:v,y:O}}},...l}=KR(t,e),u={x:n,y:r},c=await GWe(e,l),f=iC(rC(i)),h=Use(f);let d=u[h],m=u[f];if(s){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",O=d+c[b],_=d-c[v];d=xj(O,d,_)}if(o){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",O=m+c[b],_=m-c[v];m=xj(O,m,_)}const g=a.fn({...e,[h]:d,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}};function sC(){return typeof window<"u"}function my(t){return jse(t)?(t.nodeName||"").toLowerCase():"#document"}function Ba(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yc(t){var e;return(e=(jse(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jse(t){return sC()?t instanceof Node||t instanceof Ba(t).Node:!1}function mu(t){return sC()?t instanceof Element||t instanceof Ba(t).Element:!1}function Fc(t){return sC()?t instanceof HTMLElement||t instanceof Ba(t).HTMLElement:!1}function Sj(t){return!sC()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ba(t).ShadowRoot}const tYe=new Set(["inline","contents"]);function v2(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=gu(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!tYe.has(i)}const nYe=new Set(["table","td","th"]);function rYe(t){return nYe.has(my(t))}const iYe=[":popover-open",":modal"];function oC(t){return iYe.some(e=>{try{return t.matches(e)}catch{return!1}})}const sYe=["transform","translate","scale","rotate","perspective"],oYe=["transform","translate","scale","rotate","perspective","filter"],aYe=["paint","layout","strict","content"];function JR(t){const e=e$(),n=mu(t)?gu(t):t;return sYe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||oYe.some(r=>(n.willChange||"").includes(r))||aYe.some(r=>(n.contain||"").includes(r))}function lYe(t){let e=jd(t);for(;Fc(e)&&!R1(e);){if(JR(e))return e;if(oC(e))return null;e=jd(e)}return null}function e$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uYe=new Set(["html","body","#document"]);function R1(t){return uYe.has(my(t))}function gu(t){return Ba(t).getComputedStyle(t)}function aC(t){return mu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function jd(t){if(my(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Sj(t)&&t.host||Yc(t);return Sj(e)?e.host:e}function qse(t){const e=jd(t);return R1(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fc(e)&&v2(e)?e:qse(e)}function kO(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=qse(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ba(i);if(s){const a=fD(o);return e.concat(o,o.visualViewport||[],v2(i)?i:[],a&&n?kO(a):[])}return e.concat(i,kO(i,[],n))}function fD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Vse(t){const e=gu(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Fc(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=ok(n)!==s||ok(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function t$(t){return mu(t)?t:t.contextElement}function Lg(t){const e=t$(t);if(!Fc(e))return Sc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Vse(e);let o=(s?ok(n.width):n.width)/r,a=(s?ok(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const cYe=Sc(0);function Xse(t){const e=Ba(t);return!e$()||!e.visualViewport?cYe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fYe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ba(t)?!1:e}function $0(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=t$(t);let o=Sc(1);e&&(r?mu(r)&&(o=Lg(r)):o=Lg(t));const a=fYe(s,n,r)?Xse(s):Sc(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const h=Ba(s),d=r&&mu(r)?Ba(r):r;let m=h,g=fD(m);for(;g&&r&&d!==m;){const b=Lg(g),v=g.getBoundingClientRect(),O=gu(g),_=v.left+(g.clientLeft+parseFloat(O.paddingLeft))*b.x,S=v.top+(g.clientTop+parseFloat(O.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,f*=b.y,l+=_,u+=S,m=Ba(g),g=fD(m)}}return ak({width:c,height:f,x:l,y:u})}function lC(t,e){const n=aC(t).scrollLeft;return e?e.left+n:$0(Yc(t)).left+n}function Zse(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-lC(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function hYe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Yc(r),a=e?oC(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Sc(1);const c=Sc(0),f=Fc(r);if((f||!f&&!s)&&((my(r)!=="body"||v2(o))&&(l=aC(r)),Fc(r))){const d=$0(r);u=Lg(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}const h=o&&!f&&!s?Zse(o,l):Sc(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}}function dYe(t){return Array.from(t.getClientRects())}function pYe(t){const e=Yc(t),n=aC(t),r=t.ownerDocument.body,i=l0(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=l0(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+lC(t);const a=-n.scrollTop;return gu(r).direction==="rtl"&&(o+=l0(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const kj=25;function mYe(t,e){const n=Ba(t),r=Yc(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=e$();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=lC(r);if(u<=0){const c=r.ownerDocument,f=c.body,h=getComputedStyle(f),d=c.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(r.clientWidth-f.clientWidth-d);m<=kj&&(s-=m)}else u<=kj&&(s+=u);return{width:s,height:o,x:a,y:l}}const gYe=new Set(["absolute","fixed"]);function yYe(t,e){const n=$0(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Fc(t)?Lg(t):Sc(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Cj(t,e,n){let r;if(e==="viewport")r=mYe(t,n);else if(e==="document")r=pYe(Yc(t));else if(mu(e))r=yYe(e,n);else{const i=Xse(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ak(r)}function Wse(t,e){const n=jd(t);return n===e||!mu(n)||R1(n)?!1:gu(n).position==="fixed"||Wse(n,e)}function bYe(t,e){const n=e.get(t);if(n)return n;let r=kO(t,[],!1).filter(a=>mu(a)&&my(a)!=="body"),i=null;const s=gu(t).position==="fixed";let o=s?jd(t):t;for(;mu(o)&&!R1(o);){const a=gu(o),l=JR(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&gYe.has(i.position)||v2(o)&&!l&&Wse(t,o))?r=r.filter(c=>c!==o):i=a,o=jd(o)}return e.set(t,r),r}function vYe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?oC(e)?[]:bYe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const f=Cj(e,c,i);return u.top=l0(f.top,u.top),u.right=sk(f.right,u.right),u.bottom=sk(f.bottom,u.bottom),u.left=l0(f.left,u.left),u},Cj(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function OYe(t){const{width:e,height:n}=Vse(t);return{width:e,height:n}}function wYe(t,e,n){const r=Fc(e),i=Yc(e),s=n==="fixed",o=$0(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Sc(0);function u(){l.x=lC(i)}if(r||!r&&!s)if((my(e)!=="body"||v2(i))&&(a=aC(e)),r){const d=$0(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?Zse(i,a):Sc(0),f=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:f,y:h,width:o.width,height:o.height}}function j6(t){return gu(t).position==="static"}function Aj(t,e){if(!Fc(t)||gu(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Yc(t)===n&&(n=n.ownerDocument.body),n}function Yse(t,e){const n=Ba(t);if(oC(t))return n;if(!Fc(t)){let i=jd(t);for(;i&&!R1(i);){if(mu(i)&&!j6(i))return i;i=jd(i)}return n}let r=Aj(t,e);for(;r&&rYe(r)&&j6(r);)r=Aj(r,e);return r&&R1(r)&&j6(r)&&!JR(r)?n:r||lYe(t)||n}const xYe=async function(t){const e=this.getOffsetParent||Yse,n=this.getDimensions,r=await n(t.floating);return{reference:wYe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _Ye(t){return gu(t).direction==="rtl"}const SYe={convertOffsetParentRelativeRectToViewportRelativeRect:hYe,getDocumentElement:Yc,getClippingRect:vYe,getOffsetParent:Yse,getElementRects:xYe,getClientRects:dYe,getDimensions:OYe,getScale:Lg,isElement:mu,isRTL:_Ye};function Gse(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kYe(t,e){let n=null,r;const i=Yc(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:f,width:h,height:d}=u;if(a||e(),!h||!d)return;const m=Ex(f),g=Ex(i.clientWidth-(c+h)),b=Ex(i.clientHeight-(f+d)),v=Ex(c),_={rootMargin:-m+"px "+-g+"px "+-b+"px "+-v+"px",threshold:l0(0,sk(1,l))||1};let S=!0;function k(A){const C=A[0].intersectionRatio;if(C!==l){if(!S)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Gse(u,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(k,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,_)}n.observe(t)}return o(!0),s}function CYe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=t$(t),c=i||s?[...u?kO(u):[],...kO(e)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&a?kYe(u,n):null;let h=-1,d=null;o&&(d=new ResizeObserver(v=>{let[O]=v;O&&O.target===u&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=d)==null||_.observe(e)})),n()}),u&&!l&&d.observe(u),d.observe(e));let m,g=l?$0(t):null;l&&b();function b(){const v=$0(t);g&&!Gse(g,v)&&n(),g=v,m=requestAnimationFrame(b)}return n(),()=>{var v;c.forEach(O=>{i&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),f?.(),(v=d)==null||v.disconnect(),d=null,l&&cancelAnimationFrame(m)}}const AYe=JWe,EYe=eYe,TYe=(t,e,n)=>{const r=new Map,i={platform:SYe,...n},s={...i.platform,_c:r};return YWe(t,e,{...i,platform:s})};var DYe=fe('<div class="relative"><!> <div class="absolute px-3 py-3 rounded-md z-20 bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-700 shadow-lg" popover=""><!></div></div>');function hD(t,e){He(e,!0);let n=dt(e,"title",3,""),r=dt(e,"label",3,null),i=dt(e,"icon",3,null);dt(e,"anchor",3,"right");let s=Le(!1);function o(){oe(s,!x(s))}let a;function l(b){x(s)&&b.key=="Escape"&&(oe(s,!1),b.stopPropagation())}let u;Bs(()=>{x(s)&&Bs(()=>{u.showPopover();function b(){TYe(a,u,{placement:"bottom",middleware:[AYe(3),EYe()]}).then(({x:v,y:O})=>{u.style.left=v+"px",u.style.top=O+"px"})}return CYe(a,u,b)})});var c=DYe();c.__keydown=l;var f=K(c);{var h=b=>{var v=Bt(),O=Ye(v);Cl(O,()=>e.button,()=>({visible:x(s),toggle:o})),X(b,v)},d=b=>{T_(b,{get icon(){return i()},get title(){return n()},get label(){return r()},get checked(){return x(s)},set checked(v){oe(s,v,!0)}})};ke(f,b=>{e.button?b(h):b(d,!1)})}var m=se(f,2);gt(m,"",{},{width:"max-content"});var g=K(m);Cl(g,()=>e.children??yr),Z(m),Gi(m,b=>u=b,()=>u),Z(c),Gi(c,b=>a=b,()=>a),ud("toggle",m,b=>{b.newState=="closed"&&oe(s,!1)}),X(t,c),Ke()}Tr(["keydown"]);var PYe=fe('<div class="group relative" role="slider" tabindex="0"><div class="bg-slate-400 dark:bg-slate-500 rounded-full absolute"></div> <div class="bg-blue-500 rounded-full absolute group-hover:bg-blue-600 dark:group-hover:bg-blue-400"></div></div>');function D_(t,e){He(e,!0);let n=dt(e,"value",15,0),r=dt(e,"min",3,0),i=dt(e,"max",3,100),s=dt(e,"step",3,void 0),o=dt(e,"width",3,100),a=15,l=Y(()=>k=>(k-r())/(i()-r())*(o()-a)),u=Y(()=>k=>k/(o()-a)*(i()-r())+r()),c=Y(()=>x(l)(n())),f=Le(void 0);function h(k){let A=x(u)(k-a/2);A=Math.max(r(),Math.min(i(),A)),s()!=null&&(A=Math.round(A/s())*s()),n(A)}function d(k){h(k.clientX-x(f).getBoundingClientRect().left);let A=T=>{h(T.clientX-x(f).getBoundingClientRect().left)},C=()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",C)};window.addEventListener("mousemove",A),window.addEventListener("mouseup",C)}function m(k){k.key=="ArrowLeft"?n(Math.max(n()-(s()??1),r())):k.key=="ArrowRight"&&n(Math.min(n()+(s()??1),i()))}var g=PYe();g.__mousedown=d,g.__keydown=m;let b;var v=K(g);let O;var _=se(v,2);let S;Z(g),Gi(g,k=>oe(f,k),()=>x(f)),Me(()=>{pe(g,"aria-valuenow",n()),pe(g,"aria-valuemin",r()),pe(g,"aria-valuemax",i()),b=gt(g,"",b,{width:`${o()??""}px`,height:"28px"}),O=gt(v,"",O,{left:"0px",top:"12px",width:`${o()??""}px`,height:"4px"}),S=gt(_,"",S,{left:`${x(c)??""}px`,top:"6.5px",width:"15px",height:"15px"})}),X(t,g),Ke()}Tr(["mousedown","keydown"]);var RYe=fe('<tr><td class="first:rounded-tl-md first:rounded-bl-md"><div class="block w-4 h-4 mx-2 rounded-full"></div></td><td><div class="whitespace-nowrap nowrap max-w-72 text-ellipsis overflow-hidden"> </div></td><td class="text-slate-400 px-2 text-xs text-right last:rounded-tr-md last:rounded-br-md" title="Count"> </td></tr>'),$Ye=fe("<table><tbody></tbody></table>");function IYe(t,e){He(e,!0);let n=Y(()=>{let l=new Set(e.state.selection??[]);return new Set(e.spec.items.filter(u=>l.has(u.label)))});class r extends Dk{reset(){e.onStateChange({selection:void 0})}}const i=new r;function s(l,u){let c=new Set(e.state.selection??[]);u.shiftKey||u.metaKey?(c.has(l.label)?c.delete(l.label):c.add(l.label),e.onStateChange({selection:Array.from(c)})):c.has(l.label)&&c.size==1?e.onStateChange({selection:void 0}):e.onStateChange({selection:[l.label]})}Vr(()=>(Vr(()=>{let l=new Set(e.state.selection??[]),u=e.spec.items.filter(h=>l.has(h.label)),c=u.length!=0?Ol(u.map(h=>h.predicate)):null,f={source:i,clients:new Set([i]),value:u.length==0?null:u,predicate:c};e.context.filter.update(f)}),()=>{e.context.filter.update({source:i,clients:new Set([i]),value:null,predicate:null})}));var o=$Ye(),a=K(o);fn(a,21,()=>e.spec.items,ur,(l,u)=>{const c=Y(()=>x(n).has(x(u))||x(n).size==0);var f=RYe();let h;f.__click=k=>{s(x(u),k)};var d=K(f),m=K(d);let g;Z(d);var b=se(d),v=K(b),O=K(v,!0);Z(v),Z(b);var _=se(b),S=K(_,!0);Z(_),Z(f),Me(k=>{h=sr(f,1,"hover:bg-slate-200 dark:hover:bg-slate-700 select-none leading-7",null,h,{"opacity-20":!x(c)}),g=gt(m,"",g,{"background-color":x(u).color}),pe(v,"title",x(u).label),Mt(O,x(u).label),Mt(S,k)},[()=>x(u).count.toLocaleString()]),X(l,f)}),Z(a),Z(o),X(t,o),Ke()}Tr(["click"]);function Hse(t){let e=0;function n(r){e+=1;try{r()}finally{e-=1}}return{set(r){n(()=>{t.set(r)})},update(r){n(()=>{t.update(r)})},subscribe(r){return t.subscribe(i=>{e==0&&r(i)})}}}const cb={linear:{type:"linear",expr:t=>t,forward:t=>t,reverse:t=>t},log:{type:"log",expr:t=>Rp(Vk(t,0),XX(t),Ve("nan")),forward:t=>Math.log10(t),reverse:t=>Math.pow(10,t)},symlog:{type:"symlog",expr:(t,e)=>Si(m0(t),cg(PP(1,Gg(ls(t,e))))),forward:(t,e)=>Math.sign(t)*Math.log1p(Math.abs(t)/e),reverse:(t,e)=>Math.sign(t)*Math.expm1(Math.abs(t))*e}};function FYe(t,e){let n=t,r=1/0;for(let i of e){let s=Math.abs(t-i);s<r&&(r=s,n=i)}return n}function Kse(t,e={}){let{min:n,max:r,median:i,count:s}=t,o=e.scale;o=="band"&&(o=null),o==null&&(o="linear",s>=100&&n>=0&&i<r*.05&&(o=n>0?"log":"symlog")),n<=0&&o=="log"&&(r<=0?(n=1,r=10):n=Math.min(t.minPositive,r/10));let a=e.desiredCount??5;switch(o){case"linear":{let l=K4().domain([n,r]).nice(a),u=l.ticks(a);return{scale:{...cb.linear,domain:l.domain()},binStart:l.domain()[0],binSize:u[1]-u[0]}}case"log":{let l=_O().domain([n,r]).nice(),u=Math.log10(l.domain()[0]),c=(Math.log10(l.domain()[1])-u)/a;return c=FYe(c,[.05,.1,.2,.5,1,1.5,2]),{scale:{...cb.log,domain:l.domain()},binStart:u,binSize:c}}case"symlog":{let l=Math.max(Math.abs(n),Math.abs(r)),u=l>=100?1:l>0?l/1e5:1,c=cb.symlog.forward(n,u),f=cb.symlog.forward(r,u);return{scale:{...cb.symlog,domain:[n,r],constant:u},binStart:c,binSize:(f-c)/a}}default:throw new Error("invalid scale type")}}async function MYe(t,e,n,r){if(n==null)return null;let[i]=Array.from(await t.query(at.describe(at.from(e).select(n))));if(i==null)return null;let s=SO(i.column_type);return s=="string"?await Ej(t,e,n,10,r):s=="number"?await Ase(t,e,n)<=10?await Ej(t,e,n,10,r):await LYe(t,e,n,r):null}async function Ej(t,e,n,r,i){let s=`__ev_${n}_id`,o=Array.from(await t.query(at.from(e).select({value:Ar(we(n),"TEXT"),count:ei()}).where(Hg(gc(Ar(we(n),"TEXT")))).groupby(Ar(we(n),"TEXT")).orderby(fg(ei())).limit(r))),a=o.length,l=o.length+1;await t.exec(`
    ALTER TABLE ${e} ADD COLUMN IF NOT EXISTS ${we(s)} INTEGER DEFAULT 0;
    UPDATE ${e}
    SET ${we(s)} = CASE ${we(n)}::TEXT
          ${o.map(({value:g},b)=>pt`WHEN ${Ve(g)} THEN ${Ve(b)}`).join(" ")}
          ELSE (CASE WHEN ${we(n)} IS NULL THEN ${Ve(l)} ELSE ${Ve(a)} END) END
  `);let u=Array.from(await t.query(at.from(e).select({index:we(s),count:Ar(ei(),"INT")}).groupby(we(s)))),c=new Map;for(let g of u)c.set(g.index,g.count);let f=c.get(a)??0,h=c.get(l)??0,d=NYe(i,o.length),m=o.map(({value:g},b)=>({label:g,color:d[b],predicate:Ta(Ar(we(n),"TEXT"),Ve(g)),count:c.get(b)??0}));if(f>0){let{otherCategoryCount:g}=(await t.query(`
        SELECT COUNT(DISTINCT(${we(n)}::TEXT)) AS otherCategoryCount
        FROM ${e}
        WHERE ${we(s)} = ${Ve(a)} AND ${we(n)} IS NOT NULL
    `)).get(0);m.push({label:`(other ${g.toLocaleString()})`,color:i.otherColor,predicate:o.length>0?pt`${we(n)} IS NOT NULL AND ${we(n)}::TEXT NOT IN (${o.map(b=>Ve(b.value)).join(",")})`:pt`${we(n)} IS NOT NULL`,count:f})}return h>0&&(f<=0&&(await t.exec(`
          UPDATE ${e}
          SET ${we(s)} = ${we(s)} - 1 WHERE ${we(s)} = ${Ve(l)}
        `),l-=1),m.push({label:"(null)",color:i.nullColor,predicate:gc(we(n)),count:h})),{indexColumn:s,legend:m}}async function LYe(t,e,n,r){let i=(await t.query(at.from(e).select({count:ei(),min:Yg(we(n)),max:FO(we(n)),mean:K_(we(n)),median:TP(we(n))}).where(fd(we(n))))).get(0),s=Kse(i),o=`__ev_${n}_id`,a=Ar(we(n),"DOUBLE");a=s.scale.expr(a,s.scale.constant??0);let l=Rp(fd(Ar(we(n),"DOUBLE")),eS(Si(Ii(a,s.binStart),1/s.binSize)),Ve(null));await t.exec(`
    ALTER TABLE ${e} ADD COLUMN IF NOT EXISTS ${we(o)} INTEGER DEFAULT 0;
    UPDATE ${e}
    SET ${we(o)} = ${l}
  `);let u=Array.from(await t.query(`
      SELECT ${we(o)} AS index, COUNT(*)::INT AS count
      FROM ${e}
      GROUP BY ${we(o)}
      ORDER BY ${we(o)} ASC
    `)),c=null,f=null,h=new Map,d=b=>s.scale.reverse(b,s.scale.constant??0);for(let{index:b,count:v}of u)b!=null&&((c==null||b<c)&&(c=b),(f==null||b>f)&&(f=b)),h.set(b,v);let m=[],g=y2(".6");if(c!=null&&f!=null){let b=QYe(r,f-c+1);for(let v=c;v<=f;v++){let O=d(v*s.binSize+s.binStart),_=d((v+1)*s.binSize+s.binStart);m.push({label:`[${g(O)}, ${g(_)})`,color:b[v-c],predicate:Ta(l,Ve(v)),count:h.get(v)??0})}}if(h.has(null)){let b=m.length;await t.exec(`
        UPDATE ${e}
        SET ${we(o)} = ${Ve(b)}
        WHERE ${we(o)} IS NULL
      `),m.push({label:"(null / nan / inf)",color:r.nullColor,predicate:gc(l),count:h.get(null)??0})}return{indexColumn:o,legend:m}}function NYe(t,e){if(typeof t.categoryColors=="function")return t.categoryColors(e);{let n=[];for(let r=0;r<e;r++)n.push(t.categoryColors[r%t.categoryColors.length]);return n}}function QYe(t,e){if(typeof t.ordinalColors=="function")return t.ordinalColors(e);if(e==t.ordinalColors.length)return t.ordinalColors.slice();{let n=LR(t.ordinalColors);return Array.from({length:e}).map((r,i)=>n(i/(e-1)))}}function Tx(t,e,n){return t+(e-t)*n}function BYe(t,e,n){let r=Math.log(t.scale),i=Math.log(e.scale);if(Math.abs(i-r)<1e-5)return{x:Tx(t.x,e.x,n),y:Tx(t.y,e.y,n),scale:Tx(t.scale,e.scale,n)};let s=Math.exp(Tx(r,i,n));return{x:(e.x*e.scale-t.x*t.scale+(t.x-e.x)*(t.scale*e.scale/s))/(e.scale-t.scale),y:(e.y*e.scale-t.y*t.scale+(t.y-e.y)*(t.scale*e.scale/s))/(e.scale-t.scale),scale:s}}async function zYe(t,e,n,r){let{stdX:i,stdY:s}=(await t.query(at.from(e).select({stdX:pt`STDDEV(${we(n)})::FLOAT`,stdY:pt`STDDEV(${we(r)})::FLOAT`}))).get(0);return 1/(Math.max(i,s,.001)*3)}const UYe=Qse(QWe),jYe=Qse($We);var qYe=fe('<div class="flex-none m-2 p-2 rounded-md bg-slate-100/75 dark:bg-slate-800/75 backdrop-blur-sm pointer-events-auto order-3"><!></div>'),VYe=fe('<span class="text-slate-400 dark:text-slate-500"> </span>'),XYe=fe('<div class="text-slate-500 dark:text-slate-400 select-none"> <!></div> <div class="flex gap-2 items-center"><!></div>',1),ZYe=fe('<div class="flex flex-col gap-2 w-64"><div class="text-slate-500 dark:text-slate-400 select-none">Display Mode</div> <div class="flex gap-2 items-center"><!> <!></div> <div class="text-slate-500 dark:text-slate-400 select-none">Point Size</div> <div class="flex gap-2 items-center"><!> <!></div> <!></div>'),WYe=fe('<div class="relative"><!> <div class="absolute top-0 left-0 right-0 flex flex-wrap justify-between items-start pointer-events-none"><!> <div class="flex-none p-2 rounded-ss-md rounded-ee-md bg-white/75 dark:bg-black/75 backdrop-blur-sm flex items-center gap-2 pointer-events-auto order-1"><!> <!></div></div></div>');function YYe(t,e){He(e,!0);const n=()=>hi(f,"$colorScheme",s),r=()=>hi(m,"$themeConfig",s),i=()=>hi(h,"$columnStyles",s),[s,o]=Il(),a=Math.min(20,HBe()),l=1/16,u=4e6,c=5e4;let{colorScheme:f,columnStyles:h,searchResult:d,theme:m}=e.context,g=Y(()=>WR(n(),r())),b=Hse(e.context.highlight),v=Y(()=>e.spec.data.category),O=Le(null),_=Le(null);Vr(()=>{e.context.coordinator.query(at.from(e.context.table).select({count:pt`COUNT(*)::INT`})).then(W=>{oe(_,W.get(0).count)})});let S=Le(null),k=Le(null),A=Le(null);Vr(()=>{e.context.cache.value(`embedding/category/${x(v)}`,()=>MYe(e.context.coordinator,e.context.table,x(v),x(g))).then(ue=>{oe(O,ue),(x(O)?.legend.length??0)>a&&e.onSpecChange({mode:"points"})})}),Vr(()=>{let W=!0;return b.subscribe(ue=>{ue!==null&&!W&&C(ue),W=!1})}),Vr(()=>d.subscribe(async W=>{if(W==null||W.ids.length==0){oe(A,null);return}let ue=null;W.mode=="neighbors"&&(ue=W.query);let te=Array.from(await e.context.coordinator.query(at.from(e.context.table).select({identifier:we(e.context.id),x:we(e.spec.data.x),y:we(e.spec.data.y)}).where(y0(e.context.id,W.ids.concat(ue!=null?[ue]:[]).map(ae=>Ve(ae))))));oe(A,{center:te.filter(ae=>ae.identifier===ue)[0]??null,points:te.filter(ae=>ae.identifier!==ue)})}));async function C(W){let te=await e.context.cache.value(`embedding/default-viewport-scale/${e.spec.data.x},${e.spec.data.y}`,()=>zYe(e.context.coordinator,e.context.table,e.spec.data.x,e.spec.data.y))*2,ae=await e.context.coordinator.query(at.from(e.context.table).select({x:we(e.spec.data.x),y:we(e.spec.data.y)}).where(Ta(we(e.context.id),Ve(W)))),{x:ie,y:_e}=ae.get(0);N({x:ie,y:_e,scale:te}),oe(k,[W]),oe(S,W)}let T,P=Le(null);function N(W){oe(S,null);let ue=x(P)??e.state.viewport;if(ue==null){e.onStateChange({viewport:W});return}oe(P,ue);let te=800,ae=new Date().getTime(),ie=()=>{let _e=(new Date().getTime()-ae)/te;_e>1&&(_e=1),oe(P,BYe(ue,W,Bse(_e))),_e<1?T=requestAnimationFrame(ie):e.onStateChange({viewport:x(P)})};T&&cancelAnimationFrame(T),T=requestAnimationFrame(ie)}var I=WYe(),$=K(I);{let W=Y(()=>x(O)?.indexColumn),ue=Y(()=>x(O)?.legend.map(ce=>ce.color)??[x(g).embeddingColor]),te=Y(()=>({colorScheme:n(),...e.context.embeddingViewConfig,mode:e.spec.mode??"points",...e.spec.minimumDensity!=null?{minimumDensity:e.spec.minimumDensity}:{},...e.spec.pointSize!=null?{pointSize:e.spec.pointSize}:{},downsampleMaxPoints:e.spec.downsampleMaxPoints??u})),ae=Y(()=>Object.fromEntries(e.context.columns.map(ce=>[ce.name,ce.name]))),ie=Y(()=>({class:UYe,props:{darkMode:n(),columnStyles:i(),onNearestNeighborSearch:(e.context.searchModes??[]).indexOf("neighbors")>=0?ce=>e.context.search?.(ce,"neighbors"):null}})),_e=Y(()=>({class:jYe,props:{...x(A)??{points:[],center:null}}})),le=Y(()=>x(P)??e.state.viewport);zWe($,{get width(){return e.width},get height(){return e.height},get coordinator(){return e.context.coordinator},get table(){return e.context.table},get filter(){return e.context.filter},get rangeSelection(){return e.context.filter},get identifier(){return e.context.id},get x(){return e.spec.data.x},get y(){return e.spec.data.y},get text(){return e.spec.data.text},get category(){return x(W)},get categoryColors(){return x(ue)},get config(){return x(te)},get labels(){return e.context.embeddingViewLabels},get cache(){return e.context.persistentCache},get additionalFields(){return x(ae)},get customTooltip(){return x(ie)},get customOverlay(){return x(_e)},get viewportState(){return x(le)},onViewportState:ce=>e.onStateChange({viewport:ce}),get rangeSelectionValue(){return e.state.brush},onRangeSelection:ce=>e.onStateChange({brush:ce??void 0}),get tooltip(){return x(S)},onTooltip:ce=>{oe(S,ce)},get selection(){return x(k)},onSelection:ce=>{oe(k,ce),ce!=null&&ce.length==1&&b.set(ce[0].identifier)}})}var R=se($,2),M=K(R);{var B=W=>{var ue=qYe(),te=K(ue);{let ae=Y(()=>({items:x(O).legend})),ie=Y(()=>e.state.legend??{});IYe(te,{get context(){return e.context},get spec(){return x(ae)},get state(){return x(ie)},mode:"view",onSpecChange:()=>{},onStateChange:(_e,le)=>{e.onStateChange({legend:_e})}})}Z(ue),X(W,ue)};ke(M,W=>{x(O)!=null&&W(B)})}var U=se(M,2),j=K(U);{let W=Y(()=>[{value:void 0,label:"--"},...e.context.columns.filter(ue=>ue.jsType=="string"||ue.jsType=="number").map(ue=>({value:ue.name,label:`${ue.name} (${ue.type})`}))]);Ra(j,{class:"max-w-64",label:"Color",get value(){return x(v)},onChange:ue=>e.onSpecChange({data:{...e.spec.data,category:ue}}),get options(){return x(W)}})}var ee=se(j,2);hD(ee,{get icon(){return Bne},title:"Options",children:(W,ue)=>{var te=ZYe(),ae=se(K(te),2),ie=K(ae);{let Re=Y(()=>e.spec.mode??"points"),lt=Y(()=>x(O)!=null&&x(O).legend.length>a);Ra(ie,{get value(){return x(Re)},onChange:it=>e.onSpecChange({mode:it}),get disabled(){return x(lt)},options:[{value:"points",label:"Points"},{value:"density",label:"Density"}]})}var _e=se(ie,2);{var le=Re=>{var lt=()=>Math.log((e.spec.minimumDensity??l)/l),it=Lt=>e.onSpecChange({minimumDensity:l*Math.exp(Lt)});D_(Re,{get value(){return lt()},set value(Lt){it(Lt)},min:-4,max:4,step:.05})};ke(_e,Re=>{(e.spec.mode??"points")=="density"&&Re(le)})}Z(ae);var ce=se(ae,4),Qe=K(ce),We=()=>e.spec.pointSize??1,ve=Re=>e.onSpecChange({pointSize:Re});D_(Qe,{get value(){return We()},set value(Re){ve(Re)},min:1,max:10,step:.05});var Te=se(Qe,2);Hf(Te,{label:"Auto",onClick:()=>e.onSpecChange({pointSize:void 0})}),Z(ce);var ze=se(ce,2);{var Ue=Re=>{const lt=Y(()=>e.spec.downsampleMaxPoints??Math.min(u,x(_))),it=Y(()=>x(lt)>=x(_));var Lt=XYe(),ft=Ye(Lt),Ee=K(ft),nt=se(Ee);{var on=dn=>{var yi=VYe(),Cn=K(yi);Z(yi),Me(Nr=>Mt(Cn,`/ ${Nr??""}`),[()=>x(_)>=1e6?(x(_)/1e6).toFixed(1)+"M":(x(_)/1e3).toFixed(0)+"K"]),X(dn,yi)};ke(nt,dn=>{x(it)||dn(on)})}Z(ft);var an=se(ft,2),xn=K(an),or=()=>e.spec.downsampleMaxPoints??Math.min(u,x(_)??u),Li=dn=>e.onSpecChange({downsampleMaxPoints:dn});{let dn=Y(()=>Math.max(1e4,Math.floor(x(_)/100/1e4)*1e4));D_(xn,{get value(){return or()},set value(yi){Li(yi)},min:c,get max(){return x(_)},get step(){return x(dn)}})}Z(an),Me(dn=>Mt(Ee,`Max Points: ${dn??""} `),[()=>x(it)?"All":x(lt)>=1e6?(x(lt)/1e6).toFixed(1)+"M":(x(lt)/1e3).toFixed(0)+"K"]),X(Re,Lt)};ke(ze,Re=>{x(_)!=null&&x(_)>c&&Re(Ue)})}Z(te),X(W,te)},$$slots:{default:!0}}),Z(U),Z(R),Z(I),X(t,I),Ke(),o()}var GYe=fe("<div><!></div>"),HYe=fe("<div><!></div>");function Jse(t,e){let n=Le(300),r=Le(200),i=dt(e,"flexHeight",3,!1);var s=HYe();let o;var a=K(s);{var l=c=>{var f=GYe();let h;var d=K(f);Cl(d,()=>e.children??yr,()=>x(n),()=>x(r)),Z(f),Me(()=>h=gt(f,"",h,{position:"absolute",height:`${x(r)??""}px`})),X(c,f)},u=c=>{var f=Bt(),h=Ye(f);Cl(h,()=>e.children??yr,()=>x(n),()=>x(r)),X(c,f)};ke(a,c=>{i()?c(l):c(u,!1)})}Z(s),Me(()=>{sr(s,1,RO(i()?"flex-1 min-h-0":void 0)),o=gt(s,"",o,{"user-select":"none",position:"relative",height:i()?void 0:"fit-content"})}),mc(s,"clientWidth",c=>oe(n,c)),mc(s,"clientHeight",c=>oe(r,c)),X(t,s)}var KYe=Yt("<g><foreignObject><div> </div></foreignObject></g>");function Tj(t,e){He(e,!0);let n=Y(()=>e.dimension=="x"?{px:e.proxy.scale.x?.apply(e.label.value)??0,py:e.proxy.plotHeight+e.label.padding,anchorX:.5,anchorY:0}:{px:-e.label.padding,py:e.proxy.scale.y?.apply(e.label.value)??0,anchorX:1,anchorY:.5}),r=Y(()=>x(n).px),i=Y(()=>x(n).py),s=Y(()=>x(n).anchorX),o=Y(()=>x(n).anchorY),a=Y(()=>e.label.orientation=="vertical"?{rotation:90,shiftX:x(s)*e.label.size.width,shiftY:-x(o)*e.label.size.height,width:e.label.size.height,height:e.label.size.width}:{rotation:0,shiftX:-x(s)*e.label.size.width,shiftY:-x(o)*e.label.size.height,width:e.label.size.width,height:e.label.size.height}),l=Y(()=>x(a).rotation),u=Y(()=>x(a).shiftX),c=Y(()=>x(a).shiftY),f=Y(()=>x(a).width),h=Y(()=>x(a).height),d=4,m=4;var g=KYe(),b=K(g);pe(b,"x",-d),pe(b,"y",-m);var v=K(b);let O;var _=K(v,!0);Z(v),Z(b),Z(g),Me(()=>{pe(g,"transform",`translate(${x(r)+x(u)}, ${x(i)+x(c)}) rotate(${x(l)??""})`),pe(b,"width",x(f)+d*2),pe(b,"height",x(h)+m*2),pe(v,"title",e.label.text),O=gt(v,"",O,{width:`${x(f)+2}px`,height:`${x(h)+m*2}px`,"line-height":`${x(h)+m*2}px`,"font-family":e.label.fontFamily,"font-size":`${e.label.fontSize??""}px`,"margin-left":"4px",color:e.color,overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}),Mt(_,e.label.text)}),X(t,g),Ke()}let fb;function JYe(){return fb==null&&(fb=document.createElement("canvas"),fb.width=1,fb.height=1),fb.getContext("2d")}function lk(t,e){let n=JYe();n.font=`${e.fontSize}px ${e.fontFamily}`;let r=n.measureText(t);return{size:{width:Math.min(e.maxWidth,r.width),height:e.fontSize},fontFamily:e.fontFamily,fontSize:e.fontSize}}function uk(t,e,n,r){switch(t.type){case"band":return eGe(t,e,n,r);default:return tGe(t,e,n,r)}}function eGe(t,e,n,r){let i=[...t.domain,...t.specialValues??[]];i=Array.from(new Set(i)),n=="y"&&(i=i.reverse());let s=[],o=[];if(e){let f=e.values??i,h=e.labelPadding??6,d=roe(e,r);s=f.map(m=>{if(n=="y")return{text:m,value:m,padding:h,level:0,orientation:"horizontal",...lk(m,d)};{let g=lk(m,d);return g.size={width:g.size.height,height:g.size.width},{text:m,value:m,padding:h,level:0,orientation:"vertical",...g}}}),o=f.map(m=>({value:m,level:0}))}let a=fse().domain(i).padding(.1);n=="y"&&a.range([1,0]);let l=a.bandwidth(),u=a.step(),c={rangeBands:[[[0,0],[1,0]]],apply:f=>[(a(f)??0)+l/2,0],applyBand:f=>{let h=a(f)??0;return[[h,0],[h+l,0]]},invert(f,[h,d]){let m=(f-h)/(d-h);n=="y"&&(m=1-m);let g=Math.floor(m/u);return i[g]}};return{labels:s,gridLines:[],ticks:o,base:c,concrete:f=>noe(c,"band",t.domain,t.specialValues??[],f)}}function eoe(t,e){let[n,r]=t,[i,s]=e;return o=>[n+(i-n)*o,r+(s-r)*o]}function toe(t){let[e,n]=t;return([r,i])=>r*(n-e)+e+i}function noe(t,e,n,r,i){let s=toe(i);return{type:e,domain:n,specialValues:r,range:i,rangeBands:t.rangeBands.map(([o,a])=>[s(o),s(a)]),apply:o=>s(t.apply(o)),applyBand:o=>{let[a,l]=t.applyBand(o),u=s(a),c=s(l);return u<c?[u,c]:[c,u]},invert:(o,a)=>t.invert(o,i,a)}}function roe(t,e){return{fontFamily:t?.labelFontFamily??e.labelFontFamily,fontSize:t?.labelFontSize??e.labelFontSize,maxWidth:t?.labelMaxWidth??e.labelMaxWidth}}function tGe(t,e,n,r){let i;switch(t.type){case"linear":{i=K4().domain(t.domain);break}case"log":{i=_O().domain(t.domain);break}case"symlog":{let d=t.constant??1;i=dse().constant(d).domain(t.domain),i.nice=()=>i,i.ticks=m=>rGe(i.domain(),d,m),i.tickFormat=()=>y2("~s");break}default:throw new Error("invalid scale type")}let s=[],o=[];if(e){let d=[];if(e.extendScaleToTicks??!0)if(e.values){d=e.values;let O=i.domain().concat(d);i=i.domain([O.reduce((_,S)=>Math.min(_,S),O[0]),O.reduce((_,S)=>Math.max(_,S),O[0])])}else{let O=e.desiredTickCount??5;i.nice&&(i=i.nice(O)),d=i.ticks(O)}else{if(e.values)d=e.values;else{let S=e.desiredTickCount??5;d=i.ticks(S)}let[O,_]=i.domain();d=d.filter(S=>S>=O&&S<=_)}let m=e.labelPadding??6,g=i.tickFormat(e.values?e.values.length:e.desiredTickCount??5),b=O=>t.type=="log"||t.type=="symlog"?Math.round(Math.log10(Math.abs(O)))==Math.log10(Math.abs(O))?0:1:0,v=roe(e,r);s=d.map(O=>{let _=g(O);return{text:_,value:O,padding:m,level:b(O),orientation:"horizontal",...lk(_,v)}});for(let O of t.specialValues??[])s.push({text:O,value:O,padding:m,level:0,orientation:"horizontal",...lk(O,v)});o=d.map(O=>({value:O,level:b(O)}))}n=="y"&&i.range([1,0]);let{rangeBands:a,map:l}=nGe(Array.from(new Set(t.specialValues??[])),n=="x"?"start":"end"),[u,c]=a[0],f=eoe(u,c),h={rangeBands:a,apply:d=>{let m=l.get(d);if(m!=null)return[(m[0][0]+m[1][0])/2,(m[0][1]+m[1][1])/2];if(d==null)return[NaN,NaN];let g=d instanceof Array&&d.length>=2?(i(d[0])+i(d[1]))/2:i(d);return f(g)},applyBand:d=>{let m=l.get(d);if(m!=null)return m;if(d==null)return[[NaN,NaN],[NaN,NaN]];if(d instanceof Array&&d.length>=2)return[f(i(d[0])),f(i(d[1]))];{let g=f(i(d));return[g,g]}},invert(d,m,g){let b=toe(m);if(g!="number")for(let[v,[O,_]]of l.entries()){let S=b(O),k=b(_);if(d>=Math.min(S,k)&&d<=Math.max(S,k))return v}if(g!="string"){let v=b(u),O=b(c);return i.invert((d-v)/(O-v))}}};return{labels:s,gridLines:o,ticks:o,base:h,concrete:d=>noe(h,t.type,i.domain(),t.specialValues??[],d)}}function nGe(t,e){let n=[[0,0],[1,0]],r,i=new Map;if(t.length>0){let s=8,a=t.length*20;e=="start"?(n=[[0,a+s],[1,0]],r=[[0,0],[0,a]]):(n=[[0,0],[1,-a-s]],r=[[1,-a],[1,0]]);let l=eoe(r[0],r[1]);for(let u=0;u<t.length;u++){let c=(u+.1)/t.length,f=(u+.9)/t.length;i.set(t[u],[l(c),l(f)])}}return{rangeBands:r!=null?[n,r]:[n],map:i}}function Dj(t,e,n={}){let r=n.gap??0,i=t.map((a,l)=>({...e(a),index:l})).sort((a,l)=>a.priority-l.priority),s=t.map(a=>!1),o=(a,l)=>Math.abs(a.center-l.center)<r+a.length/2+l.length/2;for(let a=0;a<i.length;a++){let l=!1;for(let u=0;u<a;u++)if(s[i[u].index]&&o(i[a],i[u])){l=!0;break}s[i[a].index]=!l}return t.filter((a,l)=>s[l])}function rGe(t,e,n){n=n??5;let r=t[0],i=t[1];if(r>0&&i>0&&r/i>.5||r<0&&i<0&&i/r>.5)return K4().domain([r,i]).ticks(n);let s=e*2,o=e*5;return r<-o&&i>o&&(n=Math.ceil(n/2)),[...r<-o?_O().domain([s,-r]).ticks(n).map(a=>-a):[],0,...i>o?_O().domain([s,i]).ticks(n):[]].filter(a=>a>=r&&a<=i)}function iGe(t,e){switch(t.type){case"band":{let o=t.range??e.categoryColors,a=new Map;if(typeof o=="function"){let l=o(t.domain.length);for(let u=0;u<t.domain.length;u++)a.set(t.domain[u],l[u])}else for(let l=0;l<t.domain.length;l++)a.set(t.domain[l],o[l%o.length]);return{type:t.type,domain:t.domain,specialValues:t.specialValues??[],apply:l=>a.get(l)??e.markColorGray}}default:let r=uk({...t,specialValues:[]},null,"x",e).concrete([0,1]),i=NXe(t.range??e.interpolate),s=new Set(t.specialValues??[]);return{type:t.type,domain:t.domain,specialValues:t.specialValues??[],apply:o=>s.has(o)?e.markColorGray:i(r.apply(o))}}}function sGe(t,e){let n=[0,1e3];if(t.range instanceof Array&&t.range.length==2){let[r,i]=t.range;typeof r=="number"&&typeof i=="number"&&(n=[r,i])}switch(t.type){case"band":{let s=new Map;for(let o=0;o<t.domain.length;o++)s.set(t.domain[o],(o+1)/t.domain.length*(n[1]-n[0])+n[0]);return{type:t.type,domain:t.domain,specialValues:t.specialValues??[],apply:o=>s.get(o)??1}}default:let i=uk({...t,specialValues:[]},null,"x",e).concrete(n);return{type:t.type,domain:t.domain,specialValues:t.specialValues??[],apply:s=>i.apply(s)}}}function Do(t,e,n){if(t.length==0)return[0,0];if(n=="inner"){let r=0,i=0;for(let[s,o]of t){let a=s*e+o;a<0&&(r=Math.max(r,-a)),a>e&&(i=Math.max(i,a-e))}return[r,i]}else{let r=0,i=0;for(let[s,o]of t){let a=(e-r-i)*s+r+o;a<0&&s!=1&&(r=((e-i)*s+o)/(s-1)),a>e&&s!=0&&(i=((e-r)*s+r+o-e)/s)}return[r,i]}}function hb(t){if(typeof t=="number"&&isFinite(t)&&t>0)return t}const oGe=300,aGe=200;function lGe(t,e){let n=[],r=[];if(e?.x&&e?.x.labels.length>0)for(let d of e.x.labels){let m=e.x.base.apply(d.value);n.push([m[0],m[1]-d.size.width/2]),n.push([m[0],m[1]+d.size.width/2]),r.push([1,d.size.height+d.padding])}if(e?.y&&e?.y.labels.length>0)for(let d of e.y.labels){let m=e.y.base.apply(d.value);n.push([0,-d.size.width-d.padding]),r.push([m[0],m[1]-d.size.height/2]),r.push([m[0],m[1]+d.size.height/2])}let{width:i,height:s,plotWidth:o,plotHeight:a,plotAspectRatio:l}=t;i=hb(i),s=hb(s),o=hb(o),a=hb(a),l=hb(l);let u=0,c=0,f=0,h=0;if(l==null)i==null&&o!=null?([u,c]=Do(n,o,"inner"),i=o+u+c):(i=i??oGe,[u,c]=Do(n,i,"outer"),o=i-u-c),s==null&&a!=null?([f,h]=Do(r,a,"inner"),s=a+f+h):(s=s??aGe,[f,h]=Do(r,s,"outer"),a=s-f-h);else if(o!=null||a!=null){if(o!=null)a=o/l;else if(a!=null)o=a*l;else throw new Error("unreachable");let[d,m]=Do(n,o,"inner"),[g,b]=Do(r,a,"inner");return i=i??o+d+m,s=s??a+g+b,{width:i,height:s,plotRect:{x:d,y:g,width:o,height:a}}}else if(s==null){i=i??400,[u,c]=Do(n,i,"outer");let d=i-u-c,m=d/l;return[f,h]=Do(r,m,"inner"),s=m+f+h,{width:i,height:s,plotRect:{x:u,y:f,width:d,height:m}}}else{if(i==null)return s=s??400,[f,h]=Do(r,s,"outer"),a=s-f-h,o=a*l,[u,c]=Do(r,o,"inner"),i=o+u+c,{width:i,height:s,plotRect:{x:u,y:f,width:o,height:a}};[u,c]=Do(n,i,"outer"),o=i-u-c,a=o/l,[f,h]=Do(r,a,"inner"),f+h+a>s&&([f,h]=Do(r,s,"outer"),a=s-f-h,o=a*l,[u,c]=Do(n,o,"inner"))}return{width:i,height:s,plotRect:{x:u,y:f,width:o,height:a}}}var uGe=Yt('<line stroke-linecap="butt"></line>'),cGe=Yt('<line stroke-dasharray="1,3" stroke-linecap="square"></line>'),fGe=Yt("<g><!><!><!></g>"),hGe=Yt('<line stroke-linecap="butt"></line>'),dGe=Yt('<line stroke-linecap="square"></line>'),pGe=Yt("<g><!><!><!></g>"),mGe=fe("<div><svg><g><!><!><!><!></g></svg></div>");function ioe(t,e){He(e,!0);const n=4;let r=dt(e,"xAxis",19,()=>({})),i=dt(e,"yAxis",19,()=>({})),s=Y(()=>e.xScale?uk(e.xScale,r(),"x",e.theme):void 0),o=Y(()=>e.yScale?uk(e.yScale,i(),"y",e.theme):void 0),a=Y(()=>lGe({width:e.width,height:e.height,plotWidth:e.plotWidth,plotHeight:e.plotHeight,plotAspectRatio:e.plotAspectRatio},{x:x(s),y:x(o)})),l=Y(()=>x(a).width),u=Y(()=>x(a).height),c=Y(()=>x(a).plotRect.x),f=Y(()=>x(a).plotRect.y),h=Y(()=>x(a).plotRect.width),d=Y(()=>x(a).plotRect.height),m=Y(()=>x(s)?.concrete([0,x(h)])),g=Y(()=>x(o)?.concrete([0,x(d)])),b=Y(()=>x(s)&&x(m)?Dj(x(s).labels,R=>({center:x(m).apply(R.value),length:R.size.width,priority:R.level}),{gap:4}):[]),v=Y(()=>x(o)&&x(g)?Dj(x(o).labels,R=>({center:x(g).apply(R.value),length:R.size.height,priority:R.level}),{gap:2}):[]),O=Y(()=>({plotWidth:x(h),plotHeight:x(d),scale:{x:x(m),y:x(g),...e.otherScales??{}}}));var _=mGe();let S;var k=K(_);gt(k,"",{},{position:"absolute",left:"-4px",top:"-4px"});var A=K(k),C=K(A);Cl(C,()=>e.childrenBelow??yr,()=>x(O));var T=se(C);{var P=R=>{var M=fGe(),B=K(M);fn(B,17,()=>x(s).ticks,ur,(ee,W)=>{const ue=Y(()=>x(m).apply(x(W).value));var te=uGe();Me(()=>{pe(te,"x1",x(ue)),pe(te,"y1",x(d)),pe(te,"x2",x(ue)),pe(te,"y2",x(d)+(x(W).level==0?3:0)),pe(te,"stroke",e.theme.gridColor),pe(te,"stroke-opacity",x(W).level==0?1:.4)}),X(ee,te)});var U=se(B);fn(U,17,()=>x(s).gridLines,ur,(ee,W)=>{const ue=Y(()=>x(m).apply(x(W).value));var te=Bt(),ae=Ye(te);fn(ae,17,()=>x(g)?.rangeBands??[],ur,(ie,_e)=>{var le=Y(()=>VF(x(_e),2));let ce=()=>x(le)[0],Qe=()=>x(le)[1];var We=cGe();Me((ve,Te)=>{pe(We,"x1",x(ue)),pe(We,"y1",ve),pe(We,"x2",x(ue)),pe(We,"y2",Te),pe(We,"stroke",e.theme.gridColor),pe(We,"stroke-opacity",x(W).level==0?1:.4)},[()=>Math.min(ce(),Qe()),()=>Math.max(ce(),Qe())]),X(ie,We)}),X(ee,te)});var j=se(U);fn(j,17,()=>x(b),ur,(ee,W)=>{Tj(ee,{get label(){return x(W)},dimension:"x",get proxy(){return x(O)},get color(){return e.theme.labelColor}})}),Z(M),X(R,M)};ke(T,R=>{x(s)&&x(m)&&r()&&R(P)})}var N=se(T);{var I=R=>{var M=pGe(),B=K(M);fn(B,17,()=>x(o).ticks,ur,(ee,W)=>{const ue=Y(()=>x(g).apply(x(W).value));var te=hGe();pe(te,"x2",0),Me(()=>{pe(te,"x1",-(x(W).level==0?3:0)),pe(te,"y1",x(ue)),pe(te,"y2",x(ue)),pe(te,"stroke",e.theme.gridColor),pe(te,"stroke-opacity",x(W).level==0?1:.4)}),X(ee,te)});var U=se(B);fn(U,17,()=>x(o).gridLines,ur,(ee,W)=>{const ue=Y(()=>x(g).apply(x(W).value));var te=Bt(),ae=Ye(te);fn(ae,17,()=>x(m)?.rangeBands??[],ur,(ie,_e)=>{var le=Y(()=>VF(x(_e),2));let ce=()=>x(le)[0],Qe=()=>x(le)[1];var We=dGe();Me(()=>{pe(We,"x1",ce()),pe(We,"y1",x(ue)),pe(We,"x2",Qe()),pe(We,"y2",x(ue)),pe(We,"stroke",e.theme.gridColor),pe(We,"stroke-opacity",x(W).level==0?1:.4)}),X(ie,We)}),X(ee,te)});var j=se(U);fn(j,17,()=>x(v),ur,(ee,W)=>{Tj(ee,{get label(){return x(W)},dimension:"y",get proxy(){return x(O)},get color(){return e.theme.labelColor}})}),Z(M),X(R,M)};ke(N,R=>{x(o)&&x(g)&&i()&&R(I)})}var $=se(N);Cl($,()=>e.children??yr,()=>x(O)),Z(A),Z(k),Z(_),Me(()=>{S=gt(_,"",S,{width:`${x(l)??""}py`,height:`${x(u)??""}px`,position:"relative","user-select":"none","-webkit-user-select":"none",cursor:"default"}),pe(k,"width",x(l)+n*2),pe(k,"height",x(u)+n*2),pe(A,"transform",`translate(${n+x(c)},${n+x(f)})`)}),X(t,_),Ke()}var gGe=Yt('<rect role="none"></rect><rect role="none"></rect>',1),yGe=Yt('<rect role="none"></rect><rect role="none"></rect>',1),bGe=Yt('<rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect>',1),vGe=Yt('<rect></rect><rect role="none"></rect><!><!><!>',1),OGe=Yt('<g><rect stroke="none" fill="none" role="none"></rect><!></g>');function wGe(t,e){He(e,!0);const n=8;let r,i=Y(()=>e.proxy.scale.x!=null&&e.value?.x!=null?e.proxy.scale.x.applyBand(e.value.x):[0,e.proxy.plotWidth]),s=Y(()=>e.proxy.scale.y!=null&&e.value?.y!=null?e.proxy.scale.y.applyBand(e.value.y):[0,e.proxy.plotHeight]);function o(g){return g instanceof Array&&g.length==2&&typeof g[0]=="number"&&typeof g[1]=="number"}function a(g,b,v){let O=g.invert(b,v);if(g.domain.length==2&&typeof g.domain[0]=="number"&&typeof O=="number"){let[_,S]=g.domain;return Math.max(Math.min(_,S),Math.min(Math.max(_,S),O))}return O}function l(g,b){return(b=="x"||b=="xy")&&g.x==null?!1:!((b=="y"||b=="xy")&&g.y==null)}function u(){return g=>{let b=r.getBoundingClientRect().left,v=r.getBoundingClientRect().top,O=g.clientX-b,_=g.clientY-v,S=e.proxy.scale.x?a(e.proxy.scale.x,O):null,k=e.proxy.scale.y?a(e.proxy.scale.y,_):null;if(S==null&&(e.mode=="x"||e.mode=="xy")||k==null&&(e.mode=="y"||e.mode=="xy"))return;let A=(P,N)=>typeof P=="number"&&typeof N=="number"?P!=N?[Math.min(P,N),Math.max(P,N)]:null:N,C=P=>P==null?void 0:typeof P=="number"?"number":"string",T=P=>{let N=P.clientX-b,I=P.clientY-v,$=e.proxy.scale.x?a(e.proxy.scale.x,N,C(S))??S:null,R=e.proxy.scale.y?a(e.proxy.scale.y,I,C(k))??k:null,M={};return(e.mode=="x"||e.mode=="xy")&&(M.x=A(S,$)),(e.mode=="y"||e.mode=="xy")&&(M.y=A(k,R)),l(M,e.mode)?M:null};return{move:P=>{e.onChange(T(P))},up:P=>{e.onChange(T(P))}}}}function c(g){return b=>{if(e.value==null)return;let v={...e.value},{x:O,y:_}=e.proxy.scale,S=o(v.x),k=o(v.y),A=[...O&&v.x?O.applyBand(v.x):[0,0],..._&&v.y?_.applyBand(v.y):[0,0]];if(!S){let T=Math.max(g[0],g[1]);g=[T,T,g[2],g[3]]}if(!k){let T=Math.max(g[2],g[3]);g=[g[0],g[1],T,T]}let C=T=>{let P=T.pageX-b.pageX,N=T.pageY-b.pageY,I=[P,P,N,N].map((R,M)=>A[M]+R*g[M]),$={...v};if(O&&(e.mode=="x"||e.mode=="xy"))if(S){let R=a(O,I[0],"number"),M=a(O,I[1],"number");$.x=R==M?null:R<M?[R,M]:[M,R]}else $.x=a(O,(I[0]+I[1])/2),typeof $.x!="string"&&($.x=null);if(_!=null&&(e.mode=="y"||e.mode=="xy"))if(k){let R=a(_,I[2],"number"),M=a(_,I[3],"number");$.y=R==M?null:R<M?[R,M]:[M,R]}else $.y=a(_,(I[2]+I[3])/2),typeof $.y!="string"&&($.y=null);return l($,e.mode)||($=null),$};return{move:T=>{e.onChange(C(T))},up:T=>{let P=C(T);P&&!S&&!k&&P.x==v.x&&P.y==v.y&&(P=null),e.onChange(P)}}}}var f=OGe(),h=K(f);pe(h,"x",0),pe(h,"y",0),gt(h,"",{},{"pointer-events":"fill","user-select":"none",cursor:"crosshair"}),Gi(h,g=>r=g,()=>r),Kr(h,(g,b)=>Zn?.(g,b),()=>({click:g=>{if(e.value!=null)e.onChange(null);else{let b=u()(g);b&&(b.move(g),b.up(g))}},drag:u()}));var d=se(h);{var m=g=>{var b=vGe(),v=Ye(b);let O;var _=se(v);let S;Kr(_,(I,$)=>Zn?.(I,$),()=>({drag:c([1,1,1,1])}));var k=se(_);{var A=I=>{var $=gGe(),R=Ye($);pe(R,"width",n),gt(R,"",{},{cursor:"ew-resize",stroke:"none",fill:"none","pointer-events":"all"}),Kr(R,(B,U)=>Zn?.(B,U),()=>({drag:c([1,0,0,0])}));var M=se(R);pe(M,"width",n),gt(M,"",{},{cursor:"ew-resize",stroke:"none",fill:"none","pointer-events":"all"}),Kr(M,(B,U)=>Zn?.(B,U),()=>({drag:c([0,1,0,0])})),Me((B,U,j,ee)=>{pe(R,"x",x(i)[0]-n/2),pe(R,"y",B),pe(R,"height",U),pe(M,"x",x(i)[1]-n/2),pe(M,"y",j),pe(M,"height",ee)},[()=>Math.min(x(s)[0],x(s)[1]),()=>Math.abs(x(s)[0]-x(s)[1]),()=>Math.min(x(s)[0],x(s)[1]),()=>Math.abs(x(s)[0]-x(s)[1])]),X(I,$)};ke(k,I=>{(e.mode=="x"||e.mode=="xy")&&o(e.value.x)&&I(A)})}var C=se(k);{var T=I=>{var $=yGe(),R=Ye($);pe(R,"height",n),gt(R,"",{},{cursor:"ns-resize",stroke:"none",fill:"none","pointer-events":"all"}),Kr(R,(B,U)=>Zn?.(B,U),()=>({drag:c([0,0,1,0])}));var M=se(R);pe(M,"height",n),gt(M,"",{},{cursor:"ns-resize",stroke:"none",fill:"none","pointer-events":"all"}),Kr(M,(B,U)=>Zn?.(B,U),()=>({drag:c([0,0,0,1])})),Me((B,U,j,ee)=>{pe(R,"x",B),pe(R,"width",U),pe(R,"y",x(s)[0]-n/2),pe(M,"x",j),pe(M,"width",ee),pe(M,"y",x(s)[1]-n/2)},[()=>Math.min(x(i)[0],x(i)[1]),()=>Math.abs(x(i)[0]-x(i)[1]),()=>Math.min(x(i)[0],x(i)[1]),()=>Math.abs(x(i)[0]-x(i)[1])]),X(I,$)};ke(C,I=>{(e.mode=="y"||e.mode=="xy")&&o(e.value.y)&&I(T)})}var P=se(C);{var N=I=>{var $=bGe(),R=Ye($);pe(R,"width",n),pe(R,"height",n),gt(R,"",{},{cursor:"nesw-resize",stroke:"none",fill:"none","pointer-events":"all"}),Kr(R,(j,ee)=>Zn?.(j,ee),()=>({drag:c([1,0,1,0])}));var M=se(R);pe(M,"width",n),pe(M,"height",n),gt(M,"",{},{cursor:"nwse-resize",stroke:"none",fill:"none","pointer-events":"all"}),Kr(M,(j,ee)=>Zn?.(j,ee),()=>({drag:c([1,0,0,1])}));var B=se(M);pe(B,"width",n),pe(B,"height",n),gt(B,"",{},{cursor:"nwse-resize",stroke:"none",fill:"none","pointer-events":"all"}),Kr(B,(j,ee)=>Zn?.(j,ee),()=>({drag:c([0,1,1,0])}));var U=se(B);pe(U,"width",n),pe(U,"height",n),gt(U,"",{},{cursor:"nesw-resize",stroke:"none",fill:"none","pointer-events":"all"}),Kr(U,(j,ee)=>Zn?.(j,ee),()=>({drag:c([0,1,0,1])})),Me(()=>{pe(R,"x",x(i)[0]-n/2),pe(R,"y",x(s)[0]-n/2),pe(M,"x",x(i)[0]-n/2),pe(M,"y",x(s)[1]-n/2),pe(B,"x",x(i)[1]-n/2),pe(B,"y",x(s)[0]-n/2),pe(U,"x",x(i)[1]-n/2),pe(U,"y",x(s)[1]-n/2)}),X(I,$)};ke(P,I=>{e.mode=="xy"&&o(e.value.x)&&o(e.value.y)&&I(N)})}Me((I,$,R,M,B,U,j,ee)=>{pe(v,"x",I),pe(v,"width",$),pe(v,"y",R),pe(v,"height",M),O=gt(v,"",O,{stroke:e.theme.brushBorderBack,fill:"none","stroke-width":2}),pe(_,"x",B),pe(_,"width",U),pe(_,"y",j),pe(_,"height",ee),S=gt(_,"",S,{stroke:e.theme.brushBorder,fill:e.theme.brushFill,cursor:"move"})},[()=>Math.min(x(i)[0],x(i)[1]),()=>Math.abs(x(i)[0]-x(i)[1]),()=>Math.min(x(s)[0],x(s)[1]),()=>Math.abs(x(s)[0]-x(s)[1]),()=>Math.min(x(i)[0],x(i)[1]),()=>Math.abs(x(i)[0]-x(i)[1]),()=>Math.min(x(s)[0],x(s)[1]),()=>Math.abs(x(s)[0]-x(s)[1])]),X(g,b)};ke(d,g=>{x(i)&&x(s)&&e.value&&g(m)})}Z(f),Me(()=>{pe(h,"width",e.proxy.plotWidth),pe(h,"height",e.proxy.plotHeight)}),X(t,f),Ke()}var xGe=Yt('<image preserveAspectRatio="none"></image>');function _Ge(t,e){He(e,!0);let n=Y(()=>e.proxy.scale.x&&e.xDomain?e.proxy.scale.x.apply(e.xDomain[0]):0),r=Y(()=>e.proxy.scale.x&&e.xDomain?e.proxy.scale.x.apply(e.xDomain[1]):e.proxy.plotWidth),i=Y(()=>e.proxy.scale.y&&e.yDomain?e.proxy.scale.y.apply(e.yDomain[0]):0),s=Y(()=>e.proxy.scale.y&&e.yDomain?e.proxy.scale.y.apply(e.yDomain[1]):e.proxy.plotHeight),o=Le(null),a=document.createElement("canvas");Vr(()=>{a.width=e.rasterWidth,a.height=e.rasterHeight;let u=a.getContext("2d",{colorSpace:"srgb",willReadFrequently:!0});u.clearRect(0,0,a.width,a.height);let c=u.getImageData(0,0,a.width,a.height),f=0;for(let h=0;h<a.height;h++)for(let d=0;d<a.width;d++){let m=(d+.5)/a.width*(x(r)-x(n))+x(n),g=(h+.5)/a.height*(x(s)-x(i))+x(i),b=e.proxy.scale.x?.invert(m)??0,v=e.proxy.scale.y?.invert(g)??0,{r:O,g:_,b:S,opacity:k}=T1(e.color(b,v));c.data[f++]=O,c.data[f++]=_,c.data[f++]=S,c.data[f++]=k*255}u.putImageData(c,0,0),oe(o,a.toDataURL("image/png"),!0)});var l=xGe();Me((u,c,f,h)=>{pe(l,"x",u),pe(l,"y",c),pe(l,"width",f),pe(l,"height",h),pe(l,"href",x(o))},[()=>Math.min(x(n),x(r)),()=>Math.min(x(i),x(s)),()=>Math.abs(x(n)-x(r)),()=>Math.abs(x(i)-x(s))]),X(t,l),Ke()}var SGe=fe('<div class="flex gap-1 items-center"><div class="w-3 h-3 block rounded-sm"></div> <div class="whitespace-nowrap max-w-32 overflow-hidden text-ellipsis"> </div></div>'),kGe=fe('<div class="flex gap-2 flex-wrap items-center select-none"></div>'),CGe=Yt("<rect></rect>"),AGe=Yt("<!><!>",1),EGe=fe('<div class="pl-4"><!></div>'),TGe=fe('<div class="text-sm text-slate-400 dark:text-slate-500"><!></div>');function DGe(t,e){He(e,!0);var n=TGe(),r=K(n);{var i=o=>{var a=kGe();fn(a,21,()=>e.scale.domain.concat(e.scale.specialValues??[]),ur,(l,u)=>{const c=Y(()=>e.scale.apply(x(u)));var f=SGe(),h=K(f);let d;var m=se(h,2),g=K(m,!0);Z(m),Z(f),Me(()=>{pe(f,"title",x(u)),d=gt(h,"",d,{background:x(c)}),Mt(g,x(u))}),X(l,f)}),Z(a),X(o,a)},s=o=>{var a=EGe(),l=K(a);Jse(l,{children:(c,f=yr,h=yr)=>{{const d=(g,b=yr)=>{var v=AGe(),O=Ye(v);{let S=Y(()=>b().scale.x?.domain);_Ge(O,{color:k=>e.scale.apply(k),rasterWidth:100,rasterHeight:1,get proxy(){return b()},get xDomain(){return x(S)}})}var _=se(O);fn(_,17,()=>e.scale.specialValues??[],ur,(S,k)=>{const A=Y(()=>{const[T,P]=b().scale.x?.applyBand(x(k))??[NaN,NaN];return{x0:T,x1:P}});var C=CGe();pe(C,"y",0),Me((T,P,N)=>{pe(C,"x",T),pe(C,"width",P),pe(C,"height",b().plotHeight),pe(C,"fill",N)},[()=>Math.min(x(A).x0,x(A).x1),()=>Math.abs(x(A).x1-x(A).x0),()=>e.scale.apply(x(k))]),X(S,C)}),X(g,v)};let m=Y(()=>({type:e.outputs.scale.color.type??"linear",domain:e.scale.domain,specialValues:e.scale.specialValues}));ioe(c,{get xScale(){return x(m)},xAxis:{extendScaleToTicks:!1},get width(){return f()},plotHeight:8,get theme(){return e.theme},children:d,$$slots:{default:!0}})}},$$slots:{default:!0}}),Z(a),X(o,a)};ke(r,o=>{e.scale.type=="band"?o(i):o(s,!1)})}Z(n),X(t,n),Ke()}function Yp(t,e,n){return{length:t.length,at:r=>e(t[r])}}function uC(t,e){return{length:t,at:()=>e}}function qd({proxy:t,data:e},n){let r=e.columns[n],i=t.scale[n];return r!=null&&i!=null?Yp(r,i.apply):uC(e.length,n=="x"?t.plotWidth/2:t.plotHeight/2)}function PGe(t){if(typeof t=="number"){let e=t/2;return([n,r])=>[(n+r)/2-e,(n+r)/2+e]}else if(t!=null){if("gap"in t){let{gap:e,clampToRatio:n}=t;return([r,i])=>{let s=Math.min(e/2,(n??0)*Math.abs(r-i)/2);return r<i?[r+s,i-s]:[r-s,i+s]}}else if("ratio"in t){let e=(1-t.ratio)/2;return([n,r])=>[n+(r-n)*e,r+(n-r)*e]}}}function hc({proxy:t,data:e},n,r){let i=PGe(r),s=e.columns[n],o=t.scale[n];if(s!=null&&o!=null)return i?Yp(s,u=>i(o.applyBand(u))):Yp(s,o.applyBand);let a=e.columns[n+"1"],l=e.columns[n+"2"];if(a!=null&&l!=null&&o!=null){let u=a.map((c,f)=>[c,l[f]]);return i?Yp(u,([c,f])=>i([o.apply(c),o.apply(f)])):Yp(u,([c,f])=>[o.apply(c),o.apply(f)])}return uC(e.length,n=="x"?[0,t.plotWidth]:[0,t.plotHeight])}function soe({proxy:t,data:e,theme:n}){return e.columns.color!=null&&t.scale.color!=null?Yp(e.columns.color,t.scale.color.apply):uC(e.length,n.markColor)}function ooe({proxy:t,data:e},n){return e.columns.size!=null&&t.scale.size!=null?Yp(e.columns.size,t.scale.size.apply):uC(e.length,n??100)}function ck(t){let e=Object.keys(t.columns).filter(r=>r!="x"&&r!="y"),n=new Map;for(let r=0;r<t.length;r++){let i=JSON.stringify(e.map(o=>t.columns[o][r])),s=n.get(i);s==null?n.set(i,[r]):s.push(r)}return Array.from(n.values())}function dD(t,e){switch(t){case"monotone":return e=="horizontal"?PXe:DXe;case"basis":return CXe;case"natural":return RXe;case"step":return $Xe;case"step-before":return IXe;case"step-after":return FXe;case"catmull-rom":return TXe;case"cardinal":return AXe;case"linear":return nk;default:return console.warn(`Unknown interpolate: ${t}`),nk}}function aoe(t,e,n,r){let i=n.orientation??"vertical",s=qd(t,"x"),o=qd(t,"y"),a=e.filter(u=>isFinite(s.at(u))&&isFinite(o.at(u))).sort((u,c)=>s.at(u)-s.at(c)),l=vse().x(u=>s.at(u)).y(u=>o.at(u)).curve(dD(n.interpolate,i));return r&&l.context(r),l(a)}function loe(t,e,n,r){let i=n.orientation??"vertical";if(i=="vertical"){let s=qd(t,"x"),o=hc(t,"y",void 0),a=e.filter(u=>isFinite(s.at(u))&&isFinite(o.at(u)[0])&&isFinite(o.at(u)[1])).sort((u,c)=>s.at(u)-s.at(c)),l=oj().x(u=>s.at(u)).y0(u=>o.at(u)[0]).y1(u=>o.at(u)[1]).curve(dD(n.interpolate,i));return r&&l.context(r),l(a)}else{let s=hc(t,"x",void 0),o=qd(t,"y"),a=e.filter(u=>isFinite(o.at(u))&&isFinite(s.at(u)[0])&&isFinite(s.at(u)[1])).sort((u,c)=>o.at(u)-o.at(c)),l=oj().y(u=>o.at(u)).x0(u=>s.at(u)[0]).x1(u=>s.at(u)[1]).curve(dD(n.interpolate,i));return r&&l.context(r),l(a)}}function db(t,e){let n=soe(t);function r(s){if(s==null)return"none";if(s!="$encoding")return s.startsWith("$")?t.theme[s.substring(1)]??s:s}let i={"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeCap,"stroke-linejoin":e.strokeJoin,"stroke-opacity":e.strokeOpacity,"fill-opacity":e.fillOpacity,"paint-order":e.paintOrder,opacity:e.opacity,fill:r(e.fillColor),stroke:r(e.strokeColor)};return{length:t.data.length,at:s=>{let o={...i};return e.fillColor=="$encoding"&&(o.fill=n.at(s)),e.strokeColor=="$encoding"&&(o.stroke=n.at(s)),o}}}function pb(t,e){let n=soe(t);function r(s){if(s==null)return"none";if(s!="$encoding")return s.startsWith("$")?t.theme[s.substring(1)]??s:s}let i=e.paintOrder!="stroke fill";return{prepare:s=>{s.lineWidth=e.strokeWidth??1,s.lineCap=e.strokeCap??"butt",s.lineJoin=e.strokeJoin??"bevel",s.globalAlpha=e.opacity??1;let o=r(e.fillColor),a=r(e.strokeColor);o!=null&&(s.fillStyle=o),a!=null&&(s.strokeStyle=a)},draw:(s,o)=>{e.fillColor=="$encoding"&&(s.fillStyle=n.at(o)),e.strokeColor=="$encoding"&&(s.strokeStyle=n.at(o));let a=(e.opacity??1)*(e.fillOpacity??1),l=(e.opacity??1)*(e.strokeOpacity??1);i?(e.fillColor!=null&&a>0&&(s.globalAlpha=a,s.fill()),e.strokeColor!=null&&l>0&&(s.globalAlpha=l,s.stroke())):(e.strokeColor!=null&&l>0&&(s.globalAlpha=l,s.stroke()),e.fillColor!=null&&a>0&&(s.globalAlpha=a,s.fill()))}}}var RGe=Yt("<g></g>");function Pj(t,e){He(e,!0);let n;function r(o,a,l){let u=document.createElementNS("http://www.w3.org/2000/svg",o);for(const[c,f]of Object.entries(a))u.setAttribute(c,f);for(const[c,f]of Object.entries(l))u.setAttribute(c,f);return u}function*i(o,a){let l=[];switch(a.primitive){case"rect":{const u=hc(o,"x",a.xDimension),c=hc(o,"y",a.yDimension),f=db(o,a.style);for(let h=0;h<a.data.length;h++){const[d,m]=u.at(h),[g,b]=c.at(h);if(isFinite(d)&&isFinite(m)&&isFinite(g)&&isFinite(b)){let v=Math.min(d,m),O=Math.min(g,b),_=Math.abs(m-d),S=Math.abs(b-g);yield r("rect",{x:v,y:O,width:_,height:S},f.at(h))}}break}case"point":{const u=qd(o,"x"),c=qd(o,"y"),f=ooe(o,a.pointSize),h=db(o,a.style);for(let d=0;d<a.data.length;d++){let m=u.at(d),g=c.at(d),b=f.at(d);isFinite(m)&&isFinite(g)&&isFinite(b)&&(yield r("circle",{cx:m,cy:g,r:Math.sqrt(b/Math.PI)},h.at(d)))}break}case"rule":{const u=hc(o,"x",a.xDimension),c=hc(o,"y",a.yDimension),f=db(o,a.style);for(let h=0;h<a.data.length;h++){const[d,m]=u.at(h),[g,b]=c.at(h);isFinite(d)&&isFinite(m)&&isFinite(g)&&isFinite(b)&&(yield r("line",{x1:d,y1:g,x2:m,y2:b},f.at(h)))}break}case"line":{const u=db(o,a.style);for(let c of ck(a.data)){let f=aoe(o,c,a);f!=null&&(yield r("path",{d:f},u.at(c[0])))}break}case"area":{const u=db(o,a.style);for(let c of ck(a.data)){let f=loe(o,c,a);f!=null&&(yield r("path",{d:f},u.at(c[0])))}break}}return l}Bs(()=>{let o=i({proxy:e.proxy,data:e.layer.data,theme:e.theme},e.layer),a=document.createDocumentFragment();for(let l of o)a.appendChild(l);n.replaceChildren(a)});var s=RGe();Gi(s,o=>n=o,()=>n),X(t,s),Ke()}function $Ge(t,e,n){switch(n.primitive){case"rect":{const r=hc(e,"x",n.xDimension),i=hc(e,"y",n.yDimension);let s=pb(e,n.style);s.prepare(t);for(let o=0;o<n.data.length;o++){const[a,l]=r.at(o),[u,c]=i.at(o);if(isFinite(a)&&isFinite(l)&&isFinite(u)&&isFinite(c)){let f=Math.min(a,l),h=Math.min(u,c),d=Math.abs(l-a),m=Math.abs(c-u);t.beginPath(),t.rect(f,h,d,m),s.draw(t,o)}}break}case"point":{const r=qd(e,"x"),i=qd(e,"y"),s=ooe(e,n.pointSize);let o=pb(e,n.style);o.prepare(t);for(let a=0;a<n.data.length;a++){let l=r.at(a),u=i.at(a),c=s.at(a);isFinite(l)&&isFinite(u)&&isFinite(c)&&(t.beginPath(),t.arc(l,u,Math.sqrt(c/Math.PI),0,Math.PI*2),o.draw(t,a))}break}case"rule":{const r=hc(e,"x",n.xDimension),i=hc(e,"y",n.yDimension);let s=pb(e,n.style);s.prepare(t);for(let o=0;o<n.data.length;o++){const[a,l]=r.at(o),[u,c]=i.at(o);isFinite(a)&&isFinite(l)&&isFinite(u)&&isFinite(c)&&(t.beginPath(),t.moveTo(a,u),t.lineTo(l,c),s.draw(t,o))}break}case"line":{let r=pb(e,n.style);r.prepare(t);for(let i of ck(n.data))t.beginPath(),aoe(e,i,n,t),r.draw(t,i[0]);break}case"area":{let r=pb(e,n.style);r.prepare(t);for(let i of ck(n.data))t.beginPath(),loe(e,i,n,t),r.draw(t,i[0]);break}}}function IGe(t,e,n,r,i){let s=t.getContext("2d");s&&(s.reset(),s.clearRect(0,0,t.width,t.height),s.scale(n,n),s.translate(e,e),$Ge(s,r,i))}var FGe=Yt("<foreignObject><canvas></canvas></foreignObject>");function Rj(t,e){He(e,!0);let n=Y(()=>e.proxy.plotWidth),r=Y(()=>e.proxy.plotHeight),i=24,s=2,o;Bs(()=>{IGe(o,i,s,{proxy:e.proxy,data:e.layer.data,theme:e.theme},e.layer)});var a=FGe();pe(a,"x",-i),pe(a,"y",-i);var l=K(a);let u;Gi(l,c=>o=c,()=>o),Z(a),Me(()=>{pe(a,"width",x(n)+i*2),pe(a,"height",x(r)+i*2),pe(l,"width",(x(n)+i*2)*s),pe(l,"height",(x(r)+i*2)*s),u=gt(l,"",u,{width:`${x(n)+i*2}px`,height:`${x(r)+i*2}px`})}),X(t,a),Ke()}var MGe=fe('<span class="flex gap-1 select-none"><span class="text-slate-400 dark:text-slate-500 text-sm"> </span> <!></span>');function LGe(t,e){He(e,!0);let n=dt(e,"value",15);const r=["linear","log","symlog"];var i=Bt(),s=Ye(i);{var o=a=>{var l=MGe(),u=K(l),c=K(u);Z(u);var f=se(u,2);{let h=Y(()=>r.map(d=>({value:d,label:d})));N3(f,{get options(){return x(h)},get value(){return n()},onChange:d=>n(d)})}Z(l),Me(()=>Mt(c,`${e.label??""}:`)),X(a,l)};ke(s,a=>{n()!=null&&n()!="band"&&a(o)})}X(t,i),Ke()}var NGe=fe('<span class="flex gap-1 select-none"><span class="text-slate-400 dark:text-slate-500 text-sm">Normalize:</span> <!></span>'),QGe=fe('<div class="flex flex-wrap gap-2 justify-end flex-wrap"></div>');function BGe(t,e){He(e,!0);var n=QGe();fn(n,21,()=>e.spec.widgets??[],ur,(r,i)=>{var s=Bt(),o=Ye(s);{var a=u=>{var c=()=>e.outputs.scale[x(i).channel].type??"linear",f=h=>{e.onSpecChange({scale:{[x(i).channel]:{type:h}}})};{let h=Y(()=>x(i).channel.toUpperCase());LGe(u,{get label(){return x(h)},get value(){return c()},set value(d){f(d)}})}},l=u=>{var c=Bt(),f=Ye(c);{var h=d=>{const m=Y(()=>typeof x(i).layer=="number"?[x(i).layer]:x(i).layer);var g=NGe(),b=se(K(g),2);{let v=Y(()=>[{value:null,label:"off"},...(x(i).options??["x","y"]).map(_=>({value:_,label:_.toUpperCase()}))]),O=Y(()=>e.spec.layers?.[x(m)[0]]?.encoding?.[x(i).attribute]?.normalize??null);N3(b,{get options(){return x(v)},get value(){return x(O)},onChange:_=>{let S=JSON.parse(JSON.stringify(e.spec));for(let k of x(m))if(S.layers?.[k]?.encoding?.[x(i).attribute]!=null){let A=S.layers?.[k]?.encoding?.[x(i).attribute];A.normalize=_??void 0}e.onSpecChange(S,"replace")}})}Z(g),X(d,g)};ke(f,d=>{x(i).type=="encoding.normalize"&&d(h)},!0)}X(u,c)};ke(o,u=>{x(i).type=="scale.type"?u(a):u(l,!1)})}X(r,s)}),Z(n),X(t,n),Ke()}async function zGe(t,e,n){let r=a=>t.query(a),s=(await r(at.describe(at.from(e).select({field:n})))).get(0)?.column_type;if(s==null)return;let o=SO(s);if(o=="number"){let a=Ar(n,"DOUBLE"),l=await r(at.from(e).select({count:ei(),min:Yg(a),minPositive:Yg(Rp(Vk(a,0),a,Ve(null))),max:FO(a),mean:K_(a),median:TP(a)}).where(fd(a))),u=await r(at.from(e).select({countNonFinite:ei()}).where(Ol(Hg(fd(a)),gc(a))));return{field:n,quantitative:{...l.get(0),...u.get(0)}}}else if(o=="string"){let a=Ar(n,"TEXT"),l=Array.from(await r(at.from(e).select({value:a,count:ei()}).where(g0(a)).groupby(a).orderby(fg(ei())).limit(1e3))),u=(await r(at.from(e).select({count:ei()}).where(gc(a)))).get(0).count,{otherCount:c,numOtherLevels:f}=(await r(at.from(e).select({otherCount:ei(),numOtherLevels:pt`COUNT(DISTINCT(${a}))`}).where(g0(a),Hg(y0(a,l.map(h=>Ve(h.value))))))).get(0);return{field:n,nominal:{levels:l,numOtherLevels:f,otherCount:c,nullCount:u}}}}function UGe({stats:t,scaleType:e,binCount:n}){if(t.quantitative){let r=Kse(t.quantitative,{scale:e,desiredCount:n??20}),i=Ar(t.field,"DOUBLE"),s=r.scale.expr(i,r.scale.constant??0),o=r.scale.type=="log"?Rp(Go(fd(i),Vk(i,Ve(0))),eS(Si(Ii(s,r.binStart),1/r.binSize)),Ve(null)):Rp(fd(i),eS(Si(Ii(s,r.binStart),1/r.binSize)),Ve(null)),a=m=>Math.floor((r.scale.forward(m,r.scale.constant??0)-r.binStart)/r.binSize),l=m=>r.scale.reverse(m*r.binSize+r.binStart,r.scale.constant??0),u=a(r.scale.type=="log"?t.quantitative.minPositive:t.quantitative.min),c=a(t.quantitative.max),f=[l(u),l(c+1)],h=t.quantitative.countNonFinite>0;r.scale.type=="log"&&t.quantitative.min<0&&(h=!0);let d=m=>{if(typeof m=="string"){if(m=="n/a")return Ol(Hg(fd(i)),gc(i))}else if(m instanceof Array)if(m.length==2&&typeof m[0]=="number"){let[g,b]=m;if(typeof g=="number"&&typeof b=="number")return If(i,[Math.min(g,b),Math.max(g,b)])}else return Ol(...m.map(d));return Ve(!1)};return{select:o,scale:{type:r.scale.type,constant:r.scale.constant,domain:f,specialValues:h?["n/a"]:[]},predicate:d,order:(m,g)=>{let b=typeof m=="string"?[1,0]:[0,m[0]],v=typeof g=="string"?[1,0]:[0,g[0]];return b[0]!=v[0]?b[0]-v[0]:b[1]-v[1]},field:m=>m==null?"n/a":[l(m),l(m+1)]}}if(t.nominal){n=n??15;let{levels:r,nullCount:i,otherCount:s,numOtherLevels:o}=t.nominal;r.length>n&&(o+=r.length-n,s=r.slice(n).reduce((m,g)=>m+g.count,0),r=r.slice(0,n));let a=`(${o.toLocaleString()} others)`,l="(null)",u=Ar(t.field,"TEXT"),c=Rp(y0(u,r.map(m=>Ve(m.value))),u,Rp(gc(u),Ve(l),Ve(a))),f=[...s>0?[a]:[],...i>0?[l]:[]],h=m=>m==l?gc(u):m==a?Go(Hg(y0(u,r.map(g=>Ve(g.value)))),g0(u)):RP(u,Ve(m)),d=r.map(m=>m.value);return{select:c,scale:{type:"band",domain:r.map(m=>m.value),specialValues:f},field:m=>m,predicate:m=>m instanceof Array?Ol(...m.map(g=>h(g))):h(m.toString()),order:(m,g)=>{if(typeof m=="string"&&typeof g=="string"){let b=d.indexOf(m);b<0&&(b=d.length+f.indexOf(m));let v=d.indexOf(g);return v<0&&(v=d.length+f.indexOf(g)),b-v}return 0}}}}class jGe{context;spec;source;cleanupFn;outputs;selections;state;constructor(e,n){this.context=e,this.spec=void 0,this.outputs=fo(void 0),this.state=fo(void 0),this.selections=fo(void 0),this.source={reset:()=>{n?.()}}}async setSpec(e){if(gv(e,this.spec))return;this.cleanup(),this.spec=e;let n=new qGe(this.context,this.spec);if(n.stats=await VGe(n),this.spec!==e)return;let r=XGe(n,this.outputs,this.selections),i,s=$O([this.selections,this.state],o=>o).subscribe(([o,a])=>{for(let l of o??[]){let u=a?.[l.key],c=l.clause(u);i&&i.selection===l&&gv(i.value,u)||(i={selection:l,value:u},c?this.context.filter.update({source:this.source,clients:new Set(r),...c}):this.context.filter.update({source:this.source,clients:new Set(r),value:null,predicate:null}))}});this.cleanupFn=()=>{this.source.reset(),this.state.set(void 0),s();for(let o of r)try{o.destroy()}catch{}}}cleanup(){this.cleanupFn?.(),this.cleanupFn=void 0,this.spec=void 0}destroy(){this.cleanup(),this.outputs.set(void 0),this.state.set(void 0),this.selections.set(void 0)}}class qGe{constructor(e,n,r={}){this.context=e,this.spec=n,this.stats=r}fieldExpr(e){let n={table:this.context.table,filter:"(true)"};return typeof e=="string"?we(e):pt`${Ij(e.sql,n)}`}fromExpr(e,n){let r={table:this.context.table,filter:n??"(true)"};return typeof e=="string"?new AP(e):pt`(${Ij(e.sql,r)})`}}function uoe(t,e){return JSON.stringify([t.toString(),e])}async function VGe(t){let e={};(t.spec.layers??[]).forEach(i=>{let s=t.fromExpr(i.from??t.context.table);Object.entries(i.encoding??{}).forEach(([o,a])=>{if("field"in a&&!("aggregate"in a)){let l=uoe(s,a.field);e[l]=t.context.cache.value("field-stats/"+l,()=>zGe(t.context.coordinator,s,t.fieldExpr(a.field)))}})});let n=Object.entries(e),r=await Promise.all(n.map(i=>i[1]));return Object.fromEntries(n.map(([i,s],o)=>[i,r[o]]))}function XGe(t,e,n){let r=[],i={},s=[];return(t.spec.layers??[]).forEach((a,l)=>{let{client:u,outputs:c,scaleHints:f}=ZGe(t,a,l);for(let h in f)i[h]?i[h]=hoe(i[h],f[h]):i[h]=f[h];u!=null&&r.push(u),s.push(c)}),$O(s,a=>a).subscribe(a=>{e.set(GGe(t.spec,i,a))}),n.set(HGe(t.spec,i)),r}function ZGe(t,e,n){let r={},i={},s={},o={},a=[],l={},u=t.fromExpr(e.from??t.context.table),c=!1;Object.entries(e.encoding??{}).forEach(([h,d])=>{("aggregate"in d||"field"in d&&d.bin!=null)&&(c=!0)}),Object.entries(e.encoding??{}).forEach(([h,d])=>{let m=foe(h),g=WGe(t,u,m,d,c);g!=null&&(g.select!=null&&(s[h]=g.select),g.normalize!=null&&(o[h]=g.normalize),g.grouping!=null&&(a=a.concat(g.grouping)),g.mapper!=null&&(i[h]=g.mapper),g.order!=null&&(l[h]=g.order),m!=null&&g.scale!=null&&(r[m]==null?r[m]=g.scale:r[m]=hoe(r[m],g.scale)))});let f=fo(void 0);if(Object.keys(s).length==0){let h={length:1,columns:{}};for(let m in i)h.columns[m]=[i[m](void 0)];return{outputs:fo(Bj(e,n,h,l)),scaleHints:r}}else{let h=e.filter=="$filter";typeof e.from=="object"&&e.from.sql.indexOf("$filter")>=0&&(h=!0);let d=LO({coordinator:t.context.coordinator,selection:h?t.context.filter:void 0,query:m=>{let g=at.from(t.fromExpr(e.from??t.context.table,YR(m))).select(s).where(e.filter=="$filter"?m:[]).groupby(...a);return Object.keys(o).length==0?g:at.from(g).select(Object.fromEntries(Object.entries(s).map(([b,v])=>[b,o[b]!=null?pt`${we(b)} / (SUM(${we(b)}) OVER (PARTITION BY ${we(o[b])}))`:b])))},queryResult:m=>{let g={length:m.numRows,columns:{}};for(let b of m.names)g.columns[b]=Array.from(m.getChild(b));for(let b in i)g.columns[b]?g.columns[b]=g.columns[b].map(i[b]):g.columns[b]=Array.from({length:g.length},()=>i[b](void 0));f.set(Bj(e,n,g,l))}});return{outputs:f,client:d,scaleHints:r}}}const $j={min:t=>Yg(t),max:t=>FO(t),mean:t=>K_(t),average:t=>K_(t),median:t=>TP(t),stdev:t=>H1e(t),stdevp:t=>K1e(t),variance:t=>J1e(t),variancep:t=>eye(t),sum:t=>di(t),product:t=>X1e(t),quantile:(t,{quantile:e})=>Z1e(t,e??.5)};function coe(t,e){if(typeof e=="string")return RP(t,Ve(e));if(e instanceof Array)if(e.length==2&&typeof e[0]=="number"&&typeof e[1]=="number"){let[n,r]=e;return If(t,[Math.min(n,r),Math.max(n,r)])}else return Ol(...e.map(n=>coe(t,n)));return Ve(!1)}function WGe(t,e,n,r,i){if("aggregate"in r)switch(r.aggregate){case"count":return{select:ei(),scale:{title:"Count",kind:"quantitative",includeZero:!0},normalize:r.normalize};case"ecdf-value":if(r.field!=null){let s=Fj(),o=Ar(t.fieldExpr(r.field),"DOUBLE");return{select:pt`unnest(quantile_disc(${o}, ${s}))`,scale:{kind:"quantitative",predicate:a=>Mj(o,a),title:Dx(r.field)},normalize:r.normalize}}else{console.warn(`Invalid spec: aggregate '${r.aggregate}' require a field`);return}case"ecdf-rank":{let s=Fj();return{select:pt`unnest(${s})`,scale:{kind:"quantitative",domain:[0,1],title:"Quantile"},normalize:r.normalize}}default:{if(typeof r.aggregate=="string"&&$j[r.aggregate]){let s=$j[r.aggregate];if(r.field!=null){let o=t.fieldExpr(r.field);return{select:s(o,{quantile:r.quantile}).where(fd(o)),scale:{kind:"quantitative",predicate:a=>Mj(o,a),title:`${r.aggregate.toUpperCase()}(${Dx(r.field)})`},normalize:r.normalize}}else{console.warn(`Invalid spec: aggregate '${r.aggregate}' require a field`);return}}if(typeof r.aggregate=="object"&&"sql"in r.aggregate)return{select:pt`${r.aggregate.sql}`,scale:{kind:"quantitative"},normalize:r.normalize};console.warn(`Invalid spec: unknown aggregate '${r.aggregate}'`);return}}else if("field"in r){let s=r.bin;s==null&&i&&n!=null&&(s={});let o=t.stats[uoe(e,r.field)];if(!o)return;if(s){let a=UGe({stats:o,scaleType:n?t.spec.scale?.[n]?.type:void 0,binCount:s.desiredCount??(n=="x"||n=="y"?20:5)});if(a==null){console.warn("Invalid spec: unsupported data type");return}return{select:a.select,grouping:[a.select],scale:n?{...a.scale,kind:a.scale.type=="band"?"nominal":"quantitative",predicate:a.predicate,title:Dx(r.field)}:void 0,mapper:a.field,order:a.order}}else{let a=t.fieldExpr(r.field);return{select:a,grouping:i?[a]:[],scale:{kind:o.quantitative?"quantitative":"nominal",title:Dx(r.field),predicate:l=>coe(a,l)}}}}else if("value"in r)return{mapper:()=>r.value,scale:typeof r.value=="string"?{kind:"nominal",domain:[r.value]}:typeof r.value=="number"?{kind:"quantitative",domain:[r.value]}:void 0}}function Ij(t,e){return t.replace(/\$([a-zA-Z][a-zA-Z0-9\_]*)/g,(n,r)=>e[r]!=null?e[r]:n)}function Dx(t){return typeof t=="string"?t:t.sql}function Fj(){let t=[],e=200;for(let n=0;n<=e;n++)t.push(n/e);return pt`[${t.map(n=>Ve(n)).join(",")}]::DOUBLE[]`}function Mj(t,e){if(e instanceof Array&&e.length==2&&typeof e[0]=="number"){let[n,r]=e;if(typeof n=="number"&&typeof r=="number")return If(t,[Math.min(n,r),Math.max(n,r)])}}function foe(t){switch(t){case"x":case"x1":case"x2":return"x";case"y":case"y1":case"y2":return"y";case"color":return"color";case"size":return"size"}}function hoe(t,e){let n=Array.from(new Set([t.title,e.title].filter(i=>i!=null&&i.trim()!=""))),r=n.length>0?n.join(", "):void 0;return{kind:e.kind,type:t.type??e.type,domain:(t.domain??[]).concat(e.domain??[]),specialValues:(t.specialValues??[]).concat(e.specialValues??[]),title:r,includeZero:t.includeZero===!0||e.includeZero===!0?!0:void 0,predicate:t.predicate??e.predicate}}function Lj(t){return rze(t,e=>typeof e=="number"&&isFinite(e)?e:void 0)}function YGe(t,e,n,r){switch(e.kind){case"quantitative":{let i=[e.domain??[],...n].map(l=>Lj(l.flat())).flat(),[s,o]=Lj(i);return(s==null||o==null||!isFinite(s)||!isFinite(o))&&(s=0,o=1),s==o&&(s>0?s=0:s<0?o=0:o=1),(r=="size"||e.includeZero===!0)&&(s>0?s=0:o<0&&(o=0)),{type:t.type??e.type??"linear",domain:t.domain??[s,o],specialValues:e.specialValues,constant:t.constant,range:t.range}}case"nominal":{let i=[e.domain??[],...n].map(a=>new Set(a.flat().filter(l=>typeof l=="string"))).flatMap(a=>Array.from(a)),s=new Set(e.specialValues??[]),o=Array.from(new Set(i)).filter(a=>!s.has(a));return{type:t.type??e.type??"band",domain:t.domain??o,specialValues:e.specialValues,range:t.range}}default:return{type:"linear",domain:[0,1]}}}function Nj(t,e,n,r){let i=h=>JSON.stringify(h),s=h=>JSON.parse(h),o=t.columns[e].slice(),a=t.columns[n].slice(),l=Object.entries(t.columns).filter(([h,d])=>h!=e&&h!=n).map(([h,d])=>[h,d.slice()]),u=new Set,c=new Set,f=new Set;for(let h=0;h<o.length;h++){let d=i(o[h]),m=i(l.map(([g,b])=>b[h]));u.add(d),c.add(m),f.add(d+","+m)}for(let h of u)for(let d of c)if(!f.has(h+","+d)){o.push(s(h)),a.push(r);let m=s(d);for(let g=0;g<l.length;g++)l[g][1].push(m[g])}return{length:o.length,columns:{[e]:o,[n]:a,...Object.fromEntries(l)}}}function Px(t,e,n){let r=e=="x"?"y":"x",i=new Map;for(let o=0;o<t.length;o++){let a=t.columns[e]!=null?JSON.stringify(t.columns[e][o]):"",l=i.get(a);l==null?i.set(a,[o]):l.push(o)}let s=t.columns[r].slice();for(let o of i.values()){o.sort((l,u)=>{for(let c in n){let f=t.columns[c];if(f==null)continue;let h=n[c](f[l],f[u]);if(h!=0)return h}return l-u});let a=0;for(let l of o){let u=s[l];if(typeof u!="number"||!isFinite(u)){s[l]=null;continue}let c=a+u;s[l]=[a,c],a=c}}return{length:t.length,columns:{...t.columns,[r]:s}}}function Qj(t){return t.encoding?.x!=null&&"aggregate"in t.encoding.x?"horizontal":"vertical"}function Bj(t,e,n,r){let i={key:e.toString(),zIndex:t.zIndex??0,interpolate:t.interpolate??"linear",orientation:t.orientation,xDimension:t.width,yDimension:t.height,data:n};switch(t.mark){case"bar":switch(t.orientation??Qj(t)){case"horizontal":i.data=Px(n,"y",r),i.yDimension=t.height??{gap:1,clampToRatio:.1},i.orientation="horizontal";break;case"vertical":i.data=Px(n,"x",r),i.xDimension=t.width??{gap:1,clampToRatio:.1},i.orientation="vertical";break;default:console.warn(`Invalid orientation: '${t.orientation}'`);return}return{...i,primitive:"rect",style:{fillColor:"$encoding",...t.style}};case"point":return{...i,pointSize:t.size,primitive:t.mark,style:{fillColor:"$encoding",...t.style}};case"rect":return{...i,primitive:t.mark,style:{fillColor:"$encoding",...t.style}};case"line":return{...i,primitive:t.mark,style:{strokeColor:"$encoding",strokeWidth:2,strokeJoin:"round",strokeCap:"round",...t.style}};case"area":switch(t.orientation??Qj(t)){case"horizontal":i.data=Px(Nj(n,"y","x",0),"y",r),i.orientation="horizontal";break;case"vertical":i.data=Px(Nj(n,"x","y",0),"x",r),i.orientation="vertical";break;default:console.warn(`Invalid orientation: '${t.orientation}'`);return}return{...i,primitive:"area",style:{fillColor:"$encoding",...t.style}};case"rule":return t.orientation=="vertical"?i.xDimension=0:t.orientation=="horizontal"&&(i.yDimension=0),{...i,primitive:t.mark,style:{strokeColor:"$encoding",strokeWidth:2,...t.style}};default:console.warn(`Invalid mark: '${t.mark}'`);return}}function GGe(t,e,n){let r={},i={};(t.layers??[]).forEach((s,o)=>{Object.entries(s.encoding??{}).forEach(([a,l])=>{if(n[o]==null)return;let u=foe(a);if(u!=null){let c=n[o].data.columns[a];c!=null&&(i[u]==null?i[u]=[c]:i[u].push(c))}})});for(let s of Object.keys(e))r[s]=YGe(t.scale?.[s]??{},e[s],i[s]??[],s);return{scale:r,axis:{x:{title:e.x?.title,...t.axis?.x??{}},y:{title:e.y?.title,...t.axis?.y??{}}},layers:n.filter(s=>s!=null)}}function HGe(t,e){let n=[];return Object.entries(t.selection??{}).forEach(([r,i])=>{if("encoding"in i){let s,o;(i.encoding=="x"||i.encoding=="xy")&&e.x?.predicate!=null&&(s=e.x.predicate),(i.encoding=="y"||i.encoding=="xy")&&e.y?.predicate!=null&&(o=e.y.predicate),n.push({key:r,type:i.encoding,clause:a=>{if(a==null)return;let l=Go(...[a?.x!=null&&s!=null?s(a.x):void 0,a?.y!=null&&o!=null?o(a.y):void 0].filter(u=>u!=null));return{value:a,predicate:l}}})}}),n}var KGe=fe('<div class="text-slate-400 mb-1 select-none truncate"> </div>'),JGe=fe("<!> <!>",1),eHe=fe('<div class="text-slate-400 mb-1 select-none text-right truncate"> </div>'),tHe=fe('<div class="flex-1"><div class="min-w-32 max-w-72"><!></div></div>'),nHe=fe('<div class="flex-none flex items-start gap-4 justify-end"><!> <!></div>'),rHe=fe('<div class="flex-1 flex flex-col"><!> <!> <!></div>  <!>',1);function iHe(t,e){He(e,!0);const n=()=>hi(u,"$colorScheme",o),r=()=>hi(c,"$themeConfig",o),i=()=>hi(d,"$outputs",o),s=()=>hi(m,"$selections",o),[o,a]=Il(),l=2e3;let{colorScheme:u,theme:c}=e.context,f=Y(()=>WR(n(),r())),h=new jGe(e.context,()=>{e.onStateChange({},"replace")}),{outputs:d,selections:m}=h;Tk(()=>{h.destroy()}),Vr(()=>{h.setSpec(e.spec)}),Vr(()=>{h.state.set(e.state)});let g=Y(()=>i()?.scale.color?iGe(i().scale.color,x(f)):void 0),b=Y(()=>i()?.scale.size?sGe(i().scale.size,x(f)):void 0),v=Y(()=>i()?.layers.sort((S,k)=>S.zIndex-k.zIndex)??[]),O=Y(()=>e.height!=null),_=160;A0(t,{get width(){return e.width},get height(){return e.height},class:"flex flex-col gap-2",children:(S,k)=>{const A=Y(()=>x(g)!=null),C=Y(()=>(e.spec.widgets?.length??0)>0);var T=rHe(),P=Ye(T),N=K(P);{var I=j=>{var ee=KGe(),W=K(ee);Z(ee),Me(()=>Mt(W,`â ${i()?.axis.y.title??""}`)),X(j,ee)};ke(N,j=>{i()?.axis.y.title!=null&&j(I)})}var $=se(N,2);Jse($,{get flexHeight(){return x(O)},children:(ee,W=yr,ue=yr)=>{var te=Bt(),ae=Ye(te);{var ie=_e=>{{const le=(Ue,Re=yr)=>{var lt=Bt(),it=Ye(lt);fn(it,17,()=>x(v).filter(Lt=>Lt.zIndex<0),Lt=>Lt.key,(Lt,ft)=>{var Ee=Bt(),nt=Ye(Ee);{var on=xn=>{Pj(xn,{get proxy(){return Re()},get theme(){return x(f)},get layer(){return x(ft)}})},an=xn=>{Rj(xn,{get proxy(){return Re()},get theme(){return x(f)},get layer(){return x(ft)}})};ke(nt,xn=>{x(ft).data.length<=l?xn(on):xn(an,!1)})}X(Lt,Ee)}),X(Ue,lt)},ce=(Ue,Re=yr)=>{var lt=JGe(),it=Ye(lt);fn(it,17,()=>x(v).filter(ft=>!(ft.zIndex<0)),ft=>ft.key,(ft,Ee)=>{var nt=Bt(),on=Ye(nt);{var an=or=>{Pj(or,{get proxy(){return Re()},get theme(){return x(f)},get layer(){return x(Ee)}})},xn=or=>{Rj(or,{get proxy(){return Re()},get theme(){return x(f)},get layer(){return x(Ee)}})};ke(on,or=>{x(Ee).data.length<=l?or(an):or(xn,!1)})}X(ft,nt)});var Lt=se(it,2);fn(Lt,1,()=>s()??[],ur,(ft,Ee)=>{wGe(ft,{get proxy(){return Re()},get mode(){return x(Ee).type},get value(){return e.state[x(Ee).key]},get theme(){return x(f)},onChange:nt=>{switch(x(Ee).type){case"x":e.onStateChange({[x(Ee).key]:nt?.x!=null?{x:nt.x}:void 0});break;case"y":e.onStateChange({[x(Ee).key]:nt?.y!=null?{y:nt.y}:void 0});break;case"xy":e.onStateChange({[x(Ee).key]:nt!=null&&nt.x!=null&&nt.y!=null?{x:nt.x,y:nt.y}:void 0});break}}})}),X(Ue,lt)};let Qe=Y(()=>x(O)?ue():void 0),We=Y(()=>e.spec.plotSize?.width??void 0),ve=Y(()=>e.spec.plotSize?.height??(e.spec.plotSize?.aspectRatio==null&&!x(O)?_:void 0)),Te=Y(()=>e.spec.plotSize?.aspectRatio),ze=Y(()=>({color:x(g),size:x(b)}));ioe(_e,{get width(){return W()},get height(){return x(Qe)},get plotWidth(){return x(We)},get plotHeight(){return x(ve)},get plotAspectRatio(){return x(Te)},get xScale(){return i().scale.x},get yScale(){return i().scale.y},get xAxis(){return i().axis.x},get yAxis(){return i().axis.y},get otherScales(){return x(ze)},get theme(){return x(f)},childrenBelow:le,children:ce,$$slots:{childrenBelow:!0,default:!0}})}};ke(ae,_e=>{i()!=null&&_e(ie)})}X(ee,te)},$$slots:{default:!0}});var R=se($,2);{var M=j=>{var ee=eHe(),W=K(ee);Z(ee),Me(()=>Mt(W,`${i()?.axis.x.title??""} â`)),X(j,ee)};ke(R,j=>{i()?.axis.x.title!=null&&j(M)})}Z(P);var B=se(P,2);{var U=j=>{var ee=nHe(),W=K(ee);{var ue=ie=>{var _e=tHe(),le=K(_e),ce=K(le);DGe(ce,{get scale(){return x(g)},get outputs(){return i()},get theme(){return x(f)}}),Z(le),Z(_e),X(ie,_e)};ke(W,ie=>{x(A)&&ie(ue)})}var te=se(W,2);{var ae=ie=>{BGe(ie,{get spec(){return e.spec},get outputs(){return i()},get onSpecChange(){return e.onSpecChange}})};ke(te,ie=>{x(C)&&ie(ae)})}Z(ee),X(j,ee)};ke(B,j=>{i()&&(x(A)||x(C))&&j(U)})}X(S,T)},$$slots:{default:!0}}),Ke(),a()}const Vs=2,cC=4,n$=8,wh=16,xh=32,em=64,fC=128,Ps=1024,oa=2048,_h=4096,za=8192,Kf=16384,r$=32768,I0=65536,zj=1<<17,doe=1<<18,gy=1<<19,sHe=1<<20,kl=256,fk=512,hk=32768,pD=1<<21,i$=1<<22,Od=1<<23,u0=Symbol("$state"),poe=Symbol("legacy props"),oHe=Symbol(""),sg=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},s$=3,yy=8,aHe=!1;var o$=Array.isArray,lHe=Array.prototype.indexOf,a$=Array.from,moe=Object.defineProperty,Ng=Object.getOwnPropertyDescriptor,goe=Object.getOwnPropertyDescriptors,yoe=Object.prototype,uHe=Array.prototype,hC=Object.getPrototypeOf,Uj=Object.isExtensible;function cHe(t){for(var e=0;e<t.length;e++)t[e]()}function boe(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function voe(t){return t===this.v}function Ooe(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function woe(t){return!Ooe(t,this.v)}function xoe(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function fHe(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function hHe(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function dHe(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function pHe(t){throw new Error("https://svelte.dev/e/effect_orphan")}function mHe(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function gHe(){throw new Error("https://svelte.dev/e/hydration_failed")}function yHe(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function bHe(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function vHe(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function OHe(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let O2=!1,wHe=!1;function xHe(){O2=!0}const l$=1,u$=2,_oe=4,_He=8,SHe=16,kHe=1,CHe=2,Soe="[",dC="[!",c$="]",$1={},Cs=Symbol(),AHe="http://www.w3.org/1999/xhtml",EHe=[];function koe(t,e=!1,n=!1){return P_(t,new Map,"",EHe,null,n)}function P_(t,e,n,r,i=null,s=!1){if(typeof t=="object"&&t!==null){var o=e.get(t);if(o!==void 0)return o;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(o$(t)){var a=Array(t.length);e.set(t,a),i!==null&&e.set(i,a);for(var l=0;l<t.length;l+=1){var u=t[l];l in t&&(a[l]=P_(u,e,n,r,null,s))}return a}if(hC(t)===yoe){a={},e.set(t,a),i!==null&&e.set(i,a);for(var c in t)a[c]=P_(t[c],e,n,r,null,s);return a}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!s)return P_(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let si=null;function I1(t){si=t}function Lo(t){return Coe().get(t)}function ul(t,e){return Coe().set(t,e),e}function pi(t,e=!1,n){si={p:si,i:!1,c:null,e:null,s:t,x:null,l:O2&&!e?{s:null,u:null,$:[]}:null}}function mi(t){var e=si,n=e.e;if(n!==null){e.e=null;for(var r of n)Goe(r)}return e.i=!0,si=e.p,{}}function by(){return!O2||si!==null&&si.l===null}function Coe(t){return si===null&&xoe(),si.c??=new Map(THe(si)||void 0)}function THe(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let Gp=[];function Aoe(){var t=Gp;Gp=[],cHe(t)}function tm(t){if(Gp.length===0&&!hv){var e=Gp;queueMicrotask(()=>{e===Gp&&Aoe()})}Gp.push(t)}function DHe(){for(;Gp.length>0;)Aoe()}function pC(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function PHe(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let kn=!1;function Bf(t){kn=t}let Un;function Jo(t){if(t===null)throw pC(),$1;return Un=t}function w2(){return Jo(Gc(Un))}function zn(t){if(kn){if(Gc(Un)!==null)throw pC(),$1;Un=t}}function RHe(t=1){if(kn){for(var e=t,n=Un;e--;)n=Gc(n);Un=n}}function dk(t=!0){for(var e=0,n=Un;;){if(n.nodeType===yy){var r=n.data;if(r===c$){if(e===0)return n;e-=1}else(r===Soe||r===dC)&&(e+=1)}var i=Gc(n);t&&n.remove(),n=i}}function Eoe(t){if(!t||t.nodeType!==yy)throw pC(),$1;return t.data}function Rs(t){if(typeof t!="object"||t===null||u0 in t)return t;const e=hC(t);if(e!==yoe&&e!==uHe)return t;var n=new Map,r=o$(t),i=tt(0),s=c0,o=a=>{if(c0===s)return a();var l=On,u=c0;Yo(null),Zj(s);var c=a();return Yo(l),Zj(u),c};return r&&n.set("length",tt(t.length)),new Proxy(t,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&yHe();var c=n.get(l);return c===void 0?c=o(()=>{var f=tt(u.value);return n.set(l,f),f}):Se(c,u.value,!0),!0},deleteProperty(a,l){var u=n.get(l);if(u===void 0){if(l in a){const c=o(()=>tt(Cs));n.set(l,c),dv(i)}}else Se(u,Cs),dv(i);return!0},get(a,l,u){if(l===u0)return t;var c=n.get(l),f=l in a;if(c===void 0&&(!f||Ng(a,l)?.writable)&&(c=o(()=>{var d=Rs(f?a[l]:Cs),m=tt(d);return m}),n.set(l,c)),c!==void 0){var h=z(c);return h===Cs?void 0:h}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=n.get(l);c&&(u.value=z(c))}else if(u===void 0){var f=n.get(l),h=f?.v;if(f!==void 0&&h!==Cs)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(a,l){if(l===u0)return!0;var u=n.get(l),c=u!==void 0&&u.v!==Cs||Reflect.has(a,l);if(u!==void 0||sn!==null&&(!c||Ng(a,l)?.writable)){u===void 0&&(u=o(()=>{var h=c?Rs(a[l]):Cs,d=tt(h);return d}),n.set(l,u));var f=z(u);if(f===Cs)return!1}return c},set(a,l,u,c){var f=n.get(l),h=l in a;if(r&&l==="length")for(var d=u;d<f.v;d+=1){var m=n.get(d+"");m!==void 0?Se(m,Cs):d in a&&(m=o(()=>tt(Cs)),n.set(d+"",m))}if(f===void 0)(!h||Ng(a,l)?.writable)&&(f=o(()=>tt(void 0)),Se(f,Rs(u)),n.set(l,f));else{h=f.v!==Cs;var g=o(()=>Rs(u));Se(f,g)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(c,u),!h){if(r&&typeof l=="string"){var v=n.get("length"),O=Number(l);Number.isInteger(O)&&O>=v.v&&Se(v,O+1)}dv(i)}return!0},ownKeys(a){z(i);var l=Reflect.ownKeys(a).filter(f=>{var h=n.get(f);return h===void 0||h.v!==Cs});for(var[u,c]of n)c.v!==Cs&&!(u in a)&&l.push(u);return l},setPrototypeOf(){bHe()}})}var mD,Toe,Doe,Poe;function gD(){if(mD===void 0){mD=window,Toe=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Doe=Ng(e,"firstChild").get,Poe=Ng(e,"nextSibling").get,Uj(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Uj(n)&&(n.__t=void 0)}}function Mc(t=""){return document.createTextNode(t)}function F0(t){return Doe.call(t)}function Gc(t){return Poe.call(t)}function Yn(t,e){if(!kn)return F0(t);var n=F0(Un);if(n===null)n=Un.appendChild(Mc());else if(e&&n.nodeType!==s$){var r=Mc();return n?.before(r),Jo(r),r}return Jo(n),n}function Fa(t,e=!1){if(!kn){var n=F0(t);return n instanceof Comment&&n.data===""?Gc(n):n}if(e&&Un?.nodeType!==s$){var r=Mc();return Un?.before(r),Jo(r),r}return Un}function yl(t,e=1,n=!1){let r=kn?Un:t;for(var i;e--;)i=r,r=Gc(r);if(!kn)return r;if(n&&r?.nodeType!==s$){var s=Mc();return r===null?i?.after(s):r.before(s),Jo(s),s}return Jo(r),r}function Roe(t){t.textContent=""}function $He(){return!1}function $oe(t){var e=sn;if(e===null)return On.f|=Od,t;if((e.f&r$)===0){if((e.f&fC)===0)throw t;e.b.error(t)}else F1(t,e)}function F1(t,e){for(;e!==null;){if((e.f&fC)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const Rx=new Set;let Vi=null,su=null,rc=[],mC=null,yD=!1,hv=!1;class dc{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;process(e){rc=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#s(r,n);this.is_fork||this.#u(),this.#r>0||this.is_fork?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(Vi=null,jj(n.render_effects),jj(n.effects),this.#l?.resolve()),su=null}#s(e,n){e.f^=Ps;for(var r=e.first;r!==null;){var i=r.f,s=(i&(xh|em))!==0,o=s&&(i&Ps)!==0,a=o||(i&za)!==0||this.skipped_effects.has(r);if((r.f&fC)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!a&&r.fn!==null){s?r.f^=Ps:(i&cC)!==0?n.effects.push(r):x2(r)&&((r.f&wh)!==0&&n.block_effects.push(r),AO(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(e){for(const n of e)((n.f&oa)!==0?this.#a:this.#i).push(n),Ns(n,Ps)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&Od)===0&&(this.current.set(e,e.v),su?.set(e,e.v))}activate(){Vi=this,this.apply()}deactivate(){Vi=null,su=null}flush(){if(this.activate(),rc.length>0){if(Ioe(),Vi!==null&&Vi!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#u(){if(this.#r===0){for(const e of this.#e)e();this.#e.clear()}this.#n===0&&this.#c()}#c(){if(Rx.size>1){this.previous.clear();var e=su,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of Rx){if(i===this){n=!1;continue}const s=[];for(const[a,l]of this.current){if(i.current.has(a))if(n&&l!==i.current.get(a))i.current.set(a,l);else continue;s.push(a)}if(s.length===0)continue;const o=[...i.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){const a=new Set,l=new Map;for(const u of s)Foe(u,o,a,l);if(rc.length>0){Vi=i,i.apply();for(const u of rc)i.#s(u,r);rc=[],i.deactivate()}}}Vi=null,su=e}this.committed=!0,Rx.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#a)Ns(e,oa),M0(e);for(const e of this.#i)Ns(e,_h),M0(e);this.#a=[],this.#i=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=boe()).promise}static ensure(){if(Vi===null){const e=Vi=new dc;Rx.add(Vi),hv||dc.enqueue(()=>{Vi===e&&e.flush()})}return Vi}static enqueue(e){tm(e)}apply(){}}function IHe(t){var e=hv;hv=!0;try{for(var n;;){if(DHe(),rc.length===0&&(Vi?.flush(),rc.length===0))return mC=null,n;Ioe()}}finally{hv=e}}function Ioe(){var t=Qg;yD=!0;try{var e=0;for(Vj(!0);rc.length>0;){var n=dc.ensure();if(e++>1e3){var r,i;FHe()}n.process(rc),wd.clear()}}finally{yD=!1,Vj(t),mC=null}}function FHe(){try{mHe()}catch(t){F1(t,mC)}}let _f=null;function jj(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(Kf|za))===0&&x2(r)&&(_f=new Set,AO(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Joe(r):r.fn=null),_f?.size>0)){wd.clear();for(const i of _f){if((i.f&(Kf|za))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)_f.has(o)&&(_f.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const l=s[a];(l.f&(Kf|za))===0&&AO(l)}}_f.clear()}}_f=null}}function Foe(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&Vs)!==0?Foe(i,e,n,r):(s&(i$|wh))!==0&&(s&oa)===0&&Moe(i,e,r)&&(Ns(i,oa),M0(i))}}function Moe(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&Vs)!==0&&Moe(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function M0(t){for(var e=mC=t;e.parent!==null;){e=e.parent;var n=e.f;if(yD&&e===sn&&(n&wh)!==0&&(n&doe)===0)return;if((n&(em|xh))!==0){if((n&Ps)===0)return;e.f^=Ps}}rc.push(e)}function MHe(t){let e=0,n=L0(0),r;return()=>{KHe()&&(z(n),d$(()=>(e===0&&(r=_2(()=>t(()=>dv(n)))),e+=1,()=>{tm(()=>{e-=1,e===0&&(r?.(),r=void 0,dv(n))})})))}}var LHe=I0|gy|fC;function NHe(t,e,n){new QHe(t,e,n)}class QHe{parent;#e=!1;#t;#n=kn?Un:null;#r;#l;#a;#i=null;#s=null;#o=null;#u=null;#c=null;#d=0;#f=0;#p=!1;#h=null;#y=MHe(()=>(this.#h=L0(this.#d),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#r=n,this.#l=r,this.parent=sn.b,this.#e=!!this.#r.pending,this.#a=k2(()=>{if(sn.b=this,kn){const s=this.#n;w2(),s.nodeType===yy&&s.data===dC?this.#v():this.#b()}else{var i=this.#O();try{this.#i=Yl(()=>r(i))}catch(s){this.error(s)}this.#f>0?this.#g():this.#e=!1}return()=>{this.#c?.remove()}},LHe),kn&&(this.#t=Un)}#b(){try{this.#i=Yl(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#v(){const e=this.#r.pending;e&&(this.#s=Yl(()=>e(this.#t)),dc.enqueue(()=>{var n=this.#O();this.#i=this.#m(()=>(dc.ensure(),Yl(()=>this.#l(n)))),this.#f>0?this.#g():(Bg(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#O(){var e=this.#t;return this.#e&&(this.#c=Mc(),this.#t.before(this.#c),e=this.#c),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(e){var n=sn,r=On,i=si;Lc(this.#a),Yo(this.#a),I1(this.#a.ctx);try{return e()}catch(s){return $oe(s),null}finally{Lc(n),Yo(r),I1(i)}}#g(){const e=this.#r.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),nae(this.#i,this.#u)),this.#s===null&&(this.#s=Yl(()=>e(this.#t)))}#w(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#s&&Bg(this.#s,()=>{this.#s=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#w(e),this.#d+=e,this.#h&&M1(this.#h,this.#d)}get_effect_pending(){return this.#y(),z(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#p||!n&&!r)throw e;this.#i&&(bo(this.#i),this.#i=null),this.#s&&(bo(this.#s),this.#s=null),this.#o&&(bo(this.#o),this.#o=null),kn&&(Jo(this.#n),RHe(),Jo(dk()));var i=!1,s=!1;const o=()=>{if(i){PHe();return}i=!0,s&&OHe(),dc.ensure(),this.#d=0,this.#o!==null&&Bg(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#m(()=>(this.#p=!1,Yl(()=>this.#l(this.#t)))),this.#f>0?this.#g():this.#e=!1};var a=On;try{Yo(null),s=!0,n?.(e,o),s=!1}catch(l){F1(l,this.#a&&this.#a.parent)}finally{Yo(a)}r&&tm(()=>{this.#o=this.#m(()=>{dc.ensure(),this.#p=!0;try{return Yl(()=>{r(this.#t,()=>e,()=>o)})}catch(l){return F1(l,this.#a.parent),null}finally{this.#p=!1}})})}}function BHe(t,e,n,r){const i=by()?gC:Loe;if(n.length===0&&t.length===0){r(e.map(i));return}var s=Vi,o=sn,a=zHe();function l(){Promise.all(n.map(u=>UHe(u))).then(u=>{a();try{r([...e.map(i),...u])}catch(c){(o.f&Kf)===0&&F1(c,o)}s?.deactivate(),pk()}).catch(u=>{F1(u,o)})}t.length>0?Promise.all(t).then(()=>{a();try{return l()}finally{s?.deactivate(),pk()}}):l()}function zHe(){var t=sn,e=On,n=si,r=Vi;return function(i=!0){Lc(t),Yo(e),I1(n),i&&r?.activate()}}function pk(){Lc(null),Yo(null),I1(null)}function gC(t){var e=Vs|oa,n=On!==null&&(On.f&Vs)!==0?On:null;return sn===null||n!==null&&(n.f&kl)!==0?e|=kl:sn.f|=gy,{ctx:si,deps:null,effects:null,equals:voe,f:e,fn:t,reactions:null,rv:0,v:Cs,wv:0,parent:n??sn,ac:null}}function UHe(t,e){let n=sn;n===null&&fHe();var r=n.b,i=void 0,s=L0(Cs),o=!On,a=new Map;return eKe(()=>{var l=boe();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===Vi&&u.committed&&u.deactivate(),pk()})}catch(h){l.reject(h),pk()}var u=Vi;if(o){var c=!r.is_pending();r.update_pending_count(1),u.increment(c),a.get(u)?.reject(sg),a.delete(u),a.set(u,l)}const f=(h,d=void 0)=>{if(u.activate(),d)d!==sg&&(s.f|=Od,M1(s,d));else{(s.f&Od)!==0&&(s.f^=Od),M1(s,h);for(const[m,g]of a){if(a.delete(m),m===u)break;g.reject(sg)}}o&&(r.update_pending_count(-1),u.decrement(c))};l.promise.then(f,h=>f(null,h||"unknown"))}),Yoe(()=>{for(const l of a.values())l.reject(sg)}),new Promise(l=>{function u(c){function f(){c===i?l(s):u(i)}c.then(f,f)}u(i)})}function De(t){const e=gC(t);return joe(e),e}function Loe(t){const e=gC(t);return e.equals=woe,e}function Noe(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)bo(e[n])}}function jHe(t){for(var e=t.parent;e!==null;){if((e.f&Vs)===0)return e;e=e.parent}return null}function f$(t){var e,n=sn;Lc(jHe(t));try{t.f&=~hk,Noe(t),e=Zoe(t)}finally{Lc(n)}return e}function Qoe(t){var e=f$(t);if(t.equals(e)||(t.v=e,t.wv=Voe()),!nm)if(su!==null)su.set(t,t.v);else{var n=(id||(t.f&kl)!==0)&&t.deps!==null?_h:Ps;Ns(t,n)}}let bD=new Set;const wd=new Map;let Boe=!1;function L0(t,e){var n={f:0,v:t,reactions:null,equals:voe,rv:0,wv:0};return n}function tt(t,e){const n=L0(t);return joe(n),n}function zoe(t,e=!1,n=!0){const r=L0(t);return e||(r.equals=woe),O2&&n&&si!==null&&si.l!==null&&(si.l.s??=[]).push(r),r}function Se(t,e,n=!1){On!==null&&(!ou||(On.f&zj)!==0)&&by()&&(On.f&(Vs|wh|i$|zj))!==0&&!Jf?.includes(t)&&vHe();let r=n?Rs(e):e;return M1(t,r)}function M1(t,e){if(!t.equals(e)){var n=t.v;nm?wd.set(t,e):wd.set(t,n),t.v=e;var r=dc.ensure();r.capture(t,n),(t.f&Vs)!==0&&((t.f&oa)!==0&&f$(t),Ns(t,(t.f&kl)===0?Ps:_h)),t.wv=Voe(),Uoe(t,oa),by()&&sn!==null&&(sn.f&Ps)!==0&&(sn.f&(xh|em))===0&&(ol===null?XHe([t]):ol.push(t)),!r.is_fork&&bD.size>0&&!Boe&&qHe()}return e}function qHe(){Boe=!1;const t=Array.from(bD);for(const e of t)(e.f&Ps)!==0&&Ns(e,_h),x2(e)&&AO(e);bD.clear()}function dv(t){Se(t,t.v+1)}function Uoe(t,e){var n=t.reactions;if(n!==null)for(var r=by(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;if(!(!r&&o===sn)){var l=(a&oa)===0;l&&Ns(o,e),(a&Vs)!==0?(a&hk)===0&&(o.f|=hk,Uoe(o,_h)):l&&((a&wh)!==0&&_f!==null&&_f.add(o),M0(o))}}}let qj=!1;function VHe(){qj||(qj=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function h$(t){var e=On,n=sn;Yo(null),Lc(null);try{return t()}finally{Yo(e),Lc(n)}}let Qg=!1;function Vj(t){Qg=t}let nm=!1;function Xj(t){nm=t}let On=null,ou=!1;function Yo(t){On=t}let sn=null;function Lc(t){sn=t}let Jf=null;function joe(t){On!==null&&(Jf===null?Jf=[t]:Jf.push(t))}let io=null,ka=0,ol=null;function XHe(t){ol=t}let qoe=1,CO=0,c0=CO;function Zj(t){c0=t}let id=!1;function Voe(){return++qoe}function x2(t){var e=t.f;if((e&oa)!==0)return!0;if((e&_h)!==0){var n=t.deps,r=(e&kl)!==0;if(e&Vs&&(t.f&=~hk),n!==null){var i,s,o=(e&fk)!==0,a=r&&sn!==null&&!id,l=n.length;if((o||a)&&(sn===null||(sn.f&Kf)===0)){var u=t,c=u.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);o&&(u.f^=fk),a&&c!==null&&(c.f&kl)===0&&(u.f^=kl)}for(i=0;i<l;i++)if(s=n[i],x2(s)&&Qoe(s),s.wv>t.wv)return!0}(!r||sn!==null&&!id)&&Ns(t,Ps)}return!1}function Xoe(t,e,n=!0){var r=t.reactions;if(r!==null&&!Jf?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&Vs)!==0?Xoe(s,e,!1):e===s&&(n?Ns(s,oa):(s.f&Ps)!==0&&Ns(s,_h),M0(s))}}function Zoe(t){var e=io,n=ka,r=ol,i=On,s=id,o=Jf,a=si,l=ou,u=c0,c=t.f;io=null,ka=0,ol=null,id=(c&kl)!==0&&(ou||!Qg||On===null),On=(c&(xh|em))===0?t:null,Jf=null,I1(t.ctx),ou=!1,c0=++CO,t.ac!==null&&(h$(()=>{t.ac.abort(sg)}),t.ac=null);try{t.f|=pD;var f=t.fn,h=f(),d=t.deps;if(io!==null){var m;if(mk(t,ka),d!==null&&ka>0)for(d.length=ka+io.length,m=0;m<io.length;m++)d[ka+m]=io[m];else t.deps=d=io;if(!id||(c&Vs)!==0&&t.reactions!==null)for(m=ka;m<d.length;m++)(d[m].reactions??=[]).push(t)}else d!==null&&ka<d.length&&(mk(t,ka),d.length=ka);if(by()&&ol!==null&&!ou&&d!==null&&(t.f&(Vs|_h|oa))===0)for(m=0;m<ol.length;m++)Xoe(ol[m],t);return i!==null&&i!==t&&(CO++,ol!==null&&(r===null?r=ol:r.push(...ol))),(t.f&Od)!==0&&(t.f^=Od),h}catch(g){return $oe(g)}finally{t.f^=pD,io=e,ka=n,ol=r,On=i,id=s,Jf=o,I1(a),ou=l,c0=u}}function ZHe(t,e){let n=e.reactions;if(n!==null){var r=lHe.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&Vs)!==0&&(io===null||!io.includes(e))&&(Ns(e,_h),(e.f&(kl|fk))===0&&(e.f^=fk),Noe(e),mk(e,0))}function mk(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)ZHe(t,n[r])}function AO(t){var e=t.f;if((e&Kf)===0){Ns(t,Ps);var n=sn,r=Qg;sn=t,Qg=!0;try{(e&wh)!==0?tKe(t):Koe(t),Hoe(t);var i=Zoe(t);t.teardown=typeof i=="function"?i:null,t.wv=qoe;var s;aHe&&wHe&&(t.f&oa)!==0&&t.deps}finally{Qg=r,sn=n}}}function z(t){var e=t.f,n=(e&Vs)!==0;if(On!==null&&!ou){var r=sn!==null&&(sn.f&Kf)!==0;if(!r&&!Jf?.includes(t)){var i=On.deps;if((On.f&pD)!==0)t.rv<CO&&(t.rv=CO,io===null&&i!==null&&i[ka]===t?ka++:io===null?io=[t]:(!id||!io.includes(t))&&io.push(t));else{(On.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[On]:s.includes(On)||s.push(On)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,a=o.parent;a!==null&&(a.f&kl)===0&&(o.f^=kl)}if(nm){if(wd.has(t))return wd.get(t);if(n){o=t;var l=o.v;return((o.f&Ps)===0&&o.reactions!==null||Woe(o))&&(l=f$(o)),wd.set(o,l),l}}else if(n){if(o=t,su?.has(o))return su.get(o);x2(o)&&Qoe(o)}if(su?.has(t))return su.get(t);if((t.f&Od)!==0)throw t.v;return t.v}function Woe(t){if(t.v===Cs)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(wd.has(e)||(e.f&Vs)!==0&&Woe(e))return!0;return!1}function _2(t){var e=ou;try{return ou=!0,t()}finally{ou=e}}const WHe=-7169;function Ns(t,e){t.f=t.f&WHe|e}function YHe(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(u0 in t)vD(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&u0 in n&&vD(n)}}}function vD(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{vD(t[r],e)}catch{}const n=hC(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=goe(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}function GHe(t){sn===null&&On===null&&pHe(),On!==null&&(On.f&kl)!==0&&sn===null&&dHe(),nm&&hHe()}function HHe(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Sh(t,e,n,r=!0){var i=sn;i!==null&&(i.f&za)!==0&&(t|=za);var s={ctx:si,deps:null,nodes_start:null,nodes_end:null,f:t|oa,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{AO(s),s.f|=r$}catch(l){throw bo(s),l}else e!==null&&M0(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&gy)===0&&(o=o.first,(t&wh)!==0&&(t&I0)!==0&&o!==null&&(o.f|=I0)),o!==null&&(o.parent=i,i!==null&&HHe(o,i),On!==null&&(On.f&Vs)!==0&&(t&em)===0)){var a=On;(a.effects??=[]).push(o)}}return s}function KHe(){return On!==null&&!ou}function Yoe(t){const e=Sh(n$,null,!1);return Ns(e,Ps),e.teardown=t,e}function Hr(t){GHe();var e=sn.f,n=!On&&(e&xh)!==0&&(e&r$)===0;if(n){var r=si;(r.e??=[]).push(t)}else return Goe(t)}function Goe(t){return Sh(cC|sHe,t,!1)}function JHe(t){dc.ensure();const e=Sh(em|gy,t,!0);return(n={})=>new Promise(r=>{n.outro?Bg(e,()=>{bo(e),r(void 0)}):(bo(e),r(void 0))})}function S2(t){return Sh(cC,t,!1)}function eKe(t){return Sh(i$|gy,t,!0)}function d$(t,e=0){return Sh(n$|e,t,!0)}function ki(t,e=[],n=[],r=[],i=!1){BHe(r,e,n,s=>{Sh(i?cC:n$,()=>t(...s.map(z)),!0)})}function k2(t,e=0){var n=Sh(wh|e,t,!0);return n}function Yl(t,e=!0){return Sh(xh|gy,t,!0,e)}function Hoe(t){var e=t.teardown;if(e!==null){const n=nm,r=On;Xj(!0),Yo(null);try{e.call(null)}finally{Xj(n),Yo(r)}}}function Koe(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&h$(()=>{i.abort(sg)});var r=n.next;(n.f&em)!==0?n.parent=null:bo(n,e),n=r}}function tKe(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&xh)===0&&bo(e),e=n}}function bo(t,e=!0){var n=!1;(e||(t.f&doe)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(nKe(t.nodes_start,t.nodes_end),n=!0),Koe(t,e&&!n),mk(t,0),Ns(t,Kf);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Hoe(t);var i=t.parent;i!==null&&i.first!==null&&Joe(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function nKe(t,e){for(;t!==null;){var n=t===e?null:Gc(t);t.remove(),t=n}}function Joe(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Bg(t,e,n=!0){var r=[];p$(t,r,!0),eae(r,()=>{n&&bo(t),e&&e()})}function eae(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function p$(t,e,n){if((t.f&za)===0){if(t.f^=za,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&I0)!==0||(r.f&xh)!==0&&(t.f&wh)!==0;p$(r,e,s?n:!1),r=i}}}function m$(t){tae(t,!0)}function tae(t,e){if((t.f&za)!==0){t.f^=za,(t.f&Ps)===0&&(Ns(t,oa),M0(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&I0)!==0||(n.f&xh)!==0;tae(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function nae(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Gc(n);e.append(n),n=i}}const rae=new Set,OD=new Set;function rKe(t){if(!kn)return;t.removeAttribute("onload"),t.removeAttribute("onerror");const e=t.__e;e!==void 0&&(t.__e=void 0,queueMicrotask(()=>{t.isConnected&&t.dispatchEvent(e)}))}function iKe(t,e,n,r={}){function i(s){if(r.capture||zb.call(e,s),!s.cancelBubble)return h$(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?tm(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function L1(t,e,n,r,i){var s={capture:r,passive:i},o=iKe(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Yoe(()=>{e.removeEventListener(t,o,s)})}function kh(t){for(var e=0;e<t.length;e++)rae.add(t[e]);for(var n of OD)n(t)}let Wj=null;function zb(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;Wj=t;var o=0,a=Wj===t&&t.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||t.target,s!==e){moe(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=On,f=sn;Yo(null),Lc(null);try{for(var h,d=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];g!=null&&(!s.disabled||t.target===s)&&g.call(s,t)}catch(b){h?d.push(b):h=b}if(t.cancelBubble||m===e||m===null)break;s=m}if(h){for(let b of d)queueMicrotask(()=>{throw b});throw h}}finally{t.__root=e,delete t.currentTarget,Yo(c),Lc(f)}}}function sKe(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function zg(t,e){var n=sn;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Ln(t,e){var n=(e&kHe)!==0,r=(e&CHe)!==0,i,s=!t.startsWith("<!>");return()=>{if(kn)return zg(Un,null),Un;i===void 0&&(i=sKe(s?t:"<!>"+t),n||(i=F0(i)));var o=r||Toe?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=F0(o),l=o.lastChild;zg(a,l)}else zg(o,o);return o}}function Ap(){if(kn)return zg(Un,null),Un;var t=document.createDocumentFragment(),e=document.createComment(""),n=Mc();return t.append(e,n),zg(e,n),t}function en(t,e){if(kn){sn.nodes_end=Un,w2();return}t!==null&&t.before(e)}const oKe=["touchstart","touchmove"];function aKe(t){return oKe.includes(t)}function Hc(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function iae(t,e){return sae(t,e)}function lKe(t,e){gD(),e.intro=e.intro??!1;const n=e.target,r=kn,i=Un;try{for(var s=F0(n);s&&(s.nodeType!==yy||s.data!==Soe);)s=Gc(s);if(!s)throw $1;Bf(!0),Jo(s);const o=sae(t,{...e,anchor:s});return Bf(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw o;return o!==$1&&console.warn("Failed to hydrate: ",o),e.recover===!1&&gHe(),gD(),Roe(n),Bf(!1),iae(t,e)}finally{Bf(r),Jo(i)}}const Dm=new Map;function sae(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){gD();var a=new Set,l=f=>{for(var h=0;h<f.length;h++){var d=f[h];if(!a.has(d)){a.add(d);var m=aKe(d);e.addEventListener(d,zb,{passive:m});var g=Dm.get(d);g===void 0?(document.addEventListener(d,zb,{passive:m}),Dm.set(d,1)):Dm.set(d,g+1)}}};l(a$(rae)),OD.add(l);var u=void 0,c=JHe(()=>{var f=n??e.appendChild(Mc());return NHe(f,{pending:()=>{}},h=>{if(s){pi({});var d=si;d.c=s}if(i&&(r.$$events=i),kn&&zg(h,null),u=t(h,r)||{},kn&&(sn.nodes_end=Un,Un===null||Un.nodeType!==yy||Un.data!==c$))throw pC(),$1;s&&mi()}),()=>{for(var h of a){e.removeEventListener(h,zb);var d=Dm.get(h);--d===0?(document.removeEventListener(h,zb),Dm.delete(h)):Dm.set(h,d)}OD.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return wD.set(u,c),u}let wD=new WeakMap;function uKe(t,e){const n=wD.get(t);return n?(wD.delete(t),n(e)):Promise.resolve()}function cKe(t){return new fKe(t)}class fKe{#e;#t;constructor(e){var n=new Map,r=(s,o)=>{var a=zoe(o,!1,!1);return n.set(s,a),a};const i=new Proxy({...e.props||{},$$events:{}},{get(s,o){return z(n.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===poe?!0:(z(n.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,a){return Se(n.get(o)??r(o,a),a),Reflect.set(s,o,a)}});this.#t=(e.hydrate?lKe:iae)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&IHe(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||moe(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{uKe(this.#t)}}$set(e){this.#t.$set(e)}$on(e,n){this.#e[e]=this.#e[e]||[];const r=(...i)=>n.call(this,...i);return this.#e[e].push(r),()=>{this.#e[e]=this.#e[e].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}const hKe="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(hKe);class g${anchor;#e=new Map;#t=new Map;#n=new Map;#r=!0;constructor(e,n=!0){this.anchor=e,this.#r=n}#l=()=>{var e=Vi;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)m$(r);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const a=this.#n.get(o);a&&(bo(a.effect),this.#n.delete(o))}for(const[s,o]of this.#t){if(s===n)continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var l=document.createDocumentFragment();nae(o,l),l.append(Mc()),this.#n.set(s,{effect:o,fragment:l})}else bo(o);this.#t.delete(s)};this.#r||!r?Bg(o,a,!1):a()}}};#a=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,i]of this.#n)n.includes(r)||(bo(i.effect),this.#n.delete(r))};ensure(e,n){var r=Vi,i=$He();n&&!this.#t.has(e)&&!this.#n.has(e)&&this.#t.set(e,Yl(()=>n(this.anchor))),this.#e.set(r,e),i||(kn&&(this.anchor=Un),this.#l())}}function y$(t,e,...n){var r=new g$(t);k2(()=>{const i=e()??null;r.ensure(i,i&&(s=>i(s,...n)))},I0)}function vy(t){si===null&&xoe(),O2&&si.l!==null?dKe(si).m.push(t):Hr(()=>{const e=_2(t);if(typeof e=="function")return e})}function dKe(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}function No(t,e,n=!1){kn&&w2();var r=new g$(t),i=n?I0:0;function s(o,a){if(kn){const u=Eoe(t)===dC;if(o===u){var l=dk();Jo(l),r.anchor=l,Bf(!1),r.ensure(o,a),Bf(!0);return}}r.ensure(o,a)}k2(()=>{var o=!1;e((a,l=!0)=>{o=!0,s(l,a)}),o||s(!1,null)},i)}function pKe(t,e,n){kn&&w2();var r=new g$(t),i=!by();k2(()=>{var s=e();i&&s!==null&&typeof s=="object"&&(s={}),r.ensure(s,n)})}function mKe(t,e){return e}function gKe(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)p$(e[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;Roe(l),l.append(n),r.clear(),Vu(t,e[0].prev,e[s-1].next)}eae(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(r.delete(c.k),Vu(t,c.prev,c.next)),bo(c.e,!a)}})}function pv(t,e,n,r,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&_oe)!==0;if(l){var u=t;o=kn?Jo(F0(u)):u.appendChild(Mc())}kn&&w2();var c=null,f=!1,h=new Map,d=Loe(()=>{var v=n();return o$(v)?v:v==null?[]:a$(v)}),m,g;function b(){yKe(g,m,a,h,o,i,e,r,n),s!==null&&(m.length===0?c?m$(c):c=Yl(()=>s(o)):c!==null&&Bg(c,()=>{c=null}))}k2(()=>{g??=sn,m=z(d);var v=m.length;if(f&&v===0)return;f=v===0;let O=!1;if(kn){var _=Eoe(o)===dC;_!==(v===0)&&(o=dk(),Jo(o),Bf(!1),O=!0)}if(kn){for(var S=null,k,A=0;A<v;A++){if(Un.nodeType===yy&&Un.data===c$){o=Un,O=!0,Bf(!1);break}var C=m[A],T=r(C,A);k=oae(Un,a,S,null,C,T,A,i,e,n),a.items.set(T,k),S=k}v>0&&Jo(dk())}kn?v===0&&s&&(c=Yl(()=>s(o))):b(),O&&Bf(!0),z(d)}),kn&&(o=Un)}function yKe(t,e,n,r,i,s,o,a,l){var u=(o&_He)!==0,c=(o&(l$|u$))!==0,f=e.length,h=n.items,d=n.first,m=d,g,b=null,v,O=[],_=[],S,k,A,C;if(u)for(C=0;C<f;C+=1)S=e[C],k=a(S,C),A=h.get(k),A!==void 0&&(A.a?.measure(),(v??=new Set).add(A));for(C=0;C<f;C+=1){if(S=e[C],k=a(S,C),A=h.get(k),A===void 0){var T=r.get(k);if(T!==void 0){r.delete(k),h.set(k,T);var P=b?b.next:m;Vu(n,b,T),Vu(n,T,P),q6(T,P,i),b=T}else{var N=m?m.e.nodes_start:i;b=oae(N,n,b,b===null?n.first:b.next,S,k,C,s,o,l)}h.set(k,b),O=[],_=[],m=b.next;continue}if(c&&bKe(A,S,C,o),(A.e.f&za)!==0&&(m$(A.e),u&&(A.a?.unfix(),(v??=new Set).delete(A))),A!==m){if(g!==void 0&&g.has(A)){if(O.length<_.length){var I=_[0],$;b=I.prev;var R=O[0],M=O[O.length-1];for($=0;$<O.length;$+=1)q6(O[$],I,i);for($=0;$<_.length;$+=1)g.delete(_[$]);Vu(n,R.prev,M.next),Vu(n,b,R),Vu(n,M,I),m=I,b=M,C-=1,O=[],_=[]}else g.delete(A),q6(A,m,i),Vu(n,A.prev,A.next),Vu(n,A,b===null?n.first:b.next),Vu(n,b,A),b=A;continue}for(O=[],_=[];m!==null&&m.k!==k;)(m.e.f&za)===0&&(g??=new Set).add(m),_.push(m),m=m.next;if(m===null)continue;A=m}O.push(A),b=A,m=A.next}if(m!==null||g!==void 0){for(var B=g===void 0?[]:a$(g);m!==null;)(m.e.f&za)===0&&B.push(m),m=m.next;var U=B.length;if(U>0){var j=(o&_oe)!==0&&f===0?i:null;if(u){for(C=0;C<U;C+=1)B[C].a?.measure();for(C=0;C<U;C+=1)B[C].a?.fix()}gKe(n,B,j)}}u&&tm(()=>{if(v!==void 0)for(A of v)A.a?.apply()}),t.first=n.first&&n.first.e,t.last=b&&b.e;for(var ee of r.values())bo(ee.e);r.clear()}function bKe(t,e,n,r){(r&l$)!==0&&M1(t.v,e),(r&u$)!==0?M1(t.i,n):t.i=n}function oae(t,e,n,r,i,s,o,a,l,u,c){var f=(l&l$)!==0,h=(l&SHe)===0,d=f?h?zoe(i,!1,!1):L0(i):i,m=(l&u$)===0?o:L0(o),g={i:m,v:d,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var b=document.createDocumentFragment();b.append(t=Mc())}return g.e=Yl(()=>a(t,d,m,u),kn),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?c||(e.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function q6(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=Gc(s);i.before(s),s=o}}function Vu(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function gi(t,e){S2(()=>{var n=t.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+e.hash)){const i=document.createElement("style");i.id=e.hash,i.textContent=e.code,r.appendChild(i)}})}function b$(t,e,n){S2(()=>{var r=_2(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,s={};d$(()=>{var o=n();YHe(o),i&&Ooe(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function vKe(t,e,n){var r=t==null?"":""+t;return e&&(r=r?r+" "+e:e),r===""?null:r}function Yj(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var s=t[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function OKe(t,e){if(e){var n="",r,i;return Array.isArray(e)?(r=e[0],i=e[1]):r=e,r&&(n+=Yj(r)),i&&(n+=Yj(i,!0)),n=n.trim(),n===""?null:n}return String(t)}function Vd(t,e,n,r,i,s){var o=t.__className;if(kn||o!==n||o===void 0){var a=vKe(n,r);(!kn||a!==t.getAttribute("class"))&&(a==null?t.removeAttribute("class"):t.className=a),t.__className=n}return s}function V6(t,e={},n,r){for(var i in n){var s=n[i];e[i]!==s&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,s,r))}}function aa(t,e,n,r){var i=t.__style;if(kn||i!==e){var s=OKe(e,r);(!kn||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}else r&&(Array.isArray(r)?(V6(t,n?.[0],r[0]),V6(t,n?.[1],r[1],"important")):V6(t,n,r));return r}const wKe=Symbol("is custom element"),xKe=Symbol("is html");function _Ke(t){if(kn){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;EO(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;EO(t,"checked",null),t.checked=i}}};t.__on_r=n,tm(n),VHe()}}function SKe(t,e){var n=aae(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function EO(t,e,n,r){var i=aae(t);kn&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[oHe]=n),n==null?t.removeAttribute(e):typeof n!="string"&&kKe(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function aae(t){return t.__attributes??={[wKe]:t.nodeName.includes("-"),[xKe]:t.namespaceURI===AHe}}var Gj=new Map;function kKe(t){var e=t.getAttribute("is")||t.nodeName,n=Gj.get(e);if(n)return n;Gj.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=goe(i);for(var o in r)r[o].set&&n.push(o);i=hC(i)}return n}class v${#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(e){this.#n=e}observe(e,n){var r=this.#e.get(e)||new Set;return r.add(n),this.#e.set(e,r),this.#r().observe(e,this.#n),()=>{var i=this.#e.get(e);i.delete(n),i.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var n of e){v$.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var CKe=new v$({box:"border-box"});function yu(t,e,n){var r=CKe.observe(t,()=>n(t[e]));S2(()=>(_2(()=>n(t[e])),r))}function Hj(t,e){return t===e||t?.[u0]===e}function vo(t={},e,n,r){return S2(()=>{var i,s;return d$(()=>{i=s,s=[],_2(()=>{t!==n(...s)&&(e(t,...s),i&&Hj(n(...i),t)&&e(null,...i))})}),()=>{tm(()=>{s&&Hj(n(...s),t)&&e(null,...s)})}}),t}let $x=!1;function AKe(t){var e=$x;try{return $x=!1,[t(),$x]}finally{$x=e}}function Oy(t,e,n,r){var i=r,s=!0,o=()=>(s&&(s=!1,i=r),i),a;{var l=u0 in t||poe in t;a=Ng(t,e)?.set??(l&&e in t?b=>t[e]=b:void 0)}var u,c=!1;[u,c]=AKe(()=>t[e]);var f;if(f=()=>{var b=t[e];return b===void 0?o():(s=!0,b)},a){var h=t.$$legacy;return(function(b,v){return arguments.length>0?((!v||h||c)&&a(v?f():b),b):f()})}var d=!1,m=gC(()=>(d=!1,f()));z(m);var g=sn;return(function(b,v){if(arguments.length>0){const O=v?z(m):Rs(b);return Se(m,O),d=!0,i!==void 0&&(i=O),b}return nm&&d||(g.f&Kf)!==0?m.v:z(m)})}var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R_={exports:{}},EKe=R_.exports,Kj;function TKe(){return Kj||(Kj=1,(function(t,e){(function(){var n,r="4.17.23",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,h=2,d=4,m=1,g=2,b=1,v=2,O=4,_=8,S=16,k=32,A=64,C=128,T=256,P=512,N=30,I="...",$=800,R=16,M=1,B=2,U=3,j=1/0,ee=9007199254740991,W=17976931348623157e292,ue=NaN,te=4294967295,ae=te-1,ie=te>>>1,_e=[["ary",C],["bind",b],["bindKey",v],["curry",_],["curryRight",S],["flip",P],["partial",k],["partialRight",A],["rearg",T]],le="[object Arguments]",ce="[object Array]",Qe="[object AsyncFunction]",We="[object Boolean]",ve="[object Date]",Te="[object DOMException]",ze="[object Error]",Ue="[object Function]",Re="[object GeneratorFunction]",lt="[object Map]",it="[object Number]",Lt="[object Null]",ft="[object Object]",Ee="[object Promise]",nt="[object Proxy]",on="[object RegExp]",an="[object Set]",xn="[object String]",or="[object Symbol]",Li="[object Undefined]",dn="[object WeakMap]",yi="[object WeakSet]",Cn="[object ArrayBuffer]",Nr="[object DataView]",Au="[object Float32Array]",Eu="[object Float64Array]",Xa="[object Int8Array]",Za="[object Int16Array]",_o="[object Int32Array]",ca="[object Uint8Array]",Ni="[object Uint8ClampedArray]",Zs="[object Uint16Array]",Nl="[object Uint32Array]",ar=/\b__p \+= '';/g,ai=/\b(__p \+=) '' \+/g,Qr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wr=/&(?:amp|lt|gt|quot|#39);/g,Qi=/[&<>"']/g,li=RegExp(wr.source),Bi=RegExp(Qi.source),Wr=/<%-([\s\S]+?)%>/g,ln=/<%([\s\S]+?)%>/g,Nn=/<%=([\s\S]+?)%>/g,Tu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ti=/^\w*$/,Br=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zr=/[\\^$.*+?()[\]{}|]/g,Ji=RegExp(zr.source),fa=/^\s+/,ui=/\s/,Ur=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,So=/\{\n\/\* \[wrapped with (.+)\] \*/,Ch=/,? & /,Kc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ah=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,Pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ze=/\w*$/,rt=/^[-+]0x[0-9a-f]+$/i,st=/^0b[01]+$/i,Et=/^\[object .+?Constructor\]$/,Ie=/^0o[0-7]+$/i,H=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ne=/($^)/,pn=/['\n\r\u2028\u2029\\]/g,mn="\\ud800-\\udfff",nn="\\u0300-\\u036f",Dr="\\ufe20-\\ufe2f",Ws="\\u20d0-\\u20ff",ha=nn+Dr+Ws,zi="\\u2700-\\u27bf",lr="a-z\\xdf-\\xf6\\xf8-\\xff",im="\\xac\\xb1\\xd7\\xf7",C2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tae="\\u2000-\\u206f",Dae=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",x$="A-Z\\xc0-\\xd6\\xd8-\\xde",_$="\\ufe0e\\ufe0f",S$=im+C2+Tae+Dae,OC="['â]",Pae="["+mn+"]",k$="["+S$+"]",A2="["+ha+"]",C$="\\d+",Rae="["+zi+"]",A$="["+lr+"]",E$="[^"+mn+S$+C$+zi+lr+x$+"]",wC="\\ud83c[\\udffb-\\udfff]",$ae="(?:"+A2+"|"+wC+")",T$="[^"+mn+"]",xC="(?:\\ud83c[\\udde6-\\uddff]){2}",_C="[\\ud800-\\udbff][\\udc00-\\udfff]",sm="["+x$+"]",D$="\\u200d",P$="(?:"+A$+"|"+E$+")",Iae="(?:"+sm+"|"+E$+")",R$="(?:"+OC+"(?:d|ll|m|re|s|t|ve))?",$$="(?:"+OC+"(?:D|LL|M|RE|S|T|VE))?",I$=$ae+"?",F$="["+_$+"]?",Fae="(?:"+D$+"(?:"+[T$,xC,_C].join("|")+")"+F$+I$+")*",Mae="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lae="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",M$=F$+I$+Fae,Nae="(?:"+[Rae,xC,_C].join("|")+")"+M$,Qae="(?:"+[T$+A2+"?",A2,xC,_C,Pae].join("|")+")",Bae=RegExp(OC,"g"),zae=RegExp(A2,"g"),SC=RegExp(wC+"(?="+wC+")|"+Qae+M$,"g"),Uae=RegExp([sm+"?"+A$+"+"+R$+"(?="+[k$,sm,"$"].join("|")+")",Iae+"+"+$$+"(?="+[k$,sm+P$,"$"].join("|")+")",sm+"?"+P$+"+"+R$,sm+"+"+$$,Lae,Mae,C$,Nae].join("|"),"g"),jae=RegExp("["+D$+mn+ha+_$+"]"),qae=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xae=-1,Pr={};Pr[Au]=Pr[Eu]=Pr[Xa]=Pr[Za]=Pr[_o]=Pr[ca]=Pr[Ni]=Pr[Zs]=Pr[Nl]=!0,Pr[le]=Pr[ce]=Pr[Cn]=Pr[We]=Pr[Nr]=Pr[ve]=Pr[ze]=Pr[Ue]=Pr[lt]=Pr[it]=Pr[ft]=Pr[on]=Pr[an]=Pr[xn]=Pr[dn]=!1;var xr={};xr[le]=xr[ce]=xr[Cn]=xr[Nr]=xr[We]=xr[ve]=xr[Au]=xr[Eu]=xr[Xa]=xr[Za]=xr[_o]=xr[lt]=xr[it]=xr[ft]=xr[on]=xr[an]=xr[xn]=xr[or]=xr[ca]=xr[Ni]=xr[Zs]=xr[Nl]=!0,xr[ze]=xr[Ue]=xr[dn]=!1;var Zae={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},Wae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yae={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hae=parseFloat,Kae=parseInt,L$=typeof sd=="object"&&sd&&sd.Object===Object&&sd,Jae=typeof self=="object"&&self&&self.Object===Object&&self,fs=L$||Jae||Function("return this")(),kC=e&&!e.nodeType&&e,ep=kC&&!0&&t&&!t.nodeType&&t,N$=ep&&ep.exports===kC,CC=N$&&L$.process,Wa=(function(){try{var ne=ep&&ep.require&&ep.require("util").types;return ne||CC&&CC.binding&&CC.binding("util")}catch{}})(),Q$=Wa&&Wa.isArrayBuffer,B$=Wa&&Wa.isDate,z$=Wa&&Wa.isMap,U$=Wa&&Wa.isRegExp,j$=Wa&&Wa.isSet,q$=Wa&&Wa.isTypedArray;function da(ne,ge,he){switch(he.length){case 0:return ne.call(ge);case 1:return ne.call(ge,he[0]);case 2:return ne.call(ge,he[0],he[1]);case 3:return ne.call(ge,he[0],he[1],he[2])}return ne.apply(ge,he)}function ele(ne,ge,he,Je){for(var Nt=-1,Qn=ne==null?0:ne.length;++Nt<Qn;){var Ui=ne[Nt];ge(Je,Ui,he(Ui),ne)}return Je}function Ya(ne,ge){for(var he=-1,Je=ne==null?0:ne.length;++he<Je&&ge(ne[he],he,ne)!==!1;);return ne}function tle(ne,ge){for(var he=ne==null?0:ne.length;he--&&ge(ne[he],he,ne)!==!1;);return ne}function V$(ne,ge){for(var he=-1,Je=ne==null?0:ne.length;++he<Je;)if(!ge(ne[he],he,ne))return!1;return!0}function Eh(ne,ge){for(var he=-1,Je=ne==null?0:ne.length,Nt=0,Qn=[];++he<Je;){var Ui=ne[he];ge(Ui,he,ne)&&(Qn[Nt++]=Ui)}return Qn}function E2(ne,ge){var he=ne==null?0:ne.length;return!!he&&om(ne,ge,0)>-1}function AC(ne,ge,he){for(var Je=-1,Nt=ne==null?0:ne.length;++Je<Nt;)if(he(ge,ne[Je]))return!0;return!1}function jr(ne,ge){for(var he=-1,Je=ne==null?0:ne.length,Nt=Array(Je);++he<Je;)Nt[he]=ge(ne[he],he,ne);return Nt}function Th(ne,ge){for(var he=-1,Je=ge.length,Nt=ne.length;++he<Je;)ne[Nt+he]=ge[he];return ne}function EC(ne,ge,he,Je){var Nt=-1,Qn=ne==null?0:ne.length;for(Je&&Qn&&(he=ne[++Nt]);++Nt<Qn;)he=ge(he,ne[Nt],Nt,ne);return he}function nle(ne,ge,he,Je){var Nt=ne==null?0:ne.length;for(Je&&Nt&&(he=ne[--Nt]);Nt--;)he=ge(he,ne[Nt],Nt,ne);return he}function TC(ne,ge){for(var he=-1,Je=ne==null?0:ne.length;++he<Je;)if(ge(ne[he],he,ne))return!0;return!1}var rle=DC("length");function ile(ne){return ne.split("")}function sle(ne){return ne.match(Kc)||[]}function X$(ne,ge,he){var Je;return he(ne,function(Nt,Qn,Ui){if(ge(Nt,Qn,Ui))return Je=Qn,!1}),Je}function T2(ne,ge,he,Je){for(var Nt=ne.length,Qn=he+(Je?1:-1);Je?Qn--:++Qn<Nt;)if(ge(ne[Qn],Qn,ne))return Qn;return-1}function om(ne,ge,he){return ge===ge?yle(ne,ge,he):T2(ne,Z$,he)}function ole(ne,ge,he,Je){for(var Nt=he-1,Qn=ne.length;++Nt<Qn;)if(Je(ne[Nt],ge))return Nt;return-1}function Z$(ne){return ne!==ne}function W$(ne,ge){var he=ne==null?0:ne.length;return he?RC(ne,ge)/he:ue}function DC(ne){return function(ge){return ge==null?n:ge[ne]}}function PC(ne){return function(ge){return ne==null?n:ne[ge]}}function Y$(ne,ge,he,Je,Nt){return Nt(ne,function(Qn,Ui,dr){he=Je?(Je=!1,Qn):ge(he,Qn,Ui,dr)}),he}function ale(ne,ge){var he=ne.length;for(ne.sort(ge);he--;)ne[he]=ne[he].value;return ne}function RC(ne,ge){for(var he,Je=-1,Nt=ne.length;++Je<Nt;){var Qn=ge(ne[Je]);Qn!==n&&(he=he===n?Qn:he+Qn)}return he}function $C(ne,ge){for(var he=-1,Je=Array(ne);++he<ne;)Je[he]=ge(he);return Je}function lle(ne,ge){return jr(ge,function(he){return[he,ne[he]]})}function G$(ne){return ne&&ne.slice(0,eI(ne)+1).replace(fa,"")}function pa(ne){return function(ge){return ne(ge)}}function IC(ne,ge){return jr(ge,function(he){return ne[he]})}function wy(ne,ge){return ne.has(ge)}function H$(ne,ge){for(var he=-1,Je=ne.length;++he<Je&&om(ge,ne[he],0)>-1;);return he}function K$(ne,ge){for(var he=ne.length;he--&&om(ge,ne[he],0)>-1;);return he}function ule(ne,ge){for(var he=ne.length,Je=0;he--;)ne[he]===ge&&++Je;return Je}var cle=PC(Zae),fle=PC(Wae);function hle(ne){return"\\"+Gae[ne]}function dle(ne,ge){return ne==null?n:ne[ge]}function am(ne){return jae.test(ne)}function ple(ne){return qae.test(ne)}function mle(ne){for(var ge,he=[];!(ge=ne.next()).done;)he.push(ge.value);return he}function FC(ne){var ge=-1,he=Array(ne.size);return ne.forEach(function(Je,Nt){he[++ge]=[Nt,Je]}),he}function J$(ne,ge){return function(he){return ne(ge(he))}}function Dh(ne,ge){for(var he=-1,Je=ne.length,Nt=0,Qn=[];++he<Je;){var Ui=ne[he];(Ui===ge||Ui===c)&&(ne[he]=c,Qn[Nt++]=he)}return Qn}function D2(ne){var ge=-1,he=Array(ne.size);return ne.forEach(function(Je){he[++ge]=Je}),he}function gle(ne){var ge=-1,he=Array(ne.size);return ne.forEach(function(Je){he[++ge]=[Je,Je]}),he}function yle(ne,ge,he){for(var Je=he-1,Nt=ne.length;++Je<Nt;)if(ne[Je]===ge)return Je;return-1}function ble(ne,ge,he){for(var Je=he+1;Je--;)if(ne[Je]===ge)return Je;return Je}function lm(ne){return am(ne)?Ole(ne):rle(ne)}function Ql(ne){return am(ne)?wle(ne):ile(ne)}function eI(ne){for(var ge=ne.length;ge--&&ui.test(ne.charAt(ge)););return ge}var vle=PC(Yae);function Ole(ne){for(var ge=SC.lastIndex=0;SC.test(ne);)++ge;return ge}function wle(ne){return ne.match(SC)||[]}function xle(ne){return ne.match(Uae)||[]}var _le=(function ne(ge){ge=ge==null?fs:um.defaults(fs.Object(),ge,um.pick(fs,Vae));var he=ge.Array,Je=ge.Date,Nt=ge.Error,Qn=ge.Function,Ui=ge.Math,dr=ge.Object,MC=ge.RegExp,Sle=ge.String,Ga=ge.TypeError,P2=he.prototype,kle=Qn.prototype,cm=dr.prototype,R2=ge["__core-js_shared__"],$2=kle.toString,Vn=cm.hasOwnProperty,Cle=0,tI=(function(){var p=/[^.]+$/.exec(R2&&R2.keys&&R2.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""})(),I2=cm.toString,Ale=$2.call(dr),Ele=fs._,Tle=MC("^"+$2.call(Vn).replace(zr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F2=N$?ge.Buffer:n,Ph=ge.Symbol,M2=ge.Uint8Array,nI=F2?F2.allocUnsafe:n,L2=J$(dr.getPrototypeOf,dr),rI=dr.create,iI=cm.propertyIsEnumerable,N2=P2.splice,sI=Ph?Ph.isConcatSpreadable:n,xy=Ph?Ph.iterator:n,tp=Ph?Ph.toStringTag:n,Q2=(function(){try{var p=op(dr,"defineProperty");return p({},"",{}),p}catch{}})(),Dle=ge.clearTimeout!==fs.clearTimeout&&ge.clearTimeout,Ple=Je&&Je.now!==fs.Date.now&&Je.now,Rle=ge.setTimeout!==fs.setTimeout&&ge.setTimeout,B2=Ui.ceil,z2=Ui.floor,LC=dr.getOwnPropertySymbols,$le=F2?F2.isBuffer:n,oI=ge.isFinite,Ile=P2.join,Fle=J$(dr.keys,dr),ji=Ui.max,xs=Ui.min,Mle=Je.now,Lle=ge.parseInt,aI=Ui.random,Nle=P2.reverse,NC=op(ge,"DataView"),_y=op(ge,"Map"),QC=op(ge,"Promise"),fm=op(ge,"Set"),Sy=op(ge,"WeakMap"),ky=op(dr,"create"),U2=Sy&&new Sy,hm={},Qle=ap(NC),Ble=ap(_y),zle=ap(QC),Ule=ap(fm),jle=ap(Sy),j2=Ph?Ph.prototype:n,Cy=j2?j2.valueOf:n,lI=j2?j2.toString:n;function F(p){if(ci(p)&&!zt(p)&&!(p instanceof gn)){if(p instanceof Ha)return p;if(Vn.call(p,"__wrapped__"))return uF(p)}return new Ha(p)}var dm=(function(){function p(){}return function(y){if(!Yr(y))return{};if(rI)return rI(y);p.prototype=y;var w=new p;return p.prototype=n,w}})();function q2(){}function Ha(p,y){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=n}F.templateSettings={escape:Wr,evaluate:ln,interpolate:Nn,variable:"",imports:{_:F}},F.prototype=q2.prototype,F.prototype.constructor=F,Ha.prototype=dm(q2.prototype),Ha.prototype.constructor=Ha;function gn(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function qle(){var p=new gn(this.__wrapped__);return p.__actions__=ko(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=ko(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=ko(this.__views__),p}function Vle(){if(this.__filtered__){var p=new gn(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function Xle(){var p=this.__wrapped__.value(),y=this.__dir__,w=zt(p),E=y<0,D=w?p.length:0,L=ice(0,D,this.__views__),q=L.start,J=L.end,re=J-q,be=E?J:q-1,Oe=this.__iteratees__,Ae=Oe.length,je=0,ot=xs(re,this.__takeCount__);if(!w||!E&&D==re&&ot==re)return RI(p,this.__actions__);var xt=[];e:for(;re--&&je<ot;){be+=y;for(var Gt=-1,_t=p[be];++Gt<Ae;){var un=Oe[Gt],_n=un.iteratee,ya=un.type,Hs=_n(_t);if(ya==B)_t=Hs;else if(!Hs){if(ya==M)continue e;break e}}xt[je++]=_t}return xt}gn.prototype=dm(q2.prototype),gn.prototype.constructor=gn;function np(p){var y=-1,w=p==null?0:p.length;for(this.clear();++y<w;){var E=p[y];this.set(E[0],E[1])}}function Zle(){this.__data__=ky?ky(null):{},this.size=0}function Wle(p){var y=this.has(p)&&delete this.__data__[p];return this.size-=y?1:0,y}function Yle(p){var y=this.__data__;if(ky){var w=y[p];return w===l?n:w}return Vn.call(y,p)?y[p]:n}function Gle(p){var y=this.__data__;return ky?y[p]!==n:Vn.call(y,p)}function Hle(p,y){var w=this.__data__;return this.size+=this.has(p)?0:1,w[p]=ky&&y===n?l:y,this}np.prototype.clear=Zle,np.prototype.delete=Wle,np.prototype.get=Yle,np.prototype.has=Gle,np.prototype.set=Hle;function Jc(p){var y=-1,w=p==null?0:p.length;for(this.clear();++y<w;){var E=p[y];this.set(E[0],E[1])}}function Kle(){this.__data__=[],this.size=0}function Jle(p){var y=this.__data__,w=V2(y,p);if(w<0)return!1;var E=y.length-1;return w==E?y.pop():N2.call(y,w,1),--this.size,!0}function eue(p){var y=this.__data__,w=V2(y,p);return w<0?n:y[w][1]}function tue(p){return V2(this.__data__,p)>-1}function nue(p,y){var w=this.__data__,E=V2(w,p);return E<0?(++this.size,w.push([p,y])):w[E][1]=y,this}Jc.prototype.clear=Kle,Jc.prototype.delete=Jle,Jc.prototype.get=eue,Jc.prototype.has=tue,Jc.prototype.set=nue;function ef(p){var y=-1,w=p==null?0:p.length;for(this.clear();++y<w;){var E=p[y];this.set(E[0],E[1])}}function rue(){this.size=0,this.__data__={hash:new np,map:new(_y||Jc),string:new np}}function iue(p){var y=rw(this,p).delete(p);return this.size-=y?1:0,y}function sue(p){return rw(this,p).get(p)}function oue(p){return rw(this,p).has(p)}function aue(p,y){var w=rw(this,p),E=w.size;return w.set(p,y),this.size+=w.size==E?0:1,this}ef.prototype.clear=rue,ef.prototype.delete=iue,ef.prototype.get=sue,ef.prototype.has=oue,ef.prototype.set=aue;function rp(p){var y=-1,w=p==null?0:p.length;for(this.__data__=new ef;++y<w;)this.add(p[y])}function lue(p){return this.__data__.set(p,l),this}function uue(p){return this.__data__.has(p)}rp.prototype.add=rp.prototype.push=lue,rp.prototype.has=uue;function Bl(p){var y=this.__data__=new Jc(p);this.size=y.size}function cue(){this.__data__=new Jc,this.size=0}function fue(p){var y=this.__data__,w=y.delete(p);return this.size=y.size,w}function hue(p){return this.__data__.get(p)}function due(p){return this.__data__.has(p)}function pue(p,y){var w=this.__data__;if(w instanceof Jc){var E=w.__data__;if(!_y||E.length<i-1)return E.push([p,y]),this.size=++w.size,this;w=this.__data__=new ef(E)}return w.set(p,y),this.size=w.size,this}Bl.prototype.clear=cue,Bl.prototype.delete=fue,Bl.prototype.get=hue,Bl.prototype.has=due,Bl.prototype.set=pue;function uI(p,y){var w=zt(p),E=!w&&lp(p),D=!w&&!E&&Mh(p),L=!w&&!E&&!D&&ym(p),q=w||E||D||L,J=q?$C(p.length,Sle):[],re=J.length;for(var be in p)(y||Vn.call(p,be))&&!(q&&(be=="length"||D&&(be=="offset"||be=="parent")||L&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||sf(be,re)))&&J.push(be);return J}function cI(p){var y=p.length;return y?p[GC(0,y-1)]:n}function mue(p,y){return iw(ko(p),ip(y,0,p.length))}function gue(p){return iw(ko(p))}function BC(p,y,w){(w!==n&&!zl(p[y],w)||w===n&&!(y in p))&&tf(p,y,w)}function Ay(p,y,w){var E=p[y];(!(Vn.call(p,y)&&zl(E,w))||w===n&&!(y in p))&&tf(p,y,w)}function V2(p,y){for(var w=p.length;w--;)if(zl(p[w][0],y))return w;return-1}function yue(p,y,w,E){return Rh(p,function(D,L,q){y(E,D,w(D),q)}),E}function fI(p,y){return p&&Pu(y,es(y),p)}function bue(p,y){return p&&Pu(y,Ao(y),p)}function tf(p,y,w){y=="__proto__"&&Q2?Q2(p,y,{configurable:!0,enumerable:!0,value:w,writable:!0}):p[y]=w}function zC(p,y){for(var w=-1,E=y.length,D=he(E),L=p==null;++w<E;)D[w]=L?n:w5(p,y[w]);return D}function ip(p,y,w){return p===p&&(w!==n&&(p=p<=w?p:w),y!==n&&(p=p>=y?p:y)),p}function Ka(p,y,w,E,D,L){var q,J=y&f,re=y&h,be=y&d;if(w&&(q=D?w(p,E,D,L):w(p)),q!==n)return q;if(!Yr(p))return p;var Oe=zt(p);if(Oe){if(q=oce(p),!J)return ko(p,q)}else{var Ae=_s(p),je=Ae==Ue||Ae==Re;if(Mh(p))return FI(p,J);if(Ae==ft||Ae==le||je&&!D){if(q=re||je?{}:eF(p),!J)return re?Yue(p,bue(q,p)):Wue(p,fI(q,p))}else{if(!xr[Ae])return D?p:{};q=ace(p,Ae,J)}}L||(L=new Bl);var ot=L.get(p);if(ot)return ot;L.set(p,q),TF(p)?p.forEach(function(_t){q.add(Ka(_t,y,w,_t,p,L))}):AF(p)&&p.forEach(function(_t,un){q.set(un,Ka(_t,y,w,un,p,L))});var xt=be?re?a5:o5:re?Ao:es,Gt=Oe?n:xt(p);return Ya(Gt||p,function(_t,un){Gt&&(un=_t,_t=p[un]),Ay(q,un,Ka(_t,y,w,un,p,L))}),q}function vue(p){var y=es(p);return function(w){return hI(w,p,y)}}function hI(p,y,w){var E=w.length;if(p==null)return!E;for(p=dr(p);E--;){var D=w[E],L=y[D],q=p[D];if(q===n&&!(D in p)||!L(q))return!1}return!0}function dI(p,y,w){if(typeof p!="function")throw new Ga(o);return Iy(function(){p.apply(n,w)},y)}function Ey(p,y,w,E){var D=-1,L=E2,q=!0,J=p.length,re=[],be=y.length;if(!J)return re;w&&(y=jr(y,pa(w))),E?(L=AC,q=!1):y.length>=i&&(L=wy,q=!1,y=new rp(y));e:for(;++D<J;){var Oe=p[D],Ae=w==null?Oe:w(Oe);if(Oe=E||Oe!==0?Oe:0,q&&Ae===Ae){for(var je=be;je--;)if(y[je]===Ae)continue e;re.push(Oe)}else L(y,Ae,E)||re.push(Oe)}return re}var Rh=BI(Du),pI=BI(jC,!0);function Oue(p,y){var w=!0;return Rh(p,function(E,D,L){return w=!!y(E,D,L),w}),w}function X2(p,y,w){for(var E=-1,D=p.length;++E<D;){var L=p[E],q=y(L);if(q!=null&&(J===n?q===q&&!ga(q):w(q,J)))var J=q,re=L}return re}function wue(p,y,w,E){var D=p.length;for(w=Xt(w),w<0&&(w=-w>D?0:D+w),E=E===n||E>D?D:Xt(E),E<0&&(E+=D),E=w>E?0:PF(E);w<E;)p[w++]=y;return p}function mI(p,y){var w=[];return Rh(p,function(E,D,L){y(E,D,L)&&w.push(E)}),w}function hs(p,y,w,E,D){var L=-1,q=p.length;for(w||(w=uce),D||(D=[]);++L<q;){var J=p[L];y>0&&w(J)?y>1?hs(J,y-1,w,E,D):Th(D,J):E||(D[D.length]=J)}return D}var UC=zI(),gI=zI(!0);function Du(p,y){return p&&UC(p,y,es)}function jC(p,y){return p&&gI(p,y,es)}function Z2(p,y){return Eh(y,function(w){return of(p[w])})}function sp(p,y){y=Ih(y,p);for(var w=0,E=y.length;p!=null&&w<E;)p=p[Ru(y[w++])];return w&&w==E?p:n}function yI(p,y,w){var E=y(p);return zt(p)?E:Th(E,w(p))}function Ys(p){return p==null?p===n?Li:Lt:tp&&tp in dr(p)?rce(p):gce(p)}function qC(p,y){return p>y}function xue(p,y){return p!=null&&Vn.call(p,y)}function _ue(p,y){return p!=null&&y in dr(p)}function Sue(p,y,w){return p>=xs(y,w)&&p<ji(y,w)}function VC(p,y,w){for(var E=w?AC:E2,D=p[0].length,L=p.length,q=L,J=he(L),re=1/0,be=[];q--;){var Oe=p[q];q&&y&&(Oe=jr(Oe,pa(y))),re=xs(Oe.length,re),J[q]=!w&&(y||D>=120&&Oe.length>=120)?new rp(q&&Oe):n}Oe=p[0];var Ae=-1,je=J[0];e:for(;++Ae<D&&be.length<re;){var ot=Oe[Ae],xt=y?y(ot):ot;if(ot=w||ot!==0?ot:0,!(je?wy(je,xt):E(be,xt,w))){for(q=L;--q;){var Gt=J[q];if(!(Gt?wy(Gt,xt):E(p[q],xt,w)))continue e}je&&je.push(xt),be.push(ot)}}return be}function kue(p,y,w,E){return Du(p,function(D,L,q){y(E,w(D),L,q)}),E}function Ty(p,y,w){y=Ih(y,p),p=iF(p,y);var E=p==null?p:p[Ru(el(y))];return E==null?n:da(E,p,w)}function bI(p){return ci(p)&&Ys(p)==le}function Cue(p){return ci(p)&&Ys(p)==Cn}function Aue(p){return ci(p)&&Ys(p)==ve}function Dy(p,y,w,E,D){return p===y?!0:p==null||y==null||!ci(p)&&!ci(y)?p!==p&&y!==y:Eue(p,y,w,E,Dy,D)}function Eue(p,y,w,E,D,L){var q=zt(p),J=zt(y),re=q?ce:_s(p),be=J?ce:_s(y);re=re==le?ft:re,be=be==le?ft:be;var Oe=re==ft,Ae=be==ft,je=re==be;if(je&&Mh(p)){if(!Mh(y))return!1;q=!0,Oe=!1}if(je&&!Oe)return L||(L=new Bl),q||ym(p)?HI(p,y,w,E,D,L):tce(p,y,re,w,E,D,L);if(!(w&m)){var ot=Oe&&Vn.call(p,"__wrapped__"),xt=Ae&&Vn.call(y,"__wrapped__");if(ot||xt){var Gt=ot?p.value():p,_t=xt?y.value():y;return L||(L=new Bl),D(Gt,_t,w,E,L)}}return je?(L||(L=new Bl),nce(p,y,w,E,D,L)):!1}function Tue(p){return ci(p)&&_s(p)==lt}function XC(p,y,w,E){var D=w.length,L=D,q=!E;if(p==null)return!L;for(p=dr(p);D--;){var J=w[D];if(q&&J[2]?J[1]!==p[J[0]]:!(J[0]in p))return!1}for(;++D<L;){J=w[D];var re=J[0],be=p[re],Oe=J[1];if(q&&J[2]){if(be===n&&!(re in p))return!1}else{var Ae=new Bl;if(E)var je=E(be,Oe,re,p,y,Ae);if(!(je===n?Dy(Oe,be,m|g,E,Ae):je))return!1}}return!0}function vI(p){if(!Yr(p)||fce(p))return!1;var y=of(p)?Tle:Et;return y.test(ap(p))}function Due(p){return ci(p)&&Ys(p)==on}function Pue(p){return ci(p)&&_s(p)==an}function Rue(p){return ci(p)&&cw(p.length)&&!!Pr[Ys(p)]}function OI(p){return typeof p=="function"?p:p==null?Eo:typeof p=="object"?zt(p)?_I(p[0],p[1]):xI(p):UF(p)}function ZC(p){if(!$y(p))return Fle(p);var y=[];for(var w in dr(p))Vn.call(p,w)&&w!="constructor"&&y.push(w);return y}function $ue(p){if(!Yr(p))return mce(p);var y=$y(p),w=[];for(var E in p)E=="constructor"&&(y||!Vn.call(p,E))||w.push(E);return w}function WC(p,y){return p<y}function wI(p,y){var w=-1,E=Co(p)?he(p.length):[];return Rh(p,function(D,L,q){E[++w]=y(D,L,q)}),E}function xI(p){var y=u5(p);return y.length==1&&y[0][2]?nF(y[0][0],y[0][1]):function(w){return w===p||XC(w,p,y)}}function _I(p,y){return f5(p)&&tF(y)?nF(Ru(p),y):function(w){var E=w5(w,p);return E===n&&E===y?x5(w,p):Dy(y,E,m|g)}}function W2(p,y,w,E,D){p!==y&&UC(y,function(L,q){if(D||(D=new Bl),Yr(L))Iue(p,y,q,w,W2,E,D);else{var J=E?E(d5(p,q),L,q+"",p,y,D):n;J===n&&(J=L),BC(p,q,J)}},Ao)}function Iue(p,y,w,E,D,L,q){var J=d5(p,w),re=d5(y,w),be=q.get(re);if(be){BC(p,w,be);return}var Oe=L?L(J,re,w+"",p,y,q):n,Ae=Oe===n;if(Ae){var je=zt(re),ot=!je&&Mh(re),xt=!je&&!ot&&ym(re);Oe=re,je||ot||xt?zt(J)?Oe=J:bi(J)?Oe=ko(J):ot?(Ae=!1,Oe=FI(re,!0)):xt?(Ae=!1,Oe=MI(re,!0)):Oe=[]:Fy(re)||lp(re)?(Oe=J,lp(J)?Oe=RF(J):(!Yr(J)||of(J))&&(Oe=eF(re))):Ae=!1}Ae&&(q.set(re,Oe),D(Oe,re,E,L,q),q.delete(re)),BC(p,w,Oe)}function SI(p,y){var w=p.length;if(w)return y+=y<0?w:0,sf(y,w)?p[y]:n}function kI(p,y,w){y.length?y=jr(y,function(L){return zt(L)?function(q){return sp(q,L.length===1?L[0]:L)}:L}):y=[Eo];var E=-1;y=jr(y,pa(yt()));var D=wI(p,function(L,q,J){var re=jr(y,function(be){return be(L)});return{criteria:re,index:++E,value:L}});return ale(D,function(L,q){return Zue(L,q,w)})}function Fue(p,y){return CI(p,y,function(w,E){return x5(p,E)})}function CI(p,y,w){for(var E=-1,D=y.length,L={};++E<D;){var q=y[E],J=sp(p,q);w(J,q)&&Py(L,Ih(q,p),J)}return L}function Mue(p){return function(y){return sp(y,p)}}function YC(p,y,w,E){var D=E?ole:om,L=-1,q=y.length,J=p;for(p===y&&(y=ko(y)),w&&(J=jr(p,pa(w)));++L<q;)for(var re=0,be=y[L],Oe=w?w(be):be;(re=D(J,Oe,re,E))>-1;)J!==p&&N2.call(J,re,1),N2.call(p,re,1);return p}function AI(p,y){for(var w=p?y.length:0,E=w-1;w--;){var D=y[w];if(w==E||D!==L){var L=D;sf(D)?N2.call(p,D,1):JC(p,D)}}return p}function GC(p,y){return p+z2(aI()*(y-p+1))}function Lue(p,y,w,E){for(var D=-1,L=ji(B2((y-p)/(w||1)),0),q=he(L);L--;)q[E?L:++D]=p,p+=w;return q}function HC(p,y){var w="";if(!p||y<1||y>ee)return w;do y%2&&(w+=p),y=z2(y/2),y&&(p+=p);while(y);return w}function Jt(p,y){return p5(rF(p,y,Eo),p+"")}function Nue(p){return cI(bm(p))}function Que(p,y){var w=bm(p);return iw(w,ip(y,0,w.length))}function Py(p,y,w,E){if(!Yr(p))return p;y=Ih(y,p);for(var D=-1,L=y.length,q=L-1,J=p;J!=null&&++D<L;){var re=Ru(y[D]),be=w;if(re==="__proto__"||re==="constructor"||re==="prototype")return p;if(D!=q){var Oe=J[re];be=E?E(Oe,re,J):n,be===n&&(be=Yr(Oe)?Oe:sf(y[D+1])?[]:{})}Ay(J,re,be),J=J[re]}return p}var EI=U2?function(p,y){return U2.set(p,y),p}:Eo,Bue=Q2?function(p,y){return Q2(p,"toString",{configurable:!0,enumerable:!1,value:S5(y),writable:!0})}:Eo;function zue(p){return iw(bm(p))}function Ja(p,y,w){var E=-1,D=p.length;y<0&&(y=-y>D?0:D+y),w=w>D?D:w,w<0&&(w+=D),D=y>w?0:w-y>>>0,y>>>=0;for(var L=he(D);++E<D;)L[E]=p[E+y];return L}function Uue(p,y){var w;return Rh(p,function(E,D,L){return w=y(E,D,L),!w}),!!w}function Y2(p,y,w){var E=0,D=p==null?E:p.length;if(typeof y=="number"&&y===y&&D<=ie){for(;E<D;){var L=E+D>>>1,q=p[L];q!==null&&!ga(q)&&(w?q<=y:q<y)?E=L+1:D=L}return D}return KC(p,y,Eo,w)}function KC(p,y,w,E){var D=0,L=p==null?0:p.length;if(L===0)return 0;y=w(y);for(var q=y!==y,J=y===null,re=ga(y),be=y===n;D<L;){var Oe=z2((D+L)/2),Ae=w(p[Oe]),je=Ae!==n,ot=Ae===null,xt=Ae===Ae,Gt=ga(Ae);if(q)var _t=E||xt;else be?_t=xt&&(E||je):J?_t=xt&&je&&(E||!ot):re?_t=xt&&je&&!ot&&(E||!Gt):ot||Gt?_t=!1:_t=E?Ae<=y:Ae<y;_t?D=Oe+1:L=Oe}return xs(L,ae)}function TI(p,y){for(var w=-1,E=p.length,D=0,L=[];++w<E;){var q=p[w],J=y?y(q):q;if(!w||!zl(J,re)){var re=J;L[D++]=q===0?0:q}}return L}function DI(p){return typeof p=="number"?p:ga(p)?ue:+p}function ma(p){if(typeof p=="string")return p;if(zt(p))return jr(p,ma)+"";if(ga(p))return lI?lI.call(p):"";var y=p+"";return y=="0"&&1/p==-j?"-0":y}function $h(p,y,w){var E=-1,D=E2,L=p.length,q=!0,J=[],re=J;if(w)q=!1,D=AC;else if(L>=i){var be=y?null:Jue(p);if(be)return D2(be);q=!1,D=wy,re=new rp}else re=y?[]:J;e:for(;++E<L;){var Oe=p[E],Ae=y?y(Oe):Oe;if(Oe=w||Oe!==0?Oe:0,q&&Ae===Ae){for(var je=re.length;je--;)if(re[je]===Ae)continue e;y&&re.push(Ae),J.push(Oe)}else D(re,Ae,w)||(re!==J&&re.push(Ae),J.push(Oe))}return J}function JC(p,y){y=Ih(y,p);var w=-1,E=y.length;if(!E)return!0;for(var D=p==null||typeof p!="object"&&typeof p!="function";++w<E;){var L=y[w];if(typeof L=="string"){if(L==="__proto__"&&!Vn.call(p,"__proto__"))return!1;if(L==="constructor"&&w+1<E&&typeof y[w+1]=="string"&&y[w+1]==="prototype"){if(D&&w===0)continue;return!1}}}var q=iF(p,y);return q==null||delete q[Ru(el(y))]}function PI(p,y,w,E){return Py(p,y,w(sp(p,y)),E)}function G2(p,y,w,E){for(var D=p.length,L=E?D:-1;(E?L--:++L<D)&&y(p[L],L,p););return w?Ja(p,E?0:L,E?L+1:D):Ja(p,E?L+1:0,E?D:L)}function RI(p,y){var w=p;return w instanceof gn&&(w=w.value()),EC(y,function(E,D){return D.func.apply(D.thisArg,Th([E],D.args))},w)}function e5(p,y,w){var E=p.length;if(E<2)return E?$h(p[0]):[];for(var D=-1,L=he(E);++D<E;)for(var q=p[D],J=-1;++J<E;)J!=D&&(L[D]=Ey(L[D]||q,p[J],y,w));return $h(hs(L,1),y,w)}function $I(p,y,w){for(var E=-1,D=p.length,L=y.length,q={};++E<D;){var J=E<L?y[E]:n;w(q,p[E],J)}return q}function t5(p){return bi(p)?p:[]}function n5(p){return typeof p=="function"?p:Eo}function Ih(p,y){return zt(p)?p:f5(p,y)?[p]:lF(Xn(p))}var jue=Jt;function Fh(p,y,w){var E=p.length;return w=w===n?E:w,!y&&w>=E?p:Ja(p,y,w)}var II=Dle||function(p){return fs.clearTimeout(p)};function FI(p,y){if(y)return p.slice();var w=p.length,E=nI?nI(w):new p.constructor(w);return p.copy(E),E}function r5(p){var y=new p.constructor(p.byteLength);return new M2(y).set(new M2(p)),y}function que(p,y){var w=y?r5(p.buffer):p.buffer;return new p.constructor(w,p.byteOffset,p.byteLength)}function Vue(p){var y=new p.constructor(p.source,Ze.exec(p));return y.lastIndex=p.lastIndex,y}function Xue(p){return Cy?dr(Cy.call(p)):{}}function MI(p,y){var w=y?r5(p.buffer):p.buffer;return new p.constructor(w,p.byteOffset,p.length)}function LI(p,y){if(p!==y){var w=p!==n,E=p===null,D=p===p,L=ga(p),q=y!==n,J=y===null,re=y===y,be=ga(y);if(!J&&!be&&!L&&p>y||L&&q&&re&&!J&&!be||E&&q&&re||!w&&re||!D)return 1;if(!E&&!L&&!be&&p<y||be&&w&&D&&!E&&!L||J&&w&&D||!q&&D||!re)return-1}return 0}function Zue(p,y,w){for(var E=-1,D=p.criteria,L=y.criteria,q=D.length,J=w.length;++E<q;){var re=LI(D[E],L[E]);if(re){if(E>=J)return re;var be=w[E];return re*(be=="desc"?-1:1)}}return p.index-y.index}function NI(p,y,w,E){for(var D=-1,L=p.length,q=w.length,J=-1,re=y.length,be=ji(L-q,0),Oe=he(re+be),Ae=!E;++J<re;)Oe[J]=y[J];for(;++D<q;)(Ae||D<L)&&(Oe[w[D]]=p[D]);for(;be--;)Oe[J++]=p[D++];return Oe}function QI(p,y,w,E){for(var D=-1,L=p.length,q=-1,J=w.length,re=-1,be=y.length,Oe=ji(L-J,0),Ae=he(Oe+be),je=!E;++D<Oe;)Ae[D]=p[D];for(var ot=D;++re<be;)Ae[ot+re]=y[re];for(;++q<J;)(je||D<L)&&(Ae[ot+w[q]]=p[D++]);return Ae}function ko(p,y){var w=-1,E=p.length;for(y||(y=he(E));++w<E;)y[w]=p[w];return y}function Pu(p,y,w,E){var D=!w;w||(w={});for(var L=-1,q=y.length;++L<q;){var J=y[L],re=E?E(w[J],p[J],J,w,p):n;re===n&&(re=p[J]),D?tf(w,J,re):Ay(w,J,re)}return w}function Wue(p,y){return Pu(p,c5(p),y)}function Yue(p,y){return Pu(p,KI(p),y)}function H2(p,y){return function(w,E){var D=zt(w)?ele:yue,L=y?y():{};return D(w,p,yt(E,2),L)}}function pm(p){return Jt(function(y,w){var E=-1,D=w.length,L=D>1?w[D-1]:n,q=D>2?w[2]:n;for(L=p.length>3&&typeof L=="function"?(D--,L):n,q&&Gs(w[0],w[1],q)&&(L=D<3?n:L,D=1),y=dr(y);++E<D;){var J=w[E];J&&p(y,J,E,L)}return y})}function BI(p,y){return function(w,E){if(w==null)return w;if(!Co(w))return p(w,E);for(var D=w.length,L=y?D:-1,q=dr(w);(y?L--:++L<D)&&E(q[L],L,q)!==!1;);return w}}function zI(p){return function(y,w,E){for(var D=-1,L=dr(y),q=E(y),J=q.length;J--;){var re=q[p?J:++D];if(w(L[re],re,L)===!1)break}return y}}function Gue(p,y,w){var E=y&b,D=Ry(p);function L(){var q=this&&this!==fs&&this instanceof L?D:p;return q.apply(E?w:this,arguments)}return L}function UI(p){return function(y){y=Xn(y);var w=am(y)?Ql(y):n,E=w?w[0]:y.charAt(0),D=w?Fh(w,1).join(""):y.slice(1);return E[p]()+D}}function mm(p){return function(y){return EC(BF(QF(y).replace(Bae,"")),p,"")}}function Ry(p){return function(){var y=arguments;switch(y.length){case 0:return new p;case 1:return new p(y[0]);case 2:return new p(y[0],y[1]);case 3:return new p(y[0],y[1],y[2]);case 4:return new p(y[0],y[1],y[2],y[3]);case 5:return new p(y[0],y[1],y[2],y[3],y[4]);case 6:return new p(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new p(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var w=dm(p.prototype),E=p.apply(w,y);return Yr(E)?E:w}}function Hue(p,y,w){var E=Ry(p);function D(){for(var L=arguments.length,q=he(L),J=L,re=gm(D);J--;)q[J]=arguments[J];var be=L<3&&q[0]!==re&&q[L-1]!==re?[]:Dh(q,re);if(L-=be.length,L<w)return ZI(p,y,K2,D.placeholder,n,q,be,n,n,w-L);var Oe=this&&this!==fs&&this instanceof D?E:p;return da(Oe,this,q)}return D}function jI(p){return function(y,w,E){var D=dr(y);if(!Co(y)){var L=yt(w,3);y=es(y),w=function(J){return L(D[J],J,D)}}var q=p(y,w,E);return q>-1?D[L?y[q]:q]:n}}function qI(p){return rf(function(y){var w=y.length,E=w,D=Ha.prototype.thru;for(p&&y.reverse();E--;){var L=y[E];if(typeof L!="function")throw new Ga(o);if(D&&!q&&nw(L)=="wrapper")var q=new Ha([],!0)}for(E=q?E:w;++E<w;){L=y[E];var J=nw(L),re=J=="wrapper"?l5(L):n;re&&h5(re[0])&&re[1]==(C|_|k|T)&&!re[4].length&&re[9]==1?q=q[nw(re[0])].apply(q,re[3]):q=L.length==1&&h5(L)?q[J]():q.thru(L)}return function(){var be=arguments,Oe=be[0];if(q&&be.length==1&&zt(Oe))return q.plant(Oe).value();for(var Ae=0,je=w?y[Ae].apply(this,be):Oe;++Ae<w;)je=y[Ae].call(this,je);return je}})}function K2(p,y,w,E,D,L,q,J,re,be){var Oe=y&C,Ae=y&b,je=y&v,ot=y&(_|S),xt=y&P,Gt=je?n:Ry(p);function _t(){for(var un=arguments.length,_n=he(un),ya=un;ya--;)_n[ya]=arguments[ya];if(ot)var Hs=gm(_t),ba=ule(_n,Hs);if(E&&(_n=NI(_n,E,D,ot)),L&&(_n=QI(_n,L,q,ot)),un-=ba,ot&&un<be){var vi=Dh(_n,Hs);return ZI(p,y,K2,_t.placeholder,w,_n,vi,J,re,be-un)}var Ul=Ae?w:this,lf=je?Ul[p]:p;return un=_n.length,J?_n=yce(_n,J):xt&&un>1&&_n.reverse(),Oe&&re<un&&(_n.length=re),this&&this!==fs&&this instanceof _t&&(lf=Gt||Ry(lf)),lf.apply(Ul,_n)}return _t}function VI(p,y){return function(w,E){return kue(w,p,y(E),{})}}function J2(p,y){return function(w,E){var D;if(w===n&&E===n)return y;if(w!==n&&(D=w),E!==n){if(D===n)return E;typeof w=="string"||typeof E=="string"?(w=ma(w),E=ma(E)):(w=DI(w),E=DI(E)),D=p(w,E)}return D}}function i5(p){return rf(function(y){return y=jr(y,pa(yt())),Jt(function(w){var E=this;return p(y,function(D){return da(D,E,w)})})})}function ew(p,y){y=y===n?" ":ma(y);var w=y.length;if(w<2)return w?HC(y,p):y;var E=HC(y,B2(p/lm(y)));return am(y)?Fh(Ql(E),0,p).join(""):E.slice(0,p)}function Kue(p,y,w,E){var D=y&b,L=Ry(p);function q(){for(var J=-1,re=arguments.length,be=-1,Oe=E.length,Ae=he(Oe+re),je=this&&this!==fs&&this instanceof q?L:p;++be<Oe;)Ae[be]=E[be];for(;re--;)Ae[be++]=arguments[++J];return da(je,D?w:this,Ae)}return q}function XI(p){return function(y,w,E){return E&&typeof E!="number"&&Gs(y,w,E)&&(w=E=n),y=af(y),w===n?(w=y,y=0):w=af(w),E=E===n?y<w?1:-1:af(E),Lue(y,w,E,p)}}function tw(p){return function(y,w){return typeof y=="string"&&typeof w=="string"||(y=tl(y),w=tl(w)),p(y,w)}}function ZI(p,y,w,E,D,L,q,J,re,be){var Oe=y&_,Ae=Oe?q:n,je=Oe?n:q,ot=Oe?L:n,xt=Oe?n:L;y|=Oe?k:A,y&=~(Oe?A:k),y&O||(y&=-4);var Gt=[p,y,D,ot,Ae,xt,je,J,re,be],_t=w.apply(n,Gt);return h5(p)&&sF(_t,Gt),_t.placeholder=E,oF(_t,p,y)}function s5(p){var y=Ui[p];return function(w,E){if(w=tl(w),E=E==null?0:xs(Xt(E),292),E&&oI(w)){var D=(Xn(w)+"e").split("e"),L=y(D[0]+"e"+(+D[1]+E));return D=(Xn(L)+"e").split("e"),+(D[0]+"e"+(+D[1]-E))}return y(w)}}var Jue=fm&&1/D2(new fm([,-0]))[1]==j?function(p){return new fm(p)}:A5;function WI(p){return function(y){var w=_s(y);return w==lt?FC(y):w==an?gle(y):lle(y,p(y))}}function nf(p,y,w,E,D,L,q,J){var re=y&v;if(!re&&typeof p!="function")throw new Ga(o);var be=E?E.length:0;if(be||(y&=-97,E=D=n),q=q===n?q:ji(Xt(q),0),J=J===n?J:Xt(J),be-=D?D.length:0,y&A){var Oe=E,Ae=D;E=D=n}var je=re?n:l5(p),ot=[p,y,w,E,D,Oe,Ae,L,q,J];if(je&&pce(ot,je),p=ot[0],y=ot[1],w=ot[2],E=ot[3],D=ot[4],J=ot[9]=ot[9]===n?re?0:p.length:ji(ot[9]-be,0),!J&&y&(_|S)&&(y&=-25),!y||y==b)var xt=Gue(p,y,w);else y==_||y==S?xt=Hue(p,y,J):(y==k||y==(b|k))&&!D.length?xt=Kue(p,y,w,E):xt=K2.apply(n,ot);var Gt=je?EI:sF;return oF(Gt(xt,ot),p,y)}function YI(p,y,w,E){return p===n||zl(p,cm[w])&&!Vn.call(E,w)?y:p}function GI(p,y,w,E,D,L){return Yr(p)&&Yr(y)&&(L.set(y,p),W2(p,y,n,GI,L),L.delete(y)),p}function ece(p){return Fy(p)?n:p}function HI(p,y,w,E,D,L){var q=w&m,J=p.length,re=y.length;if(J!=re&&!(q&&re>J))return!1;var be=L.get(p),Oe=L.get(y);if(be&&Oe)return be==y&&Oe==p;var Ae=-1,je=!0,ot=w&g?new rp:n;for(L.set(p,y),L.set(y,p);++Ae<J;){var xt=p[Ae],Gt=y[Ae];if(E)var _t=q?E(Gt,xt,Ae,y,p,L):E(xt,Gt,Ae,p,y,L);if(_t!==n){if(_t)continue;je=!1;break}if(ot){if(!TC(y,function(un,_n){if(!wy(ot,_n)&&(xt===un||D(xt,un,w,E,L)))return ot.push(_n)})){je=!1;break}}else if(!(xt===Gt||D(xt,Gt,w,E,L))){je=!1;break}}return L.delete(p),L.delete(y),je}function tce(p,y,w,E,D,L,q){switch(w){case Nr:if(p.byteLength!=y.byteLength||p.byteOffset!=y.byteOffset)return!1;p=p.buffer,y=y.buffer;case Cn:return!(p.byteLength!=y.byteLength||!L(new M2(p),new M2(y)));case We:case ve:case it:return zl(+p,+y);case ze:return p.name==y.name&&p.message==y.message;case on:case xn:return p==y+"";case lt:var J=FC;case an:var re=E&m;if(J||(J=D2),p.size!=y.size&&!re)return!1;var be=q.get(p);if(be)return be==y;E|=g,q.set(p,y);var Oe=HI(J(p),J(y),E,D,L,q);return q.delete(p),Oe;case or:if(Cy)return Cy.call(p)==Cy.call(y)}return!1}function nce(p,y,w,E,D,L){var q=w&m,J=o5(p),re=J.length,be=o5(y),Oe=be.length;if(re!=Oe&&!q)return!1;for(var Ae=re;Ae--;){var je=J[Ae];if(!(q?je in y:Vn.call(y,je)))return!1}var ot=L.get(p),xt=L.get(y);if(ot&&xt)return ot==y&&xt==p;var Gt=!0;L.set(p,y),L.set(y,p);for(var _t=q;++Ae<re;){je=J[Ae];var un=p[je],_n=y[je];if(E)var ya=q?E(_n,un,je,y,p,L):E(un,_n,je,p,y,L);if(!(ya===n?un===_n||D(un,_n,w,E,L):ya)){Gt=!1;break}_t||(_t=je=="constructor")}if(Gt&&!_t){var Hs=p.constructor,ba=y.constructor;Hs!=ba&&"constructor"in p&&"constructor"in y&&!(typeof Hs=="function"&&Hs instanceof Hs&&typeof ba=="function"&&ba instanceof ba)&&(Gt=!1)}return L.delete(p),L.delete(y),Gt}function rf(p){return p5(rF(p,n,hF),p+"")}function o5(p){return yI(p,es,c5)}function a5(p){return yI(p,Ao,KI)}var l5=U2?function(p){return U2.get(p)}:A5;function nw(p){for(var y=p.name+"",w=hm[y],E=Vn.call(hm,y)?w.length:0;E--;){var D=w[E],L=D.func;if(L==null||L==p)return D.name}return y}function gm(p){var y=Vn.call(F,"placeholder")?F:p;return y.placeholder}function yt(){var p=F.iteratee||k5;return p=p===k5?OI:p,arguments.length?p(arguments[0],arguments[1]):p}function rw(p,y){var w=p.__data__;return cce(y)?w[typeof y=="string"?"string":"hash"]:w.map}function u5(p){for(var y=es(p),w=y.length;w--;){var E=y[w],D=p[E];y[w]=[E,D,tF(D)]}return y}function op(p,y){var w=dle(p,y);return vI(w)?w:n}function rce(p){var y=Vn.call(p,tp),w=p[tp];try{p[tp]=n;var E=!0}catch{}var D=I2.call(p);return E&&(y?p[tp]=w:delete p[tp]),D}var c5=LC?function(p){return p==null?[]:(p=dr(p),Eh(LC(p),function(y){return iI.call(p,y)}))}:E5,KI=LC?function(p){for(var y=[];p;)Th(y,c5(p)),p=L2(p);return y}:E5,_s=Ys;(NC&&_s(new NC(new ArrayBuffer(1)))!=Nr||_y&&_s(new _y)!=lt||QC&&_s(QC.resolve())!=Ee||fm&&_s(new fm)!=an||Sy&&_s(new Sy)!=dn)&&(_s=function(p){var y=Ys(p),w=y==ft?p.constructor:n,E=w?ap(w):"";if(E)switch(E){case Qle:return Nr;case Ble:return lt;case zle:return Ee;case Ule:return an;case jle:return dn}return y});function ice(p,y,w){for(var E=-1,D=w.length;++E<D;){var L=w[E],q=L.size;switch(L.type){case"drop":p+=q;break;case"dropRight":y-=q;break;case"take":y=xs(y,p+q);break;case"takeRight":p=ji(p,y-q);break}}return{start:p,end:y}}function sce(p){var y=p.match(So);return y?y[1].split(Ch):[]}function JI(p,y,w){y=Ih(y,p);for(var E=-1,D=y.length,L=!1;++E<D;){var q=Ru(y[E]);if(!(L=p!=null&&w(p,q)))break;p=p[q]}return L||++E!=D?L:(D=p==null?0:p.length,!!D&&cw(D)&&sf(q,D)&&(zt(p)||lp(p)))}function oce(p){var y=p.length,w=new p.constructor(y);return y&&typeof p[0]=="string"&&Vn.call(p,"index")&&(w.index=p.index,w.input=p.input),w}function eF(p){return typeof p.constructor=="function"&&!$y(p)?dm(L2(p)):{}}function ace(p,y,w){var E=p.constructor;switch(y){case Cn:return r5(p);case We:case ve:return new E(+p);case Nr:return que(p,w);case Au:case Eu:case Xa:case Za:case _o:case ca:case Ni:case Zs:case Nl:return MI(p,w);case lt:return new E;case it:case xn:return new E(p);case on:return Vue(p);case an:return new E;case or:return Xue(p)}}function lce(p,y){var w=y.length;if(!w)return p;var E=w-1;return y[E]=(w>1?"& ":"")+y[E],y=y.join(w>2?", ":" "),p.replace(Ur,`{
/* [wrapped with `+y+`] */
`)}function uce(p){return zt(p)||lp(p)||!!(sI&&p&&p[sI])}function sf(p,y){var w=typeof p;return y=y??ee,!!y&&(w=="number"||w!="symbol"&&H.test(p))&&p>-1&&p%1==0&&p<y}function Gs(p,y,w){if(!Yr(w))return!1;var E=typeof y;return(E=="number"?Co(w)&&sf(y,w.length):E=="string"&&y in w)?zl(w[y],p):!1}function f5(p,y){if(zt(p))return!1;var w=typeof p;return w=="number"||w=="symbol"||w=="boolean"||p==null||ga(p)?!0:Ti.test(p)||!Tu.test(p)||y!=null&&p in dr(y)}function cce(p){var y=typeof p;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?p!=="__proto__":p===null}function h5(p){var y=nw(p),w=F[y];if(typeof w!="function"||!(y in gn.prototype))return!1;if(p===w)return!0;var E=l5(w);return!!E&&p===E[0]}function fce(p){return!!tI&&tI in p}var hce=R2?of:T5;function $y(p){var y=p&&p.constructor,w=typeof y=="function"&&y.prototype||cm;return p===w}function tF(p){return p===p&&!Yr(p)}function nF(p,y){return function(w){return w==null?!1:w[p]===y&&(y!==n||p in dr(w))}}function dce(p){var y=lw(p,function(E){return w.size===u&&w.clear(),E}),w=y.cache;return y}function pce(p,y){var w=p[1],E=y[1],D=w|E,L=D<(b|v|C),q=E==C&&w==_||E==C&&w==T&&p[7].length<=y[8]||E==(C|T)&&y[7].length<=y[8]&&w==_;if(!(L||q))return p;E&b&&(p[2]=y[2],D|=w&b?0:O);var J=y[3];if(J){var re=p[3];p[3]=re?NI(re,J,y[4]):J,p[4]=re?Dh(p[3],c):y[4]}return J=y[5],J&&(re=p[5],p[5]=re?QI(re,J,y[6]):J,p[6]=re?Dh(p[5],c):y[6]),J=y[7],J&&(p[7]=J),E&C&&(p[8]=p[8]==null?y[8]:xs(p[8],y[8])),p[9]==null&&(p[9]=y[9]),p[0]=y[0],p[1]=D,p}function mce(p){var y=[];if(p!=null)for(var w in dr(p))y.push(w);return y}function gce(p){return I2.call(p)}function rF(p,y,w){return y=ji(y===n?p.length-1:y,0),function(){for(var E=arguments,D=-1,L=ji(E.length-y,0),q=he(L);++D<L;)q[D]=E[y+D];D=-1;for(var J=he(y+1);++D<y;)J[D]=E[D];return J[y]=w(q),da(p,this,J)}}function iF(p,y){return y.length<2?p:sp(p,Ja(y,0,-1))}function yce(p,y){for(var w=p.length,E=xs(y.length,w),D=ko(p);E--;){var L=y[E];p[E]=sf(L,w)?D[L]:n}return p}function d5(p,y){if(!(y==="constructor"&&typeof p[y]=="function")&&y!="__proto__")return p[y]}var sF=aF(EI),Iy=Rle||function(p,y){return fs.setTimeout(p,y)},p5=aF(Bue);function oF(p,y,w){var E=y+"";return p5(p,lce(E,bce(sce(E),w)))}function aF(p){var y=0,w=0;return function(){var E=Mle(),D=R-(E-w);if(w=E,D>0){if(++y>=$)return arguments[0]}else y=0;return p.apply(n,arguments)}}function iw(p,y){var w=-1,E=p.length,D=E-1;for(y=y===n?E:y;++w<y;){var L=GC(w,D),q=p[L];p[L]=p[w],p[w]=q}return p.length=y,p}var lF=dce(function(p){var y=[];return p.charCodeAt(0)===46&&y.push(""),p.replace(Br,function(w,E,D,L){y.push(D?L.replace(de,"$1"):E||w)}),y});function Ru(p){if(typeof p=="string"||ga(p))return p;var y=p+"";return y=="0"&&1/p==-j?"-0":y}function ap(p){if(p!=null){try{return $2.call(p)}catch{}try{return p+""}catch{}}return""}function bce(p,y){return Ya(_e,function(w){var E="_."+w[0];y&w[1]&&!E2(p,E)&&p.push(E)}),p.sort()}function uF(p){if(p instanceof gn)return p.clone();var y=new Ha(p.__wrapped__,p.__chain__);return y.__actions__=ko(p.__actions__),y.__index__=p.__index__,y.__values__=p.__values__,y}function vce(p,y,w){(w?Gs(p,y,w):y===n)?y=1:y=ji(Xt(y),0);var E=p==null?0:p.length;if(!E||y<1)return[];for(var D=0,L=0,q=he(B2(E/y));D<E;)q[L++]=Ja(p,D,D+=y);return q}function Oce(p){for(var y=-1,w=p==null?0:p.length,E=0,D=[];++y<w;){var L=p[y];L&&(D[E++]=L)}return D}function wce(){var p=arguments.length;if(!p)return[];for(var y=he(p-1),w=arguments[0],E=p;E--;)y[E-1]=arguments[E];return Th(zt(w)?ko(w):[w],hs(y,1))}var xce=Jt(function(p,y){return bi(p)?Ey(p,hs(y,1,bi,!0)):[]}),_ce=Jt(function(p,y){var w=el(y);return bi(w)&&(w=n),bi(p)?Ey(p,hs(y,1,bi,!0),yt(w,2)):[]}),Sce=Jt(function(p,y){var w=el(y);return bi(w)&&(w=n),bi(p)?Ey(p,hs(y,1,bi,!0),n,w):[]});function kce(p,y,w){var E=p==null?0:p.length;return E?(y=w||y===n?1:Xt(y),Ja(p,y<0?0:y,E)):[]}function Cce(p,y,w){var E=p==null?0:p.length;return E?(y=w||y===n?1:Xt(y),y=E-y,Ja(p,0,y<0?0:y)):[]}function Ace(p,y){return p&&p.length?G2(p,yt(y,3),!0,!0):[]}function Ece(p,y){return p&&p.length?G2(p,yt(y,3),!0):[]}function Tce(p,y,w,E){var D=p==null?0:p.length;return D?(w&&typeof w!="number"&&Gs(p,y,w)&&(w=0,E=D),wue(p,y,w,E)):[]}function cF(p,y,w){var E=p==null?0:p.length;if(!E)return-1;var D=w==null?0:Xt(w);return D<0&&(D=ji(E+D,0)),T2(p,yt(y,3),D)}function fF(p,y,w){var E=p==null?0:p.length;if(!E)return-1;var D=E-1;return w!==n&&(D=Xt(w),D=w<0?ji(E+D,0):xs(D,E-1)),T2(p,yt(y,3),D,!0)}function hF(p){var y=p==null?0:p.length;return y?hs(p,1):[]}function Dce(p){var y=p==null?0:p.length;return y?hs(p,j):[]}function Pce(p,y){var w=p==null?0:p.length;return w?(y=y===n?1:Xt(y),hs(p,y)):[]}function Rce(p){for(var y=-1,w=p==null?0:p.length,E={};++y<w;){var D=p[y];E[D[0]]=D[1]}return E}function dF(p){return p&&p.length?p[0]:n}function $ce(p,y,w){var E=p==null?0:p.length;if(!E)return-1;var D=w==null?0:Xt(w);return D<0&&(D=ji(E+D,0)),om(p,y,D)}function Ice(p){var y=p==null?0:p.length;return y?Ja(p,0,-1):[]}var Fce=Jt(function(p){var y=jr(p,t5);return y.length&&y[0]===p[0]?VC(y):[]}),Mce=Jt(function(p){var y=el(p),w=jr(p,t5);return y===el(w)?y=n:w.pop(),w.length&&w[0]===p[0]?VC(w,yt(y,2)):[]}),Lce=Jt(function(p){var y=el(p),w=jr(p,t5);return y=typeof y=="function"?y:n,y&&w.pop(),w.length&&w[0]===p[0]?VC(w,n,y):[]});function Nce(p,y){return p==null?"":Ile.call(p,y)}function el(p){var y=p==null?0:p.length;return y?p[y-1]:n}function Qce(p,y,w){var E=p==null?0:p.length;if(!E)return-1;var D=E;return w!==n&&(D=Xt(w),D=D<0?ji(E+D,0):xs(D,E-1)),y===y?ble(p,y,D):T2(p,Z$,D,!0)}function Bce(p,y){return p&&p.length?SI(p,Xt(y)):n}var zce=Jt(pF);function pF(p,y){return p&&p.length&&y&&y.length?YC(p,y):p}function Uce(p,y,w){return p&&p.length&&y&&y.length?YC(p,y,yt(w,2)):p}function jce(p,y,w){return p&&p.length&&y&&y.length?YC(p,y,n,w):p}var qce=rf(function(p,y){var w=p==null?0:p.length,E=zC(p,y);return AI(p,jr(y,function(D){return sf(D,w)?+D:D}).sort(LI)),E});function Vce(p,y){var w=[];if(!(p&&p.length))return w;var E=-1,D=[],L=p.length;for(y=yt(y,3);++E<L;){var q=p[E];y(q,E,p)&&(w.push(q),D.push(E))}return AI(p,D),w}function m5(p){return p==null?p:Nle.call(p)}function Xce(p,y,w){var E=p==null?0:p.length;return E?(w&&typeof w!="number"&&Gs(p,y,w)?(y=0,w=E):(y=y==null?0:Xt(y),w=w===n?E:Xt(w)),Ja(p,y,w)):[]}function Zce(p,y){return Y2(p,y)}function Wce(p,y,w){return KC(p,y,yt(w,2))}function Yce(p,y){var w=p==null?0:p.length;if(w){var E=Y2(p,y);if(E<w&&zl(p[E],y))return E}return-1}function Gce(p,y){return Y2(p,y,!0)}function Hce(p,y,w){return KC(p,y,yt(w,2),!0)}function Kce(p,y){var w=p==null?0:p.length;if(w){var E=Y2(p,y,!0)-1;if(zl(p[E],y))return E}return-1}function Jce(p){return p&&p.length?TI(p):[]}function efe(p,y){return p&&p.length?TI(p,yt(y,2)):[]}function tfe(p){var y=p==null?0:p.length;return y?Ja(p,1,y):[]}function nfe(p,y,w){return p&&p.length?(y=w||y===n?1:Xt(y),Ja(p,0,y<0?0:y)):[]}function rfe(p,y,w){var E=p==null?0:p.length;return E?(y=w||y===n?1:Xt(y),y=E-y,Ja(p,y<0?0:y,E)):[]}function ife(p,y){return p&&p.length?G2(p,yt(y,3),!1,!0):[]}function sfe(p,y){return p&&p.length?G2(p,yt(y,3)):[]}var ofe=Jt(function(p){return $h(hs(p,1,bi,!0))}),afe=Jt(function(p){var y=el(p);return bi(y)&&(y=n),$h(hs(p,1,bi,!0),yt(y,2))}),lfe=Jt(function(p){var y=el(p);return y=typeof y=="function"?y:n,$h(hs(p,1,bi,!0),n,y)});function ufe(p){return p&&p.length?$h(p):[]}function cfe(p,y){return p&&p.length?$h(p,yt(y,2)):[]}function ffe(p,y){return y=typeof y=="function"?y:n,p&&p.length?$h(p,n,y):[]}function g5(p){if(!(p&&p.length))return[];var y=0;return p=Eh(p,function(w){if(bi(w))return y=ji(w.length,y),!0}),$C(y,function(w){return jr(p,DC(w))})}function mF(p,y){if(!(p&&p.length))return[];var w=g5(p);return y==null?w:jr(w,function(E){return da(y,n,E)})}var hfe=Jt(function(p,y){return bi(p)?Ey(p,y):[]}),dfe=Jt(function(p){return e5(Eh(p,bi))}),pfe=Jt(function(p){var y=el(p);return bi(y)&&(y=n),e5(Eh(p,bi),yt(y,2))}),mfe=Jt(function(p){var y=el(p);return y=typeof y=="function"?y:n,e5(Eh(p,bi),n,y)}),gfe=Jt(g5);function yfe(p,y){return $I(p||[],y||[],Ay)}function bfe(p,y){return $I(p||[],y||[],Py)}var vfe=Jt(function(p){var y=p.length,w=y>1?p[y-1]:n;return w=typeof w=="function"?(p.pop(),w):n,mF(p,w)});function gF(p){var y=F(p);return y.__chain__=!0,y}function Ofe(p,y){return y(p),p}function sw(p,y){return y(p)}var wfe=rf(function(p){var y=p.length,w=y?p[0]:0,E=this.__wrapped__,D=function(L){return zC(L,p)};return y>1||this.__actions__.length||!(E instanceof gn)||!sf(w)?this.thru(D):(E=E.slice(w,+w+(y?1:0)),E.__actions__.push({func:sw,args:[D],thisArg:n}),new Ha(E,this.__chain__).thru(function(L){return y&&!L.length&&L.push(n),L}))});function xfe(){return gF(this)}function _fe(){return new Ha(this.value(),this.__chain__)}function Sfe(){this.__values__===n&&(this.__values__=DF(this.value()));var p=this.__index__>=this.__values__.length,y=p?n:this.__values__[this.__index__++];return{done:p,value:y}}function kfe(){return this}function Cfe(p){for(var y,w=this;w instanceof q2;){var E=uF(w);E.__index__=0,E.__values__=n,y?D.__wrapped__=E:y=E;var D=E;w=w.__wrapped__}return D.__wrapped__=p,y}function Afe(){var p=this.__wrapped__;if(p instanceof gn){var y=p;return this.__actions__.length&&(y=new gn(this)),y=y.reverse(),y.__actions__.push({func:sw,args:[m5],thisArg:n}),new Ha(y,this.__chain__)}return this.thru(m5)}function Efe(){return RI(this.__wrapped__,this.__actions__)}var Tfe=H2(function(p,y,w){Vn.call(p,w)?++p[w]:tf(p,w,1)});function Dfe(p,y,w){var E=zt(p)?V$:Oue;return w&&Gs(p,y,w)&&(y=n),E(p,yt(y,3))}function Pfe(p,y){var w=zt(p)?Eh:mI;return w(p,yt(y,3))}var Rfe=jI(cF),$fe=jI(fF);function Ife(p,y){return hs(ow(p,y),1)}function Ffe(p,y){return hs(ow(p,y),j)}function Mfe(p,y,w){return w=w===n?1:Xt(w),hs(ow(p,y),w)}function yF(p,y){var w=zt(p)?Ya:Rh;return w(p,yt(y,3))}function bF(p,y){var w=zt(p)?tle:pI;return w(p,yt(y,3))}var Lfe=H2(function(p,y,w){Vn.call(p,w)?p[w].push(y):tf(p,w,[y])});function Nfe(p,y,w,E){p=Co(p)?p:bm(p),w=w&&!E?Xt(w):0;var D=p.length;return w<0&&(w=ji(D+w,0)),fw(p)?w<=D&&p.indexOf(y,w)>-1:!!D&&om(p,y,w)>-1}var Qfe=Jt(function(p,y,w){var E=-1,D=typeof y=="function",L=Co(p)?he(p.length):[];return Rh(p,function(q){L[++E]=D?da(y,q,w):Ty(q,y,w)}),L}),Bfe=H2(function(p,y,w){tf(p,w,y)});function ow(p,y){var w=zt(p)?jr:wI;return w(p,yt(y,3))}function zfe(p,y,w,E){return p==null?[]:(zt(y)||(y=y==null?[]:[y]),w=E?n:w,zt(w)||(w=w==null?[]:[w]),kI(p,y,w))}var Ufe=H2(function(p,y,w){p[w?0:1].push(y)},function(){return[[],[]]});function jfe(p,y,w){var E=zt(p)?EC:Y$,D=arguments.length<3;return E(p,yt(y,4),w,D,Rh)}function qfe(p,y,w){var E=zt(p)?nle:Y$,D=arguments.length<3;return E(p,yt(y,4),w,D,pI)}function Vfe(p,y){var w=zt(p)?Eh:mI;return w(p,uw(yt(y,3)))}function Xfe(p){var y=zt(p)?cI:Nue;return y(p)}function Zfe(p,y,w){(w?Gs(p,y,w):y===n)?y=1:y=Xt(y);var E=zt(p)?mue:Que;return E(p,y)}function Wfe(p){var y=zt(p)?gue:zue;return y(p)}function Yfe(p){if(p==null)return 0;if(Co(p))return fw(p)?lm(p):p.length;var y=_s(p);return y==lt||y==an?p.size:ZC(p).length}function Gfe(p,y,w){var E=zt(p)?TC:Uue;return w&&Gs(p,y,w)&&(y=n),E(p,yt(y,3))}var Hfe=Jt(function(p,y){if(p==null)return[];var w=y.length;return w>1&&Gs(p,y[0],y[1])?y=[]:w>2&&Gs(y[0],y[1],y[2])&&(y=[y[0]]),kI(p,hs(y,1),[])}),aw=Ple||function(){return fs.Date.now()};function Kfe(p,y){if(typeof y!="function")throw new Ga(o);return p=Xt(p),function(){if(--p<1)return y.apply(this,arguments)}}function vF(p,y,w){return y=w?n:y,y=p&&y==null?p.length:y,nf(p,C,n,n,n,n,y)}function OF(p,y){var w;if(typeof y!="function")throw new Ga(o);return p=Xt(p),function(){return--p>0&&(w=y.apply(this,arguments)),p<=1&&(y=n),w}}var y5=Jt(function(p,y,w){var E=b;if(w.length){var D=Dh(w,gm(y5));E|=k}return nf(p,E,y,w,D)}),wF=Jt(function(p,y,w){var E=b|v;if(w.length){var D=Dh(w,gm(wF));E|=k}return nf(y,E,p,w,D)});function xF(p,y,w){y=w?n:y;var E=nf(p,_,n,n,n,n,n,y);return E.placeholder=xF.placeholder,E}function _F(p,y,w){y=w?n:y;var E=nf(p,S,n,n,n,n,n,y);return E.placeholder=_F.placeholder,E}function SF(p,y,w){var E,D,L,q,J,re,be=0,Oe=!1,Ae=!1,je=!0;if(typeof p!="function")throw new Ga(o);y=tl(y)||0,Yr(w)&&(Oe=!!w.leading,Ae="maxWait"in w,L=Ae?ji(tl(w.maxWait)||0,y):L,je="trailing"in w?!!w.trailing:je);function ot(vi){var Ul=E,lf=D;return E=D=n,be=vi,q=p.apply(lf,Ul),q}function xt(vi){return be=vi,J=Iy(un,y),Oe?ot(vi):q}function Gt(vi){var Ul=vi-re,lf=vi-be,jF=y-Ul;return Ae?xs(jF,L-lf):jF}function _t(vi){var Ul=vi-re,lf=vi-be;return re===n||Ul>=y||Ul<0||Ae&&lf>=L}function un(){var vi=aw();if(_t(vi))return _n(vi);J=Iy(un,Gt(vi))}function _n(vi){return J=n,je&&E?ot(vi):(E=D=n,q)}function ya(){J!==n&&II(J),be=0,E=re=D=J=n}function Hs(){return J===n?q:_n(aw())}function ba(){var vi=aw(),Ul=_t(vi);if(E=arguments,D=this,re=vi,Ul){if(J===n)return xt(re);if(Ae)return II(J),J=Iy(un,y),ot(re)}return J===n&&(J=Iy(un,y)),q}return ba.cancel=ya,ba.flush=Hs,ba}var Jfe=Jt(function(p,y){return dI(p,1,y)}),ehe=Jt(function(p,y,w){return dI(p,tl(y)||0,w)});function the(p){return nf(p,P)}function lw(p,y){if(typeof p!="function"||y!=null&&typeof y!="function")throw new Ga(o);var w=function(){var E=arguments,D=y?y.apply(this,E):E[0],L=w.cache;if(L.has(D))return L.get(D);var q=p.apply(this,E);return w.cache=L.set(D,q)||L,q};return w.cache=new(lw.Cache||ef),w}lw.Cache=ef;function uw(p){if(typeof p!="function")throw new Ga(o);return function(){var y=arguments;switch(y.length){case 0:return!p.call(this);case 1:return!p.call(this,y[0]);case 2:return!p.call(this,y[0],y[1]);case 3:return!p.call(this,y[0],y[1],y[2])}return!p.apply(this,y)}}function nhe(p){return OF(2,p)}var rhe=jue(function(p,y){y=y.length==1&&zt(y[0])?jr(y[0],pa(yt())):jr(hs(y,1),pa(yt()));var w=y.length;return Jt(function(E){for(var D=-1,L=xs(E.length,w);++D<L;)E[D]=y[D].call(this,E[D]);return da(p,this,E)})}),b5=Jt(function(p,y){var w=Dh(y,gm(b5));return nf(p,k,n,y,w)}),kF=Jt(function(p,y){var w=Dh(y,gm(kF));return nf(p,A,n,y,w)}),ihe=rf(function(p,y){return nf(p,T,n,n,n,y)});function she(p,y){if(typeof p!="function")throw new Ga(o);return y=y===n?y:Xt(y),Jt(p,y)}function ohe(p,y){if(typeof p!="function")throw new Ga(o);return y=y==null?0:ji(Xt(y),0),Jt(function(w){var E=w[y],D=Fh(w,0,y);return E&&Th(D,E),da(p,this,D)})}function ahe(p,y,w){var E=!0,D=!0;if(typeof p!="function")throw new Ga(o);return Yr(w)&&(E="leading"in w?!!w.leading:E,D="trailing"in w?!!w.trailing:D),SF(p,y,{leading:E,maxWait:y,trailing:D})}function lhe(p){return vF(p,1)}function uhe(p,y){return b5(n5(y),p)}function che(){if(!arguments.length)return[];var p=arguments[0];return zt(p)?p:[p]}function fhe(p){return Ka(p,d)}function hhe(p,y){return y=typeof y=="function"?y:n,Ka(p,d,y)}function dhe(p){return Ka(p,f|d)}function phe(p,y){return y=typeof y=="function"?y:n,Ka(p,f|d,y)}function mhe(p,y){return y==null||hI(p,y,es(y))}function zl(p,y){return p===y||p!==p&&y!==y}var ghe=tw(qC),yhe=tw(function(p,y){return p>=y}),lp=bI((function(){return arguments})())?bI:function(p){return ci(p)&&Vn.call(p,"callee")&&!iI.call(p,"callee")},zt=he.isArray,bhe=Q$?pa(Q$):Cue;function Co(p){return p!=null&&cw(p.length)&&!of(p)}function bi(p){return ci(p)&&Co(p)}function vhe(p){return p===!0||p===!1||ci(p)&&Ys(p)==We}var Mh=$le||T5,Ohe=B$?pa(B$):Aue;function whe(p){return ci(p)&&p.nodeType===1&&!Fy(p)}function xhe(p){if(p==null)return!0;if(Co(p)&&(zt(p)||typeof p=="string"||typeof p.splice=="function"||Mh(p)||ym(p)||lp(p)))return!p.length;var y=_s(p);if(y==lt||y==an)return!p.size;if($y(p))return!ZC(p).length;for(var w in p)if(Vn.call(p,w))return!1;return!0}function _he(p,y){return Dy(p,y)}function She(p,y,w){w=typeof w=="function"?w:n;var E=w?w(p,y):n;return E===n?Dy(p,y,n,w):!!E}function v5(p){if(!ci(p))return!1;var y=Ys(p);return y==ze||y==Te||typeof p.message=="string"&&typeof p.name=="string"&&!Fy(p)}function khe(p){return typeof p=="number"&&oI(p)}function of(p){if(!Yr(p))return!1;var y=Ys(p);return y==Ue||y==Re||y==Qe||y==nt}function CF(p){return typeof p=="number"&&p==Xt(p)}function cw(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=ee}function Yr(p){var y=typeof p;return p!=null&&(y=="object"||y=="function")}function ci(p){return p!=null&&typeof p=="object"}var AF=z$?pa(z$):Tue;function Che(p,y){return p===y||XC(p,y,u5(y))}function Ahe(p,y,w){return w=typeof w=="function"?w:n,XC(p,y,u5(y),w)}function Ehe(p){return EF(p)&&p!=+p}function The(p){if(hce(p))throw new Nt(s);return vI(p)}function Dhe(p){return p===null}function Phe(p){return p==null}function EF(p){return typeof p=="number"||ci(p)&&Ys(p)==it}function Fy(p){if(!ci(p)||Ys(p)!=ft)return!1;var y=L2(p);if(y===null)return!0;var w=Vn.call(y,"constructor")&&y.constructor;return typeof w=="function"&&w instanceof w&&$2.call(w)==Ale}var O5=U$?pa(U$):Due;function Rhe(p){return CF(p)&&p>=-ee&&p<=ee}var TF=j$?pa(j$):Pue;function fw(p){return typeof p=="string"||!zt(p)&&ci(p)&&Ys(p)==xn}function ga(p){return typeof p=="symbol"||ci(p)&&Ys(p)==or}var ym=q$?pa(q$):Rue;function $he(p){return p===n}function Ihe(p){return ci(p)&&_s(p)==dn}function Fhe(p){return ci(p)&&Ys(p)==yi}var Mhe=tw(WC),Lhe=tw(function(p,y){return p<=y});function DF(p){if(!p)return[];if(Co(p))return fw(p)?Ql(p):ko(p);if(xy&&p[xy])return mle(p[xy]());var y=_s(p),w=y==lt?FC:y==an?D2:bm;return w(p)}function af(p){if(!p)return p===0?p:0;if(p=tl(p),p===j||p===-j){var y=p<0?-1:1;return y*W}return p===p?p:0}function Xt(p){var y=af(p),w=y%1;return y===y?w?y-w:y:0}function PF(p){return p?ip(Xt(p),0,te):0}function tl(p){if(typeof p=="number")return p;if(ga(p))return ue;if(Yr(p)){var y=typeof p.valueOf=="function"?p.valueOf():p;p=Yr(y)?y+"":y}if(typeof p!="string")return p===0?p:+p;p=G$(p);var w=st.test(p);return w||Ie.test(p)?Kae(p.slice(2),w?2:8):rt.test(p)?ue:+p}function RF(p){return Pu(p,Ao(p))}function Nhe(p){return p?ip(Xt(p),-ee,ee):p===0?p:0}function Xn(p){return p==null?"":ma(p)}var Qhe=pm(function(p,y){if($y(y)||Co(y)){Pu(y,es(y),p);return}for(var w in y)Vn.call(y,w)&&Ay(p,w,y[w])}),$F=pm(function(p,y){Pu(y,Ao(y),p)}),hw=pm(function(p,y,w,E){Pu(y,Ao(y),p,E)}),Bhe=pm(function(p,y,w,E){Pu(y,es(y),p,E)}),zhe=rf(zC);function Uhe(p,y){var w=dm(p);return y==null?w:fI(w,y)}var jhe=Jt(function(p,y){p=dr(p);var w=-1,E=y.length,D=E>2?y[2]:n;for(D&&Gs(y[0],y[1],D)&&(E=1);++w<E;)for(var L=y[w],q=Ao(L),J=-1,re=q.length;++J<re;){var be=q[J],Oe=p[be];(Oe===n||zl(Oe,cm[be])&&!Vn.call(p,be))&&(p[be]=L[be])}return p}),qhe=Jt(function(p){return p.push(n,GI),da(IF,n,p)});function Vhe(p,y){return X$(p,yt(y,3),Du)}function Xhe(p,y){return X$(p,yt(y,3),jC)}function Zhe(p,y){return p==null?p:UC(p,yt(y,3),Ao)}function Whe(p,y){return p==null?p:gI(p,yt(y,3),Ao)}function Yhe(p,y){return p&&Du(p,yt(y,3))}function Ghe(p,y){return p&&jC(p,yt(y,3))}function Hhe(p){return p==null?[]:Z2(p,es(p))}function Khe(p){return p==null?[]:Z2(p,Ao(p))}function w5(p,y,w){var E=p==null?n:sp(p,y);return E===n?w:E}function Jhe(p,y){return p!=null&&JI(p,y,xue)}function x5(p,y){return p!=null&&JI(p,y,_ue)}var ede=VI(function(p,y,w){y!=null&&typeof y.toString!="function"&&(y=I2.call(y)),p[y]=w},S5(Eo)),tde=VI(function(p,y,w){y!=null&&typeof y.toString!="function"&&(y=I2.call(y)),Vn.call(p,y)?p[y].push(w):p[y]=[w]},yt),nde=Jt(Ty);function es(p){return Co(p)?uI(p):ZC(p)}function Ao(p){return Co(p)?uI(p,!0):$ue(p)}function rde(p,y){var w={};return y=yt(y,3),Du(p,function(E,D,L){tf(w,y(E,D,L),E)}),w}function ide(p,y){var w={};return y=yt(y,3),Du(p,function(E,D,L){tf(w,D,y(E,D,L))}),w}var sde=pm(function(p,y,w){W2(p,y,w)}),IF=pm(function(p,y,w,E){W2(p,y,w,E)}),ode=rf(function(p,y){var w={};if(p==null)return w;var E=!1;y=jr(y,function(L){return L=Ih(L,p),E||(E=L.length>1),L}),Pu(p,a5(p),w),E&&(w=Ka(w,f|h|d,ece));for(var D=y.length;D--;)JC(w,y[D]);return w});function ade(p,y){return FF(p,uw(yt(y)))}var lde=rf(function(p,y){return p==null?{}:Fue(p,y)});function FF(p,y){if(p==null)return{};var w=jr(a5(p),function(E){return[E]});return y=yt(y),CI(p,w,function(E,D){return y(E,D[0])})}function ude(p,y,w){y=Ih(y,p);var E=-1,D=y.length;for(D||(D=1,p=n);++E<D;){var L=p==null?n:p[Ru(y[E])];L===n&&(E=D,L=w),p=of(L)?L.call(p):L}return p}function cde(p,y,w){return p==null?p:Py(p,y,w)}function fde(p,y,w,E){return E=typeof E=="function"?E:n,p==null?p:Py(p,y,w,E)}var MF=WI(es),LF=WI(Ao);function hde(p,y,w){var E=zt(p),D=E||Mh(p)||ym(p);if(y=yt(y,4),w==null){var L=p&&p.constructor;D?w=E?new L:[]:Yr(p)?w=of(L)?dm(L2(p)):{}:w={}}return(D?Ya:Du)(p,function(q,J,re){return y(w,q,J,re)}),w}function dde(p,y){return p==null?!0:JC(p,y)}function pde(p,y,w){return p==null?p:PI(p,y,n5(w))}function mde(p,y,w,E){return E=typeof E=="function"?E:n,p==null?p:PI(p,y,n5(w),E)}function bm(p){return p==null?[]:IC(p,es(p))}function gde(p){return p==null?[]:IC(p,Ao(p))}function yde(p,y,w){return w===n&&(w=y,y=n),w!==n&&(w=tl(w),w=w===w?w:0),y!==n&&(y=tl(y),y=y===y?y:0),ip(tl(p),y,w)}function bde(p,y,w){return y=af(y),w===n?(w=y,y=0):w=af(w),p=tl(p),Sue(p,y,w)}function vde(p,y,w){if(w&&typeof w!="boolean"&&Gs(p,y,w)&&(y=w=n),w===n&&(typeof y=="boolean"?(w=y,y=n):typeof p=="boolean"&&(w=p,p=n)),p===n&&y===n?(p=0,y=1):(p=af(p),y===n?(y=p,p=0):y=af(y)),p>y){var E=p;p=y,y=E}if(w||p%1||y%1){var D=aI();return xs(p+D*(y-p+Hae("1e-"+((D+"").length-1))),y)}return GC(p,y)}var Ode=mm(function(p,y,w){return y=y.toLowerCase(),p+(w?NF(y):y)});function NF(p){return _5(Xn(p).toLowerCase())}function QF(p){return p=Xn(p),p&&p.replace(ye,cle).replace(zae,"")}function wde(p,y,w){p=Xn(p),y=ma(y);var E=p.length;w=w===n?E:ip(Xt(w),0,E);var D=w;return w-=y.length,w>=0&&p.slice(w,D)==y}function xde(p){return p=Xn(p),p&&Bi.test(p)?p.replace(Qi,fle):p}function _de(p){return p=Xn(p),p&&Ji.test(p)?p.replace(zr,"\\$&"):p}var Sde=mm(function(p,y,w){return p+(w?"-":"")+y.toLowerCase()}),kde=mm(function(p,y,w){return p+(w?" ":"")+y.toLowerCase()}),Cde=UI("toLowerCase");function Ade(p,y,w){p=Xn(p),y=Xt(y);var E=y?lm(p):0;if(!y||E>=y)return p;var D=(y-E)/2;return ew(z2(D),w)+p+ew(B2(D),w)}function Ede(p,y,w){p=Xn(p),y=Xt(y);var E=y?lm(p):0;return y&&E<y?p+ew(y-E,w):p}function Tde(p,y,w){p=Xn(p),y=Xt(y);var E=y?lm(p):0;return y&&E<y?ew(y-E,w)+p:p}function Dde(p,y,w){return w||y==null?y=0:y&&(y=+y),Lle(Xn(p).replace(fa,""),y||0)}function Pde(p,y,w){return(w?Gs(p,y,w):y===n)?y=1:y=Xt(y),HC(Xn(p),y)}function Rde(){var p=arguments,y=Xn(p[0]);return p.length<3?y:y.replace(p[1],p[2])}var $de=mm(function(p,y,w){return p+(w?"_":"")+y.toLowerCase()});function Ide(p,y,w){return w&&typeof w!="number"&&Gs(p,y,w)&&(y=w=n),w=w===n?te:w>>>0,w?(p=Xn(p),p&&(typeof y=="string"||y!=null&&!O5(y))&&(y=ma(y),!y&&am(p))?Fh(Ql(p),0,w):p.split(y,w)):[]}var Fde=mm(function(p,y,w){return p+(w?" ":"")+_5(y)});function Mde(p,y,w){return p=Xn(p),w=w==null?0:ip(Xt(w),0,p.length),y=ma(y),p.slice(w,w+y.length)==y}function Lde(p,y,w){var E=F.templateSettings;w&&Gs(p,y,w)&&(y=n),p=Xn(p),y=hw({},y,E,YI);var D=hw({},y.imports,E.imports,YI),L=es(D),q=IC(D,L),J,re,be=0,Oe=y.interpolate||Ne,Ae="__p += '",je=MC((y.escape||Ne).source+"|"+Oe.source+"|"+(Oe===Nn?Pe:Ne).source+"|"+(y.evaluate||Ne).source+"|$","g"),ot="//# sourceURL="+(Vn.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xae+"]")+`
`;p.replace(je,function(_t,un,_n,ya,Hs,ba){return _n||(_n=ya),Ae+=p.slice(be,ba).replace(pn,hle),un&&(J=!0,Ae+=`' +
__e(`+un+`) +
'`),Hs&&(re=!0,Ae+=`';
`+Hs+`;
__p += '`),_n&&(Ae+=`' +
((__t = (`+_n+`)) == null ? '' : __t) +
'`),be=ba+_t.length,_t}),Ae+=`';
`;var xt=Vn.call(y,"variable")&&y.variable;if(!xt)Ae=`with (obj) {
`+Ae+`
}
`;else if(Ah.test(xt))throw new Nt(a);Ae=(re?Ae.replace(ar,""):Ae).replace(ai,"$1").replace(Qr,"$1;"),Ae="function("+(xt||"obj")+`) {
`+(xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var Gt=zF(function(){return Qn(L,ot+"return "+Ae).apply(n,q)});if(Gt.source=Ae,v5(Gt))throw Gt;return Gt}function Nde(p){return Xn(p).toLowerCase()}function Qde(p){return Xn(p).toUpperCase()}function Bde(p,y,w){if(p=Xn(p),p&&(w||y===n))return G$(p);if(!p||!(y=ma(y)))return p;var E=Ql(p),D=Ql(y),L=H$(E,D),q=K$(E,D)+1;return Fh(E,L,q).join("")}function zde(p,y,w){if(p=Xn(p),p&&(w||y===n))return p.slice(0,eI(p)+1);if(!p||!(y=ma(y)))return p;var E=Ql(p),D=K$(E,Ql(y))+1;return Fh(E,0,D).join("")}function Ude(p,y,w){if(p=Xn(p),p&&(w||y===n))return p.replace(fa,"");if(!p||!(y=ma(y)))return p;var E=Ql(p),D=H$(E,Ql(y));return Fh(E,D).join("")}function jde(p,y){var w=N,E=I;if(Yr(y)){var D="separator"in y?y.separator:D;w="length"in y?Xt(y.length):w,E="omission"in y?ma(y.omission):E}p=Xn(p);var L=p.length;if(am(p)){var q=Ql(p);L=q.length}if(w>=L)return p;var J=w-lm(E);if(J<1)return E;var re=q?Fh(q,0,J).join(""):p.slice(0,J);if(D===n)return re+E;if(q&&(J+=re.length-J),O5(D)){if(p.slice(J).search(D)){var be,Oe=re;for(D.global||(D=MC(D.source,Xn(Ze.exec(D))+"g")),D.lastIndex=0;be=D.exec(Oe);)var Ae=be.index;re=re.slice(0,Ae===n?J:Ae)}}else if(p.indexOf(ma(D),J)!=J){var je=re.lastIndexOf(D);je>-1&&(re=re.slice(0,je))}return re+E}function qde(p){return p=Xn(p),p&&li.test(p)?p.replace(wr,vle):p}var Vde=mm(function(p,y,w){return p+(w?" ":"")+y.toUpperCase()}),_5=UI("toUpperCase");function BF(p,y,w){return p=Xn(p),y=w?n:y,y===n?ple(p)?xle(p):sle(p):p.match(y)||[]}var zF=Jt(function(p,y){try{return da(p,n,y)}catch(w){return v5(w)?w:new Nt(w)}}),Xde=rf(function(p,y){return Ya(y,function(w){w=Ru(w),tf(p,w,y5(p[w],p))}),p});function Zde(p){var y=p==null?0:p.length,w=yt();return p=y?jr(p,function(E){if(typeof E[1]!="function")throw new Ga(o);return[w(E[0]),E[1]]}):[],Jt(function(E){for(var D=-1;++D<y;){var L=p[D];if(da(L[0],this,E))return da(L[1],this,E)}})}function Wde(p){return vue(Ka(p,f))}function S5(p){return function(){return p}}function Yde(p,y){return p==null||p!==p?y:p}var Gde=qI(),Hde=qI(!0);function Eo(p){return p}function k5(p){return OI(typeof p=="function"?p:Ka(p,f))}function Kde(p){return xI(Ka(p,f))}function Jde(p,y){return _I(p,Ka(y,f))}var epe=Jt(function(p,y){return function(w){return Ty(w,p,y)}}),tpe=Jt(function(p,y){return function(w){return Ty(p,w,y)}});function C5(p,y,w){var E=es(y),D=Z2(y,E);w==null&&!(Yr(y)&&(D.length||!E.length))&&(w=y,y=p,p=this,D=Z2(y,es(y)));var L=!(Yr(w)&&"chain"in w)||!!w.chain,q=of(p);return Ya(D,function(J){var re=y[J];p[J]=re,q&&(p.prototype[J]=function(){var be=this.__chain__;if(L||be){var Oe=p(this.__wrapped__),Ae=Oe.__actions__=ko(this.__actions__);return Ae.push({func:re,args:arguments,thisArg:p}),Oe.__chain__=be,Oe}return re.apply(p,Th([this.value()],arguments))})}),p}function npe(){return fs._===this&&(fs._=Ele),this}function A5(){}function rpe(p){return p=Xt(p),Jt(function(y){return SI(y,p)})}var ipe=i5(jr),spe=i5(V$),ope=i5(TC);function UF(p){return f5(p)?DC(Ru(p)):Mue(p)}function ape(p){return function(y){return p==null?n:sp(p,y)}}var lpe=XI(),upe=XI(!0);function E5(){return[]}function T5(){return!1}function cpe(){return{}}function fpe(){return""}function hpe(){return!0}function dpe(p,y){if(p=Xt(p),p<1||p>ee)return[];var w=te,E=xs(p,te);y=yt(y),p-=te;for(var D=$C(E,y);++w<p;)y(w);return D}function ppe(p){return zt(p)?jr(p,Ru):ga(p)?[p]:ko(lF(Xn(p)))}function mpe(p){var y=++Cle;return Xn(p)+y}var gpe=J2(function(p,y){return p+y},0),ype=s5("ceil"),bpe=J2(function(p,y){return p/y},1),vpe=s5("floor");function Ope(p){return p&&p.length?X2(p,Eo,qC):n}function wpe(p,y){return p&&p.length?X2(p,yt(y,2),qC):n}function xpe(p){return W$(p,Eo)}function _pe(p,y){return W$(p,yt(y,2))}function Spe(p){return p&&p.length?X2(p,Eo,WC):n}function kpe(p,y){return p&&p.length?X2(p,yt(y,2),WC):n}var Cpe=J2(function(p,y){return p*y},1),Ape=s5("round"),Epe=J2(function(p,y){return p-y},0);function Tpe(p){return p&&p.length?RC(p,Eo):0}function Dpe(p,y){return p&&p.length?RC(p,yt(y,2)):0}return F.after=Kfe,F.ary=vF,F.assign=Qhe,F.assignIn=$F,F.assignInWith=hw,F.assignWith=Bhe,F.at=zhe,F.before=OF,F.bind=y5,F.bindAll=Xde,F.bindKey=wF,F.castArray=che,F.chain=gF,F.chunk=vce,F.compact=Oce,F.concat=wce,F.cond=Zde,F.conforms=Wde,F.constant=S5,F.countBy=Tfe,F.create=Uhe,F.curry=xF,F.curryRight=_F,F.debounce=SF,F.defaults=jhe,F.defaultsDeep=qhe,F.defer=Jfe,F.delay=ehe,F.difference=xce,F.differenceBy=_ce,F.differenceWith=Sce,F.drop=kce,F.dropRight=Cce,F.dropRightWhile=Ace,F.dropWhile=Ece,F.fill=Tce,F.filter=Pfe,F.flatMap=Ife,F.flatMapDeep=Ffe,F.flatMapDepth=Mfe,F.flatten=hF,F.flattenDeep=Dce,F.flattenDepth=Pce,F.flip=the,F.flow=Gde,F.flowRight=Hde,F.fromPairs=Rce,F.functions=Hhe,F.functionsIn=Khe,F.groupBy=Lfe,F.initial=Ice,F.intersection=Fce,F.intersectionBy=Mce,F.intersectionWith=Lce,F.invert=ede,F.invertBy=tde,F.invokeMap=Qfe,F.iteratee=k5,F.keyBy=Bfe,F.keys=es,F.keysIn=Ao,F.map=ow,F.mapKeys=rde,F.mapValues=ide,F.matches=Kde,F.matchesProperty=Jde,F.memoize=lw,F.merge=sde,F.mergeWith=IF,F.method=epe,F.methodOf=tpe,F.mixin=C5,F.negate=uw,F.nthArg=rpe,F.omit=ode,F.omitBy=ade,F.once=nhe,F.orderBy=zfe,F.over=ipe,F.overArgs=rhe,F.overEvery=spe,F.overSome=ope,F.partial=b5,F.partialRight=kF,F.partition=Ufe,F.pick=lde,F.pickBy=FF,F.property=UF,F.propertyOf=ape,F.pull=zce,F.pullAll=pF,F.pullAllBy=Uce,F.pullAllWith=jce,F.pullAt=qce,F.range=lpe,F.rangeRight=upe,F.rearg=ihe,F.reject=Vfe,F.remove=Vce,F.rest=she,F.reverse=m5,F.sampleSize=Zfe,F.set=cde,F.setWith=fde,F.shuffle=Wfe,F.slice=Xce,F.sortBy=Hfe,F.sortedUniq=Jce,F.sortedUniqBy=efe,F.split=Ide,F.spread=ohe,F.tail=tfe,F.take=nfe,F.takeRight=rfe,F.takeRightWhile=ife,F.takeWhile=sfe,F.tap=Ofe,F.throttle=ahe,F.thru=sw,F.toArray=DF,F.toPairs=MF,F.toPairsIn=LF,F.toPath=ppe,F.toPlainObject=RF,F.transform=hde,F.unary=lhe,F.union=ofe,F.unionBy=afe,F.unionWith=lfe,F.uniq=ufe,F.uniqBy=cfe,F.uniqWith=ffe,F.unset=dde,F.unzip=g5,F.unzipWith=mF,F.update=pde,F.updateWith=mde,F.values=bm,F.valuesIn=gde,F.without=hfe,F.words=BF,F.wrap=uhe,F.xor=dfe,F.xorBy=pfe,F.xorWith=mfe,F.zip=gfe,F.zipObject=yfe,F.zipObjectDeep=bfe,F.zipWith=vfe,F.entries=MF,F.entriesIn=LF,F.extend=$F,F.extendWith=hw,C5(F,F),F.add=gpe,F.attempt=zF,F.camelCase=Ode,F.capitalize=NF,F.ceil=ype,F.clamp=yde,F.clone=fhe,F.cloneDeep=dhe,F.cloneDeepWith=phe,F.cloneWith=hhe,F.conformsTo=mhe,F.deburr=QF,F.defaultTo=Yde,F.divide=bpe,F.endsWith=wde,F.eq=zl,F.escape=xde,F.escapeRegExp=_de,F.every=Dfe,F.find=Rfe,F.findIndex=cF,F.findKey=Vhe,F.findLast=$fe,F.findLastIndex=fF,F.findLastKey=Xhe,F.floor=vpe,F.forEach=yF,F.forEachRight=bF,F.forIn=Zhe,F.forInRight=Whe,F.forOwn=Yhe,F.forOwnRight=Ghe,F.get=w5,F.gt=ghe,F.gte=yhe,F.has=Jhe,F.hasIn=x5,F.head=dF,F.identity=Eo,F.includes=Nfe,F.indexOf=$ce,F.inRange=bde,F.invoke=nde,F.isArguments=lp,F.isArray=zt,F.isArrayBuffer=bhe,F.isArrayLike=Co,F.isArrayLikeObject=bi,F.isBoolean=vhe,F.isBuffer=Mh,F.isDate=Ohe,F.isElement=whe,F.isEmpty=xhe,F.isEqual=_he,F.isEqualWith=She,F.isError=v5,F.isFinite=khe,F.isFunction=of,F.isInteger=CF,F.isLength=cw,F.isMap=AF,F.isMatch=Che,F.isMatchWith=Ahe,F.isNaN=Ehe,F.isNative=The,F.isNil=Phe,F.isNull=Dhe,F.isNumber=EF,F.isObject=Yr,F.isObjectLike=ci,F.isPlainObject=Fy,F.isRegExp=O5,F.isSafeInteger=Rhe,F.isSet=TF,F.isString=fw,F.isSymbol=ga,F.isTypedArray=ym,F.isUndefined=$he,F.isWeakMap=Ihe,F.isWeakSet=Fhe,F.join=Nce,F.kebabCase=Sde,F.last=el,F.lastIndexOf=Qce,F.lowerCase=kde,F.lowerFirst=Cde,F.lt=Mhe,F.lte=Lhe,F.max=Ope,F.maxBy=wpe,F.mean=xpe,F.meanBy=_pe,F.min=Spe,F.minBy=kpe,F.stubArray=E5,F.stubFalse=T5,F.stubObject=cpe,F.stubString=fpe,F.stubTrue=hpe,F.multiply=Cpe,F.nth=Bce,F.noConflict=npe,F.noop=A5,F.now=aw,F.pad=Ade,F.padEnd=Ede,F.padStart=Tde,F.parseInt=Dde,F.random=vde,F.reduce=jfe,F.reduceRight=qfe,F.repeat=Pde,F.replace=Rde,F.result=ude,F.round=Ape,F.runInContext=ne,F.sample=Xfe,F.size=Yfe,F.snakeCase=$de,F.some=Gfe,F.sortedIndex=Zce,F.sortedIndexBy=Wce,F.sortedIndexOf=Yce,F.sortedLastIndex=Gce,F.sortedLastIndexBy=Hce,F.sortedLastIndexOf=Kce,F.startCase=Fde,F.startsWith=Mde,F.subtract=Epe,F.sum=Tpe,F.sumBy=Dpe,F.template=Lde,F.times=dpe,F.toFinite=af,F.toInteger=Xt,F.toLength=PF,F.toLower=Nde,F.toNumber=tl,F.toSafeInteger=Nhe,F.toString=Xn,F.toUpper=Qde,F.trim=Bde,F.trimEnd=zde,F.trimStart=Ude,F.truncate=jde,F.unescape=qde,F.uniqueId=mpe,F.upperCase=Vde,F.upperFirst=_5,F.each=yF,F.eachRight=bF,F.first=dF,C5(F,(function(){var p={};return Du(F,function(y,w){Vn.call(F.prototype,w)||(p[w]=y)}),p})(),{chain:!1}),F.VERSION=r,Ya(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){F[p].placeholder=F}),Ya(["drop","take"],function(p,y){gn.prototype[p]=function(w){w=w===n?1:ji(Xt(w),0);var E=this.__filtered__&&!y?new gn(this):this.clone();return E.__filtered__?E.__takeCount__=xs(w,E.__takeCount__):E.__views__.push({size:xs(w,te),type:p+(E.__dir__<0?"Right":"")}),E},gn.prototype[p+"Right"]=function(w){return this.reverse()[p](w).reverse()}}),Ya(["filter","map","takeWhile"],function(p,y){var w=y+1,E=w==M||w==U;gn.prototype[p]=function(D){var L=this.clone();return L.__iteratees__.push({iteratee:yt(D,3),type:w}),L.__filtered__=L.__filtered__||E,L}}),Ya(["head","last"],function(p,y){var w="take"+(y?"Right":"");gn.prototype[p]=function(){return this[w](1).value()[0]}}),Ya(["initial","tail"],function(p,y){var w="drop"+(y?"":"Right");gn.prototype[p]=function(){return this.__filtered__?new gn(this):this[w](1)}}),gn.prototype.compact=function(){return this.filter(Eo)},gn.prototype.find=function(p){return this.filter(p).head()},gn.prototype.findLast=function(p){return this.reverse().find(p)},gn.prototype.invokeMap=Jt(function(p,y){return typeof p=="function"?new gn(this):this.map(function(w){return Ty(w,p,y)})}),gn.prototype.reject=function(p){return this.filter(uw(yt(p)))},gn.prototype.slice=function(p,y){p=Xt(p);var w=this;return w.__filtered__&&(p>0||y<0)?new gn(w):(p<0?w=w.takeRight(-p):p&&(w=w.drop(p)),y!==n&&(y=Xt(y),w=y<0?w.dropRight(-y):w.take(y-p)),w)},gn.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},gn.prototype.toArray=function(){return this.take(te)},Du(gn.prototype,function(p,y){var w=/^(?:filter|find|map|reject)|While$/.test(y),E=/^(?:head|last)$/.test(y),D=F[E?"take"+(y=="last"?"Right":""):y],L=E||/^find/.test(y);D&&(F.prototype[y]=function(){var q=this.__wrapped__,J=E?[1]:arguments,re=q instanceof gn,be=J[0],Oe=re||zt(q),Ae=function(un){var _n=D.apply(F,Th([un],J));return E&&je?_n[0]:_n};Oe&&w&&typeof be=="function"&&be.length!=1&&(re=Oe=!1);var je=this.__chain__,ot=!!this.__actions__.length,xt=L&&!je,Gt=re&&!ot;if(!L&&Oe){q=Gt?q:new gn(this);var _t=p.apply(q,J);return _t.__actions__.push({func:sw,args:[Ae],thisArg:n}),new Ha(_t,je)}return xt&&Gt?p.apply(this,J):(_t=this.thru(Ae),xt?E?_t.value()[0]:_t.value():_t)})}),Ya(["pop","push","shift","sort","splice","unshift"],function(p){var y=P2[p],w=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",E=/^(?:pop|shift)$/.test(p);F.prototype[p]=function(){var D=arguments;if(E&&!this.__chain__){var L=this.value();return y.apply(zt(L)?L:[],D)}return this[w](function(q){return y.apply(zt(q)?q:[],D)})}}),Du(gn.prototype,function(p,y){var w=F[y];if(w){var E=w.name+"";Vn.call(hm,E)||(hm[E]=[]),hm[E].push({name:y,func:w})}}),hm[K2(n,v).name]=[{name:"wrapper",func:n}],gn.prototype.clone=qle,gn.prototype.reverse=Vle,gn.prototype.value=Xle,F.prototype.at=wfe,F.prototype.chain=xfe,F.prototype.commit=_fe,F.prototype.next=Sfe,F.prototype.plant=Cfe,F.prototype.reverse=Afe,F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=Efe,F.prototype.first=F.prototype.head,xy&&(F.prototype[xy]=kfe),F}),um=_le();ep?((ep.exports=um)._=um,kC._=um):fs._=um}).call(EKe)})(R_,R_.exports)),R_.exports}var xD=TKe();const lae=O$(xD),DKe={headerHeight:null,columnConfigs:{},onColumnConfigsChange:()=>{},minColumnWidths:{},rowRenderBatchSize:4,minFetchSize:1,renderWindowOffset:400,verticalScrollbarPillHeight:4,verticalScrollbarWidth:24,horizontalScrollbarHeight:16,lineHeight:20,textMaxLines:3,betweenRowPadding:8,betweenColPadding:24,scrollOverflowValue:1e6,onRowClick:null,highlightedRows:null,firstColLeftPadding:8,showRowNumber:!0,onShowRowNumberChange:()=>{},highlightHoveredRow:!1,get rowHeight(){return this.textMaxLines*this.lineHeight+this.betweenRowPadding},DEFAULT_TEXT_MAX_LINES:3,DEFAULT_LINE_HEIGHT:20,DEFAULT_ROW_NUMBER_COL_WIDTH:60};class PKe{#e=tt(Rs(DKe));get config(){return z(this.#e)}set config(e){Se(this.#e,e,!0)}}const Jj=Symbol("config");class nr{static initialize(){ul(Jj,new PKe)}static get config(){const e=Lo(Jj);if(e==null)throw new Error("config context not yet set");return e.config}}class RKe{tableModel;tableController;margin=2;isDragging=!1;lastDragX=0;#e=tt(0);get elementWidth(){return z(this.#e)}set elementWidth(e){Se(this.#e,e,!0)}#t=De(()=>this.elementWidth-this.margin*2);get scrollbarWidth(){return z(this.#t)}set scrollbarWidth(e){Se(this.#t,e)}#n=De(()=>this.tableController.viewWidth/this.tableModel.colsRightmostPosition*this.scrollbarWidth);get pillWidth(){return z(this.#n)}set pillWidth(e){Se(this.#n,e)}#r=De(()=>-this.tableController.xScroll/this.tableModel.colsRightmostPosition*this.scrollbarWidth);get pillLeft(){return z(this.#r)}set pillLeft(e){Se(this.#r,e)}constructor({tableModel:e,tableController:n}){this.tableModel=e,this.tableController=n}handlePointerDown=e=>{e.preventDefault(),e.target.setPointerCapture(e.pointerId),this.isDragging=!0,this.lastDragX=e.offsetX};handlePointerMove=e=>{this.isDragging&&this.lastDragX!==null&&this.tableController.scroll({deltaX:e.offsetX-this.lastDragX,deltaY:0})};handlePointerUp=e=>{e.target.releasePointerCapture(e.pointerId),this.isDragging=!1,this.lastDragX=null}}const eq=Symbol("mosaic-coordinator");class _D{static get coordinator(){return Lo(eq)??MO()}static set coordinator(e){ul(eq,e)}}const $o="__oid",$Ke=120;class IKe{schema;#e=tt(Rs({}));get data(){return z(this.#e)}set data(e){Se(this.#e,e,!0)}#t=tt(Rs({}));get defaultColWidths(){return z(this.#t)}set defaultColWidths(e){Se(this.#t,e,!0)}#n=tt(Rs([]));get columns(){return z(this.#n)}set columns(e){Se(this.#n,e,!0)}#r=tt(0);get numRows(){return z(this.#r)}set numRows(e){Se(this.#r,e,!0)}#l=tt(0);get renderOffset(){return z(this.#l)}set renderOffset(e){Se(this.#l,e,!0)}#a=tt(Rs({}));get rowHeightAddition(){return z(this.#a)}set rowHeightAddition(e){Se(this.#a,e,!0)}#i=De(()=>this.columns.reduce((e,n)=>(nr.config.columnConfigs[n]?.hidden&&e.add(n),n===$o&&nr.config.showRowNumber===!1&&e.add($o),e),new Set));get hiddenColumns(){return z(this.#i)}set hiddenColumns(e){Se(this.#i,e)}rowKeyColumn=null;constructor(e){this.schema=e}#s=De(()=>Object.keys(this.data).sort((e,n)=>this.data[e][$o]-this.data[n][$o]));get renderableRows(){return z(this.#s)}set renderableRows(e){Se(this.#s,e)}#o=De(()=>this.columns.filter(e=>!this.hiddenColumns.has(e)));get renderableCols(){return z(this.#o)}set renderableCols(e){Se(this.#o,e)}#u=De(()=>this.renderableRows.length===0?this.zeroRowPosition:Math.min(...this.renderableRows.map(e=>this.rowPositions[e])));get minRowPosition(){return z(this.#u)}set minRowPosition(e){Se(this.#u,e)}#c=De(()=>this.renderableRows.length===0?this.finalRowPosition:Math.max(...this.renderableRows.map(e=>this.rowPositions[e])));get maxRowPosition(){return z(this.#c)}set maxRowPosition(e){Se(this.#c,e)}#d=De(()=>{const e=Math.min(...this.renderableRows.map(n=>this.data[n][$o]));return Number.isSafeInteger(e)?e:0});get minRowOID(){return z(this.#d)}set minRowOID(e){Se(this.#d,e)}#f=De(()=>{const e=Math.max(...this.renderableRows.map(n=>this.data[n][$o]));return Number.isSafeInteger(e)?e:0});get maxRowOID(){return z(this.#f)}set maxRowOID(e){Se(this.#f,e)}#p=De(()=>0);get zeroRowPosition(){return z(this.#p)}set zeroRowPosition(e){Se(this.#p,e)}#h=De(()=>(this.numRows-1)*nr.config.rowHeight+this.rowPositionOffsets.cumulative);get finalRowPosition(){return z(this.#h)}set finalRowPosition(e){Se(this.#h,e)}colsLeftmostPosition=0;#y=De(()=>{const e=this.renderableCols[this.renderableCols.length-1];return this.colPositions[e]+this.colWidths[e]});get colsRightmostPosition(){return z(this.#y)}set colsRightmostPosition(e){Se(this.#y,e)}#b=De(()=>this.renderableRows.reduce(({offsets:e,cumulative:n},r)=>{e[r]=n;const i=this.rowHeightAddition[r]??0;return{offsets:e,cumulative:n+i}},{offsets:{},cumulative:0}));get rowPositionOffsets(){return z(this.#b)}set rowPositionOffsets(e){Se(this.#b,e)}#v=De(()=>this.renderableRows.reduce((e,n)=>{const r=(this.data[n][$o]-1)*nr.config.rowHeight+this.rowPositionOffsets.offsets[n];return e[n]=r,e},{}));get rowPositions(){return z(this.#v)}set rowPositions(e){Se(this.#v,e)}#O=De(()=>{let e=0;return this.columns.reduce((n,r,i)=>(this.hiddenColumns.has(r)||(n[r]=e,e+=this.colWidths[r]),n),{})});get colPositions(){return z(this.#O)}set colPositions(e){Se(this.#O,e)}#m=De(()=>this.renderableRows.reduce((e,n)=>(e[n]=nr.config.rowHeight+(this.rowHeightAddition[n]??0),e),{}));get rowHeights(){return z(this.#m)}set rowHeights(e){Se(this.#m,e)}#g=De(()=>this.columns.reduce((e,n,r)=>(e[n]=Math.max(nr.config.columnConfigs[n]?.width??this.defaultColWidths[n]??$Ke,nr.config.minColumnWidths[n]??0),this.isFirstCol(n)&&(e[n]+=nr.config.firstColLeftPadding),this.isLastCol(n)&&(e[n]+=nr.config.verticalScrollbarWidth),e),{}));get colWidths(){return z(this.#g)}set colWidths(e){Se(this.#g,e)}getContent({row:e,col:n}){return this.data[e]?this.data[e][n]:null}getRowData(e){return this.data[e]?this.data[e]:null}getPosition({row:e,col:n}){const r=this.colPositions[n],i=this.rowPositions[e];return{x:r,y:i}}getDimensions({row:e,col:n}){const r=this.colWidths[n],i=this.rowHeights[e];return{width:r,height:i}}getRowParity(e){return this.data[e]&&this.data[e][$o]%2===0?"even":"odd"}isFirstCol(e){return this.renderableCols.indexOf(e)===0}isLastCol(e){return this.renderableCols.indexOf(e)===this.renderableCols.length-1}deleteRow(e){delete this.data[e];const n=this.rowHeightAddition[e]??0;return delete this.rowHeightAddition[e],n}collapseRow(e){const n=this.rowHeightAddition[e]??0;return delete this.rowHeightAddition[e],n}reset(){this.data={},this.rowHeightAddition={}}teardown(){this.reset()}}class FKe extends Dk{tableName;onResult;constructor(e,n,r){super(n??void 0),this.tableName=e,this.onResult=r}queryResult(e){const n=e.toArray()[0].count;return this.onResult(n),this}query(e=[]){return at.from(this.tableName).select({count:ei()}).where(e)}}const Io="__oid";class MKe extends Dk{tableName;columns;onResult;onColumnInfo;limit=20;offset=0;sort=null;info=null;columnInfo=null;isReady=!1;constructor(e,n,r,i,s){super(r??void 0),this.tableName=e,this.columns=n,this.onResult=i,this.onColumnInfo=s}async prepare(){if(this.coordinator==null)return;const e=(await D2e(this.coordinator,[{table:this.tableName,column:"*"}])).reduce((n,r)=>(n[r.column]=r,n),{});this.columnInfo=e,this.onColumnInfo(e),this.isReady=!0}getSelect({includeRowNumber:e}={includeRowNumber:!0}){const n=this.columns.reduce((r,i)=>(this.columnInfo?.[i]?.sqlType==="BIGINT"?r[i]=Ar(we(i),"TEXT"):r[i]=we(i),r),{});return e||delete n[Io],n}queryResult(e){return this.onResult(e),this}query(e=[]){if(!this.isReady)return null;const n=this.columns.reduce((r,i)=>(this.columnInfo?.[i]?.sqlType==="BIGINT"?r[i]=Ar(we(i),"TEXT"):r[i]=we(i),r),{});if(n[Io]=cye(),this.sort){const r=this.sort.direction==="ascending"?this.sort.column:fg(this.sort.column);n[Io]=n[Io].orderby(r)}return at.from(this.tableName).select(n).where(e).limit(this.limit).offset(this.offset)}fetchRows(e,n){this.offset=e,this.limit=n,this.requestUpdate()}}class LKe{model;schema;config;#e=De(()=>_D.coordinator);get coordinator(){return z(this.#e)}set coordinator(e){Se(this.#e,e)}filterBy=null;rowsClient=null;numRowsClient=null;rowKeyColumn=null;#t=tt(null);get element(){return z(this.#t)}set element(e){Se(this.#t,e,!0)}#n=tt(0);get viewHeight(){return z(this.#n)}set viewHeight(e){Se(this.#n,e,!0)}#r=tt(0);get viewWidth(){return z(this.#r)}set viewWidth(e){Se(this.#r,e,!0)}#l=tt(0);get yScroll(){return z(this.#l)}set yScroll(e){Se(this.#l,e,!0)}#a=tt(0);get xScroll(){return z(this.#a)}set xScroll(e){Se(this.#a,e,!0)}#i=tt(!1);get isFetching(){return z(this.#i)}set isFetching(e){Se(this.#i,e,!0)}#s=tt(!1);get isJumping(){return z(this.#s)}set isJumping(e){Se(this.#s,e,!0)}#o=tt(null);get sort(){return z(this.#o)}set sort(e){Se(this.#o,e,!0)}#u=tt(!1);get isReady(){return z(this.#u)}set isReady(e){Se(this.#u,e,!0)}#c=tt(0);get updateKey(){return z(this.#c)}set updateKey(e){Se(this.#c,e,!0)}#d=tt(!1);get isStale(){return z(this.#d)}set isStale(e){Se(this.#d,e,!0)}#f=tt(null);get flashedRowId(){return z(this.#f)}set flashedRowId(e){Se(this.#f,e,!0)}#p=tt(null);get hoveredRowId(){return z(this.#p)}set hoveredRowId(e){Se(this.#p,e,!0)}#h=De(()=>Math.ceil(this.viewHeight/nr.config.rowHeight));get rowsOnScreen(){return z(this.#h)}set rowsOnScreen(e){Se(this.#h,e)}#y=De(()=>this.isJumping?0:nr.config.renderWindowOffset);get renderWindowOffset(){return z(this.#y)}set renderWindowOffset(e){Se(this.#y,e)}#b=De(()=>{if(this.model.renderableRows.length===0)return null;const e=this.model.renderableRows.filter(r=>{const i=this.model.rowPositions[r]+this.yScroll;return i+this.model.rowHeights[r]>0&&i<this.viewHeight});if(e.length===0)return null;const n=e[0];return this.model.data[n][Io]});get firstVisibleRowOID(){return z(this.#b)}set firstVisibleRowOID(e){Se(this.#b,e)}#v=De(()=>Math.max(0,Math.floor(-this.yScroll/nr.config.rowHeight)));get offset(){return z(this.#v)}set offset(e){Se(this.#v,e)}onFetchResolveBegin=null;onFetchResolveEnd=null;constructor(e,n){this.model=e,this.schema=n,this.config=nr.config}handleFilterBy=()=>{this.rowsClient&&(this.rowsClient.offset=0,this.rowsClient.limit=this.rowsOnScreen,this.isJumping=!0,this.markStale())};updateData=e=>{if(!this.model||!this.rowKeyColumn)return;this.onFetchResolveBegin&&(this.onFetchResolveBegin(),this.onFetchResolveBegin=null);const n=e.toArray(),r={};for(const i of n){const s=i[this.rowKeyColumn];r[s]=i}this.model.data={...this.model.data,...r},this.onFetchResolveEnd&&(this.onFetchResolveEnd(),this.onFetchResolveEnd=null),this.isFetching=!1};initialize({tableName:e,rowKey:n,columns:r,filterBy:i}){if(this.model.columns=r,this.model.rowKeyColumn=n,this.rowKeyColumn=n,i&&(this.filterBy=i,this.filterBy.addEventListener("value",this.handleFilterBy)),!this.rowKeyColumn)throw new Error("rowkey cannot be null");let s=r.includes(this.rowKeyColumn)?r:[...r,this.rowKeyColumn];this.rowsClient=new MKe(e,s,i,o=>{this.updateData(o)},o=>{this.schema.columnInfo=o,this.computeColWidths(e,r),this.isReady=!0}),this.coordinator.connect(this.rowsClient),this.numRowsClient=new FKe(e,i,o=>{this.model&&(this.model.numRows=o)}),this.coordinator.connect(this.numRowsClient),Hr(()=>{if(!this.rowsClient||this.isFetching||!this.isReady)return;const o=-this.renderWindowOffset,a=this.viewHeight+this.renderWindowOffset,l=this.model.maxRowPosition+this.yScroll+this.config.rowHeight,u=this.model.minRowPosition+this.yScroll;if(u<0&&l<0||u>this.viewHeight&&l>this.viewHeight){const g=this.rowsOnScreen;this.isFetching=!0,this.rowsClient.fetchRows(this.offset,g)}else{if(l<a){const b=xD.clamp(Math.ceil((a-l)/this.config.rowHeight),this.config.minFetchSize,this.rowsOnScreen);b>0&&this.model.maxRowOID!==this.model.numRows&&(this.isFetching=!0,this.rowsClient.fetchRows(this.model.maxRowOID,b))}const g=this.model.minRowPosition+this.yScroll;if(g>o&&this.model.minRowOID!==1){const b=xD.clamp(Math.ceil((g-o)/this.config.rowHeight),this.config.minFetchSize,this.rowsOnScreen);b>0&&(this.isFetching=!0,this.rowsClient.fetchRows(Math.max(0,this.model.minRowOID-1-b),b))}}const c=koe(this.model.renderableRows);let f=0;for(;this.model.rowPositions[c[f]]+this.yScroll+this.model.rowHeights[c[f]]<0;)this.yScroll+=this.model.collapseRow(c[f]),f+=1;let h=c.length-1;for(;this.model.rowPositions[c[h]]+this.yScroll>this.viewHeight;)this.model.collapseRow(c[h]),h-=1;let d=0;for(;this.model.rowPositions[c[d]]+this.yScroll+this.model.rowHeights[c[d]]<o;)this.model.deleteRow(c[d]),d+=1;let m=c.length-1;for(;this.model.rowPositions[c[m]]+this.yScroll>a;)this.model.deleteRow(c[m]),m-=1})}teardown(){this.filterBy&&this.filterBy.removeEventListener("value",this.handleFilterBy)}cellIsVisible(e){const{x:n,y:r}=this.model.getPosition(e),{width:i,height:s}=this.model.getDimensions(e),o=n+this.xScroll,a=r+this.yScroll;return o+i>=0&&o<=this.viewWidth&&a+s>=0&&a<=this.viewHeight}rowIsVisible(e){const n=this.model.rowPositions[e],r=this.model.rowHeights[e],i=n+this.yScroll;return i+r>=0&&i<=this.viewHeight}rowStillExists(e){return this.model.data[e]!=null}colIsVisible(e){const n=this.model.colPositions[e],r=this.model.colWidths[e],i=n+this.xScroll;return i+r>=0&&i<=this.viewWidth}scroll({deltaX:e,deltaY:n}){if(Math.abs(n)>Math.abs(e)){const r=this.yScroll-n;this.model.zeroRowPosition+r>0?this.yScroll=-this.model.zeroRowPosition:this.model.finalRowPosition+r<0?this.yScroll=-this.model.finalRowPosition:this.yScroll=r}else{const r=this.xScroll-e;-r<0?this.xScroll=0:-r>Math.max(this.model.colsRightmostPosition,this.viewWidth)-this.viewWidth?this.xScroll=-Math.max(this.model.colsRightmostPosition,this.viewWidth)+this.viewWidth:this.xScroll=r}}handleWheel=e=>{e.preventDefault(),this.isJumping=!1,this.scroll({deltaX:e.deltaX,deltaY:e.deltaY})};jumpToOffset(e){if(!this.rowsClient)return;this.isFetching=!0;const n=this.rowsOnScreen,r=this.onFetchResolveEnd;this.onFetchResolveEnd=()=>{r&&r(),this.yScroll=-(e*this.config.rowHeight)},this.markStale(),this.rowsClient.fetchRows(e,n)}handleSort=e=>{this.rowsClient&&(this.sort=e,this.rowsClient.sort=e,this.resetRows())};resetRows(){this.model.reset(),this.yScroll=0}flashRow(e){this.flashedRowId=e,setTimeout(()=>{this.flashedRowId=null},400)}async scrollToRow(e,n=!0){if(!this.rowsClient)return;this.isFetching=!0;const r=at.with({original:this.rowsClient.query(this.rowsClient.filterBy?.predicate(this.rowsClient)).offset(0).limit(this.model.numRows)}).select([Io]).from("original").where(Ta(we(this.rowKeyColumn),Ve(e))),i=(await this.coordinator.query(r)).toArray();if(i.length>0){const s=i[0][Io]-1;this.onFetchResolveEnd=()=>{n&&this.flashRow(e)},this.jumpToOffset(s)}else this.isFetching=!1,console.error("no row",e,"found")}addHeightToRow(e,n){this.model.rowHeightAddition[e]=(this.model.rowHeightAddition[e]??0)+n}hideColumn(e){e===Io?this.config.onShowRowNumberChange?this.config.onShowRowNumberChange(!1):this.config.showRowNumber=!1:(this.config.columnConfigs[e]||(this.config.columnConfigs[e]={}),this.config.columnConfigs[e].hidden=!0)}showColumn(e){e===Io?this.config.onShowRowNumberChange?this.config.onShowRowNumberChange(!0):this.config.showRowNumber=!0:(this.config.columnConfigs[e]||(this.config.columnConfigs[e]={}),this.config.columnConfigs[e].hidden=!1)}markStale(){this.isStale=!0;const e=this.onFetchResolveBegin;this.onFetchResolveBegin=()=>{e&&e(),this.resetRows()};const n=this.onFetchResolveEnd;this.onFetchResolveEnd=()=>{n&&n(),this.updateKey+=1,this.isStale=!1}}async computeColWidths(e,n){const r=n.filter(l=>l!==Io),i=this.rowsClient?.getSelect({includeRowNumber:!1}),s=r.reduce((l,u)=>(l[u]=0,l),{}),o=at.from(e).select(i).offset(0).limit(10),a=(await this.coordinator.query(o)).toArray();for(const l of a)for(const u of r)s[u]=Math.max(s[u],NKe(l[u]));n.includes(Io)&&(s[Io]=this.config.DEFAULT_ROW_NUMBER_COL_WIDTH),this.model.defaultColWidths=s}}function NKe(t){const e=String(t).length;return e>200?600:e>100?300:e>20?200:e>10?150:120}class QKe{tableController;#e=De(()=>this.tableController.element);get tableElement(){return z(this.#e)}set tableElement(e){Se(this.#e,e)}constructor(e){this.tableController=e}mount(e,n,r,i,s){if(!this.tableElement)return;const o=n.getBoundingClientRect(),a=this.tableElement.getBoundingClientRect(),l=a.top,u=a.left;switch(r){case"inside":switch(s){case"top":e.style.top=o.top-l+"px";break;case"middle":case"bottom":throw new Error("not yet implemented"+r+s)}switch(i){case"left":e.style.left=o.left-u+"px";case"center":case"right":throw new Error("not yet implemented"+r+i)}break;case"outside":switch(s){case"top":e.style.top=o.bottom-l+"px";break;case"middle":case"bottom":throw new Error("not yet implemented"+r+s)}switch(i){case"left":e.style.left=o.left-u+"px";break;case"center":case"right":throw new Error("not yet implemented"+r+i)}break}this.tableElement.appendChild(e)}destroy(e){this.tableElement&&this.tableElement.contains(e)&&this.tableElement.removeChild(e)}}var X6,tq;function BKe(){if(tq)return X6;tq=1;function t(e,n,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),n!==void 0&&(e=e>=n?e:n)),e}return X6=t,X6}var Z6,nq;function zKe(){if(nq)return Z6;nq=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Z6=e,Z6}var W6,rq;function UKe(){if(rq)return W6;rq=1;var t=zKe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return W6=n,W6}var Y6,iq;function w$(){if(iq)return Y6;iq=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Y6=t,Y6}var G6,sq;function jKe(){if(sq)return G6;sq=1;var t=typeof sd=="object"&&sd&&sd.Object===Object&&sd;return G6=t,G6}var H6,oq;function uae(){if(oq)return H6;oq=1;var t=jKe(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return H6=n,H6}var K6,aq;function cae(){if(aq)return K6;aq=1;var t=uae(),e=t.Symbol;return K6=e,K6}var J6,lq;function qKe(){if(lq)return J6;lq=1;var t=cae(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(a?o[i]=l:delete o[i]),c}return J6=s,J6}var eE,uq;function VKe(){if(uq)return eE;uq=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return eE=n,eE}var tE,cq;function XKe(){if(cq)return tE;cq=1;var t=cae(),e=qKe(),n=VKe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return tE=o,tE}var nE,fq;function ZKe(){if(fq)return nE;fq=1;function t(e){return e!=null&&typeof e=="object"}return nE=t,nE}var rE,hq;function WKe(){if(hq)return rE;hq=1;var t=XKe(),e=ZKe(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return rE=r,rE}var iE,dq;function fae(){if(dq)return iE;dq=1;var t=UKe(),e=w$(),n=WKe(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=e(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=s.test(u);return f||o.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return iE=l,iE}var sE,pq;function YKe(){if(pq)return sE;pq=1;var t=BKe(),e=fae();function n(r,i,s){return s===void 0&&(s=i,i=void 0),s!==void 0&&(s=e(s),s=s===s?s:0),i!==void 0&&(i=e(i),i=i===i?i:0),t(e(r),i,s)}return sE=n,sE}var GKe=YKe();const HKe=O$(GKe);var oE,mq;function KKe(){if(mq)return oE;mq=1;var t=uae(),e=function(){return t.Date.now()};return oE=e,oE}var aE,gq;function JKe(){if(gq)return aE;gq=1;var t=w$(),e=KKe(),n=fae(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,u){var c,f,h,d,m,g,b=0,v=!1,O=!1,_=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(u)&&(v=!!u.leading,O="maxWait"in u,h=O?i(n(u.maxWait)||0,l):h,_="trailing"in u?!!u.trailing:_);function S(R){var M=c,B=f;return c=f=void 0,b=R,d=a.apply(B,M),d}function k(R){return b=R,m=setTimeout(T,l),v?S(R):d}function A(R){var M=R-g,B=R-b,U=l-M;return O?s(U,h-B):U}function C(R){var M=R-g,B=R-b;return g===void 0||M>=l||M<0||O&&B>=h}function T(){var R=e();if(C(R))return P(R);m=setTimeout(T,A(R))}function P(R){return m=void 0,_&&c?S(R):(c=f=void 0,d)}function N(){m!==void 0&&clearTimeout(m),b=0,c=g=f=m=void 0}function I(){return m===void 0?d:P(e())}function $(){var R=e(),M=C(R);if(c=arguments,f=this,g=R,M){if(m===void 0)return k(g);if(O)return clearTimeout(m),m=setTimeout(T,l),S(g)}return m===void 0&&(m=setTimeout(T,l)),d}return $.cancel=N,$.flush=I,$}return aE=o,aE}var lE,yq;function eJe(){if(yq)return lE;yq=1;var t=JKe(),e=w$(),n="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),t(i,s,{leading:a,maxWait:s,trailing:l})}return lE=r,lE}var tJe=eJe();const bq=O$(tJe);class nJe{tableModel;tableController;isDragging=!1;#e=tt(0);get elementHeight(){return z(this.#e)}set elementHeight(e){Se(this.#e,e,!0)}#t=tt(0);get labelHeight(){return z(this.#t)}set labelHeight(e){Se(this.#t,e,!0)}#n=De(()=>nr.config.verticalScrollbarPillHeight);get pillHeight(){return z(this.#n)}set pillHeight(e){Se(this.#n,e)}#r=De(()=>this.elementHeight-this.pillHeight);get scrollbarHeight(){return z(this.#r)}set scrollbarHeight(e){Se(this.#r,e)}#l=De(()=>this.tableController.firstVisibleRowOID?this.tableController.firstVisibleRowOID:this.tableController.offset+1);get displayRow(){return z(this.#l)}set displayRow(e){Se(this.#l,e)}#a=De(()=>(this.displayRow-1)/(this.tableModel.numRows-1)*this.scrollbarHeight);get pillPosition(){return z(this.#a)}set pillPosition(e){Se(this.#a,e)}#i=De(()=>{if(this.pillPosition===null)return 0;const e=this.pillPosition+this.pillHeight/2-this.labelHeight/2;if(e<0)return e;const n=this.pillPosition+this.pillHeight/2+this.labelHeight/2;return n>this.elementHeight?n-this.elementHeight:0});get labelOffset(){return z(this.#i)}set labelOffset(e){Se(this.#i,e)}constructor({tableModel:e,tableController:n}){this.tableModel=e,this.tableController=n}computeOffsetFromPointer=e=>{this.isDragging=!0;let n=Math.round(e.offsetY/this.scrollbarHeight*(this.tableModel.numRows-1));return HKe(n,0,this.tableModel.numRows-1)};pointerDown=e=>{e.preventDefault(),e.target.setPointerCapture(e.pointerId),this.isDragging=!0;const n=this.computeOffsetFromPointer(e);this.tableController.isJumping=!0,this.tableController.jumpToOffset(n)};handlePointerDown=bq(this.pointerDown,50);pointerMove=e=>{if(this.isDragging){const n=this.computeOffsetFromPointer(e);this.tableController.jumpToOffset(n)}};handlePointerMove=bq(this.pointerMove,50);handlePointerUp=e=>{e.target.releasePointerCapture(e.pointerId),this.isDragging=!1,this.tableController.isJumping=!1}}class rJe{#e=tt(null);get columnInfo(){return z(this.#e)}set columnInfo(e){Se(this.#e,e,!0)}#t=De(()=>this.columnInfo?Object.keys(this.columnInfo).reduce((e,n)=>(e[n]=this.columnInfo[n].type,e),{}):{});get dataType(){return z(this.#t)}set dataType(e){Se(this.#t,e)}#n=De(()=>this.columnInfo?Object.keys(this.columnInfo).reduce((e,n)=>(e[n]=this.columnInfo[n].sqlType,e),{}):{});get sqlType(){return z(this.#n)}set sqlType(e){Se(this.#n,e)}}class iJe{tableController;#e=De(()=>Math.floor(-this.tableController.yScroll/nr.config.scrollOverflowValue)*nr.config.scrollOverflowValue);get offset(){return z(this.#e)}set offset(e){Se(this.#e,e)}constructor(e){this.tableController=e}y(e){return e-this.offset}yScroll(e){return e+this.offset}}const vq=Symbol("schema"),Oq=Symbol("model"),wq=Symbol("controller"),xq=Symbol("vertical-scrollbar-controller"),_q=Symbol("horizontal-scrollbar-controller"),Sq=Symbol("table-portal-controller"),kq=Symbol("overscroll-modifier");class ir{static initialize(){const e=new rJe,n=new IKe(e),r=new LKe(n,e),i=new nJe({tableModel:n,tableController:r}),s=new RKe({tableModel:n,tableController:r}),o=new QKe(r),a=new iJe(r);ul(vq,e),ul(Oq,n),ul(wq,r),ul(xq,i),ul(_q,s),ul(Sq,o),ul(kq,a)}static get schema(){return Lo(vq)}static get model(){return Lo(Oq)}static get controller(){return Lo(wq)}static get verticalScrollbarController(){return Lo(xq)}static get horizontalScrollbarController(){return Lo(_q)}static get tablePortalController(){return Lo(Sq)}static get overscrollModifier(){return Lo(kq)}}var sJe=Ln('<div class="horizontal-scrollbar svelte-csucem"><div class="pill svelte-csucem"></div></div>');const oJe={hash:"svelte-csucem",code:".horizontal-scrollbar.svelte-csucem {position:absolute;bottom:0;left:0;width:100%;height:var(--height);transition:opacity 200ms linear;background-color:var(--scrollbar-bg);}.horizontal-scrollbar.svelte-csucem:hover {opacity:1 !important;}.pill.svelte-csucem {width:var(--width);height:calc(var(--height) - var(--margin) * 2);margin:var(--margin);border-radius:2px;background-color:var(--scrollbar-pill-bg);}"};function aJe(t,e){pi(e,!0),gi(t,oJe);const n=ir.horizontalScrollbarController,r=ir.controller,i=nr.config;let s=tt(0),o=tt(null),a=tt(null),l=0;vy(()=>(l=requestAnimationFrame(f),()=>{cancelAnimationFrame(l)}));function u(){z(o)&&(z(o).style.opacity="0")}const c=lae.debounce(u,1e3);Hr(()=>{z(o)&&(r.xScroll,z(o).style.opacity="1",c())});function f(){Se(s,n.pillWidth,!0),z(a)&&(z(a).style.transform=`translate(${n.pillLeft}px, 0)`),l=requestAnimationFrame(f)}var h=sJe();let d;var m=Yn(h);m.__pointerdown=function(...b){n.handlePointerDown?.apply(this,b)},m.__pointermove=function(...b){n.handlePointerMove?.apply(this,b)},m.__pointerup=function(...b){n.handlePointerUp?.apply(this,b)};let g;vo(m,b=>Se(a,b),()=>z(a)),zn(h),vo(h,b=>Se(o,b),()=>z(o)),ki(()=>{d=aa(h,"",d,{"--height":i.horizontalScrollbarHeight+"px"}),g=aa(m,"",g,{"--width":z(s)+"px","--margin":n.margin+"px"})}),yu(h,"clientWidth",b=>n.elementWidth=b),en(t,h),mi()}kh(["pointerdown","pointermove","pointerup"]);var lJe=Ln('<div class="vertical-scrollbar svelte-d1fz7o"><div class="pill svelte-d1fz7o"><div class="label svelte-d1fz7o"> </div></div></div>');const uJe={hash:"svelte-d1fz7o",code:".vertical-scrollbar.svelte-d1fz7o {position:absolute;right:0;top:0;width:var(--width);height:calc(100% - var(--offset-bottom));contain:layout;cursor:row-resize;transition:opacity 200ms linear;user-select:none;background-color:var(--scrollbar-bg);}.vertical-scrollbar.svelte-d1fz7o:hover {opacity:1 !important;}.pill.svelte-d1fz7o {--pill-height: 4px;position:relative;pointer-events:none; /* let the container respond to pointer events */top:0;left:0;width:calc(var(--width) - 2px);margin-left:1px;margin-right:1px;height:var(--pill-height);border-radius:2px;will-change:transform;background-color:var(--scrollbar-pill-bg);}.label.svelte-d1fz7o {--offset: 0;position:absolute;pointer-events:none;top:0;left:-4px;font-family:var(--font-family);font-size:14px;white-space:nowrap;padding:2px 4px;box-shadow:var(--shadow);transform:translate(-100%, calc(-50% + var(--pill-height) / 2 - var(--offset)));border-radius:2px;color:var(--secondary-text-color);background-color:var(--scrollbar-label-bg);border:var(--outline);}"};function cJe(t,e){pi(e,!0),gi(t,uJe);const n=ir.verticalScrollbarController,r=ir.controller,i=nr.config;let s=tt(0),o=tt(0),a=tt(null),l=tt(null),u=tt(null),c=De(()=>new Intl.NumberFormat().format(z(o))),f=0;vy(()=>(f=requestAnimationFrame(m),()=>{cancelAnimationFrame(f)}));function h(){z(a)&&(z(a).style.opacity="0")}const d=lae.debounce(h,1e3);Hr(()=>{z(a)&&(r.yScroll,z(a).style.opacity="1",d())});function m(){Se(s,n.pillPosition??z(s),!0),Se(o,n.displayRow??z(o),!0),z(l)&&(z(l).style.transform=`translate3d(0, ${z(s)}px, 0)`),z(u)&&z(u).style.setProperty("--offset",n.labelOffset-1+"px"),f=requestAnimationFrame(m)}var g=lJe();g.__pointerdown=function(...k){n.handlePointerDown?.apply(this,k)},g.__pointermove=function(...k){n.handlePointerMove?.apply(this,k)},g.__pointerup=function(...k){n.handlePointerUp?.apply(this,k)};let b;var v=Yn(g);let O;var _=Yn(v),S=Yn(_,!0);zn(_),vo(_,k=>Se(u,k),()=>z(u)),zn(v),vo(v,k=>Se(l,k),()=>z(l)),zn(g),vo(g,k=>Se(a,k),()=>z(a)),ki(()=>{b=aa(g,"",b,{"--offset-bottom":i.horizontalScrollbarHeight+"px","--width":i.verticalScrollbarWidth+"px"}),O=aa(v,"",O,{"--pill-height":n.pillHeight+"px"}),Hc(S,z(c))}),yu(_,"clientHeight",k=>n.labelHeight=k),yu(g,"clientHeight",k=>n.elementHeight=k),en(t,g),mi()}kh(["pointerdown","pointermove","pointerup"]);var fJe=Ln('<div class="bigint-content svelte-1x1osq0"> </div>');const hJe={hash:"svelte-1x1osq0",code:".bigint-content.svelte-1x1osq0 {text-align:right;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"};function dJe(t,e){pi(e,!0),gi(t,hJe);let n=Oy(e,"height");function r(o){return o===null?null:o.toLocaleString()}var i=fJe(),s=Yn(i,!0);zn(i),ki(o=>Hc(s,o),[()=>r(e.bigint)]),yu(i,"clientHeight",n),en(t,i),mi()}var pJe=Ln("<div></div>");const mJe={hash:"svelte-ubqfz9",code:""};function gJe(t,e){pi(e,!0),gi(t,mJe);let n=Oy(e,"height");const r=ir.model,i=u=>typeof u=="function"?(c,f)=>{let h=new u(c,f);return{...h.update?{update:h.update.bind(h)}:{},...h.destroy?{destroy:h.destroy.bind(h)}:{}}}:(c,f)=>{let h=new u.class(c,f);return{...h.update?{update:h.update.bind(h)}:{},...h.destroy?{destroy:h.destroy.bind(h)}:{}}};let s=De(()=>i(e.customCell)),o=De(()=>r.getContent({row:e.row,col:e.col})),a=De(()=>r.getRowData(e.row));var l=pJe();b$(l,(u,c)=>z(s)?.(u,c),()=>({value:z(o),rowData:z(a)})),S2(()=>yu(l,"clientHeight",n)),en(t,l),mi()}var yJe=Ln('<img alt=""/>');function bJe(t,e){pi(e,!0);let n=Oy(e,"height");nr.config;let r=tt(null);function i(c){let f="";for(let h=0;h<c.length;h++)f+=String.fromCharCode(c[h]);return btoa(f)}function s(c){const f=atob(c);return new Uint8Array([...f].map(h=>h.charCodeAt(0)))}function o(c,f){if(c.length<f.length)return!1;for(let h=0;h<f.length;h++)if(c[h]!=f[h])return!1;return!0}function a(c){return o(c,[137,80,78,71,13,10,26,10])?"image/png":o(c,[255,216,255])?"image/jpeg":o(c,[73,73,42,0])?"image/tiff":o(c,[66,77])?"image/bmp":o(c,[71,73,70,56,55,97])||o(c,[71,73,70,56,55,97])?"image/gif":"application/octet-stream"}function l(c){if(c==null)return null;if(typeof c=="string")return c.startsWith("data:")||c.startsWith("http://")||c.startsWith("https://")?c:`data:${a(s(c))};base64,`+c;{let f=null;if(c.bytes&&c.bytes instanceof Uint8Array&&(f=c.bytes),c instanceof Uint8Array&&(f=c),f!=null)return`data:${a(f)};base64,`+i(f)}return null}var u=yJe();vo(u,c=>Se(r,c),()=>z(r)),ki(c=>EO(u,"src",c),[()=>l(e.image)]),L1("load",u,()=>{z(r)&&n(z(r).scrollHeight)}),rKe(u),en(t,u),mi()}var vJe=Ln('<a target="_blank" rel="noopener noreferrer"> </a>'),OJe=Ln('<div class="link-content"><!></div>');const wJe={hash:"svelte-1wimtwv",code:""};function xJe(t,e){pi(e,!0),gi(t,wJe);let n=Oy(e,"height");var r=OJe(),i=Yn(r);{var s=o=>{var a=vJe(),l=Yn(a,!0);zn(a),ki(()=>{EO(a,"href",e.url),Hc(l,e.url)}),en(o,a)};No(i,o=>{e.url&&o(s)})}zn(r),yu(r,"clientHeight",n),en(t,r),mi()}var _Je=Ln('<div class="number-content svelte-1xfvszy"> </div>');const SJe={hash:"svelte-1xfvszy",code:".number-content.svelte-1xfvszy {text-align:right;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"};function kJe(t,e){pi(e,!0),gi(t,SJe);let n=Oy(e,"height");function r(o){return o===null?null:Number.isInteger(o)?o.toString():o.toPrecision(4).toString()}var i=_Je(),s=Yn(i,!0);zn(i),ki(o=>Hc(s,o),[()=>r(e.number)]),yu(i,"clientHeight",n),en(t,i),mi()}var CJe=Ln("<div> </div>");const AJe={hash:"svelte-1ngffx0",code:".clamped.svelte-1ngffx0 {display:-webkit-box;-webkit-box-orient:vertical;line-clamp:var(--lines, var(--num-lines)); /* fallback to numlines from parent */-webkit-line-clamp:var(--lines, var(--num-lines));overflow:hidden;text-overflow:ellipsis;}"};function Cq(t,e){pi(e,!0),gi(t,AJe);let n=Oy(e,"height");const r=nr.config;let i=tt(null),s=tt(null);Hr(()=>{z(i)&&(n(z(i).scrollHeight),Se(s,Math.floor(e.parentHeight/r.lineHeight),!0))});var o=CJe();let a;var l=Yn(o,!0);zn(o),vo(o,u=>Se(i,u),()=>z(i)),ki(()=>{Vd(o,1,`text-content ${(e.clamped?"clamped":null)??""}`,"svelte-1ngffx0"),a=aa(o,"",a,{"--lines":z(s)}),Hc(l,e.text)}),en(t,o),mi()}class EJe{#e=tt(Rs({}));get config(){return z(this.#e)}set config(e){Se(this.#e,e,!0)}}const uE=Symbol("custom-cells");class $_{static initialize(){ul(uE,new EJe)}static set config(e){const n=Lo(uE);n.config=e}static get config(){return Lo(uE).config}}var TJe=Ln("<button>â</button>"),DJe=Ln('<div class="cell-content clamp svelte-8bpcsh"><!> <!></div>');const PJe={hash:"svelte-8bpcsh",code:".cell-content.svelte-8bpcsh {position:relative;flex-grow:1;line-height:var(--lineHeight);overflow-wrap:anywhere;overflow:hidden;}.expand-button.svelte-8bpcsh {all:unset;visibility:hidden;position:absolute;bottom:0;right:0;cursor:pointer;font-size:12px;line-height:18px;padding-left:4px;padding-right:4px;border-radius:2px;color:var(--secondary-text-color);background-color:var(--background-color);border:var(--outline);}.expand-button.show.svelte-8bpcsh {visibility:visible;}"};function RJe(t,e){pi(e,!0),gi(t,PJe);const n=ir.model,r=ir.controller,i=ir.schema,s=nr.config;let o=De(()=>$_.config),a=tt(0),l=tt(0),u=De(()=>z(l)>z(a));const c=n.getContent({row:e.row,col:e.col}),f=i.dataType[e.col]??"string",h=i.sqlType[e.col]??"TEXT";function d(A){return typeof A=="string"&&(A.startsWith("http://")||A.startsWith("https://"))}function m(A){return A==null?!1:!!(typeof A=="string"&&A.startsWith("data:image/")||A.bytes&&A.bytes instanceof Uint8Array)}var g=DJe();let b;var v=Yn(g);{var O=A=>{gJe(A,{get row(){return e.row},get col(){return e.col},get customCell(){return z(o)[e.col]},get height(){return z(l)},set height(C){Se(l,C,!0)}})},_=A=>{var C=Ap(),T=Fa(C);{var P=I=>{var $=Ap(),R=Fa($);{var M=U=>{xJe(U,{get url(){return c},get height(){return z(l)},set height(j){Se(l,j,!0)}})},B=U=>{Cq(U,{get text(){return c},get clamped(){return z(u)},get parentHeight(){return z(a)},get height(){return z(l)},set height(j){Se(l,j,!0)}})};No(R,U=>{c&&d(c)?U(M):U(B,!1)})}en(I,$)},N=I=>{var $=Ap(),R=Fa($);{var M=U=>{var j=Ap(),ee=Fa(j);{var W=te=>{{let ae=De(()=>BigInt(c??""));dJe(te,{get bigint(){return z(ae)},get height(){return z(l)},set height(ie){Se(l,ie,!0)}})}},ue=te=>{kJe(te,{get number(){return c},get height(){return z(l)},set height(ae){Se(l,ae,!0)}})};No(ee,te=>{h==="BIGINT"?te(W):te(ue,!1)})}en(U,j)},B=U=>{var j=Ap(),ee=Fa(j);{var W=te=>{bJe(te,{get image(){return c},get height(){return z(l)},set height(ae){Se(l,ae,!0)}})},ue=te=>{Cq(te,{get text(){return c},get clamped(){return z(u)},get parentHeight(){return z(a)},get height(){return z(l)},set height(ae){Se(l,ae,!0)}})};No(ee,te=>{m(c)?te(W):te(ue,!1)},!0)}en(U,j)};No(R,U=>{f==="number"?U(M):U(B,!1)},!0)}en(I,$)};No(T,I=>{f==="string"?I(P):I(N,!1)},!0)}en(A,C)};No(v,A=>{z(o)[e.col]?A(O):A(_,!1)})}var S=yl(v,2);{var k=A=>{var C=TJe();C.__click=()=>{r.addHeightToRow(e.row,z(l)-z(a))},ki(()=>Vd(C,1,`expand-button ${e.hovered?"show":"hide"}`,"svelte-8bpcsh")),en(A,C)};No(S,A=>{z(u)&&A(k)})}zn(g),ki(()=>b=aa(g,"",b,{"--lineHeight":s.lineHeight+"px","--num-lines":s.textMaxLines})),yu(g,"clientHeight",A=>Se(a,A)),en(t,g),mi()}kh(["click"]);var $Je=Ln('<div class="row-number svelte-1e2x749"> </div>');const IJe={hash:"svelte-1e2x749",code:".row-number.svelte-1e2x749 {flex-grow:1;text-align:right;color:var(--secondary-text-color);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"};function FJe(t,e){pi(e,!0),gi(t,IJe);const n=ir.model.getContent({row:e.row,col:e.col}),r=De(()=>new Intl.NumberFormat().format(n??0));var i=$Je(),s=Yn(i,!0);zn(i),ki(()=>Hc(s,z(r))),en(t,i),mi()}var MJe=Ln('<div class="cell svelte-16dgxhm"><!></div>');const LJe={hash:"svelte-16dgxhm",code:".cell.svelte-16dgxhm {--x: 0px;--y: 0px;--width: 0px;--height: 0px;display:flex;box-sizing:border-box;padding-top:calc(var(--padding-y) / 2);padding-bottom:calc(var(--padding-y) / 2);padding-right:calc(calc(var(--padding-x) / 2) + var(--extra-right-padding));padding-left:calc(calc(var(--padding-x) / 2) + var(--extra-left-padding));position:absolute;left:0;top:0;width:var(--width);height:var(--height);transform:translate(var(--x), var(--y));contain:layout paint;color:var(--primary-text-color);font-family:var(--cell-font-family);font-size:var(--cell-font-size);}"};function NJe(t,e){pi(e,!0),gi(t,LJe);const n=ir.model,r=ir.controller,i=ir.overscrollModifier,s=nr.config;let o=De(()=>n.getPosition({row:e.row,col:e.col})),a=De(()=>z(o).x),l=De(()=>z(o).y),u=De(()=>i.y(z(l))),c=De(()=>n.getDimensions({row:e.row,col:e.col})),f=De(()=>z(c).width),h=De(()=>z(c).height),d=De(()=>n.isFirstCol(e.col)),m=De(()=>n.isLastCol(e.col)),g=De(()=>n.getRowParity(e.row)==="even"?"var(--primary-bg)":"var(--secondary-bg)"),b=()=>{s.onRowClick&&s.onRowClick(e.row)},v=tt(!1);var O=MJe();O.__click=b,O.__keydown=C=>{C.key==="Enter"&&b()};let _;var S=Yn(O);{var k=C=>{RJe(C,{get row(){return e.row},get col(){return e.col},get hovered(){return z(v)}})},A=C=>{FJe(C,{get row(){return e.row},get col(){return e.col}})};No(S,C=>{e.col!==$o?C(k):C(A,!1)})}zn(O),ki(()=>_=aa(O,"",_,{"--x":z(a)+"px","--y":z(u)+"px","--width":z(f)+"px","--height":z(h)+"px","--padding-x":s.betweenColPadding+"px","--padding-y":s.betweenRowPadding+"px","--extra-right-padding":(z(m)?s.verticalScrollbarWidth:0)+"px","--extra-left-padding":(z(d)?s.firstColLeftPadding:0)+"px","--background-color":z(g)})),L1("pointerenter",O,()=>{Se(v,!0),r.hoveredRowId=e.row}),L1("pointerleave",O,()=>{Se(v,!1),r.hoveredRowId=null}),en(t,O),mi()}kh(["click","keydown"]);var QJe=Ln('<div class="header-title svelte-1si5830"> </div>');const BJe={hash:"svelte-1si5830",code:".header-title.svelte-1si5830 {flex-shrink:1;margin-right:2px;}"};function zJe(t,e){pi(e,!0),gi(t,BJe);const n=nr.config;var r=QJe(),i=Yn(r,!0);zn(r),ki(()=>Hc(i,n.columnConfigs[e.col]?.title??e.col)),en(t,r),mi()}xHe();var UJe=Ln('<div class="row-number-header svelte-v1uha2">#</div>');const jJe={hash:"svelte-v1uha2",code:".row-number-header.svelte-v1uha2 {flex-grow:1;text-align:right;margin-right:4px;box-sizing:border-box;color:var(--secondary-text-color);}"};function qJe(t){gi(t,jJe);var e=UJe();en(t,e)}var VJe=Ln('<button class="sort-buttons svelte-mgubjs"><div> </div></button>');const XJe={hash:"svelte-mgubjs",code:".sort-buttons.svelte-mgubjs {all:unset;flex-shrink:0;width:16px;cursor:pointer;display:flex;justify-content:center;flex-direction:row;margin-left:4px;border-radius:2px;padding-left:4px;padding-right:4px;color:var(--tertiary-text-color);}.sort-buttons.svelte-mgubjs:hover {--placeholder: 0;background-color:var(--hover-bg);}.sort-glyph.svelte-mgubjs {color:var(--tertiary-text-color);}.sort-buttons.svelte-mgubjs:hover .sort-glyph:where(.svelte-mgubjs) {color:var(--tertiary-text-color);}.selected.svelte-mgubjs {color:var(--primary-text-color) !important;}"};function ZJe(t,e){pi(e,!0),gi(t,XJe);const n=ir.controller;let r=De(()=>n.sort?n.sort.column===e.col:!1),i=De(()=>n.sort?n.sort.direction:null),s=De(()=>z(r)?z(i)==="ascending"?"â":"â":"â");var o=VJe();o.__click=()=>{const u=z(r)?z(i)==="ascending"?"descending":null:"ascending";u?n.handleSort({column:e.col,direction:u}):n.handleSort(null)};var a=Yn(o),l=Yn(a,!0);zn(a),zn(o),ki(()=>{Vd(a,1,`sort-button ${(z(r)?"selected":null)??""} sort-glyph`,"svelte-mgubjs"),Hc(l,z(s))}),en(t,o),mi()}kh(["click"]);class WJe{#e=tt(Rs({}));get config(){return z(this.#e)}set config(e){Se(this.#e,e,!0)}}const cE=Symbol("custom-headers");class I_{static initialize(){ul(cE,new WJe)}static set config(e){const n=Lo(cE);n.config=e}static get config(){return Lo(cE).config}}var YJe=Ln("<div></div>");const GJe={hash:"svelte-v680az",code:""};function HJe(t,e){pi(e,!0),gi(t,GJe),ir.model;const n=s=>typeof s=="function"?(o,a)=>{let l=new s(o,a);return{...l.update?{update:l.update.bind(l)}:{},...l.destroy?{destroy:l.destroy.bind(l)}:{}}}:(o,a)=>{let l=new s.class(o,a);return{...l.update?{update:l.update.bind(l)}:{},...l.destroy?{destroy:l.destroy.bind(l)}:{}}};let r=De(()=>n(e.customHeader));var i=YJe();b$(i,(s,o)=>z(r)?.(s,o),()=>({column:e.col})),en(t,i),mi()}var KJe=Ln("<!> <!>",1),JJe=Ln('<div><div class="header-content svelte-1vl6s3u"><!> <div class="header-title svelte-1vl6s3u"><!></div></div></div>');const eet={hash:"svelte-1vl6s3u",code:".header-cell.svelte-1vl6s3u {position:relative;display:flex;flex-direction:row;align-items:end;width:var(--width);min-height:var(--height);flex-shrink:0;box-sizing:border-box;padding:0.25em;padding-right:calc(calc(var(--padding-x) / 2) + var(--extra-padding-right));padding-left:calc(calc(var(--padding-x) / 2) + var(--extra-padding-left));color:var(--secondary-text-color);font-family:var(--header-font-family);font-size:var(--header-font-size);}.header-cell.number.svelte-1vl6s3u {justify-content:end;}.header-content.svelte-1vl6s3u {display:flex;flex-direction:column;flex-shrink:0;}.header-title.svelte-1vl6s3u {height:1.5em;align-items:center;display:flex;flex-direction:row;flex-shrink:0;}"};function tet(t,e){pi(e,!0),gi(t,eet);const n=ir.model,r=ir.schema,i=nr.config;let s=De(()=>I_.config),o=tt(null),a=tt(0);Hr(()=>{i.minColumnWidths[e.col]=z(a)+i.betweenColPadding});const l=De(()=>n.colWidths[e.col]),u=De(()=>(r.dataType[e.col]??"string")==="number"),c=De(()=>z(u)||e.col===$o?"number":""),f=De(()=>n.isFirstCol(e.col)),h=De(()=>n.isLastCol(e.col));let d=De(()=>i.headerHeight?i.headerHeight+"px":"auto");var m=JJe();let g;var b=Yn(m),v=Yn(b);{var O=C=>{HJe(C,{get col(){return e.col},get customHeader(){return z(s)[e.col]}})};No(v,C=>{z(s)[e.col]&&C(O)})}var _=yl(v,2),S=Yn(_);{var k=C=>{var T=KJe(),P=Fa(T);zJe(P,{get col(){return e.col}});var N=yl(P,2);ZJe(N,{get col(){return e.col}}),en(C,T)},A=C=>{qJe(C)};No(S,C=>{e.col!==$o?C(k):C(A,!1)})}zn(_),zn(b),zn(m),vo(m,C=>Se(o,C),()=>z(o)),ki(()=>{Vd(m,1,`header-cell ${z(c)??""}`,"svelte-1vl6s3u"),g=aa(m,"",g,{"--width":z(l)+"px","--height":z(d),"--padding-x":i.betweenColPadding+"px","--extra-padding-right":(z(h)?i.verticalScrollbarWidth:0)+"px","--extra-padding-left":(z(f)?i.firstColLeftPadding:0)+"px"})}),yu(b,"clientWidth",C=>Se(a,C)),en(t,m),mi()}class net{tableModel;tableController;col;config;isDragging=!1;startDragX=0;constructor({tableModel:e,tableController:n,col:r}){this.tableModel=e,this.tableController=n,this.col=r,this.config=nr.config}handlePointerDown=e=>{e.preventDefault(),e.target.setPointerCapture(e.pointerId),this.isDragging=!0,this.startDragX=e.offsetX};handlePointerMove=e=>{if(this.isDragging&&this.startDragX!==null){const n=e.offsetX-this.startDragX,r=this.tableModel.colWidths[this.col],i=Math.max(0,Math.round(r+n));this.config.columnConfigs[this.col]||(this.config.columnConfigs[this.col]={}),this.config.columnConfigs[this.col].width=i,this.config.onColumnConfigsChange(this.col,koe(this.config.columnConfigs))}};handlePointerUp=e=>{e.target.releasePointerCapture(e.pointerId),this.isDragging=!1,this.startDragX=null}}var ret=Ln('<div class="header-resize-indicator svelte-1y4d3p9"><div class="pill svelte-1y4d3p9"></div></div>');const iet={hash:"svelte-1y4d3p9",code:".header-resize-indicator.svelte-1y4d3p9 {position:absolute;z-index:2;box-sizing:border-box;width:12px;height:calc(100% - 0.25rem);margin:2px;cursor:col-resize;justify-content:center;display:flex;align-items:center;justify-content:center;transform:translateX(calc(var(--x) - 4px - 50%));}.pill.svelte-1y4d3p9 {width:2px;height:calc(100% - 4px);margin-top:2px;margin-bottom:2px;background-color:var(--secondary-text-color);opacity:0.2;border-radius:2px;}"};function set(t,e){pi(e,!0),gi(t,iet);const n=ir.model;let r=new net({tableModel:n,tableController:ir.controller,col:e.col});const i=De(()=>n.colPositions[e.col]+n.colWidths[e.col]);var s=ret();s.__pointerdown=function(...a){r.handlePointerDown?.apply(this,a)},s.__pointermove=function(...a){r.handlePointerMove?.apply(this,a)},s.__pointerup=function(...a){r.handlePointerUp?.apply(this,a)};let o;ki(()=>o=aa(s,"",o,{"--x":z(i)+"px"})),en(t,s),mi()}kh(["pointerdown","pointermove","pointerup"]);var oet=Ln('<div class="table-portal svelte-i8g41o" tabindex="-1"><!></div>');const aet={hash:"svelte-i8g41o",code:".table-portal.svelte-i8g41o {position:absolute;}"};function uet(t,e){pi(e,!0),gi(t,aet);const n=ir.controller,r=ir.tablePortalController;let i=tt(null);const s=c=>{Hr(()=>(r.mount(c,e.relativeTo,e.anchor,e.horizontalAlign,e.verticalAlign),c.focus(),()=>{r.destroy(c)}))};let o=0;vy(()=>{o=n.xScroll,requestAnimationFrame(a)});function a(){z(i)&&e.stickyX&&(z(i).style.transform=`translateX(${n.xScroll-o}px)`),requestAnimationFrame(a)}var l=oet();l.__click=c=>{c.stopPropagation()};var u=Yn(l);y$(u,()=>e.children),zn(l),vo(l,c=>Se(i,c),()=>z(i)),b$(l,c=>s?.(c)),L1("wheel",l,c=>{c.stopPropagation()}),en(t,l),mi()}kh(["click"]);var cet=Ln("<button> </button> <!>",1);const fet={hash:"svelte-3t0u29",code:'.dropdown.svelte-3t0u29 {all:unset;padding-left:8px;padding-right:8px;border-radius:2px;cursor:pointer;color:var(--secondary-text-color);position:relative;user-select:none;}.dropdown.svelte-3t0u29::before {content:"";position:absolute;top:0;left:0;height:100%;width:100%;background-color:var(--primary-bg);z-index:-1;}.dropdown.svelte-3t0u29:hover {background-color:var(--hover-bg);}.unclickable.svelte-3t0u29 {pointer-events:none;}'};function het(t,e){gi(t,fet);let n=tt(!1),r=tt(null),i=tt(null);var s=cet();L1("click",mD,c=>{z(n)&&c.target!==z(r)&&Se(n,!1)});var o=Fa(s);o.__click=c=>{Se(n,!0)};var a=Yn(o,!0);zn(o),vo(o,c=>Se(r,c),()=>z(r));var l=yl(o,2);{var u=c=>{uet(c,{get relativeTo(){return e.relativeTo},anchor:"outside",horizontalAlign:"left",verticalAlign:"top",stickyX:!1,get element(){return z(i)},set element(f){Se(i,f,!0)},children:(f,h)=>{var d=Ap(),m=Fa(d);y$(m,()=>e.children),en(f,d)},$$slots:{default:!0}})};No(l,c=>{z(n)&&c(u)})}ki(()=>{Vd(o,1,`dropdown ${z(n)?"unclickable":"clickable"}`,"svelte-3t0u29"),Hc(a,e.label)}),en(t,s)}kh(["click"]);var det=Ln('<li class="column-entry svelte-bmvlb6"><label class="column-label svelte-bmvlb6"> <input type="checkbox"/></label></li>'),pet=Ln('<ul class="column-toggle svelte-bmvlb6"></ul>'),met=Ln("<!> <!>",1),get=Ln('<div class="header-row svelte-bmvlb6"><div class="scroll-container svelte-bmvlb6"><div class="dropdown-label-container svelte-bmvlb6"><div class="dropdown-label svelte-bmvlb6"><!></div></div> <!></div></div>');const yet={hash:"svelte-bmvlb6",code:".header-row.svelte-bmvlb6 {flex-shrink:0;border-bottom:1px solid var(--secondary-bg);background-color:var(--primary-bg);}.scroll-container.svelte-bmvlb6 {display:flex;flex-direction:row;}.dropdown-label-container.svelte-bmvlb6 {position:absolute;z-index:20;left:0px;box-sizing:border-box;height:100%;padding:0.25em;display:flex;flex-direction:row;align-items:end;}.dropdown-label.svelte-bmvlb6 {height:1.5em;align-items:center;display:flex;}.column-toggle.svelte-bmvlb6 {margin:0;margin-top:4px;margin-left:8px;padding:12px;background-color:var(--primary-bg);border-radius:4px;box-shadow:var(--shadow);border:var(--outline);max-height:var(--max-height);max-width:var(--max-width);overflow:scroll;}.column-entry.svelte-bmvlb6 {list-style-type:none;padding:4px;user-select:none;}.column-label.svelte-bmvlb6 {display:flex;align-items:center;justify-content:space-between;gap:16px;color:var(--secondary-text-color);}"};function bet(t,e){pi(e,!0),gi(t,yet);const n=ir.model,r=ir.controller,i=nr.config;let s=tt(null),o=tt(null),a=tt(null),l=De(()=>n.renderableCols),u=0;vy(()=>(u=requestAnimationFrame(c),()=>{cancelAnimationFrame(u)}));function c(){z(o)&&(z(o).style.transform=`translate3d(${r.xScroll}px, 0, 0)`),z(a)&&(z(a).style.transform=`translate3d(${-r.xScroll}px, 0, 0)`),u=requestAnimationFrame(c)}var f=get(),h=Yn(f),d=Yn(h),m=Yn(d),g=Yn(m);het(g,{label:"â®",get relativeTo(){return z(s)},children:(v,O)=>{var _=pet();let S;pv(_,21,()=>n.columns,mKe,(k,A)=>{var C=det(),T=Yn(C),P=Yn(T),N=yl(P);_Ke(N),N.__change=I=>{I.target.checked?r.showColumn(z(A)):r.hideColumn(z(A))},aa(N,"",{},{float:"right"}),zn(T),zn(C),ki(()=>{Hc(P,`${(z(A)===$o?"row #":i.columnConfigs[z(A)]?.title??z(A))??""} `),EO(N,"id",`${z(A)??""}-checkbox`),SKe(N,z(A)===$o?i.showRowNumber!==!1:!i.columnConfigs[z(A)]?.hidden)}),en(k,C)}),zn(_),ki(()=>S=aa(_,"",S,{"--max-height":r.viewHeight-48+"px","--max-width":r.viewWidth-48+"px"})),en(v,_)}}),zn(m),vo(m,v=>Se(a,v),()=>z(a)),zn(d);var b=yl(d,2);pv(b,16,()=>z(l),v=>v,(v,O)=>{var _=met(),S=Fa(_);tet(S,{get col(){return O}});var k=yl(S,2);set(k,{get col(){return O}}),en(v,_)}),zn(h),vo(h,v=>Se(o,v),()=>z(o)),zn(f),vo(f,v=>Se(s,v),()=>z(s)),en(t,f),mi()}kh(["change"]);class vet{#e=tt(null);get colorScheme(){return z(this.#e)}set colorScheme(e){Se(this.#e,e,!0)}#t=tt(Rs({}));get theme(){return z(this.#t)}set theme(e){Se(this.#t,e,!0)}}const Aq=Symbol("style");class SD{static initialize(){ul(Aq,new vet)}static get style(){return Lo(Aq)}}function Oet(t,e){return{...t,...t[e]!=null?t[e]:{}}}var wet=Ln("<div><!></div>");const xet={hash:"svelte-c7n1rn",code:".table-defaults.light.svelte-c7n1rn {--default-primary-text-color: black;--default-secondary-text-color: gray;--default-tertiary-text-color: lightgray;--default-font-family: sans-serif;--default-font-size: 1rem;--default-primary-bg: white;--default-secondary-bg: rgb(246, 246, 247);--default-tertiary-bg: rgb(234, 234, 235);--default-hover-bg: rgba(0, 0, 0, 0.05);--default-scrollbar-bg: rgba(0, 0, 0, 0.05);--default-scrollbar-pill-bg: rgba(0, 0, 0, 0.5);--default-scrollbar-label-bg: rgba(255, 255, 255, 0.9);--default-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--default-outline-color: rgb(0 0 0 / 0.2);--default-dimmed-row-color: rgb(0 0 0 / 0.2);--default-row-scroll-to-color: rgb(202 225 255);--default-row-hover-color: rgb(220, 235, 255);}.table-defaults.dark.svelte-c7n1rn {--default-primary-text-color: lightgray;--default-secondary-text-color: gray;--default-tertiary-text-color: dimgray;--default-font-family: sans-serif;--default-font-size: 1rem;--default-primary-bg: #060607;--default-secondary-bg: #161617;--default-hover-bg: rgba(255, 255, 255, 0.05);--default-scrollbar-bg: rgba(255, 255, 255, 0.05);--default-scrollbar-pill-bg: rgba(255, 255, 255, 0.5);--default-scrollbar-label-bg: rgba(0, 0, 0, 0.9);--default-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--default-outline-color: rgb(255 255 255 / 0.2);--default-dimmed-row-color: rgb(0 0 0 / 0.6);--default-row-scroll-to-color: rgb(1, 24, 106);--default-row-hover-color: rgb(0, 6, 35);}.style-wrapper.svelte-c7n1rn {width:100%;height:100%;--primary-text-color: var(--user-primary-text-color, var(--default-primary-text-color));--secondary-text-color: var(--user-secondary-text-color, var(--default-secondary-text-color));--tertiary-text-color: var(--user-tertiary-text-color, var(--default-tertiary-text-color));--font-family: var(--user-font-family, var(--default-font-family));--font-size: var(--user-font-size, var(--default-font-size));--primary-bg: var(--user-primary-bg, var(--default-primary-bg));--secondary-bg: var(--user-secondary-bg, var(--default-secondary-bg));--tertiary-bg: var(--user-tertiarty-bg, var(--default-tertiary-bg));--hover-bg: var(--user-hover-bg, var(--default-hover-bg));--header-font-family: var(--user-header-font-family, var(--font-family));--header-font-size: var(--user-header-font-size, var(--font-size));--cell-font-family: var(--user-cell-font-family, var(--font-family));--cell-font-size: var(--user-cell-font-size, var(--font-size));--scrollbar-bg: var(--user-scrollbar-bg, var(--default-scrollbar-bg));--scrollbar-pill-bg: var(--user-scrollbar-pill-bg, var(--default-scrollbar-pill-bg));--scrollbar-label-bg: var(--user-scrollbar-label-bg, var(--default-scrollbar-label-bg));--shadow: var(--user-shadow, var(--default-shadow));--outline-color: var(--user-outline-color, var(--default-outline-color));--outline: 0.5px solid var(--outline-color);--dimmed-row-color: var(--user-dimmed-row-color, var(--default-dimmed-row-color));--row-scroll-to-color: var(--user-row-scroll-to-color, var(--default-row-scroll-to-color));--row-hover-color: var(--user-row-hover-color, var(--default-row-hover-color));}"};function _et(t,e){pi(e,!0),gi(t,xet);const n=SD.style;let r=De(()=>n.colorScheme),i=De(()=>n.theme),s=tt(null),o=De(()=>z(r)??z(s)??"light");const a=j=>{j.matches?Se(s,"dark"):Se(s,"light")},l="(prefers-color-scheme: dark";vy(()=>(Se(s,window.matchMedia(l).matches?"dark":"light",!0),window.matchMedia(l).addEventListener("change",a),()=>{window.matchMedia(l).removeEventListener("change",a)}));let u=De(()=>Oet(z(i),z(o))),c=De(()=>z(u).primaryTextColor),f=De(()=>z(u).secondaryTextColor),h=De(()=>z(u).tertiaryTextColor),d=De(()=>z(u).fontFamily),m=De(()=>z(u).fontSize),g=De(()=>z(u).primaryBackgroundColor),b=De(()=>z(u).secondaryBackgroundColor),v=De(()=>z(u).hoverBackgroundColor),O=De(()=>z(u).headerFontFamily),_=De(()=>z(u).headerFontSize),S=De(()=>z(u).cellFontFamily),k=De(()=>z(u).cellFontSize),A=De(()=>z(u).scrollbarBackgroundColor),C=De(()=>z(u).scrollbarPillColor),T=De(()=>z(u).scrollbarLabelBackgroundColor),P=De(()=>z(u).shadow),N=De(()=>z(u).outlineColor),I=De(()=>z(u).dimmedRowColor),$=De(()=>z(u).rowScrollToColor),R=De(()=>z(u).rowHoverColor);Hr(()=>{});var M=wet();let B;var U=Yn(M);y$(U,()=>e.children),zn(M),ki(()=>{Vd(M,1,`style-wrapper table-defaults ${z(o)??""}`,"svelte-c7n1rn"),B=aa(M,"",B,{"--user-primary-text-color":z(c),"--user-secondary-text-color":z(f),"--user-tertiary-text-color":z(h),"--user-font-family":z(d),"--user-font-size":z(m),"--user-primary-bg":z(g),"--user-secondary-bg":z(b),"--user-hover-bg":z(v),"--user-header-font-family":z(O),"--user-header-font-size":z(_),"--user-cell-font-family":z(S),"--user-cell-font-size":z(k),"--user-scrollbar-bg":z(A),"--user-scrollbar-pill-bg":z(C),"--user-scrollbar-label-bg":z(T),"--user-shadow":z(P),"--user-outline-color":z(N),"--user-dimmed-row-color":z(I),"--user-row-scroll-to-color":z($),"--user-row-hover-color":z(R)})}),en(t,M),mi()}function ket(){return $o}function Cet(t,e){const n=new Set(t),r=new Set(e);return{left:t.filter(i=>!r.has(i)),right:e.filter(i=>!n.has(i))}}function Aet(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}function Eet(t,e){return t.concat(e)}var Tet=Ln("<div></div>"),Det=Ln("<div></div> <!>",1);const Pet={hash:"svelte-14dgpd0",code:".row-background.svelte-14dgpd0 {position:absolute;width:var(--width);height:var(--height);box-sizing:border-box;z-index:-1;transform:translate3d(0, var(--y), 0);transition:background-color 100ms linear;}.odd.svelte-14dgpd0 {background-color:var(--secondary-bg);}.even.svelte-14dgpd0 {background-color:var(--primary-bg);}.dimmer.svelte-14dgpd0 {background-color:var(--dimmed-row-color);z-index:10;pointer-events:none;}.flashed.svelte-14dgpd0 {background-color:var(--row-scroll-to-color);}.hovered.svelte-14dgpd0 {background-color:var(--row-hover-color);}"};function Ret(t,e){pi(e,!0),gi(t,Pet);const n=ir.controller,r=ir.model,i=ir.overscrollModifier,s=nr.config;let o=De(()=>r.rowHeights[e.row]),a=De(()=>Math.max(r.colsRightmostPosition,n.viewWidth)),l=De(()=>i.y(r.rowPositions[e.row])),u=De(()=>r.getRowParity(e.row)),c=De(()=>n.flashedRowId===e.row),f=De(()=>n.hoveredRowId===e.row),h=De(()=>s.highlightedRows?s.highlightedRows?.has(e.row):null);var d=Det(),m=Fa(d);let g;var b=yl(m,2);{var v=O=>{var _=Tet();let S;ki(()=>{Vd(_,1,`row-background ${z(u)??""} dimmer`,"svelte-14dgpd0"),S=aa(_,"",S,{"--width":z(a)+"px","--height":z(o)+"px","--y":z(l)+"px"})}),en(O,_)};No(b,O=>{z(h)!==null&&!z(h)&&O(v)})}ki(()=>{Vd(m,1,`row-background ${z(u)??""} ${(z(c)?"flashed":null)??""} ${(z(f)&&s.highlightHoveredRow?"hovered":null)??""}`,"svelte-14dgpd0"),g=aa(m,"",g,{"--width":z(a)+"px","--height":z(o)+"px","--y":z(l)+"px"})}),en(t,d),mi()}var $et=Ln("<!> <!>",1),Iet=Ln('<div class="scroll-container svelte-1v3p82v"><!></div> <!> <!>',1),Fet=Ln('<div class="table svelte-1v3p82v"><!> <div class="table-contents svelte-1v3p82v"><!></div></div>');const Met={hash:"svelte-1v3p82v",code:".table.svelte-1v3p82v {width:100%;max-width:var(--max-width);height:100%;display:flex;flex-direction:column;position:relative;}.table-contents.svelte-1v3p82v {position:relative;overflow:hidden;flex-grow:1;}.scroll-container.svelte-1v3p82v {position:absolute;width:0;height:0;will-change:transform;contain:layout size;}"};function Let(t,e){pi(e,!0),gi(t,Met),nr.initialize(),$_.initialize(),I_.initialize(),SD.initialize(),ir.initialize();const n=ir.controller,r=ir.model,i=ir.overscrollModifier,s=nr.config,o=SD.style;Hr(()=>{e.scrollTo!=null&&n.scrollToRow(String(e.scrollTo))}),Hr(()=>{e.highlightedRows&&e.highlightedRows.length>0?s.highlightedRows=new Set(e.highlightedRows.map(O=>String(O))):s.highlightedRows=null}),Hr(()=>{e.onRowClick!=null?s.onRowClick=e.onRowClick:s.onRowClick=null}),Hr(()=>{e.coordinator?_D.coordinator=e.coordinator:_D.coordinator=null}),Hr(()=>{e.numLines!=null?s.textMaxLines=e.numLines:s.textMaxLines=s.DEFAULT_TEXT_MAX_LINES,e.lineHeight!=null?s.lineHeight=e.lineHeight:s.lineHeight=s.DEFAULT_LINE_HEIGHT}),Hr(()=>{e.colorScheme!=null?o.colorScheme=e.colorScheme:o.colorScheme=null}),Hr(()=>{e.theme!=null?o.theme=e.theme:o.theme={},e.colorScheme!=null?o.colorScheme=e.colorScheme:o.colorScheme=null}),Hr(()=>{e.columnConfigs!=null?s.columnConfigs=e.columnConfigs:s.columnConfigs={},e.onColumnConfigsChange!=null?s.onColumnConfigsChange=e.onColumnConfigsChange:s.onColumnConfigsChange=()=>{}}),Hr(()=>{s.showRowNumber=e.showRowNumber??null}),Hr(()=>{s.onShowRowNumberChange=e.onShowRowNumberChange??null}),Hr(()=>{n.initialize({tableName:e.table,rowKey:e.rowKey,columns:[ket(),...e.columns],filterBy:e.filter??null})}),Hr(()=>{e.customCells!=null?$_.config=e.customCells:$_.config={}}),Hr(()=>{e.additionalHeaderContents!=null?I_.config=e.additionalHeaderContents:I_.config={}}),Hr(()=>{e.headerHeight!=null?s.headerHeight=e.headerHeight:s.headerHeight=null}),Hr(()=>{e.highlightHoveredRow!=null?s.highlightHoveredRow=e.highlightHoveredRow:s.highlightHoveredRow=!1});let a=tt([]),l=tt(0),u=tt(null),c=tt(Rs([])),f=tt(Rs([])),h=De(()=>z(c).filter(O=>n.rowStillExists(O))),d=De(()=>z(f)),m=0;vy(()=>(m=requestAnimationFrame(v),()=>{n.teardown(),r.teardown(),cancelAnimationFrame(m)}));function g(O,_){if(_.length>0){const S=_[_.length-1];return Math.abs(r.data[O][Io]-r.data[S][Io])}return 0}function b(){const{left:O,right:_}=Cet(z(a),r.renderableRows);O.length===0&&_.length===0||(Se(a,Aet(z(a),O)),Se(a,Eet(z(a),_.sort((S,k)=>g(S,z(a))-g(k,z(a))).slice(0,n.isJumping?n.rowsOnScreen:s.rowRenderBatchSize))))}function v(){b(),Se(c,z(a).filter(S=>n.rowIsVisible(S)),!0),Se(f,r.renderableCols.filter(S=>n.colIsVisible(S)),!0);const O=n.xScroll,_=i.yScroll(n.yScroll);z(u)&&(z(u).style.transform=`translate3d(${O}px, ${_}px, 0)`),Se(l,n.updateKey,!0),m=requestAnimationFrame(v)}_et(t,{children:(O,_)=>{var S=Fet(),k=Yn(S);bet(k,{});var A=yl(k,2),C=Yn(A);{var T=P=>{var N=Iet(),I=Fa(N),$=Yn(I);pKe($,()=>z(l),B=>{var U=$et(),j=Fa(U);pv(j,16,()=>z(h),W=>W,(W,ue)=>{var te=Ap(),ae=Fa(te);pv(ae,16,()=>z(d),ie=>ie,(ie,_e)=>{NJe(ie,{get row(){return ue},get col(){return _e}})}),en(W,te)});var ee=yl(j,2);pv(ee,16,()=>r.renderableRows,W=>W,(W,ue)=>{Ret(W,{get row(){return ue}})}),en(B,U)}),zn(I),vo(I,B=>Se(u,B),()=>z(u));var R=yl(I,2);cJe(R,{});var M=yl(R,2);aJe(M,{}),en(P,N)};No(C,P=>{n.isReady&&P(T)})}zn(A),zn(S),vo(S,P=>n.element=P,()=>n?.element),L1("wheel",S,function(...P){n.handleWheel?.apply(this,P)}),yu(A,"clientHeight",P=>n.viewHeight=P),yu(A,"clientWidth",P=>n.viewWidth=P),en(O,S)},$$slots:{default:!0}}),mi()}class Net{component;currentProps;constructor(e,n){this.currentProps={...n},this.component=cKe({component:Let,target:e,props:n})}update(e){let n={};for(let r in e)e[r]!==this.currentProps[r]&&(n[r]=e[r],this.currentProps[r]=e[r]);this.component.$set(n)}destroy(){this.component.$destroy()}}var Qet=fe("<div></div>");function Bet(t,e){He(e,!0);let n=hr(e,["$$slots","$$events","$$legacy"]),r;_d(()=>{let s=new Net(r,n);Bs(()=>{s.update(n)}),Tk(()=>{s.destroy()})});var i=Qet();gt(i,"",{},{width:"100%",height:"100%"}),Gi(i,s=>r=s,()=>r),X(t,i),Ke()}const zet={fontSize:"13px",fontFamily:"system-ui",light:{primaryBackgroundColor:"white",secondaryBackgroundColor:"var(--color-slate-100)",primaryTextColor:"var(--color-slate-500)",secondaryTextColor:"var(--color-slate-400)",tertiaryTextColor:"var(--color-slate-300)",scrollbarPillColor:"var(--color-slate-400)",scrollbarLabelBackgroundColor:"white",rowScrollToColor:"var(--color-blue-200)",rowHoverColor:"var(--color-blue-100)"},dark:{primaryBackgroundColor:"black",secondaryBackgroundColor:"var(--color-slate-900)",primaryTextColor:"var(--color-slate-400)",secondaryTextColor:"var(--color-slate-500)",tertiaryTextColor:"var(--color-slate-600)",scrollbarPillColor:"var(--color-slate-500)",scrollbarLabelBackgroundColor:"var(--color-slate-900)",rowScrollToColor:"var(--color-blue-900)",rowHoverColor:"var(--color-blue-950)"}};function Uet(t,e){He(e,!0);const n=()=>hi(a,"$columnStyles",i),r=()=>hi(o,"$colorScheme",i),[i,s]=Il();let{colorScheme:o,columnStyles:a}=e.context,l=Hse(e.context.highlight),u=Le(null);Vr(()=>l.subscribe(h=>{x(u)!==h&&oe(u,h,!0)}));function c(h,d,m){let g={};for(let b of h)m?.[b.name]!=null&&(g[b.name]=Zz(m[b.name])),d[b.name]?.renderer!=null&&(g[b.name]=Zz(d[b.name]?.renderer));return g}let f=Y(()=>c(e.context.columns,n(),e.context.tableCellRenderers));Bet(t,{get coordinator(){return e.context.coordinator},get table(){return e.context.table},get rowKey(){return e.context.id},get columns(){return e.spec.columns},get filter(){return e.context.filter},get scrollTo(){return x(u)},onRowClick:async h=>{l.set(h)},numLines:3,get colorScheme(){return r()},get theme(){return zet},highlightHoveredRow:!0,get customCells(){return x(f)}}),Ke(),s()}async function jet(t){let{coordinator:e,table:n,projection:r}=t,i=t.config??{},s=i.exclude??[],o=(await Cse(e,n)).filter(l=>!l.name.startsWith("__")),a=[];if(r!=null&&i.embedding!==!1){let l={type:"embedding",title:"Embedding",data:{x:r.x,y:r.y,text:r.text}};typeof i.embedding=="object"&&(l={...l,...i.embedding}),a.push(l),s.push(r.x),s.push(r.y),r.text&&s.push(r.text)}if(a.push({type:"predicates",title:"SQL Predicates"}),i.table!==!1){let l={type:"table",title:"Table",columns:o.map(u=>u.name)};typeof i.table=="object"&&(l={...l,...i.table}),a.push(l)}for(let l of o){if(l.jsType==null||i.include!=null&&i.include.indexOf(l.name)<0||s.indexOf(l.name)>=0)continue;let u=i.override?.[l.name];if(u!==void 0){u!==null&&a.push(u);continue}let c=await Ase(e,n,l.name);if(!(c<=1))switch(l.jsType){case"string":{c<=1e3&&a.push({type:"count-plot",title:l.name,data:{field:l.name}});break}case"string[]":{a.push({type:"count-plot",title:l.name,data:{field:l.name,isList:!0}});break}case"number":{c<=10?a.push({type:"count-plot",title:l.name,data:{field:l.name}}):a.push(hae(l.name));break}}}return a}function hae(t,e){return{title:t,layers:[{mark:"bar",style:{fillColor:"$markColorFade"},encoding:{x:{field:t},y:{aggregate:"count"}}},{mark:"bar",filter:"$filter",encoding:{x:{field:t},y:{aggregate:"count"},...e?{color:{field:e}}:{}}}],selection:{brush:{encoding:"x"}},widgets:[{type:"scale.type",channel:"x"},{type:"encoding.normalize",attribute:"y",layer:[0,1],options:["x"]}]}}const dae={},pae={},mae=[];function rm(t,e,n={}){dae[t]=e,pae[t]=n}function Ll(t){mae.push(t)}function qet(t){if(typeof t!="object")return pj;if(typeof t.type=="string"){let e=dae[t.type];return e??pj}return iHe}function gae(t){if(typeof t!="object")return{};if(typeof t.type=="string"){let e=pae[t.type];return e??{}}return{}}function Vet(){return mae}rm("builder",TWe);rm("count-plot",VXe);rm("embedding",YYe);rm("predicates",uZe);rm("table",Uet);rm("markdown",WXe,{supportsEditMode:!0});rm("content-viewer",cLe);Ll({icon:"chart-h-bar",description:"Create a count plot of a field",ui:[{field:{key:"x",label:"Field",types:["number","string","string[]"],required:!0}}],create:({x:t})=>t.type=="discrete[]"?{title:t.name,type:"count-plot",data:{field:t.name,isList:!0}}:{title:t.name,type:"count-plot",data:{field:t.name}}});Ll({icon:"chart-stacked",description:"Create a histogram of a field",ui:[{field:{key:"x",label:"Field",types:["number","string"],required:!0}},{field:{key:"color",label:"Group Field",types:["number","string"]}}],create:({x:t,color:e})=>hae(t.name,e?.name)});Ll({icon:"chart-line",description:"Create a line chart of two fields",ui:[{field:{key:"x",label:"X Field",types:["number","string"],required:!0}},{field:{key:"y",label:"Y Field",types:["number"],required:!0}},{field:{key:"color",label:"Group Field",types:["number","string"]}}],create:({x:t,y:e,color:n})=>({title:e.name,layers:[{mark:"line",filter:"$filter",encoding:{x:{field:t.name},y:{aggregate:"mean",field:e.name},...n?{color:{field:n.name}}:{}}}],selection:{brush:{encoding:"x"}},widgets:[{type:"scale.type",channel:"x"},{type:"encoding.normalize",attribute:"y",layer:0,options:["x"]}]})});Ll({icon:"chart-ecdf",description:"Create a chart showing the empirical cumulative distribution (eCDF) of a field",ui:[{field:{key:"x",label:"Field",types:["number"],required:!0}},{field:{key:"color",label:"Group Field",types:["number","string"]}}],create:({x:t,color:e})=>({title:t.name,layers:[{mark:"line",filter:"$filter",encoding:{x:{aggregate:"ecdf-value",field:t.name},y:{aggregate:"ecdf-rank"},...e?{color:{field:e.name}}:{}}}],selection:{brush:{encoding:"x"}},widgets:[{type:"scale.type",channel:"x"}]})});Ll({icon:"chart-heatmap",description:"Create a 2D heatmap of two fields",ui:[{field:{key:"x",label:"X Field",types:["number","string"],required:!0}},{field:{key:"y",label:"Y Field",types:["number","string"],required:!0}}],create:({x:t,y:e})=>({title:`${t.name}, ${e.name}`,layers:[{mark:"rect",filter:"$filter",zIndex:-1,encoding:{x:{field:t.name},y:{field:e.name},color:{aggregate:"count"}}},{mark:"rect",zIndex:-2,encoding:{color:{value:0}}}],selection:{brush:{encoding:"xy"}},widgets:[{type:"scale.type",channel:"x"},{type:"scale.type",channel:"y"},{type:"encoding.normalize",attribute:"color",layer:0,options:["x","y"]}]})});Ll({icon:"chart-boxplot",description:"Create a box plot",ui:[{field:{key:"x",label:"X Field",required:!0}},{field:{key:"y",label:"Y Field",types:["number"],required:!0}}],create:({x:t,y:e})=>({title:t.name,layers:[{mark:"rect",filter:"$filter",width:1,style:{fillColor:"$ruleColor"},encoding:{x:{field:t.name},y1:{aggregate:"min",field:e.name},y2:{aggregate:"max",field:e.name}}},{mark:"rect",filter:"$filter",width:{gap:1,clampToRatio:.1},encoding:{x:{field:t.name},y1:{aggregate:"quantile",quantile:.25,field:e.name},y2:{aggregate:"quantile",quantile:.75,field:e.name}}},{mark:"rect",filter:"$filter",height:1,width:{gap:1,clampToRatio:.1},style:{fillColor:"$ruleColor"},encoding:{x:{field:t.name},y:{aggregate:"median",field:e.name}}}],selection:{brush:{encoding:"x"}},axis:{y:{title:e.name}},widgets:[{type:"scale.type",channel:"x"},{type:"scale.type",channel:"y"}]})});Ll({icon:"chart-bubble",description:"Create a bubble chart",ui:[{field:{key:"x",label:"X Field",types:["number"],required:!0}},{field:{key:"y",label:"Y Field",types:["number"],required:!0}},{field:{key:"color",label:"Color Field",types:["number","string"]}},{field:{key:"group",label:"Group Field",types:["number","string"]}}],create:({x:t,y:e,color:n,group:r})=>({title:t.name,layers:[{mark:"point",filter:"$filter",style:{fillColor:"$encoding",fillOpacity:.1,strokeColor:"$encoding"},encoding:{x:{aggregate:"mean",field:t.name},y:{aggregate:"mean",field:e.name},size:{aggregate:"count"},...n?{color:{field:n?.name}}:{},...r?{group:{field:r.name}}:{}}}],selection:{brush:{encoding:"xy"}},widgets:[{type:"scale.type",channel:"x"},{type:"scale.type",channel:"y"}]})});Ll({icon:"chart-embedding",description:"Create an embedding view",ui:[{field:{key:"x",label:"X Field",types:["number"],required:!0}},{field:{key:"y",label:"Y Field",types:["number"],required:!0}},{field:{key:"text",label:"Text Field",types:["string"]}},{field:{key:"category",label:"Category Field",types:["string","number"]}}],preview:!1,create:({x:t,y:e,text:n,category:r},i)=>({type:"embedding",title:"Embedding",data:{x:t.name,y:e.name,text:n?.name,category:r?.name}})});Ll({icon:"chart-predicates",description:"Create a filter with custom SQL predicates",ui:[],create:()=>({type:"predicates",title:"SQL Predicates"})});Ll({icon:"chart-markdown",description:"Create a view with markdown content",preview:!1,ui:[{code:{key:"content",language:"markdown"}}],create:({content:t})=>({type:"markdown",title:"Markdown",content:t})});Ll({icon:"chart-content-viewer",description:"Create a view that displays a given field's content for the last selected point",preview:!1,ui:[{field:{key:"field",label:"Field",required:!0}}],create:({field:t})=>({type:"content-viewer",title:t.name,field:t.name})});Ll({icon:"chart-spec",description:"Create a chart with custom spec",preview:!1,ui:[{spec:{key:"spec"}}],create:({spec:t})=>t});var Xet=fe('<div class="p-2 h-full flex flex-col gap-2"><!> <!></div>'),Zet=fe('<div class="absolute"><div class="absolute left-0 right-0 top-0 bottom-0 bg-white dark:bg-black rounded-md overflow-hidden flex flex-col shadow-md border border-slate-300 dark:border-slate-700 group"><div class="p-2 bg-slate-100 dark:bg-slate-900 flex cursor-move select-none"><div class="flex-1 font-mono font-medium whitespace-nowrap overflow-hidden text-ellipsis"> </div> <div class="flex gap-1 sm:opacity-0 group-hover:opacity-100"><!> <!></div></div> <div class="flex-1 min-h-0"><!></div></div> <div class="absolute cursor-ew-resize"></div> <div class="absolute cursor-ew-resize"></div> <div class="absolute cursor-ns-resize"></div> <div class="absolute cursor-ns-resize"></div> <div class="absolute cursor-nwse-resize"></div> <div class="absolute cursor-nesw-resize"></div> <div class="absolute cursor-nesw-resize"></div> <div class="absolute cursor-nwse-resize"></div></div>');function Wet(t,e){He(e,!0);const n=()=>hi(s,"$colorScheme",r),[r,i]=Il();let{colorScheme:s}=e.context,o=Y(()=>e.grid.resolvePlacement(e.placement)),a=Y(()=>x(o).x),l=Y(()=>x(o).y),u=Y(()=>x(o).width),c=Y(()=>x(o).height),f=Le(!1),h=Y(()=>gae(e.spec).supportsEditMode??!1),d=Y(()=>x(h)&&x(f)?"edit":"view"),m=Le(void 0),g;function b(le){return ce=>{let Qe=e.grid.numColumns,We=e.grid.xScaler,ve=e.grid.yScaler,Te=e.placement.x,ze=e.placement.y,Ue=e.placement.x+e.placement.width,Re=e.placement.y+e.placement.height;return e.onBringToFront?.(),e.onIsPlacementChanging?.(!0),{move:lt=>{let it=Math.round(Te+(lt.clientX-ce.clientX)*le[0]/We),Lt=Math.round(ze+(lt.clientY-ce.clientY)*le[1]/ve),ft=Math.round(Ue+(lt.clientX-ce.clientX)*le[2]/We),Ee=Math.round(Re+(lt.clientY-ce.clientY)*le[3]/ve);const nt=2,on=2;le[0]&&le[2]?(it=Math.min(Math.max(0,it),Qe-(Ue-Te)),ft=it+(Ue-Te)):(it=Math.min(Math.max(0,it),Ue-nt),ft=Math.min(Math.max(Te+nt,ft),Qe)),le[1]&&le[3]?(Lt=Math.max(0,Lt),Ee=Lt+(Re-ze)):(Lt=Math.min(Math.max(0,Lt),Re-on),Ee=Math.max(ze+on,Ee)),e.onPlacementChange?.({x:it,y:Lt,width:ft-it,height:Ee-Lt})},up:()=>{e.onIsPlacementChanging?.(!1)},cancel:()=>{e.onIsPlacementChanging?.(!1)}}}}function v(){g?.scrollIntoView({block:"nearest"})}var O={scrollIntoView:v},_=Zet();_.__click=()=>{e.onBringToFront?.()};let S;var k=K(_),A=K(k),C=K(A),T=K(C,!0);Z(C),Kr(C,(le,ce)=>Zn?.(le,ce),()=>({click:()=>{e.onBringToFront?.()},drag:b([1,1,1,1])}));var P=se(C,2),N=K(P);{let le=Y(()=>x(d)=="edit"?Nne:tR);ed(N,{get icon(){return x(le)},onClick:()=>{oe(f,!x(f)),x(f)&&oe(m,e.spec)}})}var I=se(N,2);ed(I,{get icon(){return ly},get onClick(){return e.onRemove}}),Z(P),Z(A);var $=se(A,2),R=K($);{var M=le=>{var ce=Bt(),Qe=Ye(ce);Cl(Qe,()=>e.chartView,()=>({id:e.id,width:"container",height:"container",mode:x(d)})),X(le,ce)},B=le=>{var ce=Xet(),Qe=K(ce);eR(Qe,{class:"w-full flex-1 min-h-0",get initialValue(){return x(m)},get colorScheme(){return n()},onChange:ve=>{oe(m,ve)}});var We=se(Qe,2);{let ve=Y(()=>x(m)==null);c7(We,{label:"Confirm",get disabled(){return x(ve)},onClick:()=>{x(m)!=null&&(e.onSpecChange(x(m)),oe(f,!1))}})}Z(ce),X(le,ce)};ke(R,le=>{x(d)=="view"&&x(f)&&e.onSpecChange?le(B,!1):le(M)})}Z($),Z(k);var U=se(k,2);gt(U,"",{},{left:"-2px",top:"10px",bottom:"10px",width:"10px"}),Kr(U,(le,ce)=>Zn?.(le,ce),()=>({drag:b([1,0,0,0])}));var j=se(U,2);gt(j,"",{},{right:"-2px",top:"10px",bottom:"10px",width:"10px"}),Kr(j,(le,ce)=>Zn?.(le,ce),()=>({drag:b([0,0,1,0])}));var ee=se(j,2);gt(ee,"",{},{left:"10px",right:"10px",top:"-2px",height:"10px"}),Kr(ee,(le,ce)=>Zn?.(le,ce),()=>({drag:b([0,1,0,0])}));var W=se(ee,2);gt(W,"",{},{left:"10px",right:"10px",bottom:"-2px",height:"10px"}),Kr(W,(le,ce)=>Zn?.(le,ce),()=>({drag:b([0,0,0,1])}));var ue=se(W,2);gt(ue,"",{},{left:"-2px",top:"-2px",width:"10px",height:"10px"}),Kr(ue,(le,ce)=>Zn?.(le,ce),()=>({drag:b([1,1,0,0])}));var te=se(ue,2);gt(te,"",{},{right:"-2px",top:"-2px",width:"10px",height:"10px"}),Kr(te,(le,ce)=>Zn?.(le,ce),()=>({drag:b([0,1,1,0])}));var ae=se(te,2);gt(ae,"",{},{left:"-2px",bottom:"-2px",width:"10px",height:"10px"}),Kr(ae,(le,ce)=>Zn?.(le,ce),()=>({drag:b([1,0,0,1])}));var ie=se(ae,2);gt(ie,"",{},{right:"-2px",bottom:"-2px",width:"10px",height:"10px"}),Kr(ie,(le,ce)=>Zn?.(le,ce),()=>({drag:b([0,0,1,1])})),Z(_),Gi(_,le=>g=le,()=>g),Me(()=>{S=gt(_,"",S,{left:`${x(a)??""}px`,top:`${x(l)??""}px`,width:`${x(u)??""}px`,height:`${x(c)??""}px`,"z-index":e.order}),Mt(T,e.spec.title)}),Gh(3,_,()=>gY,()=>({duration:100})),X(t,_);var _e=Ke(O);return i(),_e}Tr(["click"]);function yC(t,e=""){let n=1,r;do r=e+n,n++;while(r in t);return r}function yae(t,e){if(!e||e.length===0)return t;let n=new Set(t),r=new Set(e);return[...e.filter(i=>n.has(i)),...t.filter(i=>!r.has(i))]}class bC{numColumns;rows;constructor(e){if(e>32)throw new Error("numColumns must be <= 32");this.numColumns=e,this.rows=new Uint32Array(128)}ensureSize(e){if(this.rows.length<e){let n=Math.ceil(this.rows.length*1.5);for(;n<e;)n=Math.ceil(n*1.5);let r=new Uint32Array(n);r.set(this.rows,0),this.rows=r}}clone(){let e=new bC(this.numColumns);return e.rows=new Uint32Array(this.rows),e}get(e,n){return e<0||e>=this.numColumns||n<0||n>=this.rows.length?!1:(this.rows[n]&1<<e)!=0}set(e,n,r){e<0||e>=this.numColumns||n<0||(this.ensureSize(n+1),r==0?this.rows[n]&=~(1<<e):r==1&&(this.rows[n]|=1<<e))}check(e,n,r,i){if(e<0&&(r+=e,e=0),n<0&&(i+=n,n=0),e+r>this.numColumns&&(r=this.numColumns-e),r<=0||i<=0)return!0;let s=(1<<r)-1<<e;for(let o=0;o<i;o++)if(n+o<this.rows.length&&(this.rows[n+o]&s)!=0)return!1;return!0}fill(e,n,r,i){if(e<0&&(r+=e,e=0),n<0&&(i+=n,n=0),e+r>this.numColumns&&(r=this.numColumns-e),r<=0||i<=0)return;const s=(1<<r)-1<<e;this.ensureSize(n+i);for(let o=0;o<i;o++)this.rows[n+o]|=s}find(e,n){if(e<=0||n<=0||e>this.numColumns)throw new Error("invalid dimensions");let r=this.rows.length;for(let s=0;s<r;s++)for(let o=0;o<=this.numColumns-e;o++)if(this.check(o,s,e,n))return{x:o,y:s};return{x:0,y:this.rows.length}}maxOccupiedY(){for(let e=this.rows.length-1;e>=0;e--)if(this.rows[e]!=0)return e;return-1}unusedRects(e,n,r,i){let s=this.clone(),o=[],a=this.maxOccupiedY();for(let l=0;l<=a;l++)for(let u=0;u<s.numColumns;u++){if(s.get(u,l))continue;let c=0;for(let h=1;h<=Math.min(r,s.numColumns-u)&&!s.get(u+h-1,l);h++)c=h;if(c<e)continue;let f=0;for(let h=c;h>=e;h--){f=0;for(let d=1;d<=Math.min(i,s.rows.length-l);d++){let m=!0;for(let g=0;g<h;g++)if(s.get(u+g,l+d-1)){m=!1;break}if(!m)break;f=d}if(l+f>a+1&&(f=a+1-l),f>=n){o.push({x:u,y:l,width:h,height:f}),s.fill(u,l,h,f);break}}}return o}}class Yet{containerWidth;containerHeight;numColumns;numRows;gap;constructor(e,n,r,i,s){this.containerWidth=e,this.containerHeight=n,this.numColumns=r,this.numRows=i,this.gap=s}resolvePlacement(e){let n=(this.containerWidth-this.gap*(this.numColumns-1))/this.numColumns,r=(this.containerHeight-this.gap*(this.numRows-1))/this.numRows;return{x:e.x*(n+this.gap),y:e.y*(r+this.gap),width:e.width*n+(e.width-1)*this.gap,height:e.height*r+(e.height-1)*this.gap}}get xScaler(){return(this.containerWidth+this.gap)/this.numColumns}get yScaler(){return(this.containerHeight+this.gap)/this.numRows}}function Get(t,e,n){let r={},i=new bC(n);for(let s in t){let o=e[s];o!=null&&(i.fill(o.x,o.y,o.width,o.height),r[s]=o)}for(let s in t){if(r[s]!=null)continue;let o=8,a=5;t[s].type=="embedding"&&(o=16,a=12),t[s].type=="table"&&(o=n,a=6),o>n&&(o=n);let{x:l,y:u}=i.find(o,a);i.fill(l,u,o,a),r[s]={x:l,y:u,width:o,height:a}}return r}var Het=fe('<button class="absolute rounded-md border bg-slate-100 dark:bg-slate-900 border-slate-400 text-slate-400 dark:border-slate-500 dark:text-slate-500 border-dashed opacity-0 hover:opacity-50 flex items-center justify-center"><!></button>'),Ket=fe("<div><div><!> <!></div></div>");function Jet(t,e){He(e,!0);let n=Le(100),r=Le(100),i,s=Le(0),o=Y(()=>e.state.numColumns??(x(n)<500?8:24)),a=Y(()=>e.state.numRows??16),l=Y(()=>new Yet(x(n),x(r),x(o),x(a),6)),u=Y(()=>`${x(o)}x${x(a)}`),c=Y(()=>Get(e.charts,e.state.grids?.[x(u)]?.placements??{},x(l).numColumns)),f=Y(kE(()=>yae(Object.keys(e.charts),e.state.grids?.[x(u)]?.order).reverse())),h=Y(()=>{let N=new bC(x(l).numColumns);for(let I in x(c))N.fill(x(c)[I].x,x(c)[I].y,x(c)[I].width,x(c)[I].height);return N.unusedRects(4,4,12,8)}),d=Y(()=>{let N=x(l).numRows;for(let I in x(c))N=Math.max(N,x(c)[I].y+x(c)[I].height);return N}),m=Le(void 0),g=Y(()=>Math.max(x(m)??x(d),x(d))),b=Y(()=>x(g)<=x(l).numRows?x(r):x(l).yScaler*x(g));Vr(()=>{let N=x(s)>=1;Os(()=>{N?oe(m,Math.max(x(m)??x(d),x(d)),!0):oe(m,0)})});function v(N){e.onStateChange({grids:{[x(u)]:{placements:{...x(c),[N]:void 0}}}}),e.onChartsChange({[N]:void 0}),e.onChartStatesChange({[N]:void 0})}function O(N){let I=e.state.grids?.[x(u)]?.order??[],$=[N,...I.filter(R=>R!=N)];e.onStateChange({grids:{[x(u)]:{order:$}}})}function _(N){let I=yC(e.charts);e.onChartsChange({[I]:{type:"builder",title:"New"}}),e.onStateChange({grids:{[x(u)]:{placements:{[I]:N}}}})}let S=Wh({});_d(()=>{let N=new Set(Object.keys(e.charts));Bs(()=>{let I=N;if(N=new Set(Object.keys(e.charts)),N.size!=I.size+1)return;let $=[];for(let R of N)I.has(R)||$.push(R);$.length==1&&S[$[0]]?.scrollIntoView()})});var k=Ket(),A=K(k);let C;var T=K(A);fn(T,17,()=>x(h),ur,(N,I)=>{const $=Y(()=>x(l).resolvePlacement(x(I)));var R=Het(),M=Y(()=>_.bind(null,x(I)));R.__click=function(...j){x(M)?.apply(this,j)};let B;var U=K(R);Lne(U,{}),Z(R),Me(()=>B=gt(R,"",B,{left:`${x($).x??""}px`,top:`${x($).y??""}px`,width:`${x($).width??""}px`,height:`${x($).height??""}px`})),Gh(3,R,()=>gY,()=>({duration:100})),X(N,R)});var P=se(T,2);fn(P,16,()=>Object.keys(e.charts),N=>N,(N,I)=>{{let $=Y(()=>x(c)[I]??{x:0,y:0,width:4,height:3}),R=Y(()=>x(f).indexOf(I)),M=Y(()=>v.bind(null,I)),B=Y(()=>O.bind(null,I));Gi(Wet(N,{get context(){return e.context},get id(){return I},get spec(){return e.charts[I]},get placement(){return x($)},get grid(){return x(l)},get order(){return x(R)},get onRemove(){return x(M)},onPlacementChange:U=>{e.onStateChange({grids:{[x(u)]:{placements:{...x(c),[I]:U}}}})},onIsPlacementChanging:U=>oe(s,x(s)+(U?1:-1)),get onBringToFront(){return x(B)},onSpecChange:U=>{e.onChartsChange({[I]:void 0}),e.onChartStatesChange({[I]:void 0}),e.onChartsChange({[I]:U})},get chartView(){return e.chartView}}),(U,j)=>S[j]=U,U=>S?.[U],()=>[I])}}),Z(A),Gi(A,N=>i=N,()=>i),Z(k),Me(()=>{sr(k,1,`w-full h-full overflow-x-hidden relative ${x(b)>x(r)?"overflow-y-scroll overscroll-none":"overflow-y-hidden"}`),C=gt(A,"",C,{"z-index":0,width:`${x(n)??""}px`,height:`${x(b)??""}px`,position:"relative",overflow:"hidden"})}),mc(k,"clientWidth",N=>oe(n,N)),mc(k,"clientHeight",N=>oe(r,N)),X(t,k),Ke()}Tr(["click"]);function ett(t,e){He(e,!0);function n(){let r=yC(e.charts);e.onChartsChange({[r]:{type:"builder",title:"New"}})}Hf(t,{get icon(){return Lne},onClick:n,title:"Add"}),Ke()}function Eq(t,{from:e,to:n},r={}){var{delay:i=0,duration:s=A=>Math.sqrt(A)*120,easing:o=Bse}=r,a=getComputedStyle(t),l=a.transform==="none"?"":a.transform,[u,c]=a.transformOrigin.split(" ").map(parseFloat);u/=t.clientWidth,c/=t.clientHeight;var f=ttt(t),h=t.clientWidth/n.width/f,d=t.clientHeight/n.height/f,m=e.left+e.width*u,g=e.top+e.height*c,b=n.left+n.width*u,v=n.top+n.height*c,O=(m-b)*h,_=(g-v)*d,S=e.width/n.width,k=e.height/n.height;return{delay:i,duration:typeof s=="function"?s(Math.sqrt(O*O+_*_)):s,easing:o,css:(A,C)=>{var T=C*O,P=C*_,N=A+C*S,I=A+C*k;return`transform: ${l} translate(${T}px, ${P}px) scale(${N}, ${I});`}}}function ttt(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,n=1;e!==null;)n*=+getComputedStyle(e).zoom,e=e.parentElement;return n}var ntt=fe('<div class="text-sm pr-0.5"><!></div>'),rtt=fe('<div class="text-sm pr-0.5"><!></div>'),itt=fe('<div class="h-96"><div class="w-full h-96 p-2 flex flex-col gap-2"><!> <!></div></div>'),stt=fe('<div class="p-2 flex items-center"><button class="font-mono font-medium h-6 text-left flex flex-1 mr-2 overflow-hidden items-center"><!> <div class="flex-1 whitespace-nowrap overflow-hidden text-ellipsis"> </div></button> <div class="flex-none flex gap-1 sm:opacity-0 group-hover:opacity-100"><!> <!> <!> <!></div></div> <div><div class="overflow-hidden"><!> <!></div></div>',1);function Tq(t,e){He(e,!0);let n=Le(!1),r=Y(()=>gae(e.spec).supportsEditMode??!1),i=Y(()=>x(r)&&x(n)?"edit":"view"),s=Le(void 0);var o=stt(),a=Ye(o),l=K(a);l.__click=()=>e.onIsVisibleChange?.(!e.isVisible);var u=K(l);{var c=R=>{var M=ntt(),B=K(M);Pz(B,{}),Z(M),X(R,M)},f=R=>{var M=rtt(),B=K(M);Dz(B,{}),Z(M),X(R,M)};ke(u,R=>{e.isVisible?R(c):R(f,!1)})}var h=se(u,2),d=K(h,!0);Z(h),Z(l);var m=se(l,2),g=K(m);{var b=R=>{{let M=Y(()=>x(i)=="edit"?Nne:tR);ed(R,{get icon(){return x(M)},title:"Edit",onClick:()=>{oe(n,!x(n)),x(n)&&(oe(s,e.spec),e.onIsVisibleChange?.(!0))}})}};ke(g,R=>{e.onSpecChange&&R(b)})}var v=se(g,2);{var O=R=>{ed(R,{get icon(){return Pz},title:"Move up",get onClick(){return e.onUp}})};ke(v,R=>{e.onUp&&R(O)})}var _=se(v,2);{var S=R=>{ed(R,{get icon(){return Dz},title:"Move down",get onClick(){return e.onDown}})};ke(_,R=>{e.onDown&&R(S)})}var k=se(_,2);{var A=R=>{ed(R,{get icon(){return ly},title:"Close",onClick:()=>e.onRemove()})};ke(k,R=>{e.onRemove&&R(A)})}Z(m),Z(a);var C=se(a,2);let T;var P=K(C),N=K(P);Cl(N,()=>e.chartView,()=>({id:e.id,width:"container",mode:x(i)}));var I=se(N,2);{var $=R=>{var M=itt(),B=K(M),U=K(B);eR(U,{class:"w-full flex-1 min-h-0",get initialValue(){return x(s)},get colorScheme(){return e.colorScheme},onChange:ee=>{oe(s,ee)}});var j=se(U,2);{let ee=Y(()=>x(s)==null);c7(j,{label:"Confirm",get disabled(){return x(ee)},onClick:()=>{x(s)!=null&&(e.onSpecChange(x(s)),oe(n,!1))}})}Z(B),Z(M),Gh(3,M,()=>Cb),X(R,M)};ke(I,R=>{x(i)=="view"&&x(n)&&e.onSpecChange&&R($)})}Z(P),Z(C),Me(()=>{Mt(d,e.spec.title),T=gt(C,"",T,{display:"grid","grid-template-rows":e.isVisible?"1fr":"0fr",transition:"grid-template-rows 300ms ease-in-out"})}),X(t,o),Ke()}Tr(["click"]);var ott=fe("<div></div>");function Dq(t,e){He(e,!0);let n=hr(e,["$$slots","$$events","$$legacy"]);function r(s){let o=s.pageX,a=s.pageY,l=e.value;return{move:u=>{let c=u.pageX-o,f=u.pageY-a,h=l+(e.axis=="x"?c:f)*e.scaler;h<e.min&&(h=n.min),h>e.max&&(h=n.max),e.onChange(h)}}}var i=ott();Kr(i,(s,o)=>Zn?.(s,o),()=>({drag:r})),Me(()=>sr(i,1,`${e.class??""} ${e.axis=="x"?"cursor-col-resize":"cursor-row-resize"}`)),X(t,i),Ke()}function att(t){switch(t.type){case"embedding":return"embedding";case"table":return"table";default:return"chart"}}function bae(t){let e={embedding:[],table:[],chart:[]};for(let n in t){let r=att(t[n]);r!=null&&e[r].push(n)}return e}var ltt=fe('<div class="flex-1 overflow-hidden rounded-md"><!></div>'),utt=fe('<div class="flex flex-row gap-2 flex-1 overflow-hidden"></div>'),ctt=fe('<div class="flex-1 h-full overflow-hidden rounded-md"><!></div>'),ftt=fe("<div></div>"),htt=fe('<div class="flex-1 flex flex-col overflow-hidden"><!> <!> <!></div>'),dtt=fe('<div class="bg-white dark:bg-black rounded-md flex flex-col group"><!></div>'),ptt=fe('<div class="h-full overflow-x-hidden overflow-y-scroll"><div class="flex flex-row flex-wrap gap-2"><button class="bg-white dark:bg-black rounded-md flex flex-col justify-center items-center gap-2 p-2 w-full text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 select-none">+ Add</button> <!></div></div>'),mtt=fe("<!> <!> <!>",1),gtt=fe('<div class="bg-white dark:bg-black rounded-md flex flex-col group"><!></div>'),ytt=fe('<div class="w-full h-full overflow-y-scroll flex flex-col gap-2"></div>'),btt=fe('<div class="w-full h-full flex flex-row"><!></div>');function vtt(t,e){He(e,!0);const n=()=>hi(s,"$colorScheme",r),[r,i]=Il();let{colorScheme:s}=e.context,o=Le(100),a=Le(100),l=Le(300),u=Le(400),c=Le(400),f=Y(kE(()=>bae(e.charts))),h=Y(()=>x(o)<500),d=Y(()=>x(f).embedding.length>0&&(e.state.showEmbedding??!0)),m=Y(()=>x(f).table.length>0&&(e.state.showTable??!0)),g=Y(()=>e.state.showCharts??!0);function b(T,P){let I=Math.round((T+7)/(P+7)),$,R;for(let M=Math.max(1,I-1);M<=Math.max(1,I+1);M++){let B=(T-7*(M-1))/M,U=Math.abs(B-P);($==null||U<$)&&($=U,R=B)}return Math.floor((R??400)*2)/2}let v=Y(kE(()=>yae(x(f).chart,e.state.chartsOrder)));function O(T,P){let N=[...x(v)],I=N.indexOf(T);if(I==-1)return;let $=I+P;$<0||$>=N.length||([N[I],N[$]]=[N[$],N[I]],e.onStateChange({chartsOrder:N}))}function _(T){e.onChartsChange({[T]:void 0}),e.onChartStatesChange({[T]:void 0})}var S=btt(),k=K(S);{var A=T=>{var P=mtt(),N=Ye(P);{var I=U=>{var j=htt(),ee=K(j);{var W=_e=>{var le=utt();fn(le,20,()=>x(f).embedding,ce=>ce,(ce,Qe)=>{var We=ltt(),ve=K(We);Cl(ve,()=>e.chartView,()=>({id:Qe,width:"container",height:"container"})),Z(We),X(ce,We)}),Z(le),X(_e,le)};ke(ee,_e=>{x(d)&&_e(W)})}var ue=se(ee,2);{var te=_e=>{{let le=Y(()=>x(a)-100);Dq(_e,{class:"h-2 flex-none",axis:"y",min:100,get max(){return x(le)},scaler:-1,get value(){return x(l)},onChange:ce=>oe(l,ce,!0)})}};ke(ue,_e=>{x(d)&&x(m)&&_e(te)})}var ae=se(ue,2);{var ie=_e=>{var le=ftt();let ce;fn(le,20,()=>x(f).table,Qe=>Qe,(Qe,We)=>{var ve=ctt(),Te=K(ve);Cl(Te,()=>e.chartView,()=>({id:We,width:"container",height:"container"})),Z(ve),X(Qe,ve)}),Z(le),Me(()=>{sr(le,1,RO(x(d)?"flex-none":"flex-1")),ce=gt(le,"",ce,{height:x(d)?`${x(l)}px`:null})}),Gh(3,le,()=>Cb),X(_e,le)};ke(ae,_e=>{x(m)&&_e(ie)})}Z(j),X(U,j)};ke(N,U=>{(x(d)||x(m))&&U(I)})}var $=se(N,2);{var R=U=>{{let j=Y(()=>x(o)-100);Dq(U,{class:"w-2 flex-none",axis:"x",min:100,get max(){return x(j)},scaler:-1,get value(){return x(u)},onChange:ee=>oe(u,ee,!0)})}};ke($,U=>{(x(d)||x(m))&&x(g)&&U(R)})}var M=se($,2);{var B=U=>{var j=ptt();let ee;var W=K(j),ue=K(W);ue.__click=()=>{let ae=yC(e.charts);e.onChartsChange({[ae]:{type:"builder",title:"New"}}),e.onStateChange({chartsOrder:[ae,...x(v).filter(ie=>ie!=ae)]})};var te=se(ue,2);fn(te,26,()=>x(v),ae=>ae,(ae,ie,_e)=>{const le=Y(()=>e.charts[ie]),ce=Y(()=>e.state.chartVisibility?.[ie]??!0);var Qe=dtt();let We;var ve=K(Qe);{let Te=Y(()=>_.bind(null,ie)),ze=Y(()=>x(_e)>0?O.bind(null,ie,-1):void 0),Ue=Y(()=>x(_e)+1<x(v).length?O.bind(null,ie,1):void 0);Tq(ve,{get id(){return ie},get spec(){return x(le)},onIsVisibleChange:Re=>{e.onStateChange({chartVisibility:{[ie]:Re}})},get isVisible(){return x(ce)},get colorScheme(){return n()},get chartView(){return e.chartView},get onRemove(){return x(Te)},get onUp(){return x(ze)},get onDown(){return x(Ue)},onSpecChange:Re=>{e.onChartsChange({[ie]:void 0}),e.onChartStatesChange({[ie]:void 0}),e.onChartsChange({[ie]:Re})}})}Z(Qe),Me(Te=>We=gt(Qe,"",We,Te),[()=>({width:`${b(x(c),500)??""}px`})]),sM(Qe,()=>Eq,()=>({duration:300})),Gh(2,Qe,()=>Cb),X(ae,Qe)}),Z(W),Z(j),Me(()=>ee=gt(j,"",ee,{width:`${(x(d)||x(m)?x(u):x(o))??""}px`})),mc(W,"clientWidth",ae=>oe(c,ae)),Gh(3,j,()=>Cb,()=>({axis:"x"})),X(U,j)};ke(M,U=>{x(g)&&U(B)})}X(T,P)},C=T=>{var P=ytt();fn(P,30,()=>x(f).embedding.concat(x(v),x(f).table),N=>N,(N,I)=>{const $=Y(()=>e.state.chartVisibility?.[I]??!0),R=Y(()=>x(v).indexOf(I));var M=gtt(),B=K(M);{let U=Y(()=>_.bind(null,I)),j=Y(()=>x(R)>0?O.bind(null,I,-1):void 0),ee=Y(()=>x(R)!=-1&&x(R)+1<x(v).length?O.bind(null,I,1):void 0);Tq(B,{get id(){return I},get spec(){return e.charts[I]},onIsVisibleChange:W=>{e.onStateChange({chartVisibility:{[I]:W}})},get isVisible(){return x($)},get colorScheme(){return n()},get chartView(){return e.chartView},get onRemove(){return x(U)},get onUp(){return x(j)},get onDown(){return x(ee)}})}Z(M),sM(M,()=>Eq,()=>({duration:300})),Gh(2,M,()=>Cb),X(N,M)}),Z(P),X(T,P)};ke(k,T=>{x(h)?T(C,!1):T(A)})}Z(S),mc(S,"clientWidth",T=>oe(o,T)),mc(S,"clientHeight",T=>oe(a,T)),X(t,S),Ke(),i()}Tr(["click"]);var Ott=fe('<div class="flex gap-0.5 items-center"><!> <!> <!></div>');function wtt(t,e){He(e,!0);let n=Y(()=>bae(e.charts));var r=Ott(),i=K(r);{var s=h=>{var d=()=>e.state.showEmbedding??!0,m=g=>{e.onStateChange({showEmbedding:g})};T_(h,{get icon(){return SFe},title:"Show / hide embedding",get checked(){return d()},set checked(g){m(g)}})};ke(i,h=>{x(n).embedding.length>0&&h(s)})}var o=se(i,2),a=()=>e.state.showTable??!0,l=h=>{e.onStateChange({showTable:h})};T_(o,{get icon(){return IFe},title:"Show / hide table",get checked(){return a()},set checked(h){l(h)}});var u=se(o,2),c=()=>e.state.showCharts??!0,f=h=>{e.onStateChange({showCharts:h})};T_(u,{get icon(){return MFe},title:"Show / hide charts",get checked(){return c()},set checked(h){f(h)}}),Z(r),X(t,r),Ke()}const Ug={list:[vtt,wtt],dashboard:[Jet,ett]};function xtt(t){return Ug[t]==null?Ug.list[0]:Ug[t][0]}function _tt(t){return Ug[t]==null?Ug.list[1]:Ug[t][1]}function Stt(t,e){He(e,!0);let n=Y(()=>_tt(e.layout)),r=Y(()=>e.layoutStates[e.layout]??{});function i(u,c="merge"){Zg(e.charts,u,c,f=>e.onChartsChange?.(f))}function s(u,c="merge"){Zg(e.chartStates,u,c,f=>e.onChartStatesChange?.(f))}function o(u,c,f="merge"){Mx(e.layoutStates,u,c,f,h=>e.onLayoutStatesChange?.(h))}var a=Bt(),l=Ye(a);{let u=Y(()=>o.bind(null,e.layout));th(l,()=>x(n),(c,f)=>{f(c,{get context(){return e.context},get charts(){return e.charts},get state(){return x(r)},get onStateChange(){return x(u)},onChartsChange:i,onChartStatesChange:s})})}X(t,a),Ke()}function ktt(t,e){He(e,!0);let n=Y(()=>xtt(e.layout)),r=Y(()=>e.layoutStates[e.layout]??{});function i(f,h,d="merge"){Mx(e.charts,f,h,d,m=>e.onChartsChange?.(m))}function s(f,h,d="merge"){Mx(e.chartStates,f,h,d,m=>e.onChartStatesChange?.(m))}function o(f,h="merge"){Zg(e.charts,f,h,d=>e.onChartsChange?.(d))}function a(f,h="merge"){Zg(e.chartStates,f,h,d=>e.onChartStatesChange?.(d))}function l(f,h,d="merge"){Mx(e.layoutStates,f,h,d,m=>e.onLayoutStatesChange?.(m))}var u=Bt(),c=Ye(u);{const f=(d,m)=>{let g=()=>m?.().id,b=()=>m?.().width,v=()=>m?.().height,O=()=>m?.().mode;{let _=Y(()=>e.chartStates[g()]??{}),S=Y(()=>O()??"view"),k=Y(()=>i.bind(null,g())),A=Y(()=>s.bind(null,g())),C=Y(()=>e.registerChartDelegate?T=>e.registerChartDelegate?.(g(),T):void 0);Lse(d,{get context(){return e.context},get width(){return b()},get height(){return v()},get spec(){return e.charts[g()]},get state(){return x(_)},get mode(){return x(S)},get onSpecChange(){return x(k)},get onStateChange(){return x(A)},get registerDelegate(){return x(C)}})}};let h=Y(()=>l.bind(null,e.layout));th(c,()=>x(n),(d,m)=>{m(d,{get context(){return e.context},get charts(){return e.charts},get state(){return x(r)},get onStateChange(){return x(h)},onChartsChange:o,onChartStatesChange:a,chartView:f,$$slots:{chartView:!0}})})}X(t,u),Ke()}var Ctt=fe('<tr class="leading-10"><td class="w-full"><div class="max-w-80 whitespace-nowrap text-ellipsis overflow-x-hidden"> </div></td><td class="pr-2"><div class="flex items-center gap-2"><!> <!></div></td><td><div class="flex items-center gap-2"><!></div></td></tr>');function Att(t,e){He(e,!0);function n(g){e.onChange({...e.style,...g})}var r=Ctt(),i=K(r),s=K(i),o=K(s,!0);Z(s),Z(i);var a=se(i),l=K(a),u=K(l);{let g=Y(()=>e.style.renderer??null),b=Y(()=>[{value:null,label:"(default)"},...rLe.map(v=>({value:v.renderer,label:v.label}))]);Ra(u,{get value(){return x(g)},onChange:v=>n({renderer:v}),get options(){return x(b)}})}var c=se(u,2);{var f=g=>{var b=()=>e.style.rendererOptions?.size??100,v=O=>{n({rendererOptions:{size:O}})};D_(g,{get value(){return b()},set value(O){v(O)},width:80,min:16,max:400,step:1})};ke(c,g=>{e.style.renderer=="image"&&g(f)})}Z(l),Z(a);var h=se(a),d=K(h),m=K(d);{let g=Y(()=>e.style.display??"badge");Ra(m,{get value(){return x(g)},onChange:b=>{n({display:b})},options:[{value:"full",label:"Full"},{value:"badge",label:"Badge"},{value:"hidden",label:"Hidden"}]})}Z(d),Z(h),Z(r),Me(()=>Mt(o,e.column.name)),X(t,r),Ke()}var Ett=fe('<div class="max-h-60 overflow-x-hidden overflow-y-scroll border border-slate-300 dark:border-slate-700 p-2 rounded-md"><table><thead><tr class="select-none"><th class="pb-2 text-slate-500 dark:text-slate-400 text-left font-normal text-sm">Column</th><th class="pb-2 text-slate-500 dark:text-slate-400 text-left font-normal text-sm">Format</th><th class="pb-2 text-slate-500 dark:text-slate-400 text-left font-normal text-sm">Style</th></tr></thead><tbody></tbody></table></div>');function Ttt(t,e){He(e,!0);var n=Ett(),r=K(n),i=se(K(r));fn(i,21,()=>e.columns,ur,(s,o)=>{{let a=Y(()=>e.styles[x(o).name]??{});Att(s,{get column(){return x(o)},get style(){return x(a)},onChange:l=>{let u={...e.styles};u[x(o).name]=l,e.onStylesChange(u)}})}}),Z(i),Z(r),Z(n),X(t,n),Ke()}var Dtt=fe('<div> <span class="text-slate-500"> </span></div>');function Ptt(t,e){He(e,!0);let n=Le(null),r=Le(null);Bs(()=>{oe(n,null),oe(r,null);let l=LO({coordinator:e.coordinator,selection:e.filter,prepare:async()=>{let u=await e.coordinator.query(at.from(e.table).select({count:pt`COUNT(*)::INT`}));oe(n,u.get(0).count,!0)},query:u=>at.from(e.table).select({count:pt`COUNT(*)::INT`}).where(u),queryResult:u=>{oe(r,u.getChild("count").get(0),!0)}});return()=>{l.destroy()}});var i=Dtt(),s=K(i),o=se(s),a=K(o);Z(o),Z(i),Me((l,u)=>{Mt(s,`${l??""} `),Mt(a,`/ ${u??""} points`)},[()=>x(r)?.toLocaleString()??"",()=>x(n)?.toLocaleString()??""]),X(t,i),Ke()}var F_={exports:{}};var Rtt=F_.exports,Pq;function $tt(){return Pq||(Pq=1,(function(t,e){(function(n,r){t.exports=r()})(Rtt,(function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},r=function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")},i=(function(){function u(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&u(c.prototype,f),h&&u(c,h),c}})(),s=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},o=(function(){function u(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5e3;r(this,u),this.ctx=c,this.iframes=f,this.exclude=h,this.iframesTimeout=d}return i(u,[{key:"getContexts",value:function(){var f=void 0,h=[];return typeof this.ctx>"u"||!this.ctx?f=[]:NodeList.prototype.isPrototypeOf(this.ctx)?f=Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?f=this.ctx:typeof this.ctx=="string"?f=Array.prototype.slice.call(document.querySelectorAll(this.ctx)):f=[this.ctx],f.forEach(function(d){var m=h.filter(function(g){return g.contains(d)}).length>0;h.indexOf(d)===-1&&!m&&h.push(d)}),h}},{key:"getIframeContents",value:function(f,h){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},m=void 0;try{var g=f.contentWindow;if(m=g.document,!g||!m)throw new Error("iframe inaccessible")}catch{d()}m&&h(m)}},{key:"isIframeBlank",value:function(f){var h="about:blank",d=f.getAttribute("src").trim(),m=f.contentWindow.location.href;return m===h&&d!==h&&d}},{key:"observeIframeLoad",value:function(f,h,d){var m=this,g=!1,b=null,v=function O(){if(!g){g=!0,clearTimeout(b);try{m.isIframeBlank(f)||(f.removeEventListener("load",O),m.getIframeContents(f,h,d))}catch{d()}}};f.addEventListener("load",v),b=setTimeout(v,this.iframesTimeout)}},{key:"onIframeReady",value:function(f,h,d){try{f.contentWindow.document.readyState==="complete"?this.isIframeBlank(f)?this.observeIframeLoad(f,h,d):this.getIframeContents(f,h,d):this.observeIframeLoad(f,h,d)}catch{d()}}},{key:"waitForIframes",value:function(f,h){var d=this,m=0;this.forEachIframe(f,function(){return!0},function(g){m++,d.waitForIframes(g.querySelector("html"),function(){--m||h()})},function(g){g||h()})}},{key:"forEachIframe",value:function(f,h,d){var m=this,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},b=f.querySelectorAll("iframe"),v=b.length,O=0;b=Array.prototype.slice.call(b);var _=function(){--v<=0&&g(O)};v||_(),b.forEach(function(S){u.matches(S,m.exclude)?_():m.onIframeReady(S,function(k){h(S)&&(O++,d(k)),_()},_)})}},{key:"createIterator",value:function(f,h,d){return document.createNodeIterator(f,h,d,!1)}},{key:"createInstanceOnIframe",value:function(f){return new u(f.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(f,h,d){var m=f.compareDocumentPosition(d),g=Node.DOCUMENT_POSITION_PRECEDING;if(m&g)if(h!==null){var b=h.compareDocumentPosition(d),v=Node.DOCUMENT_POSITION_FOLLOWING;if(b&v)return!0}else return!0;return!1}},{key:"getIteratorNode",value:function(f){var h=f.previousNode(),d=void 0;return h===null?d=f.nextNode():d=f.nextNode()&&f.nextNode(),{prevNode:h,node:d}}},{key:"checkIframeFilter",value:function(f,h,d,m){var g=!1,b=!1;return m.forEach(function(v,O){v.val===d&&(g=O,b=v.handled)}),this.compareNodeIframe(f,h,d)?(g===!1&&!b?m.push({val:d,handled:!0}):g!==!1&&!b&&(m[g].handled=!0),!0):(g===!1&&m.push({val:d,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(f,h,d,m){var g=this;f.forEach(function(b){b.handled||g.getIframeContents(b.val,function(v){g.createInstanceOnIframe(v).forEachNode(h,d,m)})})}},{key:"iterateThroughNodes",value:function(f,h,d,m,g){for(var b=this,v=this.createIterator(h,f,m),O=[],_=[],S=void 0,k=void 0,A=function(){var T=b.getIteratorNode(v);return k=T.prevNode,S=T.node,S};A();)this.iframes&&this.forEachIframe(h,function(C){return b.checkIframeFilter(S,k,C,O)},function(C){b.createInstanceOnIframe(C).forEachNode(f,function(T){return _.push(T)},m)}),_.push(S);_.forEach(function(C){d(C)}),this.iframes&&this.handleOpenIframes(O,f,d,m),g()}},{key:"forEachNode",value:function(f,h,d){var m=this,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},b=this.getContexts(),v=b.length;v||g(),b.forEach(function(O){var _=function(){m.iterateThroughNodes(f,O,h,d,function(){--v<=0&&g()})};m.iframes?m.waitForIframes(O,_):_()})}}],[{key:"matches",value:function(f,h){var d=typeof h=="string"?[h]:h,m=f.matches||f.matchesSelector||f.msMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.webkitMatchesSelector;if(m){var g=!1;return d.every(function(b){return m.call(f,b)?(g=!0,!1):!0}),g}else return!1}}]),u})(),a=(function(){function u(c){r(this,u),this.ctx=c,this.ie=!1;var f=window.navigator.userAgent;(f.indexOf("MSIE")>-1||f.indexOf("Trident")>-1)&&(this.ie=!0)}return i(u,[{key:"log",value:function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"debug",d=this.opt.log;this.opt.debug&&(typeof d>"u"?"undefined":n(d))==="object"&&typeof d[h]=="function"&&d[h]("mark.js: "+f)}},{key:"escapeStr",value:function(f){return f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(f){return this.opt.wildcards!=="disabled"&&(f=this.setupWildcardsRegExp(f)),f=this.escapeStr(f),Object.keys(this.opt.synonyms).length&&(f=this.createSynonymsRegExp(f)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(f=this.setupIgnoreJoinersRegExp(f)),this.opt.diacritics&&(f=this.createDiacriticsRegExp(f)),f=this.createMergedBlanksRegExp(f),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(f=this.createJoinersRegExp(f)),this.opt.wildcards!=="disabled"&&(f=this.createWildcardsRegExp(f)),f=this.createAccuracyRegExp(f),f}},{key:"createSynonymsRegExp",value:function(f){var h=this.opt.synonyms,d=this.opt.caseSensitive?"":"i",m=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var g in h)if(h.hasOwnProperty(g)){var b=h[g],v=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(g):this.escapeStr(g),O=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(b):this.escapeStr(b);v!==""&&O!==""&&(f=f.replace(new RegExp("("+this.escapeStr(v)+"|"+this.escapeStr(O)+")","gm"+d),m+("("+this.processSynomyms(v)+"|")+(this.processSynomyms(O)+")")+m))}return f}},{key:"processSynomyms",value:function(f){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(f=this.setupIgnoreJoinersRegExp(f)),f}},{key:"setupWildcardsRegExp",value:function(f){return f=f.replace(/(?:\\)*\?/g,function(h){return h.charAt(0)==="\\"?"?":""}),f.replace(/(?:\\)*\*/g,function(h){return h.charAt(0)==="\\"?"*":""})}},{key:"createWildcardsRegExp",value:function(f){var h=this.opt.wildcards==="withSpaces";return f.replace(/\u0001/g,h?"[\\S\\s]?":"\\S?").replace(/\u0002/g,h?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(f){return f.replace(/[^(|)\\]/g,function(h,d,m){var g=m.charAt(d+1);return/[(|)\\]/.test(g)||g===""?h:h+"\0"})}},{key:"createJoinersRegExp",value:function(f){var h=[],d=this.opt.ignorePunctuation;return Array.isArray(d)&&d.length&&h.push(this.escapeStr(d.join(""))),this.opt.ignoreJoiners&&h.push("\\u00ad\\u200b\\u200c\\u200d"),h.length?f.split(/\u0000+/).join("["+h.join("")+"]*"):f}},{key:"createDiacriticsRegExp",value:function(f){var h=this.opt.caseSensitive?"":"i",d=this.opt.caseSensitive?["aÃ Ã¡áº£Ã£áº¡Äáº±áº¯áº³áºµáº·Ã¢áº§áº¥áº©áº«áº­Ã¤Ã¥ÄÄ","AÃÃáº¢Ãáº Äáº°áº®áº²áº´áº¶Ãáº¦áº¤áº¨áºªáº¬ÃÃÄÄ","cÃ§ÄÄ","CÃÄÄ","dÄÄ","DÄÄ","eÃ¨Ã©áº»áº½áº¹Ãªá»áº¿á»á»á»Ã«ÄÄÄ","EÃÃáººáº¼áº¸Ãá»áº¾á»á»á»ÃÄÄÄ","iÃ¬Ã­á»Ä©á»Ã®Ã¯Ä«","IÃÃá»Ä¨á»ÃÃÄª","lÅ","LÅ","nÃ±ÅÅ","NÃÅÅ","oÃ²Ã³á»Ãµá»Ã´á»á»á»á»á»Æ¡á»á»¡á»á»á»£Ã¶Ã¸Å","OÃÃá»Ãá»Ãá»á»á»á»á»Æ á»á» á»á»á»¢ÃÃÅ","rÅ","RÅ","sÅ¡ÅÈÅ","SÅ ÅÈÅ","tÅ¥ÈÅ£","TÅ¤ÈÅ¢","uÃ¹Ãºá»§Å©á»¥Æ°á»«á»©á»­á»¯á»±Ã»Ã¼Å¯Å«","UÃÃá»¦Å¨á»¤Æ¯á»ªá»¨á»¬á»®á»°ÃÃÅ®Åª","yÃ½á»³á»·á»¹á»µÃ¿","YÃá»²á»¶á»¸á»´Å¸","zÅ¾Å¼Åº","ZÅ½Å»Å¹"]:["aÃ Ã¡áº£Ã£áº¡Äáº±áº¯áº³áºµáº·Ã¢áº§áº¥áº©áº«áº­Ã¤Ã¥ÄÄAÃÃáº¢Ãáº Äáº°áº®áº²áº´áº¶Ãáº¦áº¤áº¨áºªáº¬ÃÃÄÄ","cÃ§ÄÄCÃÄÄ","dÄÄDÄÄ","eÃ¨Ã©áº»áº½áº¹Ãªá»áº¿á»á»á»Ã«ÄÄÄEÃÃáººáº¼áº¸Ãá»áº¾á»á»á»ÃÄÄÄ","iÃ¬Ã­á»Ä©á»Ã®Ã¯Ä«IÃÃá»Ä¨á»ÃÃÄª","lÅLÅ","nÃ±ÅÅNÃÅÅ","oÃ²Ã³á»Ãµá»Ã´á»á»á»á»á»Æ¡á»á»¡á»á»á»£Ã¶Ã¸ÅOÃÃá»Ãá»Ãá»á»á»á»á»Æ á»á» á»á»á»¢ÃÃÅ","rÅRÅ","sÅ¡ÅÈÅSÅ ÅÈÅ","tÅ¥ÈÅ£TÅ¤ÈÅ¢","uÃ¹Ãºá»§Å©á»¥Æ°á»«á»©á»­á»¯á»±Ã»Ã¼Å¯Å«UÃÃá»¦Å¨á»¤Æ¯á»ªá»¨á»¬á»®á»°ÃÃÅ®Åª","yÃ½á»³á»·á»¹á»µÃ¿YÃá»²á»¶á»¸á»´Å¸","zÅ¾Å¼ÅºZÅ½Å»Å¹"],m=[];return f.split("").forEach(function(g){d.every(function(b){if(b.indexOf(g)!==-1){if(m.indexOf(b)>-1)return!1;f=f.replace(new RegExp("["+b+"]","gm"+h),"["+b+"]"),m.push(b)}return!0})}),f}},{key:"createMergedBlanksRegExp",value:function(f){return f.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(f){var h=this,d="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~Â¡Â¿",m=this.opt.accuracy,g=typeof m=="string"?m:m.value,b=typeof m=="string"?[]:m.limiters,v="";switch(b.forEach(function(O){v+="|"+h.escapeStr(O)}),g){case"partially":default:return"()("+f+")";case"complementary":return v="\\s"+(v||this.escapeStr(d)),"()([^"+v+"]*"+f+"[^"+v+"]*)";case"exactly":return"(^|\\s"+v+")("+f+")(?=$|\\s"+v+")"}}},{key:"getSeparatedKeywords",value:function(f){var h=this,d=[];return f.forEach(function(m){h.opt.separateWordSearch?m.split(" ").forEach(function(g){g.trim()&&d.indexOf(g)===-1&&d.push(g)}):m.trim()&&d.indexOf(m)===-1&&d.push(m)}),{keywords:d.sort(function(m,g){return g.length-m.length}),length:d.length}}},{key:"isNumeric",value:function(f){return Number(parseFloat(f))==f}},{key:"checkRanges",value:function(f){var h=this;if(!Array.isArray(f)||Object.prototype.toString.call(f[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(f),[];var d=[],m=0;return f.sort(function(g,b){return g.start-b.start}).forEach(function(g){var b=h.callNoMatchOnInvalidRanges(g,m),v=b.start,O=b.end,_=b.valid;_&&(g.start=v,g.length=O-v,d.push(g),m=O)}),d}},{key:"callNoMatchOnInvalidRanges",value:function(f,h){var d=void 0,m=void 0,g=!1;return f&&typeof f.start<"u"?(d=parseInt(f.start,10),m=d+parseInt(f.length,10),this.isNumeric(f.start)&&this.isNumeric(f.length)&&m-h>0&&m-d>0?g=!0:(this.log("Ignoring invalid or overlapping range: "+(""+JSON.stringify(f))),this.opt.noMatch(f))):(this.log("Ignoring invalid range: "+JSON.stringify(f)),this.opt.noMatch(f)),{start:d,end:m,valid:g}}},{key:"checkWhitespaceRanges",value:function(f,h,d){var m=void 0,g=!0,b=d.length,v=h-b,O=parseInt(f.start,10)-v;return O=O>b?b:O,m=O+parseInt(f.length,10),m>b&&(m=b,this.log("End range automatically set to the max value of "+b)),O<0||m-O<0||O>b||m>b?(g=!1,this.log("Invalid range: "+JSON.stringify(f)),this.opt.noMatch(f)):d.substring(O,m).replace(/\s+/g,"")===""&&(g=!1,this.log("Skipping whitespace only range: "+JSON.stringify(f)),this.opt.noMatch(f)),{start:O,end:m,valid:g}}},{key:"getTextNodes",value:function(f){var h=this,d="",m=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(g){m.push({start:d.length,end:(d+=g.textContent).length,node:g})},function(g){return h.matchesExclude(g.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){f({value:d,nodes:m})})}},{key:"matchesExclude",value:function(f){return o.matches(f,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(f,h,d){var m=this.opt.element?this.opt.element:"mark",g=f.splitText(h),b=g.splitText(d-h),v=document.createElement(m);return v.setAttribute("data-markjs","true"),this.opt.className&&v.setAttribute("class",this.opt.className),v.textContent=g.textContent,g.parentNode.replaceChild(v,g),b}},{key:"wrapRangeInMappedTextNode",value:function(f,h,d,m,g){var b=this;f.nodes.every(function(v,O){var _=f.nodes[O+1];if(typeof _>"u"||_.start>h){if(!m(v.node))return!1;var S=h-v.start,k=(d>v.end?v.end:d)-v.start,A=f.value.substr(0,v.start),C=f.value.substr(k+v.start);if(v.node=b.wrapRangeInTextNode(v.node,S,k),f.value=A+C,f.nodes.forEach(function(T,P){P>=O&&(f.nodes[P].start>0&&P!==O&&(f.nodes[P].start-=k),f.nodes[P].end-=k)}),d-=k,g(v.node.previousSibling,v.start),d>v.end)h=v.end;else return!1}return!0})}},{key:"wrapMatches",value:function(f,h,d,m,g){var b=this,v=h===0?0:h+1;this.getTextNodes(function(O){O.nodes.forEach(function(_){_=_.node;for(var S=void 0;(S=f.exec(_.textContent))!==null&&S[v]!=="";)if(d(S[v],_)){var k=S.index;if(v!==0)for(var A=1;A<v;A++)k+=S[A].length;_=b.wrapRangeInTextNode(_,k,k+S[v].length),m(_.previousSibling),f.lastIndex=0}}),g()})}},{key:"wrapMatchesAcrossElements",value:function(f,h,d,m,g){var b=this,v=h===0?0:h+1;this.getTextNodes(function(O){for(var _=void 0;(_=f.exec(O.value))!==null&&_[v]!=="";){var S=_.index;if(v!==0)for(var k=1;k<v;k++)S+=_[k].length;var A=S+_[v].length;b.wrapRangeInMappedTextNode(O,S,A,function(C){return d(_[v],C)},function(C,T){f.lastIndex=T,m(C)})}g()})}},{key:"wrapRangeFromIndex",value:function(f,h,d,m){var g=this;this.getTextNodes(function(b){var v=b.value.length;f.forEach(function(O,_){var S=g.checkWhitespaceRanges(O,v,b.value),k=S.start,A=S.end,C=S.valid;C&&g.wrapRangeInMappedTextNode(b,k,A,function(T){return h(T,O,b.value.substring(k,A),_)},function(T){d(T,O)})}),m()})}},{key:"unwrapMatches",value:function(f){for(var h=f.parentNode,d=document.createDocumentFragment();f.firstChild;)d.appendChild(f.removeChild(f.firstChild));h.replaceChild(d,f),this.ie?this.normalizeTextNode(h):h.normalize()}},{key:"normalizeTextNode",value:function(f){if(f){if(f.nodeType===3)for(;f.nextSibling&&f.nextSibling.nodeType===3;)f.nodeValue+=f.nextSibling.nodeValue,f.parentNode.removeChild(f.nextSibling);else this.normalizeTextNode(f.firstChild);this.normalizeTextNode(f.nextSibling)}}},{key:"markRegExp",value:function(f,h){var d=this;this.opt=h,this.log('Searching with expression "'+f+'"');var m=0,g="wrapMatches",b=function(O){m++,d.opt.each(O)};this.opt.acrossElements&&(g="wrapMatchesAcrossElements"),this[g](f,this.opt.ignoreGroups,function(v,O){return d.opt.filter(O,v,m)},b,function(){m===0&&d.opt.noMatch(f),d.opt.done(m)})}},{key:"mark",value:function(f,h){var d=this;this.opt=h;var m=0,g="wrapMatches",b=this.getSeparatedKeywords(typeof f=="string"?[f]:f),v=b.keywords,O=b.length,_=this.opt.caseSensitive?"":"i",S=function k(A){var C=new RegExp(d.createRegExp(A),"gm"+_),T=0;d.log('Searching with expression "'+C+'"'),d[g](C,1,function(P,N){return d.opt.filter(N,A,m,T)},function(P){T++,m++,d.opt.each(P)},function(){T===0&&d.opt.noMatch(A),v[O-1]===A?d.opt.done(m):k(v[v.indexOf(A)+1])})};this.opt.acrossElements&&(g="wrapMatchesAcrossElements"),O===0?this.opt.done(m):S(v[0])}},{key:"markRanges",value:function(f,h){var d=this;this.opt=h;var m=0,g=this.checkRanges(f);g&&g.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(g)),this.wrapRangeFromIndex(g,function(b,v,O,_){return d.opt.filter(b,v,O,_)},function(b,v){m++,d.opt.each(b,v)},function(){d.opt.done(m)})):this.opt.done(m)}},{key:"unmark",value:function(f){var h=this;this.opt=f;var d=this.opt.element?this.opt.element:"*";d+="[data-markjs]",this.opt.className&&(d+="."+this.opt.className),this.log('Removal selector "'+d+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(m){h.unwrapMatches(m)},function(m){var g=o.matches(m,d),b=h.matchesExclude(m);return!g||b?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(f){this._opt=s({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},f)},get:function(){return this._opt}},{key:"iterator",get:function(){return new o(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),u})();function l(u){var c=this,f=new a(u);return this.mark=function(h,d){return f.mark(h,d),c},this.markRegExp=function(h,d){return f.markRegExp(h,d),c},this.markRanges=function(h,d){return f.markRanges(h,d),c},this.unmark=function(h){return f.unmark(h),c},this}return l}))})(F_)),F_.exports}var Itt=$tt();const Ftt=j0(Itt);var Mtt=fe('<div class="flex gap-2 select-none mx-2 my-1 items-center"><button><!></button> <div class="flex items-center gap-2"><div>Page</div> <input class="form-input w-16 h-7.5 text-right border border-slate-300 bg-white/50 dark:border-slate-700 dark:bg-black/50 rounded-md px-2 py-0 my-1"/> <div> </div></div> <button><!></button></div>');function Rq(t,e){He(e,!0);let n;function r(g){if(!isFinite(g))return e.currentPage;g=Math.max(0,Math.min(e.pageCount-1,g)),e.onChange(g),n.value=(g+1).toString()}var i=Mtt(),s=K(i);let o;s.__click=()=>{r(e.currentPage-1)};var a=K(s);vFe(a,{class:"w-5 h-5"}),Z(s);var l=se(s,2),u=se(K(l),2);Ek(u),u.__keydown=g=>{if(g.key=="Enter"){let b=+n.value;r(Math.round(b)-1)}},Gi(u,g=>n=g,()=>n);var c=se(u,2),f=K(c);Z(c),Z(l);var h=se(l,2);let d;h.__click=()=>{r(e.currentPage+1)};var m=K(h);wFe(m,{class:"w-5 h-5"}),Z(h),Z(i),Me(()=>{o=sr(s,1,"border border-slate-300 bg-white/50 dark:border-slate-700 dark:bg-black/50 px-3 py-1 rounded-md",null,o,{"text-slate-300":e.currentPage<=0,"dark:text-slate-700":e.currentPage<=0}),s.disabled=e.currentPage<=0,QV(u,e.currentPage+1),Mt(f,`of ${e.pageCount??""}`),d=sr(h,1,"border border-slate-300 bg-white/50 dark:border-slate-700 dark:bg-black/50 px-3 py-1 rounded-md",null,d,{"text-slate-300":e.currentPage>=e.pageCount-1,"dark:text-slate-700":e.currentPage>=e.pageCount-1}),h.disabled=e.currentPage>=e.pageCount-1}),ud("blur",u,()=>{let g=+n.value;r(Math.round(g)-1)}),X(t,i),Ke()}Tr(["click","keydown"]);var Ltt=fe("<!> <!> <!>",1);function Ntt(t,e){let n=dt(e,"pageSize",3,50),r=Le(0),i=Y(()=>Math.ceil(e.count/n()));var s=Ltt(),o=Ye(s);{var a=f=>{Rq(f,{get currentPage(){return x(r)},get pageCount(){return x(i)},onChange:h=>{oe(r,h)}})};ke(o,f=>{x(i)>1&&f(a)})}var l=se(o,2);{let f=Y(()=>({start:x(r)*n(),end:Math.min(e.count,x(r)*n()+n())}));Cl(l,()=>e.children,()=>x(f))}var u=se(l,2);{var c=f=>{Rq(f,{get currentPage(){return x(r)},get pageCount(){return x(i)},onChange:h=>{oe(r,h)}})};ke(u,f=>{x(i)>1&&f(c)})}X(t,s)}var Qtt=fe('<div class="flex pb-1 text-sm"><span class="px-2 flex gap-2 bg-slate-200 text-slate-500 dark:bg-slate-600 dark:text-slate-300 rounded-md"><div class="text-slate-400 dark:text-slate-400 font-medium">Distance</div> <div class="text-ellipsis whitespace-nowrap overflow-hidden max-w-72"> </div></span></div>'),Btt=fe('<button class="m-1 p-2 text-left rounded-md hover:outline outline-slate-500"><!> <div class="overflow-hidden text-ellipsis line-clamp-4 leading-5"><!></div></button> <hr class="border-slate-300 dark:border-slate-600"/>',1),ztt=fe('<div class="flex flex-col w-full h-full"><div class="ml-3 mr-2 my-1 flex items-center text-slate-400 dark:text-slate-500 items-start"><div class="flex-1"><div> </div> <div> </div></div> <div class="flex-none mt-1"><button class="block hover:text-slate-500 dark:hover:text-slate-400"><!></button></div></div> <hr class="border-slate-300 dark:border-slate-600"/> <div class="flex flex-col overflow-x-hidden overflow-y-scroll"><!></div></div>');function Utt(t,e){He(e,!0);let n=dt(e,"limit",3,100);function r(v,O){new Ftt(v).mark(O)}let i=Y(()=>e.items.length==0?"No result found.":e.items.length==1?`${e.items.length.toLocaleString()} result.`:e.items.length>=n()?`More than ${e.items.length.toLocaleString()} results, showing top ${n().toLocaleString()}.`:`${e.items.length.toLocaleString()} results.`);var s=ztt(),o=K(s),a=K(o),l=K(a),u=K(l,!0);Z(l);var c=se(l,2),f=K(c,!0);Z(c),Z(a);var h=se(a,2),d=K(h);d.__click=()=>{e.onClose?.()};var m=K(d);ly(m,{}),Z(d),Z(h),Z(o);var g=se(o,4),b=K(g);Ntt(b,{get count(){return e.items.length},children:(O,_)=>{let S=()=>_?.().start,k=()=>_?.().end;var A=Bt(),C=Ye(A);fn(C,16,()=>e.items.slice(S(),k()),T=>T,(T,P)=>{var N=Btt(),I=Ye(N);I.__click=()=>{e.onClick?.(P)};var $=K(I);{var R=U=>{var j=Qtt(),ee=K(j),W=se(K(ee),2),ue=K(W,!0);Z(W),Z(ee),Z(j),Me(te=>Mt(ue,te),[()=>P.distance.toFixed(5)]),X(U,j)};ke($,U=>{P.distance!=null&&U(R)})}var M=se($,2),B=K(M);{let U=Y(()=>e.columnStyles??{});Nse(B,{get values(){return P.fields},get columnStyles(){return x(U)}})}Z(M),Kr(M,(U,j)=>r?.(U,j),()=>e.highlight),Z(I),vl(2),X(T,N)}),X(O,A)},$$slots:{default:!0}}),Z(g),Z(s),Me(()=>{Mt(u,e.label),Mt(f,x(i))}),X(t,s),Ke()}Tr(["click"]);function $q(t,e){He(e,!0);let n=dt(e,"label",3,null),r=dt(e,"icon",3,null),i=dt(e,"title",3,""),s=dt(e,"order",3,null),o=Le("ready");async function a(){if(e.onClick&&x(o)!="running"){oe(o,"running");try{await e.onClick(),oe(o,"ready")}catch(l){oe(o,"error"),console.error(l)}}}{let l=Y(()=>x(o)=="ready"?r():x(o)=="running"?nR:Qne);Hf(t,{get label(){return n()},get icon(){return x(l)},get title(){return i()},get order(){return s()},get class(){return e.class},onClick:a})}Ke()}var jtt=fe('<span class="mx-1"> </span>'),qtt=fe("<button><!> <!></button>"),Vtt=fe('<div class="flex rounded-md select-none items-center overflow-hidden border border-slate-300 dark:border-slate-600 dark:text-slate-400 bg-slate-200 dark:bg-slate-800"></div>');function vae(t,e){He(e,!0);var n=Vtt();fn(n,21,()=>e.options,ur,(r,i)=>{const s=Y(()=>e.value==x(i).value);var o=qtt();o.__click=()=>{e.onChange?.(x(i).value)};var a=K(o);{var l=f=>{const h=Y(()=>x(i).icon);var d=Bt(),m=Ye(d);th(m,()=>x(h),(g,b)=>{b(g,{class:"w-5 h-5"})}),X(f,d)};ke(a,f=>{x(i).icon!=null&&f(l)})}var u=se(a,2);{var c=f=>{var h=jtt(),d=K(h,!0);Z(h),Me(()=>Mt(d,x(i).label)),X(f,h)};ke(u,f=>{x(i).label!=null&&x(i).label!=""&&f(c)})}Z(o),Me(()=>{sr(o,1,`flex items-center px-1.5 py-1.5 h-[26px] rounded-[3.875px] focus-visible:outline-2 outline-blue-600 -outline-offset-1 ${x(s)?"bg-white dark:bg-black shadow-md":"text-slate-400 dark:text-slate-600"}`),pe(o,"title",x(i).title??x(i).label)}),X(r,o)}),Z(n),X(t,n),Ke()}Tr(["click"]);var Xtt=fe('<span class="pl-2 text-slate-500 dark:text-slate-500"> </span>'),Ztt=fe('<div role="status" class="flex flex-row items-center"><!> <!></div>');function Wtt(t,e){let n=dt(e,"status",3,"Loading...");var r=Ztt(),i=K(r);nR(i,{class:"text-blue-500"});var s=se(i,2);{var o=a=>{var l=Xtt(),u=K(l,!0);Z(l),Me(()=>Mt(u,n())),X(a,l)};ke(s,a=>{n()!=null&&a(o)})}Z(r),X(t,r)}class Ytt{contents;constructor(){this.contents=new Map}get(e){return this.contents.get(e)??null}set(e,n){this.contents.set(e,n)}value(e,n){if(this.contents.has(e))return this.contents.get(e);const r=n();return this.contents.set(e,r),r}}const kD="0.17.0";var M_={exports:{}},Gtt=M_.exports,Iq;function Htt(){return Iq||(Iq=1,(function(t){(function(e,n){t.exports?t.exports=n():e.jsonSchema=n()})(Gtt,function(){var e=r;e.Integer={type:"integer"};var n={String,Boolean,Number,Object,Array,Date};e.validate=r;function r(i,s){return r(i,s,{changing:!1})}e.checkPropertyChange=function(i,s,o){return r(i,s,{changing:o||"property"})};var r=e._validate=function(i,s,o){o||(o={});var a=o.changing;function l(h){return h.type||n[h.name]==h&&h.name.toLowerCase()}var u=[];function c(h,d,m,g){var b;m+=m?typeof g=="number"?"["+g+"]":typeof g>"u"?"":"."+g:g;function v(T){u.push({property:m,message:T})}if((typeof d!="object"||d instanceof Array)&&(m||typeof d!="function")&&!(d&&l(d)))return typeof d=="function"?h instanceof d||v("is not an instance of the class/constructor "+d.name):d&&v("Invalid schema/property definition "+d),null;a&&d.readonly&&v("is a readonly field, it can not be changed"),d.extends&&c(h,d.extends,m,g);function O(T,P){if(T){if(typeof T=="string"&&T!="any"&&(T=="null"?P!==null:typeof P!=T)&&!(P instanceof Array&&T=="array")&&!(P instanceof Date&&T=="date")&&!(T=="integer"&&P%1===0))return[{property:m,message:P+" - "+typeof P+" value found, but a "+T+" is required"}];if(T instanceof Array){for(var N=[],I=0;I<T.length&&(N=O(T[I],P)).length;I++);if(N.length)return N}else if(typeof T=="object"){var $=u;u=[],c(P,T,m);var R=u;return u=$,R}}return[]}if(h===void 0)d.required&&v("is missing and it is required");else if(u=u.concat(O(l(d),h)),d.disallow&&!O(d.disallow,h).length&&v(" disallowed value was matched"),h!==null){if(h instanceof Array){if(d.items){var _=d.items instanceof Array,S=d.items;for(g=0,b=h.length;g<b;g+=1)_&&(S=d.items[g]),o.coerce&&(h[g]=o.coerce(h[g],S)),u.concat(c(h[g],S,m,g))}d.minItems&&h.length<d.minItems&&v("There must be a minimum of "+d.minItems+" in the array"),d.maxItems&&h.length>d.maxItems&&v("There must be a maximum of "+d.maxItems+" in the array")}else(d.properties||d.additionalProperties)&&u.concat(f(h,d.properties,m,d.additionalProperties));if(d.pattern&&typeof h=="string"&&!h.match(d.pattern)&&v("does not match the regex pattern "+d.pattern),d.maxLength&&typeof h=="string"&&h.length>d.maxLength&&v("may only be "+d.maxLength+" characters long"),d.minLength&&typeof h=="string"&&h.length<d.minLength&&v("must be at least "+d.minLength+" characters long"),typeof d.minimum<"u"&&typeof h==typeof d.minimum&&d.minimum>h&&v("must have a minimum value of "+d.minimum),typeof d.maximum<"u"&&typeof h==typeof d.maximum&&d.maximum<h&&v("must have a maximum value of "+d.maximum),d.enum){var k=d.enum;b=k.length;for(var A,C=0;C<b;C++)if(k[C]===h){A=1;break}A||v("does not have a value in the enumeration "+k.join(", "))}typeof d.maxDecimal=="number"&&h.toString().match(new RegExp("\\.[0-9]{"+(d.maxDecimal+1)+",}"))&&v("may only have "+d.maxDecimal+" digits of decimal places")}return null}function f(h,d,m,g){if(typeof d=="object"){(typeof h!="object"||h instanceof Array)&&u.push({property:m,message:"an object is required"});for(var b in d)if(d.hasOwnProperty(b)&&b!="__proto__"&&b!="constructor"){var v=h.hasOwnProperty(b)?h[b]:void 0;if(v===void 0&&o.existingOnly)continue;var O=d[b];v===void 0&&O.default&&(v=h[b]=O.default),o.coerce&&b in h&&(v=h[b]=o.coerce(v,O)),c(v,O,m,b)}}for(b in h){if(h.hasOwnProperty(b)&&!(b.charAt(0)=="_"&&b.charAt(1)=="_")&&d&&!d[b]&&g===!1)if(o.filter){delete h[b];continue}else u.push({property:m,message:"The property "+b+" is not defined in the schema and the schema does not allow additional properties"});var _=d&&d[b]&&d[b].requires;_&&!(_ in h)&&u.push({property:m,message:"the presence of the property "+b+" requires that "+_+" also be present"}),v=h[b],g&&(!(d&&typeof d=="object")||!(b in d))&&(o.coerce&&(v=h[b]=o.coerce(v,g)),c(v,g,m,b)),!a&&v&&v.$schema&&(u=u.concat(c(v,v.$schema,m,b)))}return u}return s&&c(i,s,"",a||""),!a&&i&&i.$schema&&c(i,i.$schema,"",""),{valid:!u.length,errors:u}};return e.mustBeValid=function(i){if(!i.valid)throw new TypeError(i.errors.map(function(s){return"for property "+s.property+": "+s.message}).join(`, 
`))},e})})(M_)),M_.exports}var Fq=Htt();function Ktt(t,e){let n={maxWidth:1568,maxHeight:1568,pixelRatio:2},r=[{name:"get_data_schema",description:"Get the table name and columns",inputSchema:{type:"object",additionalProperties:!1},execute:async()=>ff({table:e.context.table,columns:e.context.columns})},{name:"run_sql_query",description:"Run a readonly SQL query in DuckDB.",inputSchema:{type:"object",properties:{query:{type:"string",description:"The SQL query to run, must be readonly."}},additionalProperties:!1},execute:async i=>{let s=await e.context.coordinator.query(i.query);return ff(s.toArray())}},{name:"list_charts",description:"List all charts in Embedding Atlas.",inputSchema:{type:"object",additionalProperties:!1},execute:async()=>ff(e.charts)},{name:"add_chart",description:"Create a new chart with the specification, returns the id of the new chart.",inputSchema:{type:"object",properties:{spec:{type:"object",description:`
                The chart specification. Schema: ${JSON.stringify(__)}.
                Notes:
                - The data might be very large (>100k) points. Try not to create a chart that has no aggregation.
                - Add "filter": "$filter" to appropriate layers to make the chart respond to filters from other charts. The filter is a cross-filter.
                - When creating a chart, consider adding interactivity to it.
                - The plot size is determined by the chart container by default. Refrain from setting it directly.
                - Before adding a new chart, please list existing charts with list_charts at least once to ensure no duplication.
              `}},additionalProperties:!1},execute:async i=>{let s=Fq.validate(i.spec,__);if(s.valid){let o=yC(e.charts);return e.charts={...e.charts,[o]:i.spec},ff({id:o})}else return ff({error:"Spec is invalid",details:s.errors})}},{name:"get_chart_spec",description:"Get the specification of a chart",inputSchema:{type:"object",properties:{id:{type:"string"}},additionalProperties:!1},execute:async i=>ff(e.charts[i.id])},{name:"set_chart_spec",description:"Update the specification of a chart",inputSchema:{type:"object",properties:{id:{type:"string"},spec:{type:"object",description:"The new chart specification, replacing the existing one."}},additionalProperties:!1},execute:async i=>{let s=Fq.validate(i.spec,__);return s.valid?(e.charts={...e.charts,[i.id]:i.spec},Xu("success")):ff({error:"Spec is invalid",details:s.errors})}},{name:"get_chart_state",description:"Get the state of a chart",inputSchema:{type:"object",properties:{id:{type:"string"}},additionalProperties:!1},execute:async i=>ff(e.chartStates[i.id])},{name:"set_chart_state",description:`
          Update the state of a chart. Schema: ${JSON.stringify(lFe)}.
        `,inputSchema:{type:"object",properties:{id:{type:"string"},state:{type:"object",description:"The new chart state, replacing the existing one."}},additionalProperties:!1},execute:async i=>(e.chartStates={...e.chartStates,[i.id]:i.state},Xu("success"))},{name:"clear_chart_state",description:"Clear the state of a chart",inputSchema:{type:"object",properties:{id:{type:"string"}},additionalProperties:!1},execute:async i=>(e.chartStates={...e.chartStates,[i.id]:{}},Xu("success"))},{name:"delete_chart",description:"Delete a chart",inputSchema:{type:"object",properties:{id:{type:"string"}},additionalProperties:!1},execute:async i=>(e.charts=Object.fromEntries(Object.entries(e.charts).filter(s=>s[0]!=i.id)),e.chartStates=Object.fromEntries(Object.entries(e.chartStates).filter(s=>s[0]!=i.id)),Xu("success"))},{name:"get_chart_screenshot",description:"Get a screenshot of a chart",inputSchema:{type:"object",properties:{id:{type:"string"}},additionalProperties:!1},execute:async i=>{let s=e.chartDelegates.get(i.id);if(s!=null){for(let o of s)if(o.screenshot){let a=await o.screenshot(n);return Mq(a)}}return Xu("chart does not support taking screenshot")}},{name:"get_layout_type",description:"Get the type of the current layout ('list' or 'dashboard')",inputSchema:{type:"object",additionalProperties:!1},execute:async()=>Xu(e.layout)},{name:"set_layout_type",description:"Set the type of the current layout ('list' or 'dashboard')",inputSchema:{type:"object",properties:{type:{type:"string"}},additionalProperties:!1},execute:async i=>(e.layout=i.type,Xu("success"))},{name:"get_layout_state",description:"Get the state of the current layout",inputSchema:{type:"object",additionalProperties:!1},execute:async()=>ff(e.layoutStates[e.layout]??{})},{name:"set_layout_state",description:"Set the state of the current layout",inputSchema:{type:"object",properties:{state:{type:"object",description:`
                The new chart state, replacing the existing one.
                Schema:
                - dashboard layout state: ${JSON.stringify(uFe)}
                - list layout state: ${JSON.stringify(cFe)}
              `}},additionalProperties:!1},execute:async i=>(e.layoutStates={...e.layoutStates,[e.layout]:i.state},Xu("success"))},{name:"get_full_screenshot",description:"Get a full screenshot of the application",inputSchema:{type:"object",additionalProperties:!1},execute:async()=>{let i=await Mse(e.container,n);return Mq(i)}}];t.provideContext({tools:r})}function Xu(t){return{content:[{type:"text",text:t}]}}function ff(t){return Xu(JSON.stringify(t))}function Mq(t){let e=Jtt(t);return e?{content:[{type:"image",data:e.data,mimeType:e.mimeType}]}:Xu("failed to take screenshot")}function Jtt(t){if(!t.startsWith("data:"))return null;const e=t.indexOf(",");if(e===-1)return null;const n=t.substring(5,e),r=t.substring(e+1);let i;return n.includes(";base64")?i=n.replace(";base64",""):n.includes(";")?i=n.split(";")[0]:i=n,!i.startsWith("image/")||i!=="image/png"&&i!=="image/jpeg"?null:{mimeType:i,data:r}}class ent{worker;callbacks;constructor(){this.worker=new Worker(new URL(""+new URL("search.worker-t1sBWce_.js",import.meta.url).href,import.meta.url),{type:"module"}),this.callbacks=new Map,this.worker.onmessage=e=>{let n=this.callbacks.get(e.data.identifier);n!=null&&(this.callbacks.delete(e.data.identifier),n(e.data))}}rpc(e){return new Promise((n,r)=>{let i=new Date().getTime()+"-"+Math.random();this.callbacks.set(i,n),this.worker.postMessage({...e,identifier:i})})}async clear(){await this.rpc({type:"clear"})}async addPoints(e){await this.rpc({type:"points",points:e})}async query(e,n){return(await this.rpc({type:"query",query:e,limit:n})).result}}class tnt{coordinator;table;columns;backend;currentIndex=null;constructor(e,n,r){this.coordinator=e,this.table=n,this.columns=r,this.currentIndex=null,this.backend=new ent}predicateString(e){return e!=null&&e.toString()!=""?e.toString():null}buildIndexIfNeeded(e){let n=async()=>{let i;r!=null?i=await this.coordinator.query(`
        SELECT
          ${we(this.columns.id)} AS id,
          ${we(this.columns.text)} AS text
        FROM ${this.table}
        WHERE ${r}
      `):i=await this.coordinator.query(`
        SELECT
          ${we(this.columns.id)} AS id,
          ${we(this.columns.text)} AS text
        FROM ${this.table}
      `),await this.backend.clear(),await this.backend.addPoints(Array.from(i))},r=this.predicateString(e);if(this.currentIndex!=null){if(this.currentIndex.predicate!=r){let i=this.currentIndex.promise.then(()=>n());this.currentIndex={predicate:r,promise:i}}}else{let i=n();this.currentIndex={predicate:r,promise:i}}return this.currentIndex.promise}async fullTextSearch(e,n={}){let r=n.limit??100,i=n.predicate;return n?.onStatus?.("Indexing..."),await this.buildIndexIfNeeded(i),n?.onStatus?.("Searching..."),(await this.backend.query(e,r)).map(o=>({id:o}))}}async function nnt(t,e,n,r,i,s){let o=[`${we(n.id,e)} AS id`];n.x&&o.push(`${we(n.x,e)} AS x`),n.y&&o.push(`${we(n.y,e)} AS y`),n.text&&o.push(`${we(n.text,e)} AS text`);let a=r??{};for(let d in a){let m=a[d];typeof m=="string"?o.push(`${we(m,e)} AS "field_${d}"`):o.push(`${pt(m.sql)} AS "field_${d}"`)}let l=s.map(d=>d.id),u=new Map,c=new Map;for(let d=0;d<l.length;d++)u.set(l[d],d),c.set(l[d],s[d]);let f=await t.query(`
    SELECT
      ${o.join(", ")}
    FROM (
      SELECT ${we(n.id,e)} AS __search_result_id__
      FROM ${e}
      WHERE
        ${we(n.id,e)} IN [${l.map(d=>Ve(d)).join(", ")}]
        ${i?`AND (${i})`:""}
    )
    LEFT JOIN ${e} ON ${we(n.id,e)} = __search_result_id__
  `),h=Array.from(f).map(d=>{let m={id:d.id,distance:c.get(d.id)?.distance,fields:{}};for(let g in d)g.startsWith("field_")?m.fields[g.substring(6)]=d[g]:m[g]=d[g];return m});return h=h.sort((d,m)=>(u.get(d.id)??0)-(u.get(m.id)??0)),h}function rnt(t){let{coordinator:e,table:n,idColumn:r,searcher:i,textColumn:s,neighborsColumn:o}=t;if(i===null)return{};let a={};if(i?.fullTextSearch!=null)a.fullTextSearch=i.fullTextSearch.bind(i);else if(s!=null){let l=new tnt(e,n,{id:r,text:s});a.fullTextSearch=l.fullTextSearch.bind(l)}return i?.vectorSearch!=null&&(a.vectorSearch=i.vectorSearch.bind(i)),i?.nearestNeighbors!=null?a.nearestNeighbors=i.nearestNeighbors.bind(i):o!=null&&(a.nearestNeighbors=async l=>{let u=at.from(n).select({knn:we(o)}).where(Ta(we(r),Ve(l))),c=await e.query(u),f=Array.from(c);if(f.length!=1)return[];let{distances:h,ids:d}=f[0].knn;return Array.from(d).map((g,b)=>({id:g,distance:h[b]})).filter(g=>g.id!=l)}),a}async function int({searcher:t,predicate:e,query:n,mode:r,limit:i,onStatus:s}){s("Searching...");let o=[];if(n.toString(),r=="full-text"&&t.fullTextSearch!=null)n=n.trim(),o=await t.fullTextSearch(n,{limit:i,predicate:e,onStatus:s});else if(r=="vector"&&t.vectorSearch!=null)n=n.trim(),o=await t.vectorSearch(n,{limit:i,predicate:e,onStatus:s});else if(r=="neighbors"&&t.nearestNeighbors!=null)""+n.toString(),o=await t.nearestNeighbors(n,{limit:i,predicate:e,onStatus:s});else return[];return o}let Oae=typeof window<"u"?window.matchMedia?.("(prefers-color-scheme: dark)"):null,vC=fo(Oae?.matches?"dark":"light");Oae?.addEventListener("change",t=>{vC.set(t.matches?"dark":"light")});function snt(){let t=fo(null);return{colorScheme:$O([vC,t],([n,r])=>r??n),userColorScheme:t}}function ont(t,e){let n=0;return(...r)=>{const i=++n;t(...r).then(s=>{i===n&&e(s)}).catch(s=>{console.error(s)})}}var ant=fe('<div class="p-2"><!></div>'),lnt=fe('<div class="absolute w-96 left-0 top-[32px] rounded-md right-0 z-20 border border-slate-300 dark:border-slate-600 overflow-hidden resize shadow-lg bg-white/75 dark:bg-slate-800/75 backdrop-blur-sm"><!></div>'),unt=fe('<div class="relative w-full"><!> <!> <!></div>'),cnt=fe('<div class="text-slate-500 dark:text-slate-400">Embedding Atlas</div>'),fnt=fe('<button title="Export Selection"><!></button>'),hnt=fe('<div class="min-w-[420px] flex flex-col gap-2"><div class="flex flex-row gap-2"><!> <!></div></div>'),dnt=fe('<div class="col-start-1 row-start-1"><!></div>'),pnt=fe('<h4 class="text-slate-500 dark:text-slate-400 select-none">Column Styles</h4> <!>',1),mnt=fe('<h4 class="text-slate-500 dark:text-slate-400 select-none">Export</h4> <div class="flex flex-col gap-2"><!></div>',1),gnt=fe('<div class="w-3 h-3 rounded-full bg-orange-500 animate-pulse"></div> Connecting...',1),ynt=fe('<div class="w-3 h-3 rounded-full bg-green-500"></div> Connected',1),bnt=fe('<div class="w-3 h-3 rounded-full bg-red-500"></div> Error or server closed connection',1),vnt=fe('<h4 class="text-slate-500 dark:text-slate-400 select-none">MCP (Model Context Protocol)</h4> <div class="flex flex-none gap-2 select-none items-center"><!></div>',1),Ont=fe('<div class="min-w-[420px] flex flex-col gap-2"><!> <!> <!> <h4 class="text-slate-500 dark:text-slate-400 select-none">About</h4> <div> </div></div>'),wnt=fe('<div class="flex flex-row flex-1 justify-between min-w-[180px]"><!></div> <div class="flex flex-none gap-2 items-center pl-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900"><!> <div class="flex flex-row items-center"><button title="Clear filters" class="rounded-md flex select-none items-center p-1.5 text-slate-400 dark:text-slate-500 focus-visible:outline-2 outline-blue-600 -outline-offset-1"><!></button> <!></div></div> <div class="flex flex-none flex-row gap-2"><div class="grid grid-cols-1 grid-rows-1 justify-items-end items-center"><!></div> <!> <!> <!></div>',1),xnt=fe('<div class="embedding-atlas-root"><div><div class="m-2 flex flex-row items-center gap-2 flex-wrap"><!></div> <div class="flex-1 overflow-hidden h-full ml-2 mr-2 mb-2"><!></div></div></div>');function wae(t,e){He(e,!0);const n=()=>hi(c,"$colorScheme",s),r=()=>hi($,"$searchResultStore",s),i=()=>hi(_,"$resolvedColumnStyles",s),[s,o]=Il(),a=500;let l=dt(e,"embeddingViewConfig",3,null),u=dt(e,"embeddingViewLabels",3,null);const{colorScheme:c,userColorScheme:f}=snt();Vr(()=>{uM(f,e.colorScheme)});let h,d=Le(!1),m=Le("parquet");const g=FP.crossfilter();function b(){return YR(g.predicate(null))}let v=Le([]),O=Le({}),_=fo({});Vr(()=>{let Ee=S(x(v),x(O));_.set(Ee)});function S(Ee,nt){let on={};for(let an of Ee){let xn=nt[an.name];xn==null&&(xn={display:e.data.text==an.name?"full":"badge"}),on[an.name]=xn}return on}let k=rnt({coordinator:e.coordinator,table:e.data.table,idColumn:e.data.id,textColumn:e.data.text,neighborsColumn:e.data.neighbors,searcher:e.searcher}),A=[...k.fullTextSearch!=null?["full-text"]:[],...k.vectorSearch!=null?["vector"]:[],...k.nearestNeighbors!=null?["neighbors"]:[]];const C={"full-text":{value:"full-text",label:"Full Text"},vector:{value:"vector",label:"Vector"},neighbors:{value:"neighbors",label:"Neighbors"}};let T=Le("full-text"),P=Le(""),N=Le(""),I=Le(!1),$=fo(null);const R=ont(async(Ee,nt)=>{oe(I,!0);let on=b(),an=await int({searcher:k,predicate:on,query:Ee,mode:nt,limit:a,onStatus:dn=>{oe(N,dn,!0)}}),xn=await nnt(e.coordinator,e.data.table,{id:e.data.id,x:e.data.projection?.x,y:e.data.projection?.y,text:e.data.text},Object.fromEntries(x(v).map(dn=>[dn.name,dn.name])),on,an),or=Ee.toString().trim(),Li=Ee.toString().trim();return nt=="neighbors"&&(or="Neighbors of #"+Ee.toString(),Li=""),oe(N,""),{query:Ee,mode:nt,ids:xn.map(dn=>dn.id),label:or,highlight:Li,items:xn}},Ee=>{$.set(Ee)}),M=ZD(R,500);function B(){$.set(null),oe(I,!1)}Vr(()=>{x(P)==""?B():M(x(P),x(T))});function U(){for(let Ee of g.clauses)Ee.source?.reset?.(),g.update({...Ee,value:null,predicate:null})}function j(Ee){typeof Ee.version=="string"&&(oe(te,Ee.charts??{}),oe(ae,Ee.chartStates??{}),oe(ie,Ee.layout??"list"),oe(_e,Ee.layoutStates??{}))}Bs(()=>{if(!x(d))return;let Ee={version:kD,timestamp:new Date().getTime()/1e3,charts:x(te),chartStates:x(ae),layout:x(ie),layoutStates:x(_e),predicate:b()};e.onStateChange?.(Ee)}),_d(async()=>{if(oe(v,(await Cse(e.coordinator,e.data.table)).filter(Ee=>!Ee.name.startsWith("__"))),ue.columns=x(v),e.initialState&&j(e.initialState),Object.keys(x(te)).length==0){let Ee=await jet({coordinator:e.coordinator,table:e.data.table,id:e.data.id,projection:e.data.projection?{...e.data.projection,text:e.data.text??void 0}:void 0,config:e.defaultChartsConfig??void 0});oe(te,Object.fromEntries(Ee.map((nt,on)=>[`${on+1}`,nt])))}oe(d,!0)});function ee(Ee){if(Ee.key=="Escape"){U(),Ee.preventDefault();try{document.activeElement?.blur?.()}catch{}}}let W=fo(e.chartTheme??void 0);Vr(()=>{W.set(e.chartTheme??void 0)});let ue={coordinator:e.coordinator,filter:g,table:e.data.table,id:e.data.id,columns:[],colorScheme:c,theme:W,columnStyles:_,cache:new Ytt,persistentCache:e.cache??{get:async()=>null,set:async(Ee,nt)=>{}},searchModes:A,search:R,searchResult:$,highlight:fo(null),embeddingViewConfig:l(),embeddingViewLabels:u(),tableCellRenderers:e.tableCellRenderers},te=Le({}),ae=Le({}),ie=Le("list"),_e=Le({}),le=new Map;function ce(Ee,nt){return le.has(Ee)||le.set(Ee,new Set),le.get(Ee).add(nt),()=>{le.get(Ee)?.delete(nt)}}let Qe=Le(void 0);_d(()=>{e.modelContext&&(Ktt(e.modelContext,{context:ue,set charts(Ee){oe(te,Ee)},get charts(){return x(te)},set chartStates(Ee){oe(ae,Ee)},get chartStates(){return x(ae)},set layout(Ee){oe(ie,Ee)},get layout(){return x(ie)},set layoutStates(Ee){oe(_e,Ee)},get layoutStates(){return x(_e)},get chartDelegates(){return le},get container(){return h}}),Bs(()=>{let Ee=e.modelContext.connectionStatus?.subscribe(nt=>{oe(Qe,nt)});return()=>{Ee?.()}}))});var We=xnt();ud("keydown",yE,ee),gt(We,"",{},{width:"100%",height:"100%"});var ve=K(We);let Te,ze;var Ue=K(ve),Re=K(Ue);{var lt=Ee=>{var nt=wnt(),on=Ye(nt),an=K(on);{var xn=ar=>{var ai=unt(),Qr=K(ai);tC(Qr,{type:"search",placeholder:"Search...",className:"w-full max-w-[400px] ",get value(){return x(P)},set value(Wr){oe(P,Wr,!0)}});var wr=se(Qr,2);{var Qi=Wr=>{{let ln=Y(()=>A.filter(Nn=>Nn!="neighbors").map(Nn=>C[Nn]));Ra(Wr,{get options(){return x(ln)},get value(){return x(T)},onChange:Nn=>oe(T,Nn,!0)})}};ke(wr,Wr=>{A.filter(ln=>ln!="neighbors").length>1&&Wr(Qi)})}var li=se(wr,2);{var Bi=Wr=>{var ln=lnt();gt(ln,"",{},{height:"48em"});var Nn=K(ln);{var Tu=Br=>{const zr=Y(r);var Ji=Bt(),fa=Ye(Ji);V_(fa,()=>x(zr),ui=>{Utt(ui,{get items(){return x(zr).items},get label(){return x(zr).label},get highlight(){return x(zr).highlight},limit:a,onClick:async Ur=>{ue.highlight.set(Ur.id)},onClose:B,get columnStyles(){return i()}})}),X(Br,Ji)},Ti=Br=>{var zr=Bt(),Ji=Ye(zr);{var fa=ui=>{var Ur=ant(),So=K(Ur);Wtt(So,{get status(){return x(N)}}),Z(Ur),X(ui,Ur)};ke(Ji,ui=>{x(N)!=null&&ui(fa)},!0)}X(Br,zr)};ke(Nn,Br=>{r()!=null?Br(Tu):Br(Ti,!1)})}Z(ln),X(Wr,ln)};ke(li,Wr=>{x(I)&&Wr(Bi)})}Z(ai),X(ar,ai)},or=ar=>{var ai=cnt();X(ar,ai)};ke(an,ar=>{x(T).length>0?ar(xn):ar(or,!1)})}Z(on);var Li=se(on,2),dn=K(Li);Ptt(dn,{get coordinator(){return e.coordinator},get filter(){return g},get table(){return e.data.table}});var yi=se(dn,2),Cn=K(yi);Cn.__click=U;var Nr=K(Cn);ly(Nr,{class:"w-5 h-5"}),Z(Cn);var Au=se(Cn,2);{var Eu=ar=>{hD(ar,{title:"Export Selection",button:(Qr,wr)=>{let Qi=()=>wr?.().visible,li=()=>wr?.().toggle;var Bi=fnt();Bi.__click=function(...Nn){li()?.apply(this,Nn)};let Wr;var ln=K(Bi);b6(ln,{class:"w-5 h-5"}),Z(Bi),Me(()=>Wr=sr(Bi,1,"rounded-md px-1.5 py-1.5 flex select-none items-center focus-visible:outline-2 outline-blue-600 -outline-offset-1",null,Wr,{"text-slate-400":!Qi(),"dark:text-slate-500":!Qi()})),X(Qr,Bi)},children:(Qr,wr)=>{var Qi=hnt(),li=K(Qi),Bi=K(li);$q(Bi,{get icon(){return b6},label:"Export Selection",title:"Export the selected points",class:"w-48",onClick:()=>e.onExportSelection(b(),x(m))});var Wr=se(Bi,2);Ra(Wr,{label:"Format",get value(){return x(m)},onChange:ln=>oe(m,ln,!0),options:[{value:"parquet",label:"Parquet"},{value:"jsonl",label:"JSONL"},{value:"json",label:"JSON"},{value:"csv",label:"CSV"}]}),Z(li),Z(Qi),X(Qr,Qi)},$$slots:{button:!0,default:!0}})};ke(Au,ar=>{e.onExportSelection&&ar(Eu)})}Z(yi),Z(Li);var Xa=se(Li,2),Za=K(Xa),_o=K(Za);V_(_o,()=>x(ie),ar=>{var ai=dnt(),Qr=K(ai);Stt(Qr,{get context(){return ue},get charts(){return x(te)},get chartStates(){return x(ae)},get layout(){return x(ie)},get layoutStates(){return x(_e)},onChartsChange:wr=>oe(te,wr),onChartStatesChange:wr=>oe(ae,wr),onLayoutStatesChange:wr=>oe(_e,wr)}),Z(ai),Gh(3,ai,()=>I2e),X(ar,ai)}),Z(Za);var ca=se(Za,2);{let ar=Y(()=>[{value:"list",icon:RFe,title:"List layout"},{value:"dashboard",icon:DFe,title:"Dashboard layout"}]);vae(ca,{get value(){return x(ie)},onChange:ai=>oe(ie,ai),get options(){return x(ar)}})}var Ni=se(ca,2);{var Zs=ar=>{{let ai=Y(()=>n()=="dark"?jFe:zFe);Hf(ar,{get icon(){return x(ai)},title:"Toggle light / dark mode",onClick:()=>{uM(f,n()=="light"?"dark":"light")}})}};ke(Ni,ar=>{e.colorScheme==null&&ar(Zs)})}var Nl=se(Ni,2);hD(Nl,{get icon(){return Bne},title:"Options",children:(ar,ai)=>{var Qr=Ont(),wr=K(Qr);{var Qi=Ti=>{var Br=pnt(),zr=se(Ye(Br),2);Ttt(zr,{get columns(){return x(v)},get styles(){return i()},onStylesChange:Ji=>{oe(O,Ji)}}),X(Ti,Br)};ke(wr,Ti=>{x(v).length>0&&Ti(Qi)})}var li=se(wr,2);{var Bi=Ti=>{var Br=mnt(),zr=se(Ye(Br),2),Ji=K(zr);$q(Ji,{get icon(){return b6},label:"Export Application",title:"Download a self-contained static web application",class:"w-48",get onClick(){return e.onExportApplication}}),Z(zr),X(Ti,Br)};ke(li,Ti=>{e.onExportApplication&&Ti(Bi)})}var Wr=se(li,2);{var ln=Ti=>{var Br=vnt(),zr=se(Ye(Br),2),Ji=K(zr);{var fa=Ur=>{var So=gnt();vl(),X(Ur,So)},ui=Ur=>{var So=Bt(),Ch=Ye(So);{var Kc=de=>{var Pe=ynt();vl(),X(de,Pe)},Ah=de=>{var Pe=Bt(),Ze=Ye(Pe);{var rt=st=>{var Et=bnt();vl(),X(st,Et)};ke(Ze,st=>{(x(Qe)=="closed"||x(Qe)=="error")&&st(rt)},!0)}X(de,Pe)};ke(Ch,de=>{x(Qe)=="connected"?de(Kc):de(Ah,!1)},!0)}X(Ur,So)};ke(Ji,Ur=>{x(Qe)=="connecting"?Ur(fa):Ur(ui,!1)})}Z(zr),X(Ti,Br)};ke(Wr,Ti=>{x(Qe)&&Ti(ln)})}var Nn=se(Wr,4),Tu=K(Nn);Z(Nn),Z(Qr),Me(()=>Mt(Tu,`Embedding Atlas, ${kD}`)),X(ar,Qr)},$$slots:{default:!0}}),Z(Xa),X(Ee,nt)};ke(Re,Ee=>{x(d)&&Ee(lt)})}Z(Ue);var it=se(Ue,2),Lt=K(it);{var ft=Ee=>{ktt(Ee,{get context(){return ue},get layout(){return x(ie)},get layoutStates(){return x(_e)},get charts(){return x(te)},get chartStates(){return x(ae)},onChartsChange:nt=>oe(te,nt),onChartStatesChange:nt=>oe(ae,nt),onLayoutStatesChange:nt=>oe(_e,nt),registerChartDelegate:ce})};ke(Lt,Ee=>{x(d)&&Ee(ft)})}Z(it),Z(ve),Z(We),Gi(We,Ee=>h=Ee,()=>h),Me(()=>{Te=sr(ve,1,"w-full h-full flex flex-col text-slate-800 bg-slate-200 dark:text-slate-200 dark:bg-slate-800",null,Te,{dark:n()=="dark"}),ze=gt(ve,"",ze,{"color-scheme":n()})}),X(t,We),Ke(),o()}Tr(["click"]);var _nt=fe('<div class="content-markdown svelte-zqu787"><!></div>'),Snt=fe('<div class="flex items-start leading-5 text-slate-500 dark:text-slate-400"><div class="w-7 flex-none"><!></div> <div><!></div> <div class="flex-none font-mono text-sm"><!> <!></div></div>'),knt=fe('<div class="flex flex-col gap-1 p-4 w-[420px] border rounded-md bg-slate-50 border-slate-300 dark:bg-slate-900 dark:border-slate-700 select-text"></div>');function xae(t,e){He(e,!0);let n=dt(e,"messages",19,()=>[]);var r=knt();fn(r,21,n,ur,(i,s,o)=>{const a=Y(()=>o==n().length-1);var l=Snt(),u=K(l),c=K(u);{var f=A=>{var C=Bt(),T=Ye(C);{var P=I=>{Qne(I,{class:"text-red-400 w-5 h-5"})},N=I=>{nR(I,{class:"text-blue-500 w-5 h-5"})};ke(T,I=>{x(s).error?I(P):I(N,!1)})}X(A,C)};ke(c,A=>{(x(a)||x(s).error)&&A(f)})}Z(u);var h=se(u,2);let d;var m=K(h);{var g=A=>{var C=_nt(),T=K(C);zD(T,()=>N4(x(s).text)),Z(C),X(A,C)},b=A=>{var C=Jp();Me(()=>Mt(C,x(s).text)),X(A,C)};ke(m,A=>{x(s).markdown?A(g):A(b,!1)})}Z(h);var v=se(h,2),O=K(v);{var _=A=>{var C=Jp();Me(T=>Mt(C,`${T??""}%`),[()=>x(s).progress.toFixed(0)]),X(A,C)};ke(O,A=>{x(s).progress!=null&&A(_)})}var S=se(O,2);{var k=A=>{var C=Jp();Me(()=>Mt(C,x(s).progressText)),X(A,C)};ke(S,A=>{x(s).progressText!=null&&A(k)})}Z(v),Z(l),Me(()=>d=sr(h,1,"flex-1",null,d,{"text-red-400":x(s).error})),X(i,l)}),Z(r),X(t,r),Ke()}const _ae="deflate-raw";async function Cnt(t){let n=new TextEncoder().encode(JSON.stringify(t)),r=await mme(n,_ae);return vme(r)}async function Ant(t){let e=Ome(t),n=await gme(e,_ae),r=new TextDecoder;return JSON.parse(r.decode(n))}function Sae(t){let e=t.lastIndexOf("?");if(e<0)return{};let n=new URLSearchParams(t.slice(e+1));return Object.fromEntries(n.entries())}function Ent(t,e){let n=t.lastIndexOf("?"),r=new URLSearchParams(e);r.sort();let i=r.toString();return i==""?n<0?t:t.slice(0,n):n<0?t+"?"+i:t.slice(0,n)+"?"+r.toString()}async function L_(t,e="object"){try{let n=Sae(window.location.hash);return n[t]==null?void 0:e=="text"?n[t]:e=="object"?await Ant(n[t]):void 0}catch{return}}async function _p(t,e,n="object"){let r;if(e!==void 0)if(n=="text"){if(typeof e!="string")return;r=e}else if(n=="object")r=await Cnt(e);else return;let i=Sae(window.location.hash);r===void 0?delete i[t]:i[t]=r,window.location.hash=Ent(window.location.hash,i)}var Tnt=fe("<div><!></div>"),Dnt=fe('<div class="fixed left-0 right-0 top-0 bottom-0"><!></div>');function Pnt(t,e){He(e,!0);const n=()=>hi(vC,"$systemColorScheme",r),[r,i]=Il(),s=MO();let o=Le(!1),a=Le(!1),l=Le("Loading..."),u=Le(null),c=Le(null);_d(async()=>{try{oe(u,await L_("state")),oe(l,"Initializing database..."),oe(c,await e.dataSource.initializeCoordinator(s,"dataset",O=>{oe(l,O,!0)})),oe(o,!0)}catch(O){oe(a,!0),oe(l,O.message,!0);return}});async function f(O,_){e.dataSource.downloadSelection&&await e.dataSource.downloadSelection(O,_)}async function h(){e.dataSource.downloadArchive&&await e.dataSource.downloadArchive()}function d(O){_p("state",{...O,predicate:void 0})}var m=Dnt(),g=K(m);{var b=O=>{{let _=Y(()=>({...x(c).data??{id:"id"},table:"dataset"})),S=Y(()=>x(u)??x(c).initialState),k=Y(()=>e.dataSource.downloadArchive?h:null),A=Y(()=>e.dataSource.downloadSelection?f:null),C=Y(()=>ZD(d,200));wae(O,{get coordinator(){return s},get data(){return x(_)},get embeddingViewConfig(){return x(c).embeddingViewConfig},get embeddingViewLabels(){return x(c).embeddingViewLabels},get defaultChartsConfig(){return x(c).defaultChartsConfig},get chartTheme(){return x(c).chartTheme},get stylesheet(){return x(c).stylesheet},get initialState(){return x(S)},get modelContext(){return x(c).modelContext},get onExportApplication(){return x(k)},get onExportSelection(){return x(A)},get onStateChange(){return x(C)},get cache(){return e.dataSource.cache}})}},v=O=>{var _=Tnt();let S;var k=K(_);{let A=Y(()=>[{text:x(l),error:x(a)}]);xae(k,{get messages(){return x(A)}})}Z(_),Me(()=>S=sr(_,1,"w-full h-full grid place-content-center select-none text-slate-800 bg-slate-200 dark:text-slate-200 dark:bg-slate-800",null,S,{dark:n()=="dark"})),X(O,_)};ke(g,O=>{x(o)&&x(c)!=null?O(b):O(v,!1)})}Z(m),X(t,m),Ke(),i()}function N_(t,e){let n=document.createElement("a");n.href=URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})),n.download=e,n.click()}const CD={json:{query:"(FORMAT JSON, ARRAY true)",extension:"json"},jsonl:{query:"(FORMAT JSON)",extension:"jsonl"},csv:{query:"(FORMAT CSV)",extension:"csv"},parquet:{query:"(FORMAT parquet)",extension:"parquet"}};function Rnt(t,e,n,r){return e==null||e.length==0?pt`COPY ${t} TO ${Ve(n)} ${CD[r].query}`:pt`COPY (SELECT * FROM ${t} WHERE ${e}) TO ${Ve(n)} ${CD[r].query}`}function kae(t){return`selection-${Date.now()}.${CD[t].extension}`}async function Cae(t,e,n,r){let i=await t.databaseConnector()?.getDuckDB(),s=kae(r);await i.registerEmptyFileBuffer(s);let o=Rnt(e,n,s,r);await t.query(o.toString());let a=await i.copyFileToBuffer(s);return i.dropFile(s),[a,s]}class $nt{ws=null;endpoint;shouldReconnect=!0;reconnectAttempts=0;maxReconnectAttempts;reconnectDelay;maxReconnectDelay;reconnectTimeoutId=null;onMessage;onStatus;constructor(e,n){this.endpoint=e,this.maxReconnectAttempts=n.maxReconnectAttempts??10,this.reconnectDelay=n.initialReconnectDelay??1e3,this.maxReconnectDelay=n.maxReconnectDelay??3e4,this.onMessage=n.onMessage,this.onStatus=n.onStatus,this.connect()}connect(){if(this.shouldReconnect){this.onStatus?.("connecting");try{this.ws=new WebSocket(this.endpoint),this.ws.onopen=()=>{console.debug("WebSocket connected"),this.reconnectAttempts=0,this.onStatus?.("connected")},this.ws.onmessage=e=>{this.onMessage(e)},this.ws.onclose=e=>{console.debug("WebSocket closed:",e.code,e.reason),this.ws=null,this.shouldReconnect&&this.reconnectAttempts<this.maxReconnectAttempts?this.scheduleReconnect():this.reconnectAttempts>=this.maxReconnectAttempts&&(console.error("Max reconnection attempts reached, giving up"),this.onStatus?.("error"))},this.ws.onerror=e=>{console.error("WebSocket error:",e)}}catch(e){console.error("Failed to create WebSocket:",e),this.shouldReconnect&&this.reconnectAttempts<this.maxReconnectAttempts?this.scheduleReconnect():this.onStatus?.("error")}}}scheduleReconnect(){this.reconnectTimeoutId&&clearTimeout(this.reconnectTimeoutId),this.reconnectAttempts++;const e=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),this.maxReconnectDelay);console.debug(`Scheduling reconnection attempt ${this.reconnectAttempts} in ${e}ms`),this.reconnectTimeoutId=window.setTimeout(()=>{this.reconnectTimeoutId=null,this.connect()},e)}send(e){return this.ws?.readyState===WebSocket.OPEN?(this.ws.send(e),!0):!1}close(){this.shouldReconnect=!1,this.reconnectTimeoutId&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=null),this.ws?.close(),this.onStatus?.("closed")}}class Int{tools;toolsMap;ws;connectionStatus;constructor(e){this.tools=[],this.toolsMap=new Map,this.connectionStatus=fo("connecting"),this.ws=new $nt(e,{onMessage:async n=>{try{const r=JSON.parse(n.data);if(r.control==="close"){this.ws.close();return}const i=r,s=await this.processRequest(i);this.ws.send(JSON.stringify(s))}catch(r){console.error("Error processing MCP request:",r)}},onStatus:n=>{this.connectionStatus.set(n)}})}close(){this.ws.close()}provideContext(e){this.tools=e.tools??[],this.toolsMap=new Map(this.tools.map(n=>[n.name,n]))}async processRequest(e){if(e.request instanceof Array){let n=[];for(let r of e.request)n.push(await this.processRPC(r));return{id:e.id,response:n}}else return{id:e.id,response:await this.processRPC(e.request)}}async processRPC(e){let n,r;try{n=await this.rpc(e.method,e.params??{})}catch(i){r={code:-32603,message:i.toString()}}return{jsonrpc:"2.0",id:e.id,result:n,error:r}}async rpc(e,n){switch(e){case"initialize":return await this.initialize(n);case"tools/list":return await this.toolsList(n);case"tools/call":return await this.toolsCall(n);default:throw new Error(`method ${e} is not implemented`)}}async initialize(e){return console.info("MCP Initialize",e.clientInfo),{protocolVersion:"2024-11-05",capabilities:{logging:{},prompts:{},resources:{},tools:{},tasks:{}},serverInfo:{name:"Embedding Atlas",title:"Embedding Atlas MCP Server",version:"1.0.0",description:"MCP server for the Embedding Atlas frontend",icons:[{src:"https://apple.github.io/embedding-atlas/favicon.svg",mimeType:"image/svg+xml",sizes:["any"]}],websiteUrl:"https://apple.github.io/embedding-atlas"},instructions:"Optional instructions for the client"}}async toolsList(e){return{tools:this.tools.map(r=>({name:r.name,title:r.title,description:r.description,inputSchema:r.inputSchema,outputSchema:r.outputSchema}))}}async toolsCall(e){let n=this.toolsMap.get(e.name);if(n==null)throw new Error("tool not found");try{return await n.execute(e.arguments,void 0)}catch(r){return{content:[{type:"text",text:"Exception: "+r.toString()}],isError:!0}}}}function mb(t,e){return e.startsWith(".")&&(e=e.slice(1)),t.endsWith("/")&&e.startsWith("/")?t+e.slice(1):!t.endsWith("/")&&!e.startsWith("/")?t+"/"+e:t+e}class Fnt{serverUrl;downloadArchive=void 0;downloadSelection=void 0;constructor(e){if(e.startsWith("http"))this.serverUrl=e;else{let n=window.location.origin+window.location.pathname;n=n.replace(/\/[^/]*$/,"/"),this.serverUrl=mb(n,e)}}async initializeCoordinator(e,n,r){let i=await this.metadata();r("Initializing database...");let s=i.database?.type??"wasm";if(await kse(e,s,i.database?.uri??mb(this.serverUrl,"query")),i.database?.load){r("Loading data...");let o=mb(this.serverUrl,"dataset.parquet");await e.exec(`
        CREATE OR REPLACE TABLE ${n} AS (SELECT * FROM read_parquet(${Ve(o)}));
      `)}return i.isStatic||(this.downloadArchive=async()=>{let a=await(await this.fetchEndpoint("archive.zip")).arrayBuffer();N_(a,"embedding-atlas.zip")}),s=="wasm"?this.downloadSelection=async(o,a)=>{let[l,u]=await Cae(e,n,o,a);N_(l,u)}:i.isStatic||(this.downloadSelection=async(o,a)=>{let l=kae(a),c=await(await this.fetchEndpoint("selection",{method:"POST",body:JSON.stringify({predicate:o,format:a})})).arrayBuffer();N_(c,l)}),i.mcp&&i.mcp.type=="websocket"&&(i.props.modelContext=new Int(mb(this.serverUrl,"mcp_websocket"))),i.props}async fetchEndpoint(e,n){let r=await fetch(mb(this.serverUrl,e),n);if(r.status!=200)throw new Error("ERROR FETCH");return r}async metadata(){try{return await this.fetchEndpoint("metadata.json").then(e=>e.json())}catch{throw new Error("Network Error: Failed to fetch dataset metadata")}}async cacheGet(e){try{return await this.fetchEndpoint("cache/"+e).then(n=>n.json())}catch{return null}}async cacheSet(e,n){try{await this.fetchEndpoint("cache/"+e,{method:"POST",body:JSON.stringify(n)})}catch{}}cache={get:e=>this.cacheGet(e),set:(e,n)=>this.cacheSet(e,n)}}function Mnt(t,e){He(e,!1);let n="./data/",r=new Fnt(n);qD(),Pnt(t,{get dataSource(){return r}}),Ke()}var Lnt=fe('<button><div class="text-center space-y-2"><p class="text-slate-500 dark:text-slate-500"> </p> <p class="text-sm text-slate-400 dark:text-slate-600">Accepted file types: JSON, CSV, Parquet</p></div> <input type="file" class="hidden"/></button>');function Nnt(t,e){He(e,!0);let n=dt(e,"multiple",3,!1),r=Le(!1),i;function s(g){g.preventDefault(),oe(r,!0)}function o(){oe(r,!1)}function a(g){if(g.preventDefault(),oe(r,!1),g.dataTransfer.files){let b=Array.from(g.dataTransfer.files);(n()||b.length==1)&&b.length>0&&b.every(u)&&e.onUpload(b)}}function l(g){let b=Array.from(g.target.files);(n()||b.length==1)&&b.length>0&&b.every(u)&&e.onUpload(b)}function u(g){if(e.extensions==null)return!0;for(let b of e.extensions)if(g.name.toLowerCase().endsWith(b.toLowerCase()))return!0;return!1}var c=Lnt();c.__click=()=>{i.click()};var f=K(c),h=K(f),d=K(h,!0);Z(h),vl(2),Z(f);var m=se(f,2);m.__change=l,Gi(m,g=>i=g,()=>i),Z(c),Me(g=>{sr(c,1,`flex flex-col items-center w-full justify-center py-20 border-2 border-dashed rounded-md transition-all
    ${x(r)?"bg-slate-50 border-slate-500 dark:bg-slate-900 dark:border-slate-500":"bg-slate-50 border-slate-300 dark:bg-slate-900 dark:border-slate-700"}`),Mt(d,x(r)?"Drop your files here":"Drag & drop files here or click to select"),pe(m,"accept",g),m.multiple=n()},[()=>e.extensions?.join(",")]),ud("dragover",c,s),ud("dragleave",c,o),ud("drop",c,a),X(t,c),Ke()}Tr(["click","change"]);var Qnt=fe('<button class="px-2 py-1 text-left rounded-md text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700"> </button>'),Bnt=fe('<ul class="absolute mt-1 w-full rounded-md shadow-md p-1 z-10 flex flex-col bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700"></ul>'),znt=fe('<div><input type="text" class="form-input rounded-md py-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 w-full"/> <!></div>');function Lq(t,e){He(e,!0);let n=dt(e,"value",3,""),r=dt(e,"options",19,()=>[]),i,s,o=Le(!1),a=Y(()=>n()!=null&&r()!=null?r().filter(m=>m.toLowerCase().includes(n().toLowerCase())):r()??[]);function l(m){e.onChange?.(m)}function u(m){l(m),oe(o,!1)}var c=znt(),f=K(c);Ek(f),f.__change=()=>l(i.value??""),f.__input=()=>l(i.value??""),Gi(f,m=>i=m,()=>i);var h=se(f,2);{var d=m=>{var g=Bnt();fn(g,20,()=>x(a),b=>b,(b,v)=>{var O=Qnt();O.__click=()=>u(v);var _=K(O,!0);Z(O),Me(()=>Mt(_,v)),X(b,O)}),Z(g),X(m,g)};ke(h,m=>{x(o)&&x(a).length>0&&m(d)})}Z(c),Gi(c,m=>s=m,()=>s),Me(()=>{sr(c,1,`relative ${e.className??""??""}`),pe(f,"placeholder",e.placeholder),QV(f,n())}),ud("focus",f,()=>oe(o,!0)),ud("blur",f,m=>{m.relatedTarget&&m.relatedTarget instanceof Node&&s.contains(m.relatedTarget)||oe(o,!1)}),X(t,c),Ke()}Tr(["change","input","click"]);var Unt=fe('<div class="w-full flex flex-row items-center"><div class="w-[6rem] dark:text-slate-400">X</div> <!></div> <div class="w-full flex flex-row items-center"><div class="w-[6rem] dark:text-slate-400">Y</div> <!></div> <div class="w-full flex flex-row items-center"><div class="w-[6rem] dark:text-slate-400">Neighbors</div> <!></div> <p class="text-sm text-slate-400 dark:text-slate-600">Neighbors column should contain pre-computed nearest neighbors in format: <code></code>. IDs should be zero-based row indices.</p>',1),jnt=fe(`<div class="w-full flex flex-row items-center"><div class="w-[6rem] dark:text-slate-400">Text</div> <!></div> <div class="w-full flex flex-row items-center"><div class="w-[6rem] dark:text-slate-400">Model</div> <!></div> <p class="text-sm text-slate-400 dark:text-slate-600">Computing the embedding and 2D projection in browser may take a while. The model will be loaded with
        Transformers.js.</p>`,1),qnt=fe(`<div class="w-full flex flex-row items-center"><div class="w-[6rem] dark:text-slate-400">Image</div> <!></div> <div class="w-full flex flex-row items-center"><div class="w-[6rem] dark:text-slate-400">Model</div> <!></div> <p class="text-sm text-slate-400 dark:text-slate-600">Computing the embedding and 2D projection in browser may take a while. The model will be loaded with
        Transformers.js.</p>`,1),Vnt=fe(`<div class="flex flex-col p-4 w-[40rem] border rounded-md bg-slate-50 border-slate-300 dark:bg-slate-900 dark:border-slate-700"><div class="flex flex-col gap-2 pb-4"><h2 class="text-slate-500 dark:text-slate-500">Search and Tooltip (optional)</h2> <p class="text-sm text-slate-400 dark:text-slate-600">The selected column, if any, will be used for full-text search and tooltips. Choose a column with freeform text,
      such as a description, chat messages, or a summary.</p> <div class="w-full flex flex-row items-center"><div class="w-[6rem] dark:text-slate-400">Text</div> <!></div> <div class="my-2"></div> <h2 class="text-slate-500 dark:text-slate-500">Embedding View (optional)</h2> <p class="text-sm text-slate-400 dark:text-slate-600">To enable the embedding view, you can either (a) pick a pair of pre-computed X and Y columns; or (b) pick a text
      column and compute the embedding projection in browser. For large data, it's recommended to pre-compute the
      embedding and its 2D projection.</p> <div class="flex items-start"><!></div> <!></div> <div class="w-full flex flex-row items-center mt-4"><div class="flex-1"></div> <!></div></div>`);function Xnt(t,e){He(e,!0);const n=["Xenova/all-MiniLM-L6-v2","Xenova/paraphrase-multilingual-mpnet-base-v2","Xenova/multilingual-e5-small","Xenova/multilingual-e5-base","Xenova/multilingual-e5-large"],r=["Xenova/dinov2-small","Xenova/dinov2-base","Xenova/dinov2-large","Xenova/dino-vitb8","Xenova/dino-vits8","Xenova/dino-vitb16","Xenova/dino-vits16"];let i=Le("precomputed"),s=Le(void 0),o=Le(void 0),a=Le(void 0),l=Le(void 0),u=Le(void 0),c=Le(void 0),f=Le(void 0),h=Le(void 0),d=Y(()=>e.columns.filter(I=>SO(I.column_type)=="number")),m=Y(()=>e.columns.filter(I=>SO(I.column_type)=="string"));Vr(()=>{let I=x(s);Os(()=>x(u)==null)&&oe(u,I,!0)});function g(){let I={version:kD,text:x(s)};if(x(i)=="precomputed"&&x(o)!=null&&x(a)!=null&&(I.embedding={precomputed:{x:x(o),y:x(a),neighbors:x(l)!=null?x(l):void 0}}),x(i)=="from-text"&&x(u)!=null){let $=x(c)?.trim()??"";($==null||$=="")&&($=n[0]),I.embedding={compute:{column:x(u),type:"text",model:$}}}if(x(i)=="from-image"&&x(f)!=null){let $=x(h)?.trim()??"";($==null||$=="")&&($=r[0]),I.embedding={compute:{column:x(f),type:"image",model:$}}}e.onConfirm?.(I)}var b=Vnt(),v=K(b),O=se(K(v),4),_=se(K(O),2);{let I=Y(()=>[{value:void 0,label:"(none)"},...x(m).map($=>({value:$.column_name,label:`${$.column_name} (${$.column_type})`}))]);Ra(_,{class:"flex-1 min-w-0",get value(){return x(s)},onChange:$=>oe(s,$,!0),get options(){return x(I)}})}Z(O);var S=se(O,8),k=K(S);vae(k,{get value(){return x(i)},onChange:I=>oe(i,I,!0),options:[{value:"precomputed",label:"Pre-computed"},{value:"from-text",label:"From Text"},{value:"from-image",label:"From Image"},{value:"none",label:"None"}]}),Z(S);var A=se(S,2);{var C=I=>{var $=Unt(),R=Ye($),M=se(K(R),2);{let te=Y(()=>[{value:void 0,label:"(none)"},...x(d).map(ae=>({value:ae.column_name,label:`${ae.column_name} (${ae.column_type})`}))]);Ra(M,{class:"flex-1 min-w-0",get value(){return x(o)},onChange:ae=>oe(o,ae,!0),get options(){return x(te)}})}Z(R);var B=se(R,2),U=se(K(B),2);{let te=Y(()=>[{value:void 0,label:"(none)"},...x(d).map(ae=>({value:ae.column_name,label:`${ae.column_name} (${ae.column_type})`}))]);Ra(U,{class:"flex-1 min-w-0",get value(){return x(a)},onChange:ae=>oe(a,ae,!0),get options(){return x(te)}})}Z(B);var j=se(B,2),ee=se(K(j),2);{let te=Y(()=>[{value:void 0,label:"(none)"},...e.columns.map(ae=>({value:ae.column_name,label:`${ae.column_name} (${ae.column_type})`}))]);Ra(ee,{class:"flex-1 min-w-0",get value(){return x(l)},onChange:ae=>oe(l,ae,!0),get options(){return x(te)}})}Z(j);var W=se(j,2),ue=se(K(W));ue.textContent='{ "ids": [n1, n2, ...], "distances": [d1, d2, ...] }',vl(),Z(W),X(I,$)},T=I=>{var $=Bt(),R=Ye($);{var M=U=>{var j=jnt(),ee=Ye(j),W=se(K(ee),2);{let ae=Y(()=>[{value:void 0,label:"(none)"},...x(m).map(ie=>({value:ie.column_name,label:`${ie.column_name} (${ie.column_type})`}))]);Ra(W,{class:"flex-1 min-w-0",get value(){return x(u)},onChange:ie=>oe(u,ie,!0),get options(){return x(ae)}})}Z(ee);var ue=se(ee,2),te=se(K(ue),2);Lq(te,{className:"flex-1",get value(){return x(c)},get placeholder(){return`(default ${n[0]??""})`},onChange:ae=>oe(c,ae,!0),get options(){return n}}),Z(ue),vl(2),X(U,j)},B=U=>{var j=Bt(),ee=Ye(j);{var W=ue=>{var te=qnt(),ae=Ye(te),ie=se(K(ae),2);{let ce=Y(()=>[{value:void 0,label:"(none)"},...e.columns.map(Qe=>({value:Qe.column_name,label:`${Qe.column_name} (${Qe.column_type})`}))]);Ra(ie,{class:"flex-1 min-w-0",get value(){return x(f)},onChange:Qe=>oe(f,Qe,!0),get options(){return x(ce)}})}Z(ae);var _e=se(ae,2),le=se(K(_e),2);Lq(le,{className:"flex-1",get value(){return x(h)},get placeholder(){return`(default ${r[0]??""})`},onChange:ce=>oe(h,ce,!0),get options(){return r}}),Z(_e),vl(2),X(ue,te)};ke(ee,ue=>{x(i)=="from-image"&&ue(W)},!0)}X(U,j)};ke(R,U=>{x(i)=="from-text"?U(M):U(B,!1)},!0)}X(I,$)};ke(A,I=>{x(i)=="precomputed"?I(C):I(T,!1)})}Z(v);var P=se(v,2),N=se(K(P),2);Hf(N,{label:"Confirm",class:"w-40 justify-center",onClick:()=>{g()}}),Z(P),Z(b),X(t,b),Ke()}var Znt=fe('<div class="flex gap-1"><!> <!></div>');function Wnt(t,e){He(e,!0);let n=Le("");function r(){let a=x(n).trim();a!=""&&e.onConfirm(a)}var i=Znt(),s=K(i);tC(s,{className:"flex-1",placeholder:"Enter data URL",onEnter:r,get value(){return x(n)},set value(a){oe(n,a,!0)}});var o=se(s,2);Hf(o,{onClick:r,get icon(){return mFe}}),Z(i),X(t,i),Ke()}class Ynt{static connect(e){return new Promise(n=>{let r=new Map,i=(s,...o)=>new Promise((a,l)=>{let u=new Date().getTime()+"-"+Math.random();r.set(u,[a,l]),e.postMessage({rpc:s,id:u,args:o})});e.postMessage({ready:!0}),e.onmessage=s=>{if(s.data.ready){n(i);return}let o=r.get(s.data.id);o!=null&&(r.delete(s.data.id),s.data.error?o[1](new Error(s.data.error)):o[0](s.data.result))}})}static runtime(){let e=new Map,n=async r=>{if(r.data.ready&&postMessage({ready:!0}),r.data.rpc){let s={id:r.data.id,result:null,error:null};try{s.result=await e.get(r.data.rpc)?.(...r.data.args)}catch(o){s.error=o.toString()}postMessage(s)}};return postMessage({ready:!0}),{handler:n,register:(r,i)=>{e.set(r,i)}}}}let fE=null;function Gnt(){if(fE==null){let t=new Worker(new URL(""+new URL("embedding.worker-DkHRd1JM.js",import.meta.url).href,import.meta.url),{type:"module"});fE=Ynt.connect(t)}return fE}async function*Hnt(t,e,n,r,i){let o=(await t.query(at.from(e).select({count:ei()}))).get(0).count,a=0;for(;a<o;){let l=a,u=a+i;u>o&&(u=o);let c=await t.query(at.from(e).select({id:we(n),value:we(r)}).offset(a).limit(u-l));yield{total:o,data:c},a=u}}async function Knt(t,e,n,r,i,s,o){let a=0;await t.exec(`
    ALTER TABLE ${e} ADD COLUMN IF NOT EXISTS ${we(r)} DOUBLE DEFAULT 0;
    ALTER TABLE ${e} ADD COLUMN IF NOT EXISTS ${we(i)} DOUBLE DEFAULT 0;
  `);for(let l of s){let u=o.subarray(a,a+l.length*2);await t.exec(`
        WITH t1 AS (
            SELECT
                UNNEST([${l.map(c=>Ve(c)).join(",")}]) AS id,
                UNNEST([${l.map((c,f)=>u[f*2]).join(",")}]) AS x,
                UNNEST([${l.map((c,f)=>u[f*2+1]).join(",")}]) AS y
        )
        UPDATE ${e}
            SET ${we(r)} = t1.x, ${we(i)} = t1.y
            FROM t1 WHERE ${we(n,e)} = t1.id
    `),a+=l.length*2}}async function Jnt(t){function e(a,l){t.callback?.(a,l)}e(`Loading ${t.model}...`);let n=await Gnt(),r=await n("embedding.new",{type:t.type,model:t.model}),i=[],s=0;for await(const{total:a,data:l}of Hnt(t.coordinator,t.table,t.idColumn,t.dataColumn,t.type=="text"?64:16)){e("Processing Batches...",s/a*100);let u=Array.from(l.getChild("id")),c=Array.from(l.getChild("value"));await n("embedding.batch",r,c),i.push(u),s+=u.length}e("UMAP Projection...");let o=await n("embedding.finalize",r);await Knt(t.coordinator,t.table,t.idColumn,t.xColumn,t.yColumn,i,o)}function Aae(){let t={};return typeof window!=null&&window.EMBEDDING_ATLAS_CONFIG!=null&&(t=window.EMBEDDING_ATLAS_CONFIG),{home:"backend-viewer",...t}}const ert="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let trt=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=ert[n[t]&63];return e};class nrt{messages;constructor(){this.messages=fo([])}append(e){let n=trt();return this.messages.update(r=>[...r,{...e,_id:n}]),{update:r=>{this.messages.update(i=>i.map(s=>s._id==n?{...s,...r}:s))}}}info(e,n={}){return this.append({text:e,...n})}error(e,n={}){return this.append({text:e,...n,error:!0})}exception(e){return e instanceof Eae?this.append({text:e.message,...e.loggerOptions,error:!0}):e instanceof Error?this.append({text:e.message,error:!0}):this.append({text:String(e),error:!0})}}class Eae extends Error{loggerOptions;constructor(e,n={}){super(e),this.loggerOptions=n}}async function rrt(t,e,n,r,i){let s=Aae();for(let[o,a]of t.entries())if(a instanceof File){i?.info("Loading data from file...");let l=a.name,u=new Uint8Array(await a.arrayBuffer());await Nq(o,t.length,u,l,r,e,n)}else if("url"in a){let l=await s.loadDataFromUrl?.(a.url,{db:e,connection:n,table:r,fetch:async f=>{let h=await hE(f,{referrerPolicy:"no-referrer"},i);return new Uint8Array(await h.arrayBuffer())},logger:i});if(l===!0)continue;let u,c;if(l!=null)if("data"in l)u=l.data,c=l.filename??a.url;else if("url"in l){let f=await hE(l.url,{referrerPolicy:"no-referrer"},i);u=new Uint8Array(await f.arrayBuffer()),c=l.filename??a.url}else throw new Error("invalid result from loadDataFromUrl");else{let f=await hE(a.url,{referrerPolicy:"no-referrer"},i);u=new Uint8Array(await f.arrayBuffer()),c=a.url}await Nq(o,t.length,u,c,r,e,n)}else throw new Error("invalid input type")}async function Nq(t,e,n,r,i,s,o){let a=`data-${t}`+srt(r);await s.registerFileBuffer(a,n),e==1?await o.query(`CREATE TABLE ${i} AS SELECT * FROM ${Ve(a)}`):t==0?await o.query(`CREATE TABLE ${i} AS SELECT *, ${Ve(r)} AS filename FROM ${Ve(a)}`):await o.query(`INSERT INTO ${i} SELECT *, ${Ve(r)} AS filename FROM ${Ve(a)}`),await s.dropFile(a)}async function hE(t,e,n){let r,i=n?.info("Loading data from URL...");try{r=await fetch(t,e)}catch{throw new Eae("Failed to fetch data from URL: This may be due to a network issue or the server blocking [cross-origin requests (CORS)](https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/CORS). Check that the URL is valid and configured to allow access from this site.",{markdown:!0})}if(!r.ok)throw new Error(`Failed to fetch data from URL: ${ort(r.status)}. Please check if the URL is accessible and the server is responding correctly.`);if(!r.body)throw new Error("Failed to fetch data from URL: Server response has no body content. This may indicate a server configuration issue or the resource may be empty.");const s=200;try{let o=r.body.getReader(),a=[],l=0,u=0;for(;;){let{done:c,value:f}=await o.read();if(c)break;f!=null&&(a.push(f),l+=f.length);let h=new Date().getTime();h-u>=s&&(i?.update({progressText:Qq(l)}),u=h)}return i?.update({progressText:Qq(l)}),new Blob(a)}catch{throw new Error("Failed to fetch data from URL: Error while reading data.")}}function irt(t){let e=t.toLowerCase();return{"application/json":".json","text/json":".json","application/x-ndjson":".jsonl","application/ndjson":".jsonl","application/jsonlines":".jsonl","application/json-seq":".jsonl","application/vnd.apache.parquet":".parquet","application/x-parquet":".parquet"}[e]||".bin"}function srt(t){if(t.startsWith("data:")){let s=t.match(/^data:([^;,]+)/);return s?irt(s[1]):".bin"}let e=t.split("#",1)[0].split("?",1)[0],n=e.lastIndexOf("/"),r=n>=0?e.slice(n+1):e;if(!r||r[0]==="."&&r.indexOf(".",1)===-1)return null;let i=r.lastIndexOf(".");return i>0?r.slice(i):null}function Qq(t,e=1){let n=[["B",0],["KB",0],["MB",1],["GB",2]],r=1e3,i=t,s=0;for(;i>=r&&s<n.length-1;)i/=r,s++;return`${i.toFixed(n[s][1])} ${n[s][0]}`}function ort(t){let e={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",408:"Request Timeout",409:"Conflict",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"};return e[t]?`HTTP ${t} - ${e[t]}`:`HTTP ${t}`}var art=fe('<div class="text-slate-600 dark:text-slate-300 mt-4 flex flex-col items-start gap-1 border-l-2 pl-2 border-slate-400 dark:border-slate-600"><div>A saved view is available in the URL. It will be restored after the data loads.</div> <button class="flex gap-1 items-center border bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-600 dark:text-slate-400 rounded-md pl-1 pr-2"><!> Clear Saved View</button></div>'),lrt=fe('<div class="w-[40rem] flex flex-col gap-2"><!> <div class="w-full text-center text-slate-400 dark:text-slate-500">&mdash; or &mdash;</div> <!> <!> <div class="text-slate-400 dark:text-slate-500 mt-4">All data remains confined to the browser and is not transmitted elsewhere.</div></div>'),urt=fe("<div><!></div>"),crt=fe('<div class="fixed left-0 right-0 top-0 bottom-0"><!></div>');function frt(t,e){He(e,!0);const n=()=>hi(vC,"$systemColorScheme",i),r=()=>hi(c,"$messages",i),[i,s]=Il(),o=MO(),a=kse(o,"wasm",null);let l=Le("load-data"),u=new nrt,c=u.messages,f=Le(void 0),h=Le([]),d=Le({});async function m(){oe(d,{data:await L_("data","text"),settings:await L_("settings"),state:await L_("state")})}function g(){_p("data",void 0,"text"),_p("state",void 0),_p("settings",void 0),oe(d,{})}_d(async()=>{await m(),x(d).data!=null&&typeof x(d).data=="string"&&await b([{url:x(d).data}])});async function b(T){oe(l,"messages");try{u.info("Initializing database..."),await a;let P=await o.databaseConnector().getDuckDB(),N=await o.databaseConnector().getConnection();await rrt(T,P,N,"dataset",u);let I=await o.query("DESCRIBE TABLE dataset");oe(h,Array.from(I)),await o.exec(`
        CREATE OR REPLACE SEQUENCE __row_index_sequence__ MINVALUE 0 START 0;
        ALTER TABLE dataset ADD COLUMN IF NOT EXISTS __row_index__ INTEGER DEFAULT nextval('__row_index_sequence__');
      `)}catch(P){oe(l,"messages"),u.exception(P);return}T.length==1&&"url"in T[0]&&_p("data",T[0].url,"text"),oe(l,"columns"),x(d).settings!=null&&await v(x(d).settings)}async function v(T){oe(l,"messages");try{let P,N;if(T.embedding!=null&&"precomputed"in T.embedding&&(P={x:T.embedding.precomputed.x,y:T.embedding.precomputed.y},T.embedding.precomputed.neighbors!=null&&(N=T.embedding.precomputed.neighbors)),T.embedding!=null&&"compute"in T.embedding){let I=T.embedding.compute.column,$=T.embedding.compute.type,R=T.embedding.compute.model,M=I+"_proj_x",B=I+"_proj_y",U=u.info("Embedding: Initialize");await Jnt({coordinator:o,table:"dataset",idColumn:"__row_index__",dataColumn:I,type:$,xColumn:M,yColumn:B,model:R,callback:(j,ee)=>{U.update({text:`Embedding: ${j}`,progress:ee})}}),P={x:M,y:B}}oe(f,{data:{table:"dataset",id:"__row_index__",text:T.text,projection:P,neighbors:N},initialState:x(d).state},!0)}catch(P){u.exception(P);return}await _p("settings",T),oe(l,"ready")}function O(T){_p("state",{...T,predicate:void 0})}async function _(T,P){let[N,I]=await Cae(o,"dataset",T,P);N_(N,I)}var S=crt(),k=K(S);{var A=T=>{{let P=Y(()=>ZD(O,200));wae(T,p0({get coordinator(){return o},get onStateChange(){return x(P)},onExportSelection:_},()=>x(f)))}},C=T=>{var P=urt();let N;var I=K(P);{var $=M=>{var B=lrt(),U=K(B);Nnt(U,{extensions:[".csv",".parquet",".json",".jsonl"],multiple:!0,onUpload:b});var j=se(U,4);Wnt(j,{onConfirm:ue=>b([{url:ue}])});var ee=se(j,2);{var W=ue=>{var te=art(),ae=se(K(te),2);ae.__click=g;var ie=K(ae);ly(ie,{class:"w-4 h-4"}),vl(),Z(ae),Z(te),X(ue,te)};ke(ee,ue=>{(x(d).settings!=null||x(d).state!=null)&&ue(W)})}vl(2),Z(B),X(M,B)},R=M=>{var B=Bt(),U=Ye(B);{var j=W=>{Xnt(W,{get columns(){return x(h)},onConfirm:ue=>v(ue)})},ee=W=>{var ue=Bt(),te=Ye(ue);{var ae=ie=>{xae(ie,{get messages(){return r()}})};ke(te,ie=>{x(l)=="messages"&&ie(ae)},!0)}X(W,ue)};ke(U,W=>{x(l)=="columns"?W(j):W(ee,!1)},!0)}X(M,B)};ke(I,M=>{x(l)=="load-data"?M($):M(R,!1)})}Z(P),Me(()=>N=sr(P,1,"w-full h-full grid place-content-center select-none text-slate-800 bg-slate-200 dark:text-slate-200 dark:bg-slate-800",null,N,{dark:n()=="dark"})),X(T,P)};ke(k,T=>{x(l)=="ready"&&x(f)!==void 0?T(A):T(C,!1)})}Z(S),X(t,S),Ke(),s()}Tr(["click"]);function hrt(t,e){He(e,!1);const n=Aae(),r=Hp({"/":n.home=="file-viewer"?frt:Mnt});qD(),pme(t,{get routes(){return x(r)}}),Ke()}BD(hrt,{target:document.getElementById("app")});
